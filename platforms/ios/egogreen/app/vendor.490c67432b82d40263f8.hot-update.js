"use strict";
exports.id = "vendor";
exports.ids = null;
exports.modules = {

/***/ "./node_modules/@nativescript/angular/fesm2022/nativescript-angular.mjs":
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   APP_ROOT_VIEW: () => (/* binding */ APP_ROOT_VIEW),
/* harmony export */   ActionBarComponent: () => (/* binding */ ActionBarComponent),
/* harmony export */   ActionBarScope: () => (/* binding */ ActionBarScope),
/* harmony export */   ActionItemDirective: () => (/* binding */ ActionItemDirective),
/* harmony export */   AndroidFilterComponent: () => (/* binding */ AndroidFilterComponent),
/* harmony export */   AppHostAsyncView: () => (/* binding */ AppHostAsyncView),
/* harmony export */   AppHostView: () => (/* binding */ AppHostView),
/* harmony export */   BasePortalOutlet: () => (/* binding */ BasePortalOutlet),
/* harmony export */   BaseValueAccessor: () => (/* binding */ BaseValueAccessor),
/* harmony export */   COMMON_PROVIDERS: () => (/* binding */ COMMON_PROVIDERS),
/* harmony export */   CdkPortal: () => (/* binding */ CdkPortal),
/* harmony export */   CdkPortalOutlet: () => (/* binding */ CdkPortalOutlet),
/* harmony export */   CheckedValueAccessor: () => (/* binding */ CheckedValueAccessor),
/* harmony export */   CommentNode: () => (/* binding */ CommentNode),
/* harmony export */   ComponentPortal: () => (/* binding */ ComponentPortal),
/* harmony export */   DEVICE: () => (/* binding */ DEVICE),
/* harmony export */   DISABLE_ROOT_VIEW_HANDLING: () => (/* binding */ DISABLE_ROOT_VIEW_HANDLING),
/* harmony export */   DateValueAccessor: () => (/* binding */ DateValueAccessor),
/* harmony export */   DetachedLoader: () => (/* binding */ DetachedLoader),
/* harmony export */   DomPortal: () => (/* binding */ DomPortal),
/* harmony export */   ENABLE_REUSABE_VIEWS: () => (/* binding */ ENABLE_REUSABE_VIEWS),
/* harmony export */   EmulatedRenderer: () => (/* binding */ EmulatedRenderer),
/* harmony export */   FrameDirective: () => (/* binding */ FrameDirective),
/* harmony export */   FramePageComponent: () => (/* binding */ FramePageComponent),
/* harmony export */   FramePageModule: () => (/* binding */ FramePageModule),
/* harmony export */   FrameService: () => (/* binding */ FrameService),
/* harmony export */   IOSFilterComponent: () => (/* binding */ IOSFilterComponent),
/* harmony export */   InjectableAnimationEngine: () => (/* binding */ InjectableAnimationEngine),
/* harmony export */   InvisibleNode: () => (/* binding */ InvisibleNode),
/* harmony export */   ItemContext: () => (/* binding */ ItemContext),
/* harmony export */   ListViewComponent: () => (/* binding */ ListViewComponent),
/* harmony export */   ModalDialogParams: () => (/* binding */ ModalDialogParams),
/* harmony export */   ModalDialogService: () => (/* binding */ ModalDialogService),
/* harmony export */   NAMESPACE_FILTERS: () => (/* binding */ NAMESPACE_FILTERS),
/* harmony export */   NATIVESCRIPT_MODULE_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_PROVIDERS),
/* harmony export */   NATIVESCRIPT_MODULE_STATIC_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_STATIC_PROVIDERS),
/* harmony export */   NATIVESCRIPT_ROOT_MODULE_ID: () => (/* binding */ NATIVESCRIPT_ROOT_MODULE_ID),
/* harmony export */   NATIVE_DIALOG_DATA: () => (/* binding */ NATIVE_DIALOG_DATA),
/* harmony export */   NATIVE_DIALOG_DEFAULT_OPTIONS: () => (/* binding */ NATIVE_DIALOG_DEFAULT_OPTIONS),
/* harmony export */   NSEmptyOutletComponent: () => (/* binding */ NSEmptyOutletComponent),
/* harmony export */   NSFileSystem: () => (/* binding */ NSFileSystem),
/* harmony export */   NSLocationStrategy: () => (/* binding */ NSLocationStrategy),
/* harmony export */   NSRouteReuseStrategy: () => (/* binding */ NSRouteReuseStrategy),
/* harmony export */   NSRouterLink: () => (/* binding */ NSRouterLink),
/* harmony export */   NSRouterLinkActive: () => (/* binding */ NSRouterLinkActive),
/* harmony export */   NativeDialogCloseDirective: () => (/* binding */ NativeDialogCloseDirective),
/* harmony export */   NativeDialogConfig: () => (/* binding */ NativeDialogConfig),
/* harmony export */   NativeDialogModule: () => (/* binding */ NativeDialogModule),
/* harmony export */   NativeDialogRef: () => (/* binding */ NativeDialogRef),
/* harmony export */   NativeDialogService: () => (/* binding */ NativeDialogService),
/* harmony export */   NativeModalRef: () => (/* binding */ NativeModalRef),
/* harmony export */   NativeScriptAnimationDriver: () => (/* binding */ NativeScriptAnimationDriver),
/* harmony export */   NativeScriptAnimationPlayer: () => (/* binding */ NativeScriptAnimationPlayer),
/* harmony export */   NativeScriptAnimationsModule: () => (/* binding */ NativeScriptAnimationsModule),
/* harmony export */   NativeScriptCommonModule: () => (/* binding */ NativeScriptCommonModule),
/* harmony export */   NativeScriptDocument: () => (/* binding */ NativeScriptDocument),
/* harmony export */   NativeScriptDomPortalOutlet: () => (/* binding */ NativeScriptDomPortalOutlet),
/* harmony export */   NativeScriptFormsModule: () => (/* binding */ NativeScriptFormsModule),
/* harmony export */   NativeScriptHttpClientModule: () => (/* binding */ NativeScriptHttpClientModule),
/* harmony export */   NativeScriptLoadingService: () => (/* binding */ NativeScriptLoadingService),
/* harmony export */   NativeScriptModule: () => (/* binding */ NativeScriptModule),
/* harmony export */   NativeScriptNgSafeEvent: () => (/* binding */ NativeScriptNgSafeEvent),
/* harmony export */   NativeScriptNgZone: () => (/* binding */ NativeScriptNgZone),
/* harmony export */   NativeScriptRendererFactory: () => (/* binding */ NativeScriptRendererFactory),
/* harmony export */   NativeScriptRouterModule: () => (/* binding */ NativeScriptRouterModule),
/* harmony export */   NativeScriptSanitizer: () => (/* binding */ NativeScriptSanitizer),
/* harmony export */   NativescriptXhrFactory: () => (/* binding */ NativescriptXhrFactory),
/* harmony export */   NavigationButtonDirective: () => (/* binding */ NavigationButtonDirective),
/* harmony export */   NgViewRef: () => (/* binding */ NgViewRef),
/* harmony export */   NsHttpBackEnd: () => (/* binding */ NsHttpBackEnd),
/* harmony export */   NsTemplatedItem: () => (/* binding */ NsTemplatedItem),
/* harmony export */   NumberValueAccessor: () => (/* binding */ NumberValueAccessor),
/* harmony export */   Outlet: () => (/* binding */ Outlet),
/* harmony export */   PAGE_FACTORY: () => (/* binding */ PAGE_FACTORY),
/* harmony export */   PageDirective: () => (/* binding */ PageDirective),
/* harmony export */   PageRoute: () => (/* binding */ PageRoute),
/* harmony export */   PageRouterOutlet: () => (/* binding */ PageRouterOutlet),
/* harmony export */   PageService: () => (/* binding */ PageService),
/* harmony export */   PlatformNamespaceFilter: () => (/* binding */ PlatformNamespaceFilter),
/* harmony export */   Portal: () => (/* binding */ Portal),
/* harmony export */   PortalModule: () => (/* binding */ PortalModule),
/* harmony export */   RootCompositeModule: () => (/* binding */ RootCompositeModule),
/* harmony export */   RootViewProxy: () => (/* binding */ RootViewProxy),
/* harmony export */   RouterExtensions: () => (/* binding */ RouterExtensions),
/* harmony export */   START_PATH: () => (/* binding */ START_PATH),
/* harmony export */   SelectedIndexValueAccessor: () => (/* binding */ SelectedIndexValueAccessor),
/* harmony export */   TEMPLATED_ITEMS_COMPONENT: () => (/* binding */ TEMPLATED_ITEMS_COMPONENT),
/* harmony export */   TabViewDirective: () => (/* binding */ TabViewDirective),
/* harmony export */   TabViewItemDirective: () => (/* binding */ TabViewItemDirective),
/* harmony export */   TemplateKeyDirective: () => (/* binding */ TemplateKeyDirective),
/* harmony export */   TemplatePortal: () => (/* binding */ TemplatePortal),
/* harmony export */   TextNode: () => (/* binding */ TextNode),
/* harmony export */   TextValueAccessor: () => (/* binding */ TextValueAccessor),
/* harmony export */   TimeValueAccessor: () => (/* binding */ TimeValueAccessor),
/* harmony export */   VisionOSFilterComponent: () => (/* binding */ VisionOSFilterComponent),
/* harmony export */   _NativeDialogBase: () => (/* binding */ _NativeDialogBase),
/* harmony export */   bootstrapApplication: () => (/* binding */ bootstrapApplication),
/* harmony export */   createKeyframeAnimation: () => (/* binding */ createKeyframeAnimation),
/* harmony export */   customFrameComponentFactory: () => (/* binding */ customFrameComponentFactory),
/* harmony export */   customFrameDirectiveFactory: () => (/* binding */ customFrameDirectiveFactory),
/* harmony export */   customPageFactory: () => (/* binding */ customPageFactory),
/* harmony export */   customPageFactoryFromFrame: () => (/* binding */ customPageFactoryFromFrame),
/* harmony export */   dashCaseToCamelCase: () => (/* binding */ dashCaseToCamelCase),
/* harmony export */   defaultNavOptions: () => (/* binding */ defaultNavOptions),
/* harmony export */   defaultPageFactory: () => (/* binding */ defaultPageFactory),
/* harmony export */   defaultPageFactoryProvider: () => (/* binding */ defaultPageFactoryProvider),
/* harmony export */   detachViewFromParent: () => (/* binding */ detachViewFromParent),
/* harmony export */   disableRootViewHanding: () => (/* binding */ disableRootViewHanding),
/* harmony export */   errorHandler: () => (/* binding */ errorHandler),
/* harmony export */   extractSingleViewRecursive: () => (/* binding */ extractSingleViewRecursive),
/* harmony export */   frameMeta: () => (/* binding */ frameMeta),
/* harmony export */   generateDetachedLoader: () => (/* binding */ generateDetachedLoader),
/* harmony export */   generateFallbackRootView: () => (/* binding */ generateFallbackRootView),
/* harmony export */   generateNativeScriptView: () => (/* binding */ generateNativeScriptView),
/* harmony export */   generateRandomId: () => (/* binding */ generateRandomId),
/* harmony export */   generateRootLayoutAndProxy: () => (/* binding */ generateRootLayoutAndProxy),
/* harmony export */   getFirstNativeLikeView: () => (/* binding */ getFirstNativeLikeView),
/* harmony export */   getItemViewRoot: () => (/* binding */ getItemViewRoot),
/* harmony export */   getSingleViewRecursive: () => (/* binding */ getSingleViewRecursive),
/* harmony export */   getViewClass: () => (/* binding */ getViewClass),
/* harmony export */   getViewMeta: () => (/* binding */ getViewMeta),
/* harmony export */   instantiateDefaultStyleNormalizer: () => (/* binding */ instantiateDefaultStyleNormalizer),
/* harmony export */   instantiateRendererFactory: () => (/* binding */ instantiateRendererFactory),
/* harmony export */   instantiateSupportedAnimationDriver: () => (/* binding */ instantiateSupportedAnimationDriver),
/* harmony export */   isBlank: () => (/* binding */ isBlank),
/* harmony export */   isContentView: () => (/* binding */ isContentView),
/* harmony export */   isDetachedElement: () => (/* binding */ isDetachedElement),
/* harmony export */   isInvisibleNode: () => (/* binding */ isInvisibleNode),
/* harmony export */   isJsObject: () => (/* binding */ isJsObject),
/* harmony export */   isKnownView: () => (/* binding */ isKnownView),
/* harmony export */   isLayout: () => (/* binding */ isLayout),
/* harmony export */   isListLikeIterable: () => (/* binding */ isListLikeIterable),
/* harmony export */   isPresent: () => (/* binding */ isPresent),
/* harmony export */   isView: () => (/* binding */ isView),
/* harmony export */   onAfterLivesync: () => (/* binding */ onAfterLivesync),
/* harmony export */   onBeforeLivesync: () => (/* binding */ onBeforeLivesync),
/* harmony export */   once: () => (/* binding */ once),
/* harmony export */   platformNativeScript: () => (/* binding */ platformNativeScript),
/* harmony export */   platformNativeScriptDynamic: () => (/* binding */ platformNativeScriptDynamic),
/* harmony export */   postAngularBootstrap$: () => (/* binding */ postAngularBootstrap$),
/* harmony export */   preAngularDisposal$: () => (/* binding */ preAngularDisposal$),
/* harmony export */   provideLocationStrategy: () => (/* binding */ provideLocationStrategy),
/* harmony export */   registerElement: () => (/* binding */ registerElement),
/* harmony export */   registerNativeScriptViewComponents: () => (/* binding */ registerNativeScriptViewComponents),
/* harmony export */   runNativeScriptAngularApp: () => (/* binding */ runNativeScriptAngularApp),
/* harmony export */   throwIfAlreadyLoaded: () => (/* binding */ throwIfAlreadyLoaded),
/* harmony export */   throwNoPortalAttachedError: () => (/* binding */ throwNoPortalAttachedError),
/* harmony export */   throwNullPortalError: () => (/* binding */ throwNullPortalError),
/* harmony export */   throwNullPortalOutletError: () => (/* binding */ throwNullPortalOutletError),
/* harmony export */   throwPortalAlreadyAttachedError: () => (/* binding */ throwPortalAlreadyAttachedError),
/* harmony export */   throwPortalOutletAlreadyDisposedError: () => (/* binding */ throwPortalOutletAlreadyDisposedError),
/* harmony export */   throwUnknownPortalTypeError: () => (/* binding */ throwUnknownPortalTypeError),
/* harmony export */   "ɵCOMPONENT_VARIABLE": () => (/* binding */ COMPONENT_VARIABLE),
/* harmony export */   "ɵCONTENT_ATTR": () => (/* binding */ CONTENT_ATTR),
/* harmony export */   "ɵHOST_ATTR": () => (/* binding */ HOST_ATTR),
/* harmony export */   "ɵNativeScriptAngularDebug": () => (/* binding */ NativeScriptDebug),
/* harmony export */   "ɵViewUtil": () => (/* binding */ viewUtil),
/* harmony export */   "ɵactionBarMeta": () => (/* binding */ actionBarMeta),
/* harmony export */   "ɵelementMap": () => (/* binding */ elementMap),
/* harmony export */   "ɵisActionItem": () => (/* binding */ isActionItem),
/* harmony export */   "ɵisNavigationButton": () => (/* binding */ isNavigationButton)
/* harmony export */ });
/* harmony import */ var _Users_stevenmartin_workspace_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/@nativescript/core/ui/page/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view-base/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/layout-base.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/@nativescript/core/ui/content-view/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/@nativescript/core/ui/proxy-view-container/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/@nativescript/core/platform/common.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/grid-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/@nativescript/core/application/application.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/@nativescript/core/trace/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/formatted-string.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/span.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/absolute-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/@nativescript/core/ui/activity-indicator/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/@nativescript/core/ui/button/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/@nativescript/core/ui/date-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/dock-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/@nativescript/core/ui/frame/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/@nativescript/core/ui/html-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/@nativescript/core/ui/image/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./node_modules/@nativescript/core/ui/label/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./node_modules/@nativescript/core/ui/placeholder/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./node_modules/@nativescript/core/ui/progress/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./node_modules/@nativescript/core/ui/repeater/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/root-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./node_modules/@nativescript/core/ui/scroll-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./node_modules/@nativescript/core/ui/search-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./node_modules/@nativescript/core/ui/segmented-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./node_modules/@nativescript/core/ui/slider/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/stack-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/flexbox-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./node_modules/@nativescript/core/ui/switch/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./node_modules/@nativescript/core/ui/tab-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-field/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__("./node_modules/@nativescript/core/ui/time-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__("./node_modules/@nativescript/core/ui/web-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/wrap-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/properties/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__("./node_modules/@nativescript/core/profiling/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/style-scope.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__("./node_modules/@nativescript/core/data/observable/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__("./node_modules/@nativescript/core/ui/action-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__("./node_modules/@nativescript/core/data/observable-array/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__("./node_modules/@nativescript/core/color/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__("./node_modules/@nativescript/core/platform/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__("./node_modules/@nativescript/core/utils/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__("./node_modules/@nativescript/core/file-system/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__("./node_modules/@nativescript/core/ui/animation/keyframe-animation.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/converters.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-animation-parser.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-selector.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/rxjs/dist/cjs/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/rxjs/dist/cjs/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__("./node_modules/@angular/animations/fesm2022/animations.mjs");
/* harmony import */ var _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__("./node_modules/@angular/animations/fesm2022/browser.mjs");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs");


















const _c0 = ["vc"];
const _c1 = ["*"];
const _c2 = ["loader"];
function AndroidFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function IOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function VisionOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
const getClassName = instance => instance.constructor.name;
class InvisibleNode extends _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(name = '') {
    super();
    this.name = name;
    this.nodeType = 1;
    this.nodeName = getClassName(this);
  }
  toString() {
    return `${this.nodeName}(${this.id})-${this.name}`;
  }
}
class CommentNode extends InvisibleNode {
  static {
    this.id = 0;
  }
  constructor(value) {
    super(value);
    this.meta = {
      skipAddToDom: true
    };
    this.id = CommentNode.id.toString();
    CommentNode.id += 1;
  }
}
class TextNode extends InvisibleNode {
  static {
    this.textChangeEvent = 'textChange';
  }
  static {
    this.id = 0;
  }
  get text() {
    return this._text;
  }
  set text(t) {
    this._text = t;
    this.notify({
      eventName: TextNode.textChangeEvent,
      object: this,
      value: t
    });
  }
  constructor(value) {
    super(value);
    this._text = '';
    this.callbackMap = new Map();
    this._text = value;
    this.meta = {
      skipAddToDom: true
    };
    this.id = TextNode.id.toString();
    TextNode.id += 1;
  }
  registerTextChange(callback, id) {
    const cb = evt => callback(evt.value);
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.push(cb);
    this.callbackMap.set(id, cbArr);
    this.on('textChange', cb);
  }
  unregisterTextChange(id) {
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.forEach(cb => this.off('textChange', cb));
    this.callbackMap.delete(id);
  }
}
function isDetachedElement(element) {
  return element && element.meta && element.meta.skipAddToDom;
}
function isView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View;
}
function isInvisibleNode(view) {
  return view instanceof InvisibleNode;
}
function isLayout(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase;
}
function isContentView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView;
}
function getFirstNativeLikeView(view, extractFromNSParent = false) {
  if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    if (view.getChildrenCount() === 0) {
      return null;
    }
    return getFirstNativeLikeView(view.getChildAt(0));
  }
  if (extractFromNSParent) {
    const node = view.parentNode;
    detachViewFromParent(view);
    view.parentNode = node;
  }
  return view;
}
function detachViewFromParent(view) {
  const parent = view?.parent;
  if (!parent) {
    return;
  }
  if (parent.meta && parent.meta.removeChild) {
    parent.meta.removeChild(parent, view);
  } else if (isLayout(parent)) {
    parent.removeChild(view);
  } else if (isContentView(parent) && parent.content === view) {
    parent.content = null;
  } else if (isView(parent)) {
    parent._removeView(view);
  }
}
const APP_ROOT_VIEW = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptAppRootView');
const NATIVESCRIPT_ROOT_MODULE_ID = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptRootModuleId');
const START_PATH = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptStartPath');
const ENABLE_REUSABE_VIEWS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptEnableReusableViews');
const DISABLE_ROOT_VIEW_HANDLING = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDisableRootViewHandling');
const DEVICE = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDevice');
const PAGE_FACTORY = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptPageFactory');
const defaultPageFactory = function (_opts) {
  return new _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page();
};
let PlatformNamespaceFilter = class PlatformNamespaceFilter {
  constructor(device) {
    this.device = device;
  }
  runsIn(namespace, next) {
    if (namespace === 'android') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
    }
    if (namespace === 'ios') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
    }
    return next(namespace);
  }
};
PlatformNamespaceFilter = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(DEVICE)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object])], PlatformNamespaceFilter);
const NAMESPACE_FILTERS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptNamespaceFilter');
class NgViewRef {
  constructor(ref) {
    this.ref = ref;
    this.view = ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef ? ref.location.nativeElement : ref.rootNodes.find(v => !(v instanceof InvisibleNode));
    this.firstNativeLikeView = getFirstNativeLikeView(this.view);
  }
  detachNativeLikeView() {
    detachViewFromParent(this.firstNativeLikeView);
  }
}
class AppHostView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(backgroundColor) {
    super();
    this.timeout = -1;
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this._ngAppRoot;
  }
  set ngAppRoot(value) {
    this._ngAppRoot = value;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  //@ts-ignore
  get content() {
    return this._content;
  }
  set content(value) {
    if (this._content) {
      this._content.parentNode = undefined;
    }
    this._content = value;
    if (value) {
      this._content.parentNode = this;
    }
    this.ngAppRoot = value;
    if (this._content instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
      const grid = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
      grid.backgroundColor = this.backgroundColor;
      grid.addChild(this._content);
      this.ngAppRoot = grid;
    }
    if (this.ngAppRoot) {
      // maybe use this approach
      // this.scheduleRootChange();
    }
  }
  scheduleRootChange() {
    if (this.timeout === -1) {
      this.timeout = setTimeout(() => {
        //console.log(this.ngAppRoot);
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => this.content
        });
        this.timeout = -1;
      }, 0);
    }
  }
}
class AppHostAsyncView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout {
  constructor(backgroundColor) {
    super();
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this;
  }
  set ngAppRoot(value) {
    // ignored
  }
}
class NativeScriptLoadingService {
  constructor() {
    this.mainModuleReady$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(false);
    this.readyToDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(true);
    this.onMainModuleReady$ = this.mainModuleReady$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready));
  }
  /**
   * delays destroying this module until `notifyReadyToDestroy()`.
   * remember to call `notifyReadyToDestroy()` when done!
   */
  waitUntilNotified() {
    this.readyToDestroy$.next(false);
  }
  /**
   * notifies this module is ready to be destroyed
   */
  notifyReadyToDestroy() {
    this.readyToDestroy$.next(true);
  }
  isMainModuleReady() {
    return this.mainModuleReady$.value;
  }
  ngOnDestroy() {
    this.readyToDestroy$.complete();
    this.mainModuleReady$.complete();
  }
  /**
   * This funcion is called by the bootstrap code when the app is ready
   * @internal
   */
  _notifyMainModuleReady() {
    this.mainModuleReady$.next(true);
  }
  static {
    this.ɵfac = function NativeScriptLoadingService_Factory(t) {
      return new (t || NativeScriptLoadingService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeScriptLoadingService,
      factory: NativeScriptLoadingService.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptLoadingService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NativeScriptDebug {
  static {
    this.animationsTraceCategory = 'ns-animations';
  }
  static {
    this.rendererTraceCategory = 'ns-renderer';
  }
  static {
    this.viewUtilCategory = 'ns-view-util';
  }
  static {
    this.routerTraceCategory = 'ns-router';
  }
  static {
    this.routeReuseStrategyTraceCategory = 'ns-route-reuse-strategy';
  }
  static {
    this.listViewTraceCategory = 'ns-list-view';
  }
  static {
    this.bootstrapCategory = 'bootstrap';
  }
  // TODO: migrate all usage to this - avoids extraneous method executions
  static {
    this.enabled = _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static isLogEnabled() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static animationsLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.animationsTraceCategory);
  }
  static rendererLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.rendererTraceCategory);
  }
  static rendererError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.rendererTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static viewUtilLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.viewUtilCategory);
  }
  static routerLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory);
  }
  static routerError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static routeReuseStrategyLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routeReuseStrategyTraceCategory);
  }
  static styleError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.categories.Style, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static listViewLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory);
  }
  static listViewError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static bootstrapLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory);
  }
  static bootstrapLogError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
}
class NativescriptXhrFactory extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory {
  build() {
    return new XMLHttpRequest();
  }
  static {
    this.ɵfac = /* @__PURE__ */function () {
      let ɵNativescriptXhrFactory_BaseFactory;
      return function NativescriptXhrFactory_Factory(t) {
        return (ɵNativescriptXhrFactory_BaseFactory || (ɵNativescriptXhrFactory_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetInheritedFactory"](NativescriptXhrFactory)))(t || NativescriptXhrFactory);
      };
    }();
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptXhrFactory,
      factory: NativescriptXhrFactory.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptXhrFactory, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();
const frameMeta = {
  insertChild: (parent, child) => {
    // Page cannot be added to Frame with _addChildFromBuilder (thwos "use defaultPage" error)
    if (isInvisibleNode(child)) {
      return;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      parent.navigate({
        create: () => child
      });
    } else {
      throw new Error('Only a Page can be a child of Frame');
    }
  }
};
const formattedStringMeta = {
  insertChild(parent, child, next) {
    const index = parent.spans.indexOf(next);
    if (index > -1) {
      parent.spans.splice(index, 0, child);
    } else {
      parent.spans.push(child);
    }
  },
  removeChild(parent, child) {
    const index = parent.spans.indexOf(child);
    if (index > -1) {
      parent.spans.splice(index, 1);
    }
  }
};
const textBaseMeta = {
  insertChild(parent, child, next) {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      parent.formattedText = child;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      parent.formattedText ??= new _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString();
      formattedStringMeta.insertChild(parent.formattedText, child, next);
    }
  },
  removeChild(parent, child) {
    if (!parent.formattedText) return;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      if (parent.formattedText === child) {
        parent.formattedText = null;
      }
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      formattedStringMeta.removeChild(parent.formattedText, child);
    }
  }
};
const elementMap = new Map();
const camelCaseSplit = /([a-z0-9])([A-Z])/g;
const defaultViewMeta = {
  skipAddToDom: false
};
function registerElement(elementName, resolver, meta) {
  const entry = {
    resolver,
    meta
  };
  elementMap.set(elementName, entry);
  elementMap.set(elementName.toLowerCase(), entry);
  elementMap.set(elementName.replace(camelCaseSplit, '$1-$2').toLowerCase(), entry);
}
function getViewClass(elementName) {
  const entry = elementMap.get(elementName) || elementMap.get(elementName.toLowerCase());
  if (!entry) {
    throw new TypeError(`No known component for element ${elementName}.`);
  }
  try {
    return entry.resolver();
  } catch (e) {
    throw new TypeError(`Could not load view for: ${elementName}.${e}`);
  }
}
function getViewMeta(nodeName) {
  const entry = elementMap.get(nodeName) || elementMap.get(nodeName.toLowerCase());
  return entry && entry.meta || defaultViewMeta;
}
function isKnownView(elementName) {
  return elementMap.has(elementName) || elementMap.has(elementName.toLowerCase());
}
function extractSingleViewRecursive(nodes, nestLevel) {
  const actualNodes = nodes.filter(node => !(node instanceof InvisibleNode));
  if (actualNodes.length === 0) {
    throw new Error(`No suitable views found in list template! ` + `Nesting level: ${nestLevel}`);
  } else if (actualNodes.length > 1) {
    throw new Error(`More than one view found in list template!` + `Nesting level: ${nestLevel}`);
  }
  const rootLayout = actualNodes[0];
  if (!rootLayout) {
    return extractSingleViewRecursive(rootLayout.children, nestLevel + 1);
  }
  const parentLayout = rootLayout.parent;
  if (parentLayout instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase) {
    const node = rootLayout.parentNode;
    parentLayout.removeChild(rootLayout);
    rootLayout.parentNode = node;
  }
  return rootLayout;
}
/**
 * @deprecated getSingleViewRecursive is deprecated, use extractSingleViewRecursive
 */
function getSingleViewRecursive(nodes, nestLevel) {
  return extractSingleViewRecursive(nodes, nestLevel);
}

// Register default NativeScript components
// Note: ActionBar related components are registerd together with action-bar directives.
function registerNativeScriptViewComponents() {
  if (!global.__ngRegisteredViews) {
    global.__ngRegisteredViews = true;
    registerElement('AbsoluteLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_17__.AbsoluteLayout);
    registerElement('ActivityIndicator', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_18__.ActivityIndicator);
    registerElement('Button', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_19__.Button, textBaseMeta);
    registerElement('ContentView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView);
    registerElement('DatePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_20__.DatePicker);
    registerElement('DockLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.DockLayout);
    registerElement('Frame', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, frameMeta);
    registerElement('GridLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout);
    registerElement('HtmlView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.HtmlView);
    registerElement('Image', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    // Parse5 changes <Image> tags to <img>. WTF!
    registerElement('img', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    registerElement('Label', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_25__.Label, textBaseMeta);
    registerElement('ListPicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_26__.ListPicker);
    registerElement('ListView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_27__.ListView);
    registerElement('Page', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page);
    registerElement('Placeholder', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_28__.Placeholder);
    registerElement('Progress', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_29__.Progress);
    registerElement('ProxyViewContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer);
    registerElement('Repeater', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.Repeater);
    registerElement('RootLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout);
    registerElement('ScrollView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_32__.ScrollView);
    registerElement('SearchBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SearchBar);
    registerElement('SegmentedBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBar);
    registerElement('SegmentedBarItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBarItem);
    registerElement('Slider', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_35__.Slider);
    registerElement('StackLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_36__.StackLayout);
    registerElement('FlexboxLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_37__.FlexboxLayout);
    registerElement('Switch', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.Switch);
    registerElement('TabView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabView);
    registerElement('TextField', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextField, textBaseMeta);
    registerElement('TextView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView, textBaseMeta);
    registerElement('TimePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_42__.TimePicker);
    registerElement('WebView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_43__.WebView);
    registerElement('WrapLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.WrapLayout);
    registerElement('FormattedString', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString, formattedStringMeta);
    registerElement('Span', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span);
  }
}

// Note: this utility exists from deep core import however results in
// Module not found: Error: Can't resolve '@nativescript/core/ui/core/properties'
function isCssVariable(property) {
  return /^--[^,\s]+?$/.test(property);
}
const ELEMENT_NODE_TYPE = 1;
const XML_ATTRIBUTES = Object.freeze(['style', 'rows', 'columns', 'fontAttributes']);
const whiteSpaceSplitter = /\s+/;
function printNgTree(view) {
  let parent = view;
  while (parent.parent && parent.parent.firstChild) {
    parent = parent.parent;
  }
  printChildrenRecurse(parent);
}
function printChildrenRecurse(parent) {
  const children = parent.firstChild ? [parent.firstChild, ...getChildrenSiblings(parent.firstChild).nextSiblings] : [];
  console.log(`parent: ${parent}, firstChild: ${parent.firstChild}, lastChild: ${parent.lastChild} children: ${children}`);
  if (parent.firstChild) {
    console.log(`----- start ${parent}`);
  }
  children.forEach(c => printChildrenRecurse(c));
  if (parent.firstChild) {
    console.log(`----- end ${parent}`);
  }
}
function getChildrenSiblings(view) {
  const nextSiblings = [];
  const previousSiblings = [];
  let sibling = view.nextSibling;
  while (sibling) {
    nextSiblings.push(sibling);
    sibling = sibling.nextSibling;
  }
  sibling = view.previousSibling;
  while (sibling) {
    previousSiblings.push(sibling);
    sibling = sibling.previousSibling;
  }
  return {
    previousSiblings,
    nextSiblings
  };
}
function printSiblingsTree(view) {
  const {
    previousSiblings,
    nextSiblings
  } = getChildrenSiblings(view);
  console.log(`${view} previousSiblings: ${previousSiblings} nextSiblings: ${nextSiblings}`);
}
// eslint-disable-next-line @typescript-eslint/ban-types
const propertyMaps = new Map();
class ViewUtil {
  constructor(namespaceFilters, reuseViews) {
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
  }
  /**
   * Inserts a child into a parrent, preferably before next.
   * @param parent parent view
   * @param child child view to be added
   * @param previous previous element. If present, insert after this.
   * @param next next element. If present, insert before this (previous is ignored).
   */
  insertChild(parent, child, previous, next) {
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    // this should never enter, as angular is supposed to remove the child from the previous parent before calling this
    // but when angular animations are enabled, the removal might be delayed, so we need to ensure this view is not anywhere
    // this seems to only happens to CommentNodes
    if (extendedChild.parentNode) {
      this.removeChild(extendedChild.parentNode, extendedChild);
    }
    // if there's a next child, previous is the previousSibling of it
    if (next) {
      previous = next.previousSibling;
    } else if (previous) {
      // if there's a previous, next is the nextSibling of it
      next = previous.nextSibling;
    } else {
      // no previous or next, append to the parent
      previous = extendedParent.lastChild; // this can still be undefined if the parent has no children!
    }

    this.insertInList(extendedParent, extendedChild, previous, next);
    if (isDetachedElement(child) || isInvisibleNode(child)) {
      extendedChild.parentNode = extendedParent;
    }
    if (!isDetachedElement(child)) {
      const nextVisual = this.findNextVisual(next);
      this.addToVisualTree(extendedParent, extendedChild, nextVisual);
    } else if (isInvisibleNode(extendedChild)) {
      const nextVisual = this.findNextVisual(next);
      this.addInvisibleNode(extendedParent, extendedChild, nextVisual);
    }
    // printNgTree(extendedChild);
  }

  insertBefore(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, undefined, extendedRef);
  }
  insertAfter(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, extendedRef);
  }
  appendChild(parent, child) {
    this.insertChild(parent, child);
  }
  /**
   * Inserts a view into the parent/sibling linked list
   * !WARNING: this method makes no checks to validate the integrity of previous/next children
   * @param parent parent view
   * @param child child view
   * @param previous previous element. null/undefined for first element
   * @param next next element. null/undefined for last element
   */
  insertInList(parent, child, previous, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.insertInList parent: ${parent}, view: ${child}, ` + `previous: ${previous}, next: ${next}`);
    }
    if (previous) {
      previous.nextSibling = child;
      child.previousSibling = previous;
    } else {
      parent.firstChild = child;
    }
    if (next) {
      child.nextSibling = next;
      next.previousSibling = child;
    } else {
      parent.lastChild = child;
    }
  }
  addToVisualTree(parent, child, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.addToVisualTree parent: ${parent}, view: ${child}, next: ${next}`);
    }
    if (parent.meta && parent.meta.insertChild) {
      parent.meta.insertChild(parent, child, next);
    } else if (isLayout(parent)) {
      this.insertToLayout(parent, child, next);
    } else if (isContentView(parent)) {
      parent.content = child;
    } else if (parent && parent._addChildFromBuilder) {
      parent._addChildFromBuilder(child.nodeName, child);
    }
  }
  addInvisibleNode(parent, child, next) {
    if (parent.meta?.insertInvisibleNode) {
      parent.meta.insertInvisibleNode(parent, child, next);
    } else {
      if (child instanceof TextNode) {
        parent.text = child.text;
        child.registerTextChange(t => parent.text = t, parent);
      }
    }
  }
  insertToLayout(parent, child, next) {
    if (child.parent === parent) {
      this.removeLayoutChild(parent, child);
    }
    const nextVisual = this.findNextVisual(next);
    if (nextVisual) {
      const index = parent.getChildIndex(nextVisual);
      parent.insertChild(child, index);
    } else {
      parent.addChild(child);
    }
    // parent.eachChild((c) => {console.log(c); return true});
  }

  findNextVisual(view) {
    let next = view;
    while (next && isDetachedElement(next)) {
      next = next.nextSibling;
    }
    return next;
  }
  removeChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeChild parent: ${parent} child: ${child}`);
    }
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    extendedChild.parentNode = null;
    this.removeFromList(extendedParent, extendedChild);
    if (!isDetachedElement(extendedChild)) {
      this.removeFromVisualTree(extendedParent, extendedChild);
    } else if (isInvisibleNode(extendedChild)) {
      this.removeInvisibleNode(extendedParent, extendedChild);
    }
  }
  removeFromList(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromList parent: ${parent} child: ${child}`);
    }
    // only child. null everything
    if (parent.firstChild === child && parent.lastChild === child) {
      parent.firstChild = null;
      parent.lastChild = null;
      child.nextSibling = null;
      child.previousSibling = null;
      return;
    }
    const previous = child.previousSibling;
    const next = child.nextSibling;
    // is first child, make the next sibling the first child (can be null)
    if (parent.firstChild === child) {
      parent.firstChild = next;
    }
    // is last child, make the previous sibling the last child (can be null)
    if (parent.lastChild === child) {
      parent.lastChild = previous;
    }
    // we have a previous sibling, make it point to the next sibling
    if (previous) {
      previous.nextSibling = next;
    }
    // we have a next sibling, make it point to the previous
    if (next) {
      next.previousSibling = previous;
    }
    // finally, null the siblings
    child.nextSibling = null;
    child.previousSibling = null;
  }
  // NOTE: This one is O(n) - use carefully
  findPreviousElement(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.findPreviousElement parent: ${parent} child: ${child}`);
    }
    let previousVisual;
    if (isLayout(parent)) {
      previousVisual = this.getPreviousVisualElement(parent, child);
    }
    let previous = previousVisual || parent.firstChild;
    // since detached elements are not added to the visual tree,
    // we need to find the actual previous sibling of the view,
    // which may as well be an invisible node
    while (previous && previous !== child && previous.nextSibling !== child) {
      previous = previous.nextSibling;
    }
    return previous;
  }
  getPreviousVisualElement(parent, child) {
    const elementIndex = parent.getChildIndex(child);
    if (elementIndex > 0) {
      return parent.getChildAt(elementIndex - 1);
    }
  }
  // NOTE: This one is O(n) - use carefully
  getChildIndex(parent, child) {
    if (isLayout(parent)) {
      return parent.getChildIndex(child);
    } else if (isContentView(parent)) {
      return child === parent.content ? 0 : -1;
    }
  }
  removeFromVisualTree(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromVisualTree parent: ${parent} child: ${child}`);
    }
    if (parent.meta && parent.meta.removeChild) {
      parent.meta.removeChild(parent, child);
    } else if (isLayout(parent)) {
      this.removeLayoutChild(parent, child);
    } else if (isContentView(parent) && parent.content === child) {
      parent.content = null;
    } else if (isView(parent)) {
      parent._removeView(child);
    }
  }
  removeInvisibleNode(parent, child) {
    if (parent.meta?.removeInvisibleNode) {
      parent.meta.removeInvisibleNode(parent, child);
    } else {
      if (child instanceof TextNode) {
        child.unregisterTextChange(parent);
      }
    }
  }
  removeLayoutChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeLayoutChild parent: ${parent} child: ${child}`);
    }
    const index = parent.getChildIndex(child);
    if (index !== -1) {
      parent.removeChild(child);
    }
  }
  createComment(value) {
    return new CommentNode(value);
  }
  createText(value) {
    return new TextNode(value);
  }
  createView(name) {
    const originalName = name;
    if (!isKnownView(name)) {
      name = 'ProxyViewContainer';
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Creating view: ${originalName} ${name}`);
    }
    const viewClass = getViewClass(name);
    const view = new viewClass();
    const ngView = this.setNgViewExtensions(view, name);
    ngView.reusable = !!this.reuseViews;
    return ngView;
  }
  ensureNgViewExtensions(view) {
    if (Object.hasOwnProperty.call(view, 'meta')) {
      return view;
    } else {
      const name = view.cssType || view.typeName;
      const ngView = this.setNgViewExtensions(view, name);
      return ngView;
    }
  }
  setNgViewExtensions(view, name) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Make into a NgView view: ${view} name: "${name}"`);
    }
    const ngView = view;
    ngView.nodeName = name;
    ngView.meta = getViewMeta(name);
    // we're setting the node type of the view
    // to 'element' because of checks done in the
    // dom animation engine
    ngView.nodeType = ELEMENT_NODE_TYPE;
    return ngView;
  }
  setProperty(view, attributeName, value, namespace) {
    if (!view || namespace && !this.runsIn(namespace)) {
      return;
    }
    if (attributeName.indexOf('.') !== -1) {
      // Handle nested properties
      const properties = attributeName.split('.');
      attributeName = properties[properties.length - 1];
      let propMap = this.getProperties(view);
      let i = 0;
      while (i < properties.length - 1 && typeof view !== 'undefined') {
        let prop = properties[i];
        if (propMap.has(prop)) {
          prop = propMap.get(prop);
        }
        view = view[prop];
        propMap = this.getProperties(view);
        i++;
      }
    }
    if (typeof view !== 'undefined') {
      this.setPropertyInternal(view, attributeName, value);
    }
  }
  runsIn(platform) {
    let runs = true;
    const last = () => true;
    if (this.namespaceFilters) {
      let chain = p => true;
      for (let i = this.namespaceFilters.length - 1; i >= 0; i--) {
        const currentChain = chain;
        chain = p => this.namespaceFilters[i].runsIn(p, currentChain);
      }
      runs = chain(platform);
      runs = runs !== false ? true : false; // undefined means true
      // this.namespaceFilters.some((filter) => {
      // 	const runsInFilter = filter.runsIn(platform);
      // 	if (runsInFilter !== undefined) {
      // 		runs = runsInFilter;
      // 		return true;
      // 	}
      // });
    }

    return runs;
  }
  setPropertyInternal(view, attributeName, value) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Setting attribute: ${attributeName}=${value} to ${view}`);
    }
    if (attributeName === 'class') {
      this.setClasses(view, value);
      return;
    }
    if (XML_ATTRIBUTES.indexOf(attributeName) !== -1) {
      view[attributeName] = value;
      return;
    }
    const propMap = this.getProperties(view);
    const propertyName = propMap.get(attributeName);
    // Ensure the children of a collection currently have no parent set.
    if (Array.isArray(value)) {
      this.removeParentReferencesFromItems(value);
    }
    if (propertyName) {
      // We have a lower-upper case mapped property.
      view[propertyName] = value;
      return;
    }
    // Unknown attribute value -- just set it to our object as is.
    view[attributeName] = value;
  }
  removeParentReferencesFromItems(items) {
    for (const item of items) {
      if (item.parent && item.parentNode) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.viewUtilLog(`Unassigning parent ${item.parentNode} on value: ${item}`);
        }
        item.parent = undefined;
        item.parentNode = undefined;
      }
    }
  }
  getProperties(instance) {
    const type = instance && instance.constructor;
    if (!type) {
      return new Map();
    }
    if (!propertyMaps.has(type)) {
      const propMap = new Map();
      for (const propName in instance) {
        // tslint:disable:forin
        propMap.set(propName.toLowerCase(), propName);
      }
      propertyMaps.set(type, propMap);
    }
    return propertyMaps.get(type);
  }
  cssClasses(view) {
    if (!view.ngCssClasses) {
      view.ngCssClasses = new Map();
    }
    return view.ngCssClasses;
  }
  addClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).set(className, true);
    this.syncClasses(extendedView);
  }
  removeClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).delete(className);
    this.syncClasses(extendedView);
  }
  setClasses(view, classesValue) {
    const classes = classesValue.split(whiteSpaceSplitter);
    this.cssClasses(view).clear();
    classes.forEach(className => this.cssClasses(view).set(className, true));
    this.syncClasses(view);
  }
  syncClasses(view) {
    const classValue = Array.from(this.cssClasses(view).keys()).join(' ');
    view.className = classValue;
  }
  setStyle(view, styleName, value) {
    if (isCssVariable(styleName)) {
      view.style.setUnscopedCssVariable(styleName, value);
      view._onCssStateChange();
    } else {
      view.style[styleName] = value;
    }
  }
  removeStyle(view, styleName) {
    if (isCssVariable(styleName)) {
      // TODO: expose this on core
      view.style.unscopedCssVariables.delete(styleName);
      view._onCssStateChange();
    } else {
      view.style[styleName] = _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue;
    }
  }
}
var viewUtil = /*#__PURE__*/Object.freeze({
  __proto__: null,
  ViewUtil: ViewUtil
});
const addStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('"renderer".addStyleToCss', function addStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
function runInRootZone(fn) {
  if (typeof Zone === 'undefined') {
    return fn();
  }
  return Zone.root.run(fn);
}
function inRootZone() {
  return function (target, key, descriptor) {
    const childFunction = descriptor.value;
    descriptor.value = function (...args) {
      const fn = childFunction.bind(this);
      return runInRootZone(() => fn(...args));
    };
    return descriptor;
  };
}
let NativeScriptRendererFactory = class NativeScriptRendererFactory {
  constructor(rootView, namespaceFilters, rootModuleID, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.rootModuleID = rootModuleID;
    this.reuseViews = reuseViews;
    this.componentRenderers = new Map();
    // backwards compatibility with RadListView
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    if (typeof this.reuseViews !== 'boolean') {
      this.reuseViews = false; // default to false
    }

    this.defaultRenderer = new NativeScriptRenderer(rootView, namespaceFilters, this.reuseViews);
  }
  createRenderer(hostElement, type) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRendererFactory.createRenderer ${hostElement}. type.id: ${type.id} type.encapsulation: ${type.encapsulation}`);
    }
    if (!hostElement || !type) {
      return this.defaultRenderer;
    }
    let renderer = this.componentRenderers.get(type.id);
    /**
     *! WARNING
     *! We're reusing the renderer for the components
     *! this might cause unexpected behavior as the "rootView" is an arbitrary hostElement
     *! also, the renderer has it's .destroy() called!
     *! might be useful to create a BaseEmulatedRender and a ProxyEmulatedRender
     *! every component type gets a BaseEmulatedRender (singleton) which is passed to ProxyEmulatedRender
     *! ProxyEmulatedRenderer registers with BaseEmulatedRender so we can clean up things like CSS when it's not needed
     *! this might be useful if we find a way to HMR component styling without a full rebootstrap
     */
    if (renderer) {
      if (renderer instanceof EmulatedRenderer) {
        renderer.applyToHost(hostElement);
      }
      return renderer;
    }
    if (type.encapsulation === _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.None) {
      type.styles.map(s => s.toString()).forEach(v => addStyleToCss(v, this.rootModuleID));
      renderer = this.defaultRenderer;
    } else {
      renderer = new EmulatedRenderer(type, hostElement, this.namespaceFilters, this.rootModuleID, this.reuseViews);
      renderer.applyToHost(hostElement);
    }
    this.componentRenderers.set(type.id, renderer);
    return renderer;
  }
  // begin?(): void {
  //     throw new Error("Method not implemented.");
  // }
  // end?(): void {
  //     throw new Error("Method not implemented.");
  // }
  whenRenderingDone() {
    if (!this.rootView) {
      return Promise.resolve();
    }
    return new Promise(resolve => {
      let interval = 0;
      function scheduleResolve() {
        // iOS really hates synchronous things...
        // Utils.queueMacrotask(resolve);
        setTimeout(resolve, 15);
      }
      function fireWhenLoaded() {
        const view = rootFactory();
        if (view.isLoaded) {
          scheduleResolve();
        } else {
          view.once('loaded', scheduleResolve);
        }
      }
      const rootFactory = () => this.rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView ? this.rootView.content : this.rootView;
      if (!rootFactory()) {
        interval = setInterval(() => {
          if (rootFactory()) {
            clearInterval(interval);
            fireWhenLoaded();
          }
        }, 10);
      } else {
        fireWhenLoaded();
      }
    });
    // throw new Error("Method not implemented.");
  }
};

NativeScriptRendererFactory = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(APP_ROOT_VIEW)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(1, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NAMESPACE_FILTERS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NATIVESCRIPT_ROOT_MODULE_ID)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(ENABLE_REUSABE_VIEWS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, Array, Object, Object])], NativeScriptRendererFactory);
class NativeScriptRenderer {
  constructor(rootView, namespaceFilters, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    this.destroyNode = node => runInRootZone(() => {
      if (NativeScriptDebug.enabled) {
        NativeScriptDebug.rendererLog(`NativeScriptRenderer.destroyNode node: ${node}`);
      }
      if (node?.destroyNode) {
        node?.destroyNode();
      }
    });
  }
  get data() {
    throw new Error('Method not implemented.');
  }
  destroy() {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.destroy');
    }
  }
  createElement(name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createElement: ${name}`);
    }
    let oldName;
    if (!isKnownView(name)) {
      oldName = name;
      name = 'ProxyViewContainer';
    }
    const view = this.viewUtil.createView(name);
    if (oldName) {
      view.customCSSName = oldName;
    }
    return view;
  }
  createComment(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createComment ${value}`);
    }
    return this.viewUtil.createComment(value);
  }
  createText(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createText ${value}`);
    }
    return this.viewUtil.createText(value);
  }
  appendChild(parent, newChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.appendChild child: ${newChild} parent: ${parent}`);
    }
    this.viewUtil.appendChild(parent, newChild);
  }
  insertBefore(parent, newChild, refChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.insertBefore child: ${newChild} ` + `parent: ${parent} refChild: ${refChild}`);
    }
    this.viewUtil.insertBefore(parent, newChild, refChild);
  }
  removeChild(parent, oldChild, isHostElement) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeChild child: ${oldChild} parent: ${parent}`);
    }
    this.viewUtil.removeChild(parent, oldChild);
  }
  selectRootElement(selectorOrNode, preserveContent) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.selectRootElement: ${selectorOrNode}`);
    }
    if (selectorOrNode instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      return selectorOrNode;
    }
    if (selectorOrNode && selectorOrNode[0] === '#') {
      const result = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.getViewById)(this.rootView, selectorOrNode.slice(1));
      return result || this.rootView;
    }
    if (typeof selectorOrNode === 'string') {
      const view = this.viewUtil.createView(selectorOrNode);
      if (getFirstNativeLikeView(view) === view) {
        // view is nativelike!
        this.appendChild(this.rootView, view);
        return view;
      }
    }
    return this.rootView;
  }
  parentNode(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.parentNode for node: ${node} is ${node.parentNode}`);
    }
    return node.parentNode;
  }
  nextSibling(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.nextSibling of ${node} is ${node.nextSibling}`);
    }
    return node.nextSibling;
  }
  setAttribute(el, name, value, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setAttribute ${namespace ? namespace + ':' : ''}${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value, namespace);
  }
  removeAttribute(el, name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeAttribute ${namespace ? namespace + ':' : ''}${el}.${name}`);
    }
  }
  addClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.addClass ${name}`);
    }
    this.viewUtil.addClass(el, name);
  }
  removeClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeClass ${name}`);
    }
    this.viewUtil.removeClass(el, name);
  }
  setStyle(el, style, value, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setStyle: ${el}, ${style} = ${value}`);
    }
    this.viewUtil.setStyle(el, style, value);
  }
  removeStyle(el, style, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.removeStyle: ${styleName}');
    }
    this.viewUtil.removeStyle(el, style);
  }
  setProperty(el, name, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setProperty ${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value);
  }
  setValue(node, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setValue renderNode: ${node}, value: ${value}`);
    }
    if (node instanceof TextNode) {
      node.text = value;
    }
    // throw new Error("Method not implemented.");
  }

  listen(target, eventName, callback) {
    // throw new Error("Method not implemented.");
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.listen: ${eventName}`);
    }
    target.on(eventName, callback);
    if (eventName === _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent && target.isLoaded) {
      // we must create a new obervable here to ensure that the event goes through whatever zone patches are applied
      const obs = new _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.Observable();
      obs.once(eventName, callback);
      obs.notify({
        eventName,
        object: target
      });
    }
    return () => target.off(eventName, callback);
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createElement", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createComment", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createText", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "appendChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "insertBefore", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Boolean]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setAttribute", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "addClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setProperty", null);
// CONTENT_ATTR not exported from nativescript-renderer - we need it for styles application.
const COMPONENT_REGEX = /%COMP%/g;
const ATTR_SANITIZER = /-/g;
const COMPONENT_VARIABLE = '%COMP%';
const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;
const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;
const replaceNgAttribute = function (input, componentId) {
  return input.replace(COMPONENT_REGEX, componentId);
};
const addScopedStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)(`"renderer".addScopedStyleToCss`, function addScopedStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
class EmulatedRenderer extends NativeScriptRenderer {
  constructor(component, rootView, namespaceFilters, rootModuleId, reuseViews) {
    super(rootView, namespaceFilters, reuseViews);
    this.rootModuleId = rootModuleId;
    const componentId = component.id.replace(ATTR_SANITIZER, '_');
    this.contentAttr = replaceNgAttribute(CONTENT_ATTR, componentId);
    this.hostAttr = replaceNgAttribute(HOST_ATTR, componentId);
    this.addStyles(component.styles, componentId);
  }
  applyToHost(view) {
    super.setAttribute(view, this.hostAttr, '');
  }
  appendChild(parent, newChild) {
    super.appendChild(parent, newChild);
  }
  createElement(parent, name) {
    const view = super.createElement(parent, name);
    // Set an attribute to the view to scope component-specific css.
    // The property name is pre-generated by Angular.
    super.setAttribute(view, this.contentAttr, '');
    return view;
  }
  addStyles(styles, componentId) {
    styles.map(s => s.toString()).map(s => replaceNgAttribute(s, componentId)).forEach(s => addScopedStyleToCss(s, this.rootModuleId));
  }
  static {
    this.ɵfac = function EmulatedRenderer_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: EmulatedRenderer,
      factory: EmulatedRenderer.ɵfac
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Array, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], EmulatedRenderer.prototype, "addStyles", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EmulatedRenderer, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: undefined
    }];
  }, {
    addStyles: []
  });
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Throws an exception when attempting to attach a null portal to a host.
 * @docs-private
 */
function throwNullPortalError() {
  throw Error('Must provide a portal to attach');
}
/**
 * Throws an exception when attempting to attach a portal to a host that is already attached.
 * @docs-private
 */
function throwPortalAlreadyAttachedError() {
  throw Error('Host already has a portal attached');
}
/**
 * Throws an exception when attempting to attach a portal to an already-disposed host.
 * @docs-private
 */
function throwPortalOutletAlreadyDisposedError() {
  throw Error('This PortalOutlet has already been disposed');
}
/**
 * Throws an exception when attempting to attach an unknown portal type.
 * @docs-private
 */
function throwUnknownPortalTypeError() {
  throw Error('Attempting to attach an unknown Portal type. BasePortalOutlet accepts either ' + 'a ComponentPortal or a TemplatePortal.');
}
/**
 * Throws an exception when attempting to attach a portal to a null host.
 * @docs-private
 */
function throwNullPortalOutletError() {
  throw Error('Attempting to attach a portal to a null PortalOutlet');
}
/**
 * Throws an exception when attempting to detach a portal that is not attached.
 * @docs-private
 */
function throwNoPortalAttachedError() {
  throw Error('Attempting to detach a portal that is not attached to a host');
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A `Portal` is something that you want to render somewhere else.
 * It can be attach to / detached from a `PortalOutlet`.
 */
class Portal {
  /** Attach this portal to a host. */
  attach(host) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (host == null) {
        throwNullPortalOutletError();
      }
      if (host.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
    }
    this._attachedHost = host;
    return host.attach(this);
  }
  /** Detach this portal from its host */
  detach() {
    const host = this._attachedHost;
    if (host != null) {
      this._attachedHost = null;
      host.detach();
    } else if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwNoPortalAttachedError();
    }
  }
  /** Whether this portal is attached to a host. */
  get isAttached() {
    return this._attachedHost != null;
  }
  /**
   * Sets the PortalOutlet reference without performing `attach()`. This is used directly by
   * the PortalOutlet when it is performing an `attach()` or `detach()`.
   */
  setAttachedHost(host) {
    this._attachedHost = host;
  }
}
/**
 * A `ComponentPortal` is a portal that instantiates some Component upon attachment.
 */
class ComponentPortal extends Portal {
  constructor(component, viewContainerRef, injector, componentFactoryResolver) {
    super();
    this.component = component;
    this.viewContainerRef = viewContainerRef;
    this.injector = injector;
    this.componentFactoryResolver = componentFactoryResolver;
  }
}
/**
 * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).
 */
class TemplatePortal extends Portal {
  constructor(template, viewContainerRef, context) {
    super();
    this.templateRef = template;
    this.viewContainerRef = viewContainerRef;
    this.context = context;
  }
  get origin() {
    return this.templateRef.elementRef;
  }
  /**
   * Attach the portal to the provided `PortalOutlet`.
   * When a context is provided it will override the `context` property of the `TemplatePortal`
   * instance.
   */
  attach(host, context = this.context) {
    this.context = context;
    return super.attach(host);
  }
  detach() {
    this.context = undefined;
    return super.detach();
  }
}
/**
 * A `DomPortal` is a portal whose DOM element will be taken from its current position
 * in the DOM and moved into a portal outlet, when it is attached. On detach, the content
 * will be restored to its original position.
 */
class DomPortal extends Portal {
  constructor(element) {
    super();
    this.element = element instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef ? element.nativeElement : element;
  }
}
/**
 * Partial implementation of PortalOutlet that handles attaching
 * ComponentPortal and TemplatePortal.
 */
class BasePortalOutlet {
  constructor() {
    /** Whether this host has already been permanently disposed. */
    this._isDisposed = false;
    // @breaking-change 10.0.0 `attachDomPortal` to become a required abstract method.
    // eslint-disable-next-line @typescript-eslint/member-ordering
    this.attachDomPortal = null;
  }
  /** Whether this host has an attached portal. */
  hasAttached() {
    return !!this._attachedPortal;
  }
  /** Attaches a portal. */
  attach(portal) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (!portal) {
        throwNullPortalError();
      }
      if (this.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
      if (this._isDisposed) {
        throwPortalOutletAlreadyDisposedError();
      }
    }
    if (portal instanceof ComponentPortal) {
      this._attachedPortal = portal;
      return this.attachComponentPortal(portal);
    } else if (portal instanceof TemplatePortal) {
      this._attachedPortal = portal;
      return this.attachTemplatePortal(portal);
      // @breaking-change 10.0.0 remove null check for `this.attachDomPortal`.
    } else if (this.attachDomPortal && portal instanceof DomPortal) {
      this._attachedPortal = portal;
      return this.attachDomPortal(portal);
    }
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwUnknownPortalTypeError();
    }
  }
  /** Detaches a previously attached portal. */
  detach() {
    if (this._attachedPortal) {
      this._attachedPortal.setAttachedHost(null);
      this._attachedPortal = null;
    }
    this._invokeDisposeFn();
  }
  /** Permanently dispose of this portal host. */
  dispose() {
    if (this.hasAttached()) {
      this.detach();
    }
    this._invokeDisposeFn();
    this._isDisposed = true;
  }
  /** @docs-private */
  setDisposeFn(fn) {
    this._disposeFn = fn;
  }
  _invokeDisposeFn() {
    if (this._disposeFn) {
      this._disposeFn();
      this._disposeFn = null;
    }
  }
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,
 * the directive instance itself can be attached to a host, enabling declarative use of portals.
 */
class CdkPortal extends TemplatePortal {
  constructor(templateRef, viewContainerRef) {
    super(templateRef, viewContainerRef);
  }
  static {
    this.ɵfac = function CdkPortal_Factory(t) {
      return new (t || CdkPortal)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortal,
      selectors: [["", "cdkPortal", ""]],
      exportAs: ["cdkPortal"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortal, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortal]',
      exportAs: 'cdkPortal'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }];
  }, null);
})();
/**
 * Directive version of a PortalOutlet. Because the directive *is* a PortalOutlet, portals can be
 * directly attached to it, enabling declarative use.
 *
 * Usage:
 * `<ng-template [cdkPortalOutlet]="greeting"></ng-template>`
 */
class CdkPortalOutlet extends BasePortalOutlet {
  constructor(_componentFactoryResolver, _viewContainerRef, renderer) {
    super();
    this._componentFactoryResolver = _componentFactoryResolver;
    this._viewContainerRef = _viewContainerRef;
    this.renderer = renderer;
    /** Whether the portal component is initialized. */
    this._isInitialized = false;
    /** Emits when a portal is attached to the outlet. */
    this.attached = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    /**
     * Attaches the given DomPortal to this PortalHost by moving all of the portal content into it.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this.renderer.createComment('dom-portal');
      portal.setAttachedHost(this);
      this.renderer.insertBefore(element.parentNode, anchorNode, element);
      this.renderer.appendChild(this._getRootNode(), element);
      super.setDisposeFn(() => {
        if (anchorNode.parentNode) {
          this.renderer.insertBefore(anchorNode.parentNode, element, anchorNode);
          this.renderer.removeChild(anchorNode.parentNode, anchorNode);
          // anchorNode.parentNode!.replaceChild(element, anchorNode);
        }
      });
    };
  }
  /** Portal associated with the Portal outlet. */
  get portal() {
    return this._attachedPortal;
  }
  set portal(portal) {
    // Ignore the cases where the `portal` is set to a falsy value before the lifecycle hooks have
    // run. This handles the cases where the user might do something like `<div cdkPortalOutlet>`
    // and attach a portal programmatically in the parent component. When Angular does the first CD
    // round, it will fire the setter with empty string, causing the user's content to be cleared.
    if (this.hasAttached() && !portal && !this._isInitialized) {
      return;
    }
    if (this.hasAttached()) {
      super.detach();
    }
    if (portal) {
      super.attach(portal);
    }
    this._attachedPortal = portal;
  }
  /** Component or view reference that is attached to the portal. */
  get attachedRef() {
    return this._attachedRef;
  }
  ngOnInit() {
    this._isInitialized = true;
  }
  ngOnDestroy() {
    super.dispose();
    this._attachedPortal = null;
    this._attachedRef = null;
  }
  /**
   * Attach the given ComponentPortal to this PortalOutlet using the ComponentFactoryResolver.
   *
   * @param portal Portal to be attached to the portal outlet.
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    portal.setAttachedHost(this);
    // If the portal specifies an origin, use that as the logical location of the component
    // in the application tree. Otherwise use the location of this PortalOutlet.
    const viewContainerRef = portal.viewContainerRef != null ? portal.viewContainerRef : this._viewContainerRef;
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    const ref = viewContainerRef.createComponent(componentFactory, viewContainerRef.length, portal.injector || viewContainerRef.injector);
    // If we're using a view container that's different from the injected one (e.g. when the portal
    // specifies its own) we need to move the component into the outlet, otherwise it'll be rendered
    // inside of the alternate view container.
    if (viewContainerRef !== this._viewContainerRef) {
      this.renderer.appendChild(this._getRootNode(), ref.hostView.rootNodes[0]);
    }
    super.setDisposeFn(() => ref.destroy());
    this._attachedPortal = portal;
    this._attachedRef = ref;
    this.attached.emit(ref);
    return ref;
  }
  /**
   * Attach the given TemplatePortal to this PortalHost as an embedded View.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    portal.setAttachedHost(this);
    const viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);
    super.setDisposeFn(() => this._viewContainerRef.clear());
    this._attachedPortal = portal;
    this._attachedRef = viewRef;
    this.attached.emit(viewRef);
    return viewRef;
  }
  /** Gets the root node of the portal outlet. */
  _getRootNode() {
    const nativeElement = this._viewContainerRef.element.nativeElement;
    // The directive could be set on a template which will result in a comment
    // node being the root. Use the comment's parent node if that is the case.
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    return !(nativeElement instanceof CommentNode) ? nativeElement : nativeElement.parentNode;
  }
  static {
    this.ɵfac = function CdkPortalOutlet_Factory(t) {
      return new (t || CdkPortalOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortalOutlet,
      selectors: [["", "cdkPortalOutlet", ""]],
      inputs: {
        portal: ["cdkPortalOutlet", "portal"]
      },
      outputs: {
        attached: "attached"
      },
      exportAs: ["cdkPortalOutlet"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortalOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortalOutlet]',
      exportAs: 'cdkPortalOutlet',
      // eslint-disable-next-line @angular-eslint/no-inputs-metadata-property
      inputs: ['portal: cdkPortalOutlet']
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    attached: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class PortalModule {
  static {
    this.ɵfac = function PortalModule_Factory(t) {
      return new (t || PortalModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: PortalModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PortalModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      exports: [CdkPortal, CdkPortalOutlet],
      declarations: [CdkPortal, CdkPortalOutlet]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A PortalOutlet for attaching portals to an arbitrary DOM element outside of the Angular
 * application context.
 */
let NativeScriptDomPortalOutlet = class NativeScriptDomPortalOutlet extends BasePortalOutlet {
  constructor( /** Element into which the content is projected. */
  outletElement, _componentFactoryResolver, _appRef, _defaultInjector, viewUtil) {
    super();
    this.outletElement = outletElement;
    this._componentFactoryResolver = _componentFactoryResolver;
    this._appRef = _appRef;
    this._defaultInjector = _defaultInjector;
    /**
     * Attaches a DOM portal by transferring its content into the outlet.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this._viewUtil.createComment('dom-portal');
      this._viewUtil.insertBefore(element.parentNode, anchorNode, element);
      this._viewUtil.appendChild(this.outletElement, element);
      super.setDisposeFn(() => {
        // We can't use `replaceWith` here because IE doesn't support it.
        if (anchorNode.parentNode) {
          this._viewUtil.insertBefore(anchorNode.parentNode, element, anchorNode);
          this._viewUtil.removeChild(anchorNode.parentNode, anchorNode);
          //anchorNode.parentNode.replaceChild(element, anchorNode);
        }
      });
    };

    this._viewUtil = viewUtil || this._defaultInjector.get(ViewUtil);
  }
  /**
   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.
   * @param portal Portal to be attached
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    let componentRef;
    // If the portal specifies a ViewContainerRef, we will use that as the attachment point
    // for the component (in terms of Angular's component tree, not rendering).
    // When the ViewContainerRef is missing, we use the factory to create the component directly
    // and then manually attach the view to the application.
    if (portal.viewContainerRef) {
      componentRef = portal.viewContainerRef.createComponent(componentFactory, portal.viewContainerRef.length, portal.injector || portal.viewContainerRef.injector);
      this.setDisposeFn(() => componentRef.destroy());
    } else {
      componentRef = componentFactory.create(portal.injector || this._defaultInjector);
      this._appRef.attachView(componentRef.hostView);
      this.setDisposeFn(() => {
        this._appRef.detachView(componentRef.hostView);
        componentRef.destroy();
      });
    }
    // At this point the component has been instantiated, so we move it to the location in the DOM
    // where we want it to be rendered.
    const rootNode = this._getComponentRootNode(componentRef);
    if (rootNode.parent) {
      this._viewUtil.removeChild(rootNode.parent, rootNode);
    }
    this._viewUtil.appendChild(this.outletElement, this._getComponentRootNode(componentRef));
    return componentRef;
  }
  /**
   * Attaches a template portal to the DOM as an embedded view.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    const viewContainer = portal.viewContainerRef;
    const viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);
    // The method `createEmbeddedView` will add the view as a child of the viewContainer.
    // But for the DomPortalOutlet the view can be added everywhere in the DOM
    // (e.g Overlay Container) To move the view to the specified host element. We just
    // re-append the existing root nodes.
    viewRef.rootNodes.forEach(rootNode => {
      if (rootNode.parent) {
        this._viewUtil.removeChild(rootNode.parent, rootNode);
      }
      this._viewUtil.appendChild(this.outletElement, rootNode);
    });
    // Note that we want to detect changes after the nodes have been moved so that
    // any directives inside the portal that are looking at the DOM inside a lifecycle
    // hook won't be invoked too early.
    viewRef.detectChanges();
    this.setDisposeFn(() => {
      const index = viewContainer.indexOf(viewRef);
      if (index !== -1) {
        viewContainer.remove(index);
      }
    });
    // TODO(jelbourn): Return locals from view.
    return viewRef;
  }
  /**
   * Clears out a portal from the DOM.
   */
  dispose() {
    super.dispose();
    if (this.outletElement.parentNode != null) {
      this._viewUtil.removeChild(this.outletElement.parentNode, this.outletElement);
    }
  }
  /** Gets the root HTMLElement for an instantiated component. */
  _getComponentRootNode(componentRef) {
    return componentRef.hostView.rootNodes[0];
  }
};
NativeScriptDomPortalOutlet = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(4, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, ViewUtil])], NativeScriptDomPortalOutlet);
registerElement('DetachedContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer, {
  skipAddToDom: true
});
/**
 * Wrapper component used for loading components when navigating
 * It uses DetachedContainer as selector so that it is containerRef is not attached to
 * the visual tree.
 */
class DetachedLoader {
  // tslint:disable-line:component-class-suffix
  constructor(resolver, changeDetector, containerRef, appRef) {
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.containerRef = containerRef;
    this.appRef = appRef;
    this.disposeFunctions = [];
  }
  createComponentPortal(componentType, customInjector) {
    return new ComponentPortal(componentType, this.vc, customInjector || this.vc.injector);
  }
  createTemplatePortal(templateRef, context) {
    return new TemplatePortal(templateRef, this.vc, context);
  }
  loadInAppRef(componentType) {
    const factory = this.resolver.resolveComponentFactory(componentType);
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    // Component is created, built may not be checked if we are loading
    // inside component with OnPush CD strategy. Mark us for check to be sure CD will reach us.
    // We are inside a promise here so no need for setTimeout - CD should trigger
    // after the promise.
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadInLocation component loaded -> markForCheck', 'detached-loader');
    return componentRef;
  }
  loadInLocation(componentType) {
    return this.vc.createComponent(componentType);
  }
  ngOnDestroy() {
    this.disposeFunctions.forEach(fn => fn());
  }
  detectChanges() {
    this.changeDetector.markForCheck();
  }
  /**
   * @deprecated use Portals
   */
  loadComponent(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponent', 'detached-loader');
    return Promise.resolve(this.loadInAppRef(componentType));
  }
  /**
   * @deprecated use Portals
   */
  loadComponentSync(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentSync', 'detached-loader');
    return this.loadInAppRef(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadComponentInLocation(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentInLocation', 'detached-loader');
    return this.loadInLocation(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactory(factory) {
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    return componentRef;
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactoryInLocation(factory) {
    return this.vc.createComponent(factory);
  }
  static {
    this.ɵfac = function DetachedLoader_Factory(t) {
      return new (t || DetachedLoader)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: DetachedLoader,
      selectors: [["DetachedContainer"]],
      viewQuery: function DetachedLoader_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vc = _t.first);
        }
      },
      ngContentSelectors: _c1,
      decls: 5,
      vars: 0,
      consts: [["loader", ""], ["vc", ""]],
      template: function DetachedLoader_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "Placeholder", null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](2, null, 1);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](4);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DetachedLoader, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'DetachedContainer',
      template: `<Placeholder #loader></Placeholder>
    <ng-container #vc></ng-container>
    <ng-content></ng-content>`
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
    }];
  }, {
    vc: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['vc', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }]
  });
})();
class PageService {
  get inPage() {
    return this._inPage$.value;
  }
  get inPage$() {
    return this._inPage$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.distinctUntilChanged)());
  }
  get pageEvents$() {
    return this._pageEvents$.asObservable();
  }
  constructor(page, elRef, view) {
    this._pageEvents$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    if (page) {
      this.page = page;
    } else {
      view = view || elRef.nativeElement;
      while (view) {
        if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
          this.page = view;
          break;
        }
        view = view.parent;
      }
    }
    this._inPage$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!!this.page?.isLoaded);
    if (this.page) {
      this.page.on('navigatedFrom', this.pageEvent, this);
      this.page.on('navigatedTo', this.pageEvent, this);
      this.page.on('navigatingFrom', this.pageEvent, this);
      this.page.on('navigatingTo', this.pageEvent, this);
    }
  }
  ngOnDestroy() {
    if (this.page) {
      this.page.off('navigatedFrom', this.pageEvent, this);
      this.page.off('navigatedTo', this.pageEvent, this);
      this.page.off('navigatingFrom', this.pageEvent, this);
      this.page.off('navigatingTo', this.pageEvent, this);
    }
    this._inPage$.complete();
    this._pageEvents$.complete();
  }
  pageEvent(evt) {
    this._pageEvents$.next(evt);
    switch (evt.eventName) {
      case 'navigatedTo':
        this._inPage$.next(true);
        break;
      case 'navigatedFrom':
        this._inPage$.next(false);
        break;
      default:
    }
  }
  static {
    this.ɵfac = function PageService_Factory(t) {
      return new (t || PageService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: PageService,
      factory: PageService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
function customFrameComponentFactory(v) {
  return v.element.nativeElement;
}
function customPageFactoryFromFrame(v) {
  return v.page;
}
registerElement('FramePage', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, {
  insertChild: (parent, child) => {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      frameMeta.insertChild(parent, child);
      return;
    }
    parent['__ng_page__'].content = child;
  }
});
class FramePageComponent {
  constructor(element, renderer) {
    this.element = element;
    this.actionBarHidden = false;
    this.page = renderer.createElement('Page');
    element.nativeElement['__ng_page__'] = this.page;
    renderer.appendChild(element.nativeElement, this.page);
  }
  ngOnChanges(changes) {
    if (changes.actionBarHidden && changes.actionBarHidden.previousValue !== changes.actionBarHidden.currentValue) {
      if (this.page) {
        this.page.actionBarHidden = !!this.actionBarHidden;
      }
    }
  }
  ngAfterViewInit() {
    if (this.page) {
      this.page.actionBarHidden = !!this.actionBarHidden;
    }
  }
  static {
    this.ɵfac = function FramePageComponent_Factory(t) {
      return new (t || FramePageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: FramePageComponent,
      selectors: [["FramePage"]],
      inputs: {
        actionBarHidden: "actionBarHidden"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function FramePageComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'FramePage',
      template: `<ng-content></ng-content>`,
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    actionBarHidden: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
function customFrameDirectiveFactory(v) {
  return v.element.nativeElement;
}
class FrameDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function FrameDirective_Factory(t) {
      return new (t || FrameDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: FrameDirective,
      selectors: [["Frame"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }])]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Frame',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
function customPageFactory(v) {
  return v.element.nativeElement;
}
class PageDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function PageDirective_Factory(t) {
      return new (t || PageDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageDirective,
      selectors: [["Page"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService])]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Page',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
class FramePageModule {
  static {
    this.ɵfac = function FramePageModule_Factory(t) {
      return new (t || FramePageModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: FramePageModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [FrameDirective, PageDirective, FramePageComponent],
      exports: [FrameDirective, PageDirective, FramePageComponent]
    }]
  }], null, null);
})();
function isPresent(obj) {
  return obj !== undefined && obj !== null;
}
function isBlank(obj) {
  return obj === undefined || obj === null;
}
function isActionItem(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem;
}
function isNavigationButton(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton;
}
const actionBarMeta = {
  skipAddToDom: true,
  insertChild: (parent, child, next) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      parent.navigationButton = child;
      child.parentNode = parent;
    } else if (isActionItem(child)) {
      addActionItem(parent, child, next);
      child.parentNode = parent;
    } else if (isView(child)) {
      parent.titleView = child;
    }
  },
  removeChild: (parent, child) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      if (parent.navigationButton === child) {
        parent.navigationButton = null;
      }
      child.parentNode = null;
    } else if (isActionItem(child)) {
      parent.actionItems.removeItem(child);
      child.parentNode = null;
    } else if (isView(child) && parent.titleView && parent.titleView === child) {
      parent.titleView = null;
    }
  }
};
registerElement('ActionBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionBar, actionBarMeta);
registerElement('ActionItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem);
registerElement('NavigationButton', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton);
const addActionItem = (bar, item, next) => {
  if (next) {
    insertActionItemBefore(bar, item, next);
  } else {
    appendActionItem(bar, item);
  }
};
const insertActionItemBefore = (bar, item, next) => {
  const actionItems = bar.actionItems;
  const actionItemsCollection = actionItems.getItems();
  const indexToInsert = actionItemsCollection.indexOf(next);
  actionItemsCollection.splice(indexToInsert, 0, item);
  actionItems.setItems(actionItemsCollection);
};
const appendActionItem = (bar, item) => {
  bar.actionItems.addItem(item);
};
class ActionBarComponent {
  constructor(element, page) {
    this.element = element;
    this.page = page;
    if (!this.page) {
      throw new Error('No Page found in ActionBarComponent.\n' + 'Only a Page can contain an ActionBar, so please ensure ActionBar is only used inside a Component that is routed via page-router-outlet or is contained in a Page.\n' + 'Example for root action bars in AppComponent: <Frame><Page><ActionBar>....</ActionBar></Page></Frame>');
    }
    if (isBlank(this.page.actionBarHidden)) {
      this.page.actionBarHidden = false;
    }
    this.page.actionBar = this.element.nativeElement;
    this.page.actionBar.update();
  }
  static {
    this.ɵfac = function ActionBarComponent_Factory(t) {
      return new (t || ActionBarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarComponent,
      selectors: [["ActionBar"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function ActionBarComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBar',
      template: '<ng-content></ng-content>'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ActionBarScope {
  // tslint:disable-line:component-class-suffix
  constructor(page) {
    this.page = page;
    if (!this.page) {
      throw new Error('Inside ActionBarExtension but no ActionBar found to extend.');
    }
  }
  onNavButtonInit(navBtn) {
    this.page.actionBar.navigationButton = navBtn.element.nativeElement;
  }
  onNavButtonDestroy(navBtn) {
    const nav = navBtn.element.nativeElement;
    if (nav && this.page.actionBar.navigationButton === nav) {
      this.page.actionBar.navigationButton = null;
    }
  }
  onActionInit(item) {
    this.page.actionBar.actionItems.addItem(item.element.nativeElement);
  }
  onActionDestroy(item) {
    if (item.element.nativeElement.actionBar) {
      this.page.actionBar.actionItems.removeItem(item.element.nativeElement);
    }
  }
  static {
    this.ɵfac = function ActionBarScope_Factory(t) {
      return new (t || ActionBarScope)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarScope,
      selectors: [["ActionBarExtension"]],
      decls: 0,
      vars: 0,
      template: function ActionBarScope_Template(rf, ctx) {},
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarScope, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBarExtension',
      template: ''
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ActionItemDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onActionInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onActionDestroy(this);
    }
  }
  static {
    this.ɵfac = function ActionItemDirective_Factory(t) {
      return new (t || ActionItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: ActionItemDirective,
      selectors: [["ActionItem"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'ActionItem' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class NavigationButtonDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onNavButtonInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onNavButtonDestroy(this);
    }
  }
  static {
    this.ɵfac = function NavigationButtonDirective_Factory(t) {
      return new (t || NavigationButtonDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NavigationButtonDirective,
      selectors: [["NavigationButton"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NavigationButtonDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'NavigationButton' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();

/**
 * Utility method to ensure a NgModule is only imported once in a codebase, otherwise will throw to help prevent accidental double importing
 * @param parentModule Parent module name
 * @param moduleName The module name
 */
function throwIfAlreadyLoaded(parentModule, moduleName) {
  if (parentModule) {
    throw new Error(`${moduleName} has already been loaded. Import ${moduleName} in the AppModule only.`);
  }
}
/**
 * Utility method which will only fire the callback once ever
 * @param fn callback to call only once
 */
// eslint-disable-next-line @typescript-eslint/ban-types
function once(fn) {
  let wasCalled = false;
  return function wrapper() {
    if (wasCalled) {
      return;
    }
    wasCalled = true;
    // eslint-disable-next-line prefer-spread, prefer-rest-params
    fn.apply(null, arguments);
  };
}
function isListLikeIterable(obj) {
  if (!isJsObject(obj)) return false;
  return Array.isArray(obj) || !(obj instanceof Map) &&
  // JS Map are iterables but return entries as [k, v]
  Symbol.iterator in obj; // JS Iterable have a Symbol.iterator prop
}

function isJsObject(o) {
  return o !== null && (typeof o === 'function' || typeof o === 'object');
}
const NG_VIEW = '_ngViewRef';
const TEMPLATED_ITEMS_COMPONENT = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('TemplatedItemsComponent');
class ItemContext {
  constructor($implicit, item, index, even, odd) {
    this.$implicit = $implicit;
    this.item = item;
    this.index = index;
    this.even = even;
    this.odd = odd;
  }
}
class NsTemplatedItem {
  constructor(template, location, onCreate) {
    this.template = template;
    this.location = location;
    this.onCreate = onCreate;
  }
  create(context) {
    const viewRef = this.location.createEmbeddedView(this.template, context ? this.setupItemContext(context) : new ItemContext());
    viewRef.detach(); // create detached, just beware this doesn't always work and the view might run the first CD anyway.
    const resultView = getItemViewRoot(viewRef);
    resultView[NG_VIEW] = viewRef;
    if (this.onCreate) {
      this.onCreate(resultView);
    }
    return resultView;
  }
  update(view, context) {
    const viewRef = this.getEmbeddedViewRef(view);
    this.setupItemContext(context, viewRef);
    viewRef?.detectChanges();
  }
  attach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.reattach();
    viewRef?.detectChanges();
  }
  detach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.detach();
  }
  dispose(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.destroy();
  }
  getEmbeddedViewRef(view) {
    let viewRef = view[NG_VIEW];
    // Getting angular view from original element (in cases when ProxyViewContainer
    // is used NativeScript internally wraps it in a StackLayout)
    if (!viewRef && view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && view.getChildrenCount() > 0) {
      viewRef = view.getChildAt(0)[NG_VIEW];
    }
    return viewRef;
  }
  isValid(view) {
    return !!this.getEmbeddedViewRef(view);
  }
  setupItemContext({
    index,
    data
  }, oldView) {
    const context = oldView ? oldView.context : new ItemContext();
    context.$implicit = data;
    context.item = data;
    context.index = index;
    context.even = index % 2 === 0;
    context.odd = !context.even;
    return context;
  }
}
class ListViewComponent {
  get nativeElement() {
    return this.templatedItemsView;
  }
  get items() {
    return this._items;
  }
  set items(value) {
    this._items = value;
    let needDiffer = true;
    if (value instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_51__.ObservableArray) {
      needDiffer = false;
    }
    if (needDiffer && !this._differ && isListLikeIterable(value)) {
      this._differ = this._iterableDiffers.find(this._items).create((_index, item) => {
        return item;
      });
    }
    this.templatedItemsView.items = this._items;
  }
  // this elementRef is only here for backwards compatibility reasons
  constructor(_elementRef) {
    this._iterableDiffers = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.IterableDiffers);
    this._changeDetectorRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef);
    this._elementRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef);
    // I believe this only exists so this can be inherited and people can override it.
    this.templatedItemsView = this._elementRef.nativeElement;
    this._viewToTemplate = new WeakMap();
    this.setupItemView = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    if (_elementRef) {
      this.templatedItemsView = _elementRef.nativeElement;
    }
  }
  ngAfterContentInit() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog('TemplatedItemsView.ngAfterContentInit()');
    }
    this.setItemTemplates();
  }
  ngOnDestroy() {
    this.templatedItemsView = null;
    if (this._templateMap) {
      this._templateMap.clear();
    }
  }
  setItemTemplates() {
    // The itemTemplateQuery may be changed after list items are added that contain <template> inside,
    // so cache and use only the original template to avoid errors.
    this.fallbackItemTemplate = this.itemTemplateQuery;
    if (this.fallbackItemTemplate && !this._templateMap?.has('default')) {
      // apparently you can create a Core ListView without a template...
      // we also add a fallback default for when the user sets multiple templates but no templateSelector
      this.registerTemplate('default', this.fallbackItemTemplate);
    }
    if (this._templateMap) {
      // sometimes templates are registered before loader is ready, so we update here
      this._templateMap.forEach(t => t.location = this.loader);
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('Setting templates');
      }
      const templates = [];
      this._templateMap.forEach((value, key) => {
        templates.push({
          createView: () => null,
          key
        });
      });
      this.templatedItemsView.itemTemplates = templates;
    }
  }
  registerTemplate(key, template) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog(`registerTemplate for key: ${key}, ${this.loader}`);
    }
    if (!this._templateMap) {
      this._templateMap = new Map();
    }
    this._templateMap.set(key, new NsTemplatedItem(template, this.loader, v => this._viewToTemplate.set(v, key)));
  }
  onItemLoading(args) {
    if (!this._templateMap) {
      return;
    }
    const index = args.index;
    const lview = args.object;
    const items = lview.items;
    const currentItem = 'getItem' in items && typeof items.getItem === 'function' ? items.getItem(index) : items[index];
    let template;
    if (args.view) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog(`onItemLoading: ${index} - Reusing existing view`);
      }
      let templateKey = this._viewToTemplate.get(args.view);
      if (!templateKey && args.view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && args.view.getChildrenCount() > 0) {
        templateKey = this._viewToTemplate.get(args.view.getChildAt(0));
      }
      if (!templateKey) {
        // this template was not created by us
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`ViewReference not found for item ${index}. View recycling is not working`);
        }
        return;
      }
      template = this._templateMap.get(templateKey);
      template.update(args.view, {
        index,
        data: currentItem
      });
    } else {
      // this should never enter if it creates the view
      const templateKey = typeof lview.itemTemplateSelector === 'function' ? lview.itemTemplateSelector(currentItem, index, items) : 'default';
      template = this._templateMap.get(templateKey);
      if (!template) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`Template for key '${templateKey}' not found.`);
        }
        return;
      }
      args.view = template.create({
        index,
        data: currentItem
      });
    }
    this.setupViewRef(template.getEmbeddedViewRef(args.view), currentItem, index, args.view);
    template.attach(args.view);
    this._changeDetectorRef.detectChanges();
  }
  setupViewRef(viewRef, data, index, nativeElement) {
    const context = viewRef.context;
    this.setupItemView.next({
      view: viewRef,
      nativeElement,
      data: data,
      index: index,
      context: context
    });
  }
  ngDoCheck() {
    if (this._differ) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('ngDoCheck() - execute differ');
      }
      const changes = this._differ.diff(this._items);
      if (changes) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewLog('ngDoCheck() - refresh');
        }
        this.templatedItemsView.refresh();
      }
    }
  }
  static {
    this.ɵfac = function ListViewComponent_Factory(t) {
      return new (t || ListViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ListViewComponent,
      selectors: [["ListView"]],
      contentQueries: function ListViewComponent_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, 5, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.itemTemplateQuery = _t.first);
        }
      },
      viewQuery: function ListViewComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.loader = _t.first);
        }
      },
      hostBindings: function ListViewComponent_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("itemLoading", function ListViewComponent_itemLoading_HostBindingHandler($event) {
            return ctx.onItemLoading($event);
          });
        }
      },
      inputs: {
        items: "items"
      },
      outputs: {
        setupItemView: "setupItemView"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }])],
      decls: 3,
      vars: 0,
      consts: [["loader", ""]],
      template: function ListViewComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "DetachedContainer");
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](1, null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        }
      },
      encapsulation: 2,
      changeDetection: 0
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], ListViewComponent.prototype, "onItemLoading", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ListViewComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'ListView',
      template: `<DetachedContainer>
    <ng-container #loader></ng-container>
  </DetachedContainer>`,
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,
      providers: [{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    loader: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['loader', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }],
    setupItemView: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    itemTemplateQuery: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChild,
      args: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef,
        static: false
      }]
    }],
    items: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    onItemLoading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['itemLoading', ['$event']]
    }]
  });
})();
function getItemViewRoot(viewRef, rootLocator = extractSingleViewRecursive) {
  const rootView = rootLocator(viewRef.rootNodes, 0);
  return rootView;
}
// eslint-disable-next-line @angular-eslint/directive-selector
class TemplateKeyDirective {
  constructor(templateRef, comp) {
    this.templateRef = templateRef;
    this.comp = comp;
  }
  set nsTemplateKey(value) {
    if (this.comp && this.templateRef) {
      this.comp.registerTemplate(value, this.templateRef);
    }
  }
  set nsTemplateKeys(values) {
    // single template with multiple keys
    if (this.comp && this.templateRef && values) {
      values.forEach(value => this.comp.registerTemplate(value, this.templateRef));
    }
  }
  static {
    this.ɵfac = function TemplateKeyDirective_Factory(t) {
      return new (t || TemplateKeyDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TEMPLATED_ITEMS_COMPONENT, 1));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TemplateKeyDirective,
      selectors: [["", "nsTemplateKey", ""], ["", "nsTemplateKeys", ""]],
      inputs: {
        nsTemplateKey: "nsTemplateKey",
        nsTemplateKeys: "nsTemplateKeys"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TemplateKeyDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsTemplateKey],[nsTemplateKeys]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Host
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [TEMPLATED_ITEMS_COMPONENT]
      }]
    }];
  }, {
    nsTemplateKey: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsTemplateKeys: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class FrameService {
  // TODO: Add any methods that are needed to handle frame/page navigation
  getFrame() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
  }
  static {
    this.ɵfac = function FrameService_Factory(t) {
      return new (t || FrameService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: FrameService,
      factory: FrameService.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class Outlet {
  get isPageNavigationBack() {
    return this._navigatingBackOutlets.size > 0;
  }
  set isPageNavigationBack(isBack) {
    if (!isBack) {
      if (this._navigatingBackOutlets.size > 0) {
        this._navigatingBackOutlets.delete(this._navigatingBackOutlets.values().next().value);
      }
    } else {
      for (const key of this.outletKeys) {
        this._navigatingBackOutlets.add(key);
      }
    }
  }
  constructor(outletKey, path, pathByOutlets, modalNavigationDepth) {
    this._navigatingBackOutlets = new Set();
    // More than one frame available when using NSEmptyOutletComponent component
    // in module that lazy loads children (loadChildren) and has outlet name.
    this.frames = [];
    this.states = [];
    // Used in reuse-strategy by its children to determine if they should be detached too.
    this.shouldDetach = true;
    this.outletKeys = [outletKey];
    this.isPageNavigationBack = false;
    this.showingModal = false;
    this.modalNavigationDepth = modalNavigationDepth || 0;
    this.pathByOutlets = pathByOutlets;
    this.path = path;
  }
  setOutletKeyNavigatingBack(key) {
    const nests = key.split('/');
    this.outletKeys.filter(k => k.split('/').length >= nests.length).forEach(k => {
      this._navigatingBackOutlets.add(k);
    });
  }
  containsFrame(frame) {
    return this.frames.indexOf(frame) > -1;
  }
  peekState() {
    if (this.states.length > 0) {
      return this.states[this.states.length - 1];
    }
    return null;
  }
  containsTopState(stateUrl) {
    const lastState = this.peekState();
    return lastState && lastState.segmentGroup.toString() === stateUrl;
  }
  // Search for frame that can go back.
  // Nested 'primary' outlets could result in Outlet with multiple navigatable frames.
  getFrameToBack() {
    let frame = this.frames[this.frames.length - 1];
    if (!this.isNSEmptyOutlet) {
      for (let index = this.frames.length - 1; index >= 0; index--) {
        const currentFrame = this.frames[index];
        if (currentFrame.canGoBack()) {
          frame = currentFrame;
          break;
        }
      }
    }
    return frame;
  }
}
const defaultNavOptions = {
  clearHistory: false,
  animated: true
};
class NSLocationStrategy extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy {
  constructor(frameService, startPath) {
    super();
    this.frameService = frameService;
    this.startPath = startPath;
    this.outlets = [];
    this.popStateCallbacks = new Array();
    this._modalNavigationDepth = 0;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.constructor()');
    }
  }
  getState() {
    return this.currentOutlet && this.currentOutlet.peekState();
  }
  path() {
    if (!this.currentUrlTree) {
      return this.startPath || '/';
    }
    const state = this.currentOutlet && this.currentOutlet.peekState();
    if (!state) {
      return '/';
    }
    const tree = this.currentUrlTree;
    const changedOutlet = this.getSegmentGroupByOutlet(this.currentOutlet);
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (state.isRootSegmentGroup) {
      tree.root = state.segmentGroup;
    } else if (changedOutlet) {
      this.updateSegmentGroup(tree.root, changedOutlet, state.segmentGroup);
    }
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    tree.queryParams = state.queryParams;
    const url = urlSerializer.serialize(tree);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.path(): ' + url);
    }
    return url;
  }
  prepareExternalUrl(internal) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.prepareExternalUrl() internal: ' + internal);
    }
    return internal;
  }
  pushState(state, title, url, queryParams) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.pushState state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
    }
    this.pushStateInternal(state, title, url, queryParams);
  }
  pushStateInternal(state, title, url, queryParams, replace = false) {
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    this.currentUrlTree = urlSerializer.parse(url);
    const urlTreeRoot = this.currentUrlTree.root;
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (!Object.keys(urlTreeRoot.children).length) {
      const segmentGroup = this.currentUrlTree && this.currentUrlTree.root;
      const outletKey = this.getOutletKey(this.getSegmentGroupFullPath(segmentGroup), 'primary');
      const outlet = this.findOutlet(outletKey);
      if (outlet && this.updateStates(outlet, segmentGroup, this.currentUrlTree.queryParams, replace)) {
        this.currentOutlet = outlet; // If states updated
      } else if (!outlet) {
        // tslint:disable-next-line:max-line-length
        const rootOutlet = this.createOutlet('primary', null, segmentGroup, null, null, this.currentUrlTree.queryParams);
        this.currentOutlet = rootOutlet;
      }
      this.currentOutlet.peekState().isRootSegmentGroup = true;
      return;
    }
    const queue = [];
    let currentTree = urlTreeRoot;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        const currentSegmentGroup = currentTree.children[outletName];
        currentSegmentGroup.outlet = outletName;
        currentSegmentGroup.root = urlTreeRoot;
        const outletPath = this.getSegmentGroupFullPath(currentTree);
        const outletKey = this.getOutletKey(outletPath, outletName);
        let outlet = this.findOutlet(outletKey);
        const parentOutletName = currentTree.outlet || '';
        const parentOutletPath = this.getSegmentGroupFullPath(currentTree.parent);
        const parentOutletKey = this.getOutletKey(parentOutletPath, parentOutletName);
        const parentOutlet = this.findOutlet(parentOutletKey);
        const containsLastState = outlet && outlet.containsTopState(currentSegmentGroup.toString());
        if (!outlet) {
          // tslint:disable-next-line:max-line-length
          outlet = this.createOutlet(outletKey, outletPath, currentSegmentGroup, parentOutlet, this._modalNavigationDepth, this.currentUrlTree.queryParams);
          this.currentOutlet = outlet;
        } else if (this._modalNavigationDepth > 0 && outlet.showingModal && !containsLastState) {
          // Navigation inside modal view.
          this.upsertModalOutlet(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace);
        } else {
          outlet.parent = parentOutlet;
          if (this.updateStates(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace)) {
            this.currentOutlet = outlet; // If states updated
          }
        }

        queue.push(currentSegmentGroup);
      });
      currentTree = queue.shift();
    }
  }
  replaceState(state, title, url, queryParams) {
    const states = this.currentOutlet && this.currentOutlet.states;
    if (states && states.length > 0) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState changing existing state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams, true);
    } else {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState pushing new state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams);
    }
  }
  forward() {
    throw new Error('NSLocationStrategy.forward() - not implemented');
  }
  back(outlet, frame) {
    this.currentOutlet = outlet || this.currentOutlet;
    if (this.currentOutlet.isPageNavigationBack) {
      const states = this.currentOutlet.states;
      // We are navigating to the previous page
      // clear the stack until we get to a page navigation state
      let state = states.pop();
      let count = 1;
      if (frame) {
        while (state.frame && state.frame !== frame) {
          state = states.pop();
          count++;
        }
      }
      while (!state.isPageNavigation) {
        state = states.pop();
        count++;
      }
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog(`NSLocationStrategy.back() while navigating back. States popped: ${count}`);
      }
      this.callPopState(state, true);
    } else {
      const state = this.currentOutlet.peekState();
      if (state && state.isPageNavigation) {
        // This was a page navigation - so navigate through frame.
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is page - will call frame.goBack()');
        }
        if (!outlet) {
          const topmostFrame = this.frameService.getFrame();
          this.currentOutlet = this.getOutletByFrame(topmostFrame) || this.currentOutlet;
        }
        const frameToBack = this.currentOutlet.getFrameToBack();
        if (frameToBack) {
          frameToBack.goBack();
        }
      } else {
        // Nested navigation - just pop the state
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is not page - just pop');
        }
        this.callPopState(this.currentOutlet.states.pop(), true);
      }
    }
  }
  canGoBack(outlet) {
    outlet = outlet || this.currentOutlet;
    return outlet.states.length > 1;
  }
  onPopState(fn) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.onPopState');
    }
    this.popStateCallbacks.push(fn);
  }
  getBaseHref() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.getBaseHref()');
    }
    return '';
  }
  callPopState(state, pop = true, outlet) {
    outlet = outlet || this.currentOutlet;
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    const changedOutlet = this.getSegmentGroupByOutlet(outlet);
    if (state && changedOutlet) {
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, state.segmentGroup);
    } else if (changedOutlet) {
      // when closing modal view there are scenarios (e.g. root viewContainerRef) when we need
      // to clean up the named page router outlet to make sure we will open the modal properly again if needed.
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, null);
    }
    const url = urlSerializer.serialize(this.currentUrlTree);
    const change = {
      state,
      type: 'popstate'
    };
    for (const fn of this.popStateCallbacks) {
      fn(change);
    }
  }
  toString() {
    let result = [];
    this.outlets.forEach(outlet => {
      const outletStates = outlet.states;
      const outletLog = outletStates
      // tslint:disable-next-line:max-line-length
      .map((v, i) => `${outlet.outletKeys}.${i}.[${v.isPageNavigation ? 'PAGE' : 'INTERNAL'}].[${outlet.modalNavigationDepth ? 'MODAL' : 'BASE'}] "${v.segmentGroup.toString()}"`).reverse();
      result = result.concat(outletLog);
    });
    return result.join('\n');
  }
  // Methods for syncing with page navigation in PageRouterOutlet
  _beginBackPageNavigation(frame, outletKey) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call startGoBack while going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.startGoBack()');
    }
    outlet.setOutletKeyNavigatingBack(outletKey);
    // outlet.isPageNavigationBack = true;
    // we find all the children and also set their isPageNavigationBack
    this.outlets.filter(o => {
      let parent = o.parent;
      while (parent) {
        if (parent === outlet) {
          return true;
        }
        parent = parent.parent;
      }
      return false;
    }).forEach(o => o.isPageNavigationBack = true);
    this.currentOutlet = outlet;
  }
  _finishBackPageNavigation(frame) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || !outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call endGoBack while not going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.finishBackPageNavigation()');
    }
    outlet.isPageNavigationBack = false;
  }
  _beginModalNavigation(frame) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginModalNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    // It is possible to have frame, but not corresponding Outlet, if
    // showing modal dialog on app.component.ts ngOnInit() e.g. In that case
    // the modal is treated as none modal navigation.
    if (this.currentOutlet) {
      this.currentOutlet.showingModal = true;
      this._modalNavigationDepth++;
    }
  }
  _closeModalNavigation() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.closeModalNavigation()');
    }
    const isShowingModal = this._modalNavigationDepth > 0;
    if (isShowingModal) {
      this._modalNavigationDepth--;
    }
    // currentOutlet should be the one that corresponds to the topmost frame
    const topmostOutlet = this.getOutletByFrame(this.frameService.getFrame());
    const outlet = this.findOutletByModal(this._modalNavigationDepth, isShowingModal) || topmostOutlet;
    if (outlet) {
      this.currentOutlet = outlet;
      this.currentOutlet.showingModal = false;
      this.callPopState(this.currentOutlet.peekState(), false);
      // this is needed because angular does a setTimeout on onPopState, so if we don't do this we might end up with inconsistent state
      return new Promise(resolve => setTimeout(resolve, 0));
    }
  }
  _beginPageNavigation(frame, options) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    const lastState = this.currentOutlet.peekState();
    if (lastState) {
      lastState.isPageNavigation = true;
    }
    const navOptions = options || defaultNavOptions;
    if (navOptions.clearHistory) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation clearing states history');
      }
      this.currentOutlet.states = [lastState];
    }
    return navOptions;
  }
  _getOutlets() {
    return this.outlets;
  }
  updateOutletFrame(outlet, frame, isEmptyOutletFrame) {
    const lastState = outlet.peekState();
    if (lastState && !lastState.frame && !isEmptyOutletFrame) {
      lastState.frame = frame;
    }
    if (!outlet.containsFrame(frame)) {
      outlet.frames.push(frame);
    }
    this.currentOutlet = outlet;
  }
  clearOutlet(frame) {
    this.outlets = this.outlets.filter(currentOutlet => {
      let isEqualToCurrent;
      if (this.currentOutlet) {
        isEqualToCurrent = currentOutlet.pathByOutlets === this.currentOutlet.pathByOutlets;
      }
      // Remove outlet from the url tree.
      if (currentOutlet.containsFrame(frame) && !isEqualToCurrent) {
        this.callPopState(null, true, currentOutlet);
      }
      // Skip frames filtering since currentOutlet is <router-outlet> when no frames available.
      if (currentOutlet.frames.length && !currentOutlet.isNSEmptyOutlet) {
        currentOutlet.frames = currentOutlet.frames.filter(currentFrame => currentFrame !== frame);
        return currentOutlet.frames.length;
      }
      return !currentOutlet.containsFrame(frame);
    });
  }
  getSegmentGroupFullPath(segmentGroup) {
    let fullPath = '';
    while (segmentGroup) {
      const url = segmentGroup.toString();
      if (fullPath) {
        fullPath = (url ? url + '/' : '') + fullPath;
      } else {
        fullPath = url;
      }
      segmentGroup = segmentGroup.parent;
    }
    return fullPath;
  }
  getRouteFullPath(currentRoute) {
    const outletName = currentRoute.outlet;
    let fullPath;
    currentRoute = currentRoute.parent;
    while (currentRoute) {
      const urls = currentRoute.url.value || currentRoute.url;
      let url = urls;
      if (Array.isArray(urls)) {
        url = url.join('/');
      }
      fullPath = fullPath ? (url ? url + '/' : url) + fullPath : url;
      currentRoute = currentRoute.parent;
    }
    return fullPath ? fullPath + '-' + outletName : outletName;
  }
  getPathByOutlets(urlSegmentGroup) {
    if (!urlSegmentGroup) {
      return '';
    }
    let pathToOutlet;
    let lastPath = urlSegmentGroup.outlet || 'primary';
    let parent = urlSegmentGroup.parent;
    while (parent && urlSegmentGroup.root !== parent) {
      if (parent && parent.outlet !== lastPath) {
        if (lastPath === 'primary') {
          lastPath = parent.outlet;
        } else {
          lastPath = parent.outlet;
          pathToOutlet = lastPath + '-' + (pathToOutlet || urlSegmentGroup.outlet);
        }
      }
      parent = parent.parent;
    }
    return pathToOutlet || lastPath;
  }
  findOutlet(outletKey, activatedRouteSnapshot) {
    let outlet = this.outlets.find(currentOutlet => {
      const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
      return equalModalDepth && currentOutlet.outletKeys.indexOf(outletKey) > -1;
    });
    // No Outlet with the given outletKey could happen when using nested unnamed p-r-o
    // primary -> primary -> prymary
    if (!outlet && activatedRouteSnapshot) {
      const pathByOutlets = this.getPathByOutlets(activatedRouteSnapshot);
      outlet = this.outlets.find(currentOutlet => {
        const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
        return equalModalDepth && currentOutlet.pathByOutlets === pathByOutlets;
      });
    }
    return outlet;
  }
  findOutletByModal(modalNavigation, isShowingModal) {
    return this.outlets.find(outlet => {
      const equalModalDepth = outlet.modalNavigationDepth === modalNavigation;
      return isShowingModal ? equalModalDepth && outlet.showingModal : equalModalDepth;
    });
  }
  getOutletByFrame(frame) {
    let outlet;
    for (let index = 0; index < this.outlets.length; index++) {
      const currentOutlet = this.outlets[index];
      if (currentOutlet.containsFrame(frame)) {
        outlet = currentOutlet;
        break;
      }
    }
    return outlet;
  }
  updateStates(outlet, currentSegmentGroup, queryParams, replace = false) {
    const isNewPage = outlet.states.length === 0;
    const lastState = outlet.states[outlet.states.length - 1];
    const equalStateUrls = outlet.containsTopState(currentSegmentGroup.toString());
    const locationState = {
      segmentGroup: currentSegmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: isNewPage,
      queryParams: {
        ...queryParams
      }
    };
    if (!lastState || !equalStateUrls) {
      if (replace) {
        outlet.states.pop();
      }
      outlet.states.push(locationState);
      // Update last state segmentGroup of parent Outlet.
      if (this._modalNavigationDepth === 0 && !outlet.showingModal) {
        this.updateParentsStates(outlet, currentSegmentGroup.parent);
      }
      return true;
    } else {
      if (lastState && equalStateUrls) {
        // update query params for last state
        lastState.queryParams = {
          ...queryParams
        };
      }
    }
    return false;
  }
  updateParentsStates(outlet, newSegmentGroup) {
    let parentOutlet = outlet.parent;
    // Update parents lastState segmentGroups
    while (parentOutlet && newSegmentGroup) {
      const state = parentOutlet.peekState();
      if (state) {
        state.segmentGroup = newSegmentGroup;
        newSegmentGroup = newSegmentGroup.parent;
        parentOutlet = parentOutlet.parent;
      }
    }
  }
  // tslint:disable-next-line:max-line-length
  createOutlet(outletKey, path, segmentGroup, parent, modalNavigation, queryParams = {}) {
    const pathByOutlets = this.getPathByOutlets(segmentGroup);
    const newOutlet = new Outlet(outletKey, path, pathByOutlets, modalNavigation);
    const locationState = {
      segmentGroup: segmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: true,
      queryParams: {
        ...queryParams
      }
    };
    newOutlet.states = [locationState];
    newOutlet.parent = parent;
    this.outlets.push(newOutlet);
    // Update last state segmentGroup of parent Outlet.
    if (this._modalNavigationDepth === 0 && !newOutlet.showingModal) {
      this.updateParentsStates(newOutlet, segmentGroup.parent);
    }
    return newOutlet;
  }
  getSegmentGroupByOutlet(outlet) {
    const pathList = outlet.pathByOutlets.split('-');
    let segmentGroup = this.currentUrlTree.root;
    let pathToOutlet;
    for (let index = 0; index < pathList.length; index++) {
      const currentPath = pathList[index];
      const childrenCount = Object.keys(segmentGroup.children).length;
      if (childrenCount && segmentGroup.children[currentPath]) {
        const url = segmentGroup.toString();
        pathToOutlet = pathToOutlet ? pathToOutlet + '/' + url : url;
        segmentGroup = segmentGroup.children[currentPath];
      } else {
        // If no child outlet found with the given name - forget about all previously found outlets.
        // example: seaching for 'primary-second-primary' shouldn't return 'primary-second'
        // if no 'primary' child available on 'second'.
        segmentGroup = null;
        break;
      }
    }
    // Paths should also match since there could be another Outlet
    // with the same pathByOutlets but different url path.
    if (segmentGroup && outlet.path && pathToOutlet && outlet.path !== pathToOutlet) {
      segmentGroup = null;
    }
    return segmentGroup;
  }
  // Traversal and replacement of segmentGroup.
  updateSegmentGroup(rootNode, oldSegmentGroup, newSegmentGroup) {
    const queue = [];
    let currentTree = rootNode;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        if (currentTree.children[outletName] === oldSegmentGroup) {
          if (newSegmentGroup) {
            currentTree.children[outletName] = newSegmentGroup;
          } else {
            delete currentTree.children[outletName];
          }
        }
        queue.push(currentTree.children[outletName]);
      });
      currentTree = queue.shift();
    }
  }
  upsertModalOutlet(parentOutlet, segmentedGroup, queryParams, replace = false) {
    let currentModalOutlet = this.findOutletByModal(this._modalNavigationDepth);
    // We want to treat every p-r-o as a standalone Outlet.
    if (!currentModalOutlet) {
      if (this._modalNavigationDepth > 1) {
        // The parent of the current Outlet should be the previous opened modal (if any).
        parentOutlet = this.findOutletByModal(this._modalNavigationDepth - 1);
      }
      // No currentModalOutlet available when opening 'primary' p-r-o.
      const outletName = 'primary';
      const outletPath = parentOutlet.peekState().segmentGroup.toString();
      const outletKey = this.getOutletKey(outletPath, outletName);
      // tslint:disable-next-line:max-line-length
      currentModalOutlet = this.createOutlet(outletKey, outletPath, segmentedGroup, parentOutlet, this._modalNavigationDepth, queryParams);
      this.currentOutlet = currentModalOutlet;
    } else if (this.updateStates(currentModalOutlet, segmentedGroup, queryParams, replace)) {
      this.currentOutlet = currentModalOutlet; // If states updated
    }
  }

  getOutletKey(path, outletName) {
    return path ? path + '-' + outletName : outletName;
  }
  ngOnDestroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.ngOnDestroy()');
    }
    this.outlets = [];
    this.currentOutlet = null;
  }
  static {
    this.ɵfac = function NSLocationStrategy_Factory(t) {
      return new (t || NSLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](START_PATH, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSLocationStrategy,
      factory: NSLocationStrategy.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSLocationStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: FrameService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [START_PATH]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ModalDialogParams {
  constructor(context = {}, closeCallback) {
    this.context = context;
    this.closeCallback = closeCallback;
  }
}
class ModalDialogService {
  constructor(location, zone, appRef, defaultInjector) {
    this.location = location;
    this.zone = zone;
    this.appRef = appRef;
    this.defaultInjector = defaultInjector;
  }
  /**
   * Emits anytime a modal is closed with the ModalDialogParams which were injected into the component which is now closing.
   * For example, can be used to wire up Rx flows outside the scope of just the component being handled.
   */
  get closed$() {
    if (!this._closed$) {
      this._closed$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    }
    return this._closed$;
  }
  showModal(type, options = {}) {
    // if (!options.viewContainerRef) {
    //   throw new Error('No viewContainerRef: ' + 'Make sure you pass viewContainerRef in ModalDialogOptions.');
    // }
    let parentView = options.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if (options.target) {
      parentView = options.target;
    }
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    if (parentView._ngDialogRoot) {
      parentView = parentView._ngDialogRoot;
    }
    // resolve from particular module (moduleRef)
    // or from same module as parentView (viewContainerRef)
    const componentInjector = options.moduleRef?.injector || options.viewContainerRef?.injector || this.defaultInjector;
    const resolver = componentInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
    let frame = parentView;
    if (!(parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame)) {
      frame = parentView.page && parentView.page.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    }
    this.location?._beginModalNavigation(frame);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        try {
          this._showDialog({
            ...options,
            containerRef: options.viewContainerRef,
            injector: componentInjector,
            context: options.context,
            doneCallback: resolve,
            parentView,
            resolver,
            type
          });
        } catch (err) {
          reject(err);
        }
      }, 10);
    });
  }
  _showDialog(options) {
    var _this = this;
    let componentViewRef;
    let detachedLoaderRef;
    let portalOutlet;
    const closeCallback = once( /*#__PURE__*/(0,_Users_stevenmartin_workspace_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (...args) {
      options.doneCallback.apply(undefined, args);
      if (componentViewRef) {
        componentViewRef.firstNativeLikeView.closeModal();
        const params = _this.openedModalParams.pop();
        if (_this._closed$) {
          _this._closed$.next(params);
        }
        yield _this.location._closeModalNavigation();
        if (detachedLoaderRef || portalOutlet) {
          _this.zone.run(() => {
            portalOutlet?.dispose();
            detachedLoaderRef?.instance.detectChanges();
            detachedLoaderRef?.destroy();
          });
        }
      }
    }));
    const modalParams = new ModalDialogParams(options.context, closeCallback);
    if (!this.openedModalParams) {
      this.openedModalParams = [];
    }
    this.openedModalParams.push(modalParams);
    const childInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: ModalDialogParams,
        useValue: modalParams
      }],
      parent: options.injector
    });
    this.zone.run(() => {
      // if we ever support templates in the old API
      // if(options.templateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      // }
      const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
      const portal = new ComponentPortal(options.type);
      portalOutlet = new NativeScriptDomPortalOutlet(targetView, options.resolver, this.appRef, childInjector);
      const componentRef = portalOutlet.attach(portal);
      componentRef.changeDetectorRef.detectChanges();
      componentViewRef = new NgViewRef(componentRef);
      if (options.useContextAsComponentProps && options.context) {
        for (const key in options.context) {
          componentViewRef.ref.instance[key] = options.context[key];
        }
      }
      if (componentViewRef !== componentRef.location.nativeElement) {
        componentRef.location.nativeElement._ngDialogRoot = componentViewRef.firstNativeLikeView;
      }
      // if we don't detach the view from its parent, ios gets mad
      componentViewRef.detachNativeLikeView();
      options.parentView.showModal(componentViewRef.firstNativeLikeView, {
        ...options,
        closeCallback
      });
    });
  }
  static {
    this.ɵfac = function ModalDialogService_Factory(t) {
      return new (t || ModalDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: ModalDialogService,
      factory: ModalDialogService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ModalDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }];
  }, null);
})();

/**
 * This decorator delays a potentially unsafe event (like loaded/unloaded that will sometimes be called before ngOnInit) to be handled safely by ensuring it's called after a lifecycle hook.
 * @param runAfterEvent event/function call to wait until the event can be fired ('ngOnInit', 'ngAfterViewInit', ...)
 * @param options Optional event handling params
 * @returns decorator
 */
function NativeScriptNgSafeEvent(runAfterEvent, options = {}) {
  const event = runAfterEvent;
  return function (target, propertyKey, descriptor) {
    function getNgSafe() {
      return target['__ng_safe__'];
    }
    if (!target['__ng_safe__']) {
      const defaultNgSafe = {
        events: {},
        runBefore: {}
      };
      target['__ng_safe__'] = defaultNgSafe;
    }
    if (!getNgSafe().events[event]) {
      getNgSafe().events[event] = {
        done: false,
        buffer: [],
        originalDelegate: target[event]
      };
      target[event] = function (...args) {
        try {
          if (getNgSafe().events[event].originalDelegate) {
            return getNgSafe().events[event].originalDelegate.apply(this, args);
          }
        } finally {
          getNgSafe().events[event].done = true;
          getNgSafe().events[event].buffer.forEach(fn => fn.fn());
          getNgSafe().events[event].buffer = [];
        }
      };
    }
    if (options.alwaysRunBefore) {
      getNgSafe().runBefore[propertyKey] = target[options.alwaysRunBefore];
      target[`${options.alwaysRunBefore}`] = function (...args) {
        getNgSafe().events[event].buffer.filter(v => v.key === propertyKey).forEach(fn => fn.fn());
        getNgSafe().events[event].buffer = getNgSafe().events[event].buffer.filter(v => v.key !== propertyKey);
        getNgSafe().runBefore[propertyKey];
        if (getNgSafe().runBefore[propertyKey]) {
          return getNgSafe().runBefore[propertyKey].apply(this, args);
        }
      };
    }
    const oldFn = descriptor.value;
    descriptor.value = function (...args) {
      if (getNgSafe().events[event].done) {
        return oldFn.apply(this, args);
      }
      let shouldPush = true;
      if (options.onlyFirst || options.onlyLast) {
        for (let i = 0; i < getNgSafe().events[event].buffer.length; i++) {
          if (getNgSafe().events[event].buffer[i].key === propertyKey) {
            if (options.onlyFirst) {
              shouldPush = false;
              break;
            }
            if (options.onlyLast) {
              getNgSafe().events[event].buffer.splice(i, 1);
              break;
            }
          }
        }
      }
      if (shouldPush) {
        getNgSafe().events[event].buffer.push({
          key: propertyKey,
          fn: oldFn.bind(this, args)
        });
      }
    };
  };
}
class TabViewDirective {
  get selectedIndex() {
    return this._selectedIndex;
  }
  set selectedIndex(value) {
    this._selectedIndex = value;
    if (this.viewInitialized) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  constructor(element) {
    this.tabView = element.nativeElement;
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.rendererLog('this._selectedIndex: ' + this._selectedIndex);
    }
    if (!isBlank(this._selectedIndex)) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  static {
    this.ɵfac = function TabViewDirective_Factory(t) {
      return new (t || TabViewDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewDirective,
      selectors: [["TabView"]],
      inputs: {
        selectedIndex: "selectedIndex"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TabView' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    selectedIndex: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class TabViewItemDirective {
  constructor(owner, templateRef, viewContainer) {
    this.owner = owner;
    this.templateRef = templateRef;
    this.viewContainer = viewContainer;
  }
  set config(config) {
    if (!this._config || this._config.iconSource !== config.iconSource || this._config.title !== config.title || this._config.textTransform !== config.textTransform) {
      this._config = config;
      this.applyConfig();
    }
  }
  get config() {
    // tslint:disable-line:no-input-rename
    return this._config || {};
  }
  set title(title) {
    this.config = Object.assign(this.config, {
      title
    });
  }
  get title() {
    return this.config.title;
  }
  set iconSource(iconSource) {
    this.config = Object.assign(this.config, {
      iconSource
    });
  }
  get iconSource() {
    return this.config.iconSource;
  }
  set textTransform(textTransform) {
    this.config = Object.assign(this.config, {
      textTransform
    });
  }
  get textTransform() {
    return this.config.textTransform;
  }
  ensureItem() {
    if (!this.item) {
      this.item = new _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabViewItem();
    }
  }
  applyConfig() {
    this.ensureItem();
    if (this.config.title) {
      this.item.title = this.config.title;
    }
    if (this.config.iconSource) {
      this.item.iconSource = this.config.iconSource;
    }
    //  TabViewItem textTransform has a default value for Android that kick in
    // only if no value (even a null value) is set.
    if (this.config.textTransform) {
      this.item.textTransform = this.config.textTransform;
    }
  }
  ngOnInit() {
    this.applyConfig();
    const viewRef = this.viewContainer.createEmbeddedView(this.templateRef);
    // Filter out text nodes and comments
    const realViews = viewRef.rootNodes.filter(node => !(node instanceof InvisibleNode));
    if (realViews.length > 0) {
      this.item.view = realViews[0];
      const newItems = (this.owner.tabView.items || []).concat([this.item]);
      this.owner.tabView.items = newItems;
    }
  }
  static {
    this.ɵfac = function TabViewItemDirective_Factory(t) {
      return new (t || TabViewItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TabViewDirective), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewItemDirective,
      selectors: [["", "tabItem", ""]],
      inputs: {
        config: ["tabItem", "config"],
        title: "title",
        iconSource: "iconSource",
        textTransform: "textTransform"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[tabItem]' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: TabViewDirective
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }];
  }, {
    config: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['tabItem']
    }],
    title: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    iconSource: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    textTransform: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();

/* eslint-disable @angular-eslint/component-selector */
class AndroidFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
  }
  static {
    this.ɵfac = function AndroidFilterComponent_Factory(t) {
      return new (t || AndroidFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: AndroidFilterComponent,
      selectors: [["android"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function AndroidFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, AndroidFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AndroidFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'android',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class IOSFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
  }
  static {
    this.ɵfac = function IOSFilterComponent_Factory(t) {
      return new (t || IOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: IOSFilterComponent,
      selectors: [["ios"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function IOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, IOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](IOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ios',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class VisionOSFilterComponent {
  constructor(device) {
    // Note: casting any to be backwards compatible
    // Available in 8.6+ only
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.visionos;
  }
  static {
    this.ɵfac = function VisionOSFilterComponent_Factory(t) {
      return new (t || VisionOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: VisionOSFilterComponent,
      selectors: [["visionos"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function VisionOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, VisionOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VisionOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'visionos',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();
const CDK_COMPONENTS = [ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, AndroidFilterComponent, IOSFilterComponent, VisionOSFilterComponent];
registerNativeScriptViewComponents();
class NativeScriptCommonModule {
  static {
    this.ɵfac = function NativeScriptCommonModule_Factory(t) {
      return new (t || NativeScriptCommonModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptCommonModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [ModalDialogService],
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, _angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptCommonModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule],
      declarations: [...CDK_COMPONENTS],
      exports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, ...CDK_COMPONENTS],
      providers: [ModalDialogService],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();
function generateFallbackRootView(parentRootView) {
  if (parentRootView) {
    return parentRootView;
  }
  return new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('white'));
}
function errorHandler() {
  return new _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler();
}
function generateRandomId() {
  return `${Date.now()}` + '_' + Math.random().toString(36).substr(2, 9);
}
const NATIVESCRIPT_MODULE_STATIC_PROVIDERS = [{
  provide: APP_ROOT_VIEW,
  useFactory: generateFallbackRootView,
  deps: [[new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf(), APP_ROOT_VIEW]]
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵINJECTOR_SCOPE"],
  useValue: 'root'
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler,
  useFactory: errorHandler,
  deps: []
}, {
  provide: ViewUtil,
  useClass: ViewUtil,
  deps: [NAMESPACE_FILTERS, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NativeScriptRendererFactory,
  useClass: NativeScriptRendererFactory,
  deps: [APP_ROOT_VIEW, NAMESPACE_FILTERS, NATIVESCRIPT_ROOT_MODULE_ID, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NATIVESCRIPT_ROOT_MODULE_ID,
  useFactory: generateRandomId
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
  useExisting: NativeScriptRendererFactory
}, {
  provide: NAMESPACE_FILTERS,
  useClass: PlatformNamespaceFilter,
  deps: [DEVICE],
  multi: true
}, {
  provide: DEVICE,
  useValue: _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.Device
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory,
  useClass: NativescriptXhrFactory,
  deps: []
}];
const NATIVESCRIPT_MODULE_PROVIDERS = [{
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.ViewportScroller,
  useClass: _angular_common__WEBPACK_IMPORTED_MODULE_14__["ɵNullViewportScroller"]
}];
class NativeScriptModule {
  constructor(parentModule) {
    if (parentModule) {
      throw new Error(`NativeScriptModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);
    }
  }
  static {
    this.ɵfac = function NativeScriptModule_Factory(t) {
      return new (t || NativeScriptModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule],
      declarations: [DetachedLoader],
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      exports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, DetachedLoader, NativeScriptCommonModule],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], function () {
    return [{
      type: NativeScriptModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [NativeScriptModule]
      }]
    }];
  }, null);
})();
function disableRootViewHanding(view) {
  view.__disable_root_view_handling = true;
}
const preAngularDisposal$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
const postAngularBootstrap$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
/**
 * @deprecated
 */
const onBeforeLivesync = preAngularDisposal$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main' && v.reason === 'hotreload'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => v.reference));
/**
 * @deprecated
 */
const onAfterLivesync = postAngularBootstrap$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => ({
  moduleRef: v.reference
})));
if (true) {
  __webpack_module__.hot.decline();
  global.__onLiveSyncCore = () => {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._onCssStateChange();
    // all other changes are applied by runNativeScriptAngularApp
  };
}

function emitModuleBootstrapEvent(ref, name, reason) {
  postAngularBootstrap$.next({
    moduleType: name,
    reference: ref,
    reason
  });
}
function destroyRef(ref, name, reason) {
  if (ref) {
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef) {
      preAngularDisposal$.next({
        moduleType: 'platform',
        reference: ref,
        reason: name
      });
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      preAngularDisposal$.next({
        moduleType: name,
        reference: ref,
        reason
      });
    }
    ref.destroy();
  }
}
function runZoneSyncTask(fn) {
  if (typeof Zone === 'undefined') {
    return;
  }
  const zone = Zone.current;
  const task = zone.scheduleEventTask('sync_function', fn, {}, () => {
    //
  }, () => {
    //
  });
  try {
    // console.log(task.state);
    task.invoke();
    // zone.runTask(task);
    // console.log(task.state);
  } finally {
    zone.cancelTask(task);
  }
}
function ZoneCanWorkSync() {
  let canRunSync = false;
  runZoneSyncTask(() => {
    Promise.resolve().then(() => canRunSync = true);
  });
  return canRunSync;
}
/**
 * Tests if global.__drainMicrotaskQueue can be used to drain microtasks
 * Because of Zone.js, even though the native queue might be drained, zone microtasks might not be
 * @param makeTestDrain should it drain the current microtask queue to ensure the queue can be drained
 * @returns if global.__drainMicrotaskQueue can be called
 */
function nativeQueueCanBeDrained(makeTestDrain) {
  if (typeof global.__drainMicrotaskQueue !== 'function') {
    return false;
  }
  if (!makeTestDrain) {
    return true;
  }
  let canRunSync = false;
  Promise.resolve().then(() => canRunSync = true);
  global.__drainMicrotaskQueue();
  return canRunSync;
}
/**
 * Runs a function in the most synchronous way possible
 * @param fn function to run
 * @param done function to chain after done
 */
function runSynchronously(fn, done) {
  if (typeof Zone !== 'undefined' && ZoneCanWorkSync()) {
    runZoneSyncTask(fn);
    done?.();
    return;
  }
  if (nativeQueueCanBeDrained(true)) {
    fn();
    global.__drainMicrotaskQueue();
    done?.();
    return;
  }
  fn();
  if (done) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(done);
  }
}
function createProvidersConfig(options) {
  return {
    appProviders: [...NATIVESCRIPT_MODULE_PROVIDERS, ...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...(options?.providers ?? [])]
    // platformProviders: INTERNAL_BROWSER_PLATFORM_PROVIDERS
  };
}

function bootstrapApplication(rootComponent, options) {
  return (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵinternalCreateApplication"])({
    rootComponent,
    ...createProvidersConfig(options)
  });
}
function runNativeScriptAngularApp(options) {
  let mainModuleRef = null;
  let loadingModuleRef;
  let platformRef = null;
  let bootstrapId = -1;
  const updatePlatformRef = (moduleRef, reason) => {
    const newPlatformRef = moduleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef);
    if (newPlatformRef === platformRef) {
      return;
    }
    destroyRef(platformRef, reason);
    platformRef = newPlatformRef;
    platformRef.onDestroy(() => platformRef = platformRef === newPlatformRef ? null : platformRef);
  };
  let launchEventDone = true;
  let targetRootView = null;
  const setRootView = ref => {
    if (bootstrapId === -1) {
      // treat edge cases
      return;
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      if (ref.injector.get(DISABLE_ROOT_VIEW_HANDLING, false)) {
        return;
      }
    } else {
      if (ref['__disable_root_view_handling']) {
        return;
      }
    }
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._closeAllModalViewsInternal(); // cleanup old rootview
    NativeScriptDebug.bootstrapLog(`Setting RootView ${launchEventDone ? 'outside of' : 'during'} launch event`);
    // TODO: check for leaks when root view isn't properly destroyed
    if (ref instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.bootstrapLog(`Setting RootView to ${ref}`);
      }
      if (options.embedded) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
          create: () => ref
        });
      } else if (launchEventDone) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => ref
        });
      } else {
        targetRootView = ref;
      }
      return;
    }
    const view = ref.injector.get(APP_ROOT_VIEW);
    const newRoot = view instanceof AppHostView ? view.content : view;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.bootstrapLog(`Setting RootView to ${newRoot}`);
    }
    if (options.embedded) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
        create: () => newRoot
      });
    } else if (launchEventDone) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
        create: () => newRoot
      });
    } else {
      targetRootView = newRoot;
    }
  };
  const showErrorUI = error => {
    const message = error.message + '\n\n' + error.stack;
    const errorTextBox = new _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView();
    errorTextBox.text = message;
    errorTextBox.color = new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('red');
    setRootView(errorTextBox);
  };
  const bootstrapRoot = reason => {
    try {
      bootstrapId = Date.now();
      const currentBootstrapId = bootstrapId;
      let bootstrapped = false;
      let onMainBootstrap = () => {
        setRootView(mainModuleRef);
      };
      runSynchronously(() => options.appModuleBootstrap(reason).then(ref => {
        if (currentBootstrapId !== bootstrapId) {
          // this module is old and not needed anymore
          // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
          ref.destroy();
          return;
        }
        mainModuleRef = ref;
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => mainModuleRef = mainModuleRef === ref ? null : mainModuleRef);
        updatePlatformRef(ref, reason);
        const styleTag = ref.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => {
          (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
        });
        bootstrapped = true;
        onMainBootstrap();
        emitModuleBootstrapEvent(ref, 'main', reason);
        // bootstrapped component: (ref as any)._bootstrapComponents[0];
      }, err => {
        bootstrapped = true;
        NativeScriptDebug.bootstrapLogError(`Error bootstrapping app module:\n${err.message}\n\n${err.stack}`);
        showErrorUI(err);
        throw err;
      }), () => {
        if (currentBootstrapId !== bootstrapId) {
          return;
        }
        if (!bootstrapped) {
          if (options.loadingModule) {
            runSynchronously(() => options.loadingModule(reason).then(loadingRef => {
              if (currentBootstrapId !== bootstrapId) {
                // this module is old and not needed anymore
                // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
                loadingRef.destroy();
                return;
              }
              loadingModuleRef = loadingRef;
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => loadingModuleRef = loadingModuleRef === loadingRef ? null : loadingModuleRef);
              updatePlatformRef(loadingRef, reason);
              const styleTag = loadingModuleRef.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => {
                (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
              });
              setRootView(loadingRef);
              onMainBootstrap = () => {
                // delay showing the new rootview to avoid flashes
                _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                  const loadingService = loadingModuleRef.injector.get(NativeScriptLoadingService);
                  loadingModuleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone).run(() => {
                    loadingService._notifyMainModuleReady();
                  });
                  loadingService.readyToDestroy$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
                    destroyRef(loadingModuleRef, 'loading', reason);
                    loadingModuleRef = null;
                    setRootView(mainModuleRef);
                  });
                });
              };
              emitModuleBootstrapEvent(loadingModuleRef, 'loading', reason);
            }, err => {
              NativeScriptDebug.bootstrapLogError(`Error bootstrapping loading module:\n${err.message}\n\n${err.stack}`);
              showErrorUI(err);
              throw err;
            }));
          } else if (options.launchView) {
            let launchView = options.launchView(reason);
            setRootView(launchView);
            if (launchView.startAnimation) {
              setTimeout(() => {
                // ensure launch animation is executed after launchView added to view stack
                launchView.startAnimation();
              });
            }
            onMainBootstrap = () => {
              // delay showing the new rootview to avoid flashes
              _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                if (launchView.cleanup) {
                  launchView.cleanup().catch().then(() => {
                    launchView = null;
                    setRootView(mainModuleRef);
                  });
                } else {
                  launchView = null;
                  setRootView(mainModuleRef);
                }
              });
            };
          } else {
            console.warn('App is bootstrapping asynchronously (likely APP_INITIALIZER) but did not provide a launchView or LoadingModule.');
          }
        }
      });
    } catch (err) {
      NativeScriptDebug.bootstrapLogError(`Error in Bootstrap Function:\n${err.message}\n\n${err.stack}`);
    }
  };
  const disposePlatform = reason => {
    destroyRef(platformRef, reason);
    platformRef = null;
  };
  const disposeLastModules = reason => {
    // reset bootstrap ID to make sure any modules bootstrapped after this are discarded
    bootstrapId = -1;
    destroyRef(loadingModuleRef, 'loading', reason);
    loadingModuleRef = null;
    destroyRef(mainModuleRef, 'main', reason);
    mainModuleRef = null;
  };
  const launchCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.launchCallback', args => {
    launchEventDone = false;
    bootstrapRoot('applaunch');
    launchEventDone = true;
    args.root = targetRootView || null;
  });
  const exitCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.exitCallback', args => {
    disposeLastModules('appexit');
  });
  let oldAddEventListener;
  if (typeof Zone !== 'undefined' && global.NativeScriptGlobals?.events?.[Zone.__symbol__('addEventListener')]) {
    oldAddEventListener = global.NativeScriptGlobals.events.addEventListener;
    global.NativeScriptGlobals.events.addEventListener = global.NativeScriptGlobals.events[Zone.__symbol__('addEventListener')];
  }
  if (!options.embedded) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
  }
  _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
  if (oldAddEventListener) {
    global.NativeScriptGlobals.events.addEventListener = oldAddEventListener;
  }
  if (true) {
    // handle HMR Application.run
    global['__dispose_app_ng_platform__'] = () => {
      disposePlatform('hotreload');
    };
    global['__dispose_app_ng_modules__'] = () => {
      disposeLastModules('hotreload');
    };
    global['__bootstrap_app_ng_modules__'] = () => {
      bootstrapRoot('hotreload');
    };
    global['__cleanup_ng_hot__'] = () => {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
      disposeLastModules('hotreload');
      disposePlatform('hotreload');
    };
    global['__reboot_ng_modules__'] = (shouldDisposePlatform = false) => {
      disposeLastModules('hotreload');
      if (shouldDisposePlatform) {
        disposePlatform('hotreload');
      }
      bootstrapRoot('hotreload');
    };
    if (!_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.hasLaunched()) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
      return;
    }
    bootstrapRoot('hotreload');
    return;
  }
  if (options.embedded) {
    bootstrapRoot('applaunch');
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
  }
}
class NativeScriptPlatformRefProxy extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef {
  constructor(platform, launchView) {
    super();
    this.platform = platform;
    this.launchView = launchView;
  }
  bootstrapModuleFactory(moduleFactory) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModuleFactory(moduleFactory),
      launchView: () => this.launchView
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  bootstrapModule(moduleType, compilerOptions) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModule(moduleType, compilerOptions)
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  onDestroy(callback) {
    this.platform.onDestroy(callback);
  }
  get injector() {
    return this.platform.injector;
  }
  destroy() {
    this.platform.destroy();
  }
  get destroyed() {
    return this.platform.destroyed;
  }
}
const defaultPageFactoryProvider = {
  provide: PAGE_FACTORY,
  useValue: defaultPageFactory
};
class NativeScriptSanitizer extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer {
  sanitize(_context, value) {
    return value;
  }
}
// TODO: when angular finally exports their scheduler token for ivy CD, provide our own with queueMacroTask
// export function schedulerFactory() {
//   return (fn: any) => {
//     console.log('SCHEDULER');
//     setTimeout(fn, 0);
//   };
// }
class NativeScriptDocument {
  constructor() {
    // Required by the AnimationDriver
    this.body = {
      isOverride: true
    };
  }
  createElement(tag) {
    throw new Error('NativeScriptDocument is not DOM Document. There is no createElement() method.');
  }
}
const COMMON_PROVIDERS = [defaultPageFactoryProvider, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer,
  useClass: NativeScriptSanitizer,
  deps: []
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT,
  useClass: NativeScriptDocument,
  deps: []
}];
const platformNativeScript = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.platformCore, 'nativescriptDynamic', COMMON_PROVIDERS);
/**
 * @deprecated use runNativeScriptAngularApp instead
 */
const platformNativeScriptDynamic = function (options, extraProviders) {
  console.log('platformNativeScriptDynamic is deprecated, use runNativeScriptAngularApp instead');
  options = options || {};
  extraProviders = extraProviders || [];
  const ngRootView = new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color(options.backgroundColor || 'white'));
  let launchView = options.launchView;
  if (!launchView && options.async) {
    launchView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
    launchView.backgroundColor = options.backgroundColor || 'white';
  }
  return new NativeScriptPlatformRefProxy(platformNativeScript([...extraProviders]), launchView);
};
class RootViewProxy extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(parentRootLayout) {
    super();
    this.parentRootLayout = parentRootLayout;
  }
  _addView(view, atIndex) {
    super._addView(view, atIndex);
    if (this.parentRootLayout.getChildIndex(this) < 0) {
      this.parentRootLayout.insertChild(this, 0);
    }
  }
  _removeView(view) {
    super._removeView(view);
    this.parentRootLayout.removeChild(this);
  }
}
/**
 * This generates a RootLayout and returns a RootViewProxy.
 * Setting RootViewProxy.content will add the view to the bottom of the RootLayout
 * Setting RootViewProxy.content = null will remove the view from the RootLayout
 * @returns RootViewProxy that will insert content into the start of the RootLayout
 */
function generateRootLayoutAndProxy() {
  let rootView = _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
  if (!rootView || !(rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout)) {
    rootView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout();
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
      create: () => rootView
    });
  }
  const viewProxy = new RootViewProxy(rootView);
  // (rootView as RootLayout).insertChild(viewProxy, 0);
  return viewProxy;
}
class RootCompositeModule {
  static {
    this.ɵfac = function RootCompositeModule_Factory(t) {
      return new (t || RootCompositeModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: RootCompositeModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RootCompositeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Configuration for opening a modal dialog with the MatDialog service.
 */
class NativeDialogConfig {
  constructor() {
    /** Whether the dialog has a backdrop. */
    this.hasBackdrop = true;
    /** Whether the user can use escape or clicking on the backdrop to close the modal. */
    this.disableClose = false;
    /** Data being injected into the child component. */
    this.data = null;
    /**
     * Whether the dialog should close when the user goes backwards/forwards in history.
     * Note that this usually doesn't include clicking on links (unless the user is using
     * the `HashLocationStrategy`).
     */
    this.closeOnNavigation = true;
    this.nativeOptions = {};
    // TODO(jelbourn): add configuration for lifecycle hooks, ARIA labelling.
  }
}

// Counter for unique dialog ids.
let uniqueId = 0;
class NativeDialogRef {
  constructor(_nativeModalRef, id = `native-dialog-${uniqueId++}`) {
    this._nativeModalRef = _nativeModalRef;
    this.id = id;
    /** Subject for notifying the user that the dialog has finished opening. */
    this._afterOpened = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has finished closing. */
    this._afterClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has started closing. */
    this._beforeClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Current state of the dialog. */
    this._state = 0 /* NativeDialogState.OPEN */;
    // Pass the id along to the container.
    _nativeModalRef._id = id;
    // Emit when opening animation completes
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'opened'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      this._afterOpened.next();
      this._afterOpened.complete();
    });
    // Dispose overlay when closing animation is complete
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closed'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      clearTimeout(this._closeFallbackTimeout);
      this._finishDialogClose();
      this._afterClosed.next(this._result);
      this._afterClosed.complete();
    });
    _nativeModalRef.onDismiss.subscribe(() => {
      this._beforeClosed.next(this._result);
      this._beforeClosed.complete();
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.componentInstance = null;
      _nativeModalRef.dispose();
    });
  }
  /**
   * Close the dialog.
   * @param dialogResult Optional result to return to the dialog opener.
   */
  close(dialogResult) {
    this._result = dialogResult;
    // Transition the backdrop in parallel to the dialog.
    this._nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closing'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(event => {
      this._beforeClosed.next(dialogResult);
      this._beforeClosed.complete();
      this._nativeModalRef.dispose();
      // this._overlayRef.detachBackdrop();
      // The logic that disposes of the overlay depends on the exit animation completing, however
      // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback
      // timeout which will clean everything up if the animation hasn't fired within the specified
      // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the
      // vast majority of cases the timeout will have been cleared before it has the chance to fire.
      this._closeFallbackTimeout = setTimeout(() => {
        this._finishDialogClose();
        this._afterClosed.next(this._result);
        this._afterClosed.complete();
      },
      //event.totalTime + 100);
      100);
    });
    this._state = 1 /* NativeDialogState.CLOSING */;
    this._nativeModalRef._startExitAnimation();
  }
  /**
   * Gets an observable that is notified when the dialog is finished opening.
   */
  afterOpened() {
    return this._afterOpened;
  }
  /**
   * Gets an observable that is notified when the dialog is finished closing.
   */
  afterClosed() {
    return this._afterClosed;
  }
  /**
   * Gets an observable that is notified when the dialog has started closing.
   */
  beforeClosed() {
    return this._beforeClosed;
  }
  /**
   * Gets an observable that emits when the overlay's backdrop has been clicked.
   */
  backdropClick() {
    throw new Error('Method not implemented');
  }
  /** Add a CSS class or an array of classes to the overlay pane. */
  addPanelClass(classes) {
    // this._overlayRef.addPanelClass(classes);
    return this;
  }
  /** Remove a CSS class or an array of classes from the overlay pane. */
  removePanelClass(classes) {
    // this._overlayRef.removePanelClass(classes);
    return this;
  }
  /** Gets the current state of the dialog's lifecycle. */
  getState() {
    return this._state;
  }
  /**
   * Finishes the dialog close by updating the state of the dialog
   * and disposing the overlay.
   */
  _finishDialogClose() {
    this._state = 2 /* NativeDialogState.CLOSED */;
    this._nativeModalRef.dispose();
  }
}
let NativeModalRef = class NativeModalRef {
  constructor(_config, _injector, location) {
    var _this2 = this;
    this._config = _config;
    this._injector = _injector;
    this.location = location;
    this.stateChanged = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this.onDismiss = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._isDismissed = false;
    let parentView = this._config.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    while (parentView._modal || parentView._ngDialogRoot) {
      parentView = parentView._modal || parentView._ngDialogRoot;
    }
    this.parentView = parentView;
    this._closeCallback = once( /*#__PURE__*/(0,_Users_stevenmartin_workspace_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.stateChanged.next({
        state: 'closing'
      });
      if (!_this2._isDismissed) {
        _this2.modalViewRef.firstNativeLikeView?.closeModal();
      }
      yield _this2.location?._closeModalNavigation();
      // this.detachedLoaderRef?.destroy();
      if (_this2.modalViewRef?.firstNativeLikeView.isLoaded) {
        (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.fromEvent)(_this2.modalViewRef.firstNativeLikeView, 'unloaded').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => _this2.stateChanged.next({
          state: 'closed'
        }));
      } else {
        _this2.stateChanged.next({
          state: 'closed'
        });
      }
    }));
  }
  _generateDetachedContainer(vcRef) {
    const detachedFactory = (this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver)).resolveComponentFactory(DetachedLoader);
    if (vcRef) {
      this.detachedLoaderRef = vcRef.createComponent(detachedFactory);
    } else {
      this.detachedLoaderRef = detachedFactory.create(this._config.viewContainerRef?.injector || this._injector);
      this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(this.detachedLoaderRef.hostView);
    }
    this.detachedLoaderRef.changeDetectorRef.detectChanges();
  }
  attachTemplatePortal(portal) {
    var _this3 = this;
    this.startModalNavigation();
    const vcRef = portal.viewContainerRef || this._config.viewContainerRef;
    this._generateDetachedContainer(vcRef);
    portal.viewContainerRef = this.detachedLoaderRef.instance.vc;
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const templateRef = this.portalOutlet.attach(portal);
    this.modalViewRef = new NgViewRef(templateRef);
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref3 = (0,_Users_stevenmartin_workspace_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          yield _this3.location?._closeModalNavigation();
          _this3.onDismiss.next();
          _this3.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref3.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    //   if (this.modalView !== templateRef.rootNodes[0]) {
    //     componentRef.location.nativeElement._ngDialogRoot = this.modalView;
    //   }
    return templateRef;
  }
  attachComponentPortal(portal) {
    var _this4 = this;
    this.startModalNavigation();
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const componentRef = this.portalOutlet.attach(portal);
    componentRef.changeDetectorRef.detectChanges();
    this.modalViewRef = new NgViewRef(componentRef);
    if (this.modalViewRef.firstNativeLikeView !== this.modalViewRef.view) {
      this.modalViewRef.view._ngDialogRoot = this.modalViewRef.firstNativeLikeView;
    }
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref4 = (0,_Users_stevenmartin_workspace_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          _this4._isDismissed = true;
          _this4._closeCallback(); // close callback can only be called once, so we call it here to setup the exit events
          _this4.onDismiss.next();
          _this4.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref4.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    return componentRef;
  }
  _startExitAnimation() {
    this._closeCallback();
  }
  dispose() {
    this.portalOutlet.dispose();
  }
  startModalNavigation() {
    const frame = this.parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame ? this.parentView : this.parentView?.page?.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    this.location?._beginModalNavigation(frame);
  }
};
NativeModalRef = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [NativeDialogConfig, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, NSLocationStrategy])], NativeModalRef);

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/** Injection token that can be used to access the data that was passed in to a dialog. */
const NATIVE_DIALOG_DATA = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeDialogData');
/** Injection token that can be used to specify default dialog options. */
const NATIVE_DIALOG_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('native-dialog-default-options');
/**
 * Base class for dialog services. The base dialog service allows
 * for arbitrary dialog refs and dialog container components.
 */
class _NativeDialogBase {
  /** Keeps track of the currently-open dialogs. */
  get openDialogs() {
    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;
  }
  /** Stream that emits when a dialog has been opened. */
  get afterOpened() {
    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;
  }
  _getAfterAllClosed() {
    const parent = this._parentDialog;
    return parent ? parent._getAfterAllClosed() : this._afterAllClosedAtThisLevel;
  }
  constructor(_injector, _defaultOptions, _parentDialog, _dialogRefConstructor, _nativeModalType, _dialogDataToken, locationStrategy) {
    this._injector = _injector;
    this._defaultOptions = _defaultOptions;
    this._parentDialog = _parentDialog;
    this._dialogRefConstructor = _dialogRefConstructor;
    this._nativeModalType = _nativeModalType;
    this._dialogDataToken = _dialogDataToken;
    this.locationStrategy = locationStrategy;
    this._openDialogsAtThisLevel = [];
    this._afterAllClosedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._afterOpenedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    // TODO (jelbourn): tighten the typing right-hand side of this expression.
    /**
     * Stream that emits when all open dialog have finished closing.
     * Will emit on subscribe if there are no open dialogs to begin with.
     */
    this.afterAllClosed = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.defer)(() => this.openDialogs.length ? this._getAfterAllClosed() : this._getAfterAllClosed().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.startWith)(undefined)));
  }
  open(componentOrTemplateRef, config) {
    config = _applyConfigDefaults(config, this._defaultOptions || new NativeDialogConfig());
    if (config.id && this.getDialogById(config.id) && (typeof ngDevMode === 'undefined' || ngDevMode)) {
      throw Error(`Dialog with id "${config.id}" exists already. The dialog id must be unique.`);
    }
    const dialogRef = this._attachDialogContent(componentOrTemplateRef, config);
    this.openDialogs.push(dialogRef);
    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));
    this.afterOpened.next(dialogRef);
    // Notify the dialog container that the content has been attached.
    // dialogContainer._initializeWithAttachedContent();
    return dialogRef;
  }
  /**
   * Closes all of the currently-open dialogs.
   */
  closeAll() {
    this._closeDialogs(this.openDialogs);
  }
  /**
   * Finds an open dialog by its id.
   * @param id ID to use when looking up the dialog.
   */
  getDialogById(id) {
    return this.openDialogs.find(dialog => dialog.id === id);
  }
  ngOnDestroy() {
    // Only close the dialogs at this level on destroy
    // since the parent service may still be active.
    this._closeDialogs(this._openDialogsAtThisLevel);
    this._afterAllClosedAtThisLevel.complete();
    this._afterOpenedAtThisLevel.complete();
  }
  /**
   * Attaches the user-provided component to the already-created dialog container.
   * @param componentOrTemplateRef The type of component being loaded into the dialog,
   *     or a TemplateRef to instantiate as the content.
   * @param dialogContainer Reference to the wrapping dialog container.
   * @param overlayRef Reference to the overlay in which the dialog resides.
   * @param config The dialog configuration.
   * @returns A promise resolving to the MatDialogRef that should be returned to the user.
   */
  _attachDialogContent(componentOrTemplateRef, config) {
    // Create a reference to the dialog we're creating in order to give the user a handle
    // to modify and close it.
    const nativeModalRef = new this._nativeModalType(config, this._injector, this.locationStrategy);
    const dialogRef = new this._dialogRefConstructor(nativeModalRef, config.id);
    if (componentOrTemplateRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      nativeModalRef.attachTemplatePortal(
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      new TemplatePortal(componentOrTemplateRef, null, {
        $implicit: config.data,
        dialogRef
      }));
    } else {
      const injector = this._createInjector(config, dialogRef);
      const contentRef = nativeModalRef.attachComponentPortal(new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector));
      dialogRef.componentInstance = contentRef.instance;
    }
    return dialogRef;
  }
  /**
   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside
   * of a dialog to close itself and, optionally, to return a value.
   * @param config Config object that is used to construct the dialog.
   * @param dialogRef Reference to the dialog.
   * @param dialogContainer Dialog container element that wraps all of the contents.
   * @returns The custom injector that can be used inside the dialog.
   */
  _createInjector(config, dialogRef) {
    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;
    // The dialog container should be provided as the dialog container and the dialog's
    // content are created out of the same `ViewContainerRef` and as such, are siblings
    // for injector purposes. To allow the hierarchy that is expected, the dialog
    // container is explicitly provided in the injector.
    const providers = [{
      provide: this._dialogDataToken,
      useValue: config.data
    }, {
      provide: this._dialogRefConstructor,
      useValue: dialogRef
    }];
    return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      parent: userInjector || this._injector,
      providers
    });
  }
  /**
   * Removes a dialog from the array of open dialogs.
   * @param dialogRef Dialog to be removed.
   */
  _removeOpenDialog(dialogRef) {
    const index = this.openDialogs.indexOf(dialogRef);
    if (index > -1) {
      this.openDialogs.splice(index, 1);
      // If all the dialogs were closed, remove/restore the `aria-hidden`
      // to a the siblings and emit to the `afterAllClosed` stream.
      if (!this.openDialogs.length) {
        this._getAfterAllClosed().next();
      }
    }
  }
  /** Closes all of the dialogs in an array. */
  _closeDialogs(dialogs) {
    let i = dialogs.length;
    while (i--) {
      // The `_openDialogs` property isn't updated after close until the rxjs subscription
      // runs on the next microtask, in addition to modifying the array as we're going
      // through it. We loop through all of them and call close without assuming that
      // they'll be removed from the list instantaneously.
      dialogs[i].close();
    }
  }
  static {
    this.ɵfac = function _NativeDialogBase_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: _NativeDialogBase
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](_NativeDialogBase, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken
    }, {
      type: NSLocationStrategy
    }];
  }, null);
})();
/**
 * Service to open Material Design modal dialogs.
 */
class NativeDialogService extends _NativeDialogBase {
  constructor(injector, defaultOptions, parentDialog, location) {
    super(injector, defaultOptions, parentDialog, NativeDialogRef, NativeModalRef, NATIVE_DIALOG_DATA, location);
  }
  static {
    this.ɵfac = function NativeDialogService_Factory(t) {
      return new (t || NativeDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NATIVE_DIALOG_DEFAULT_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeDialogService, 12), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeDialogService,
      factory: NativeDialogService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }, {
      type: NativeDialogConfig,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [NATIVE_DIALOG_DEFAULT_OPTIONS]
      }]
    }, {
      type: NativeDialogService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: NSLocationStrategy,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
/**
 * Applies default options to the dialog config.
 * @param config Config to be modified.
 * @param defaultOptions Default options provided.
 * @returns The new configuration object.
 */
function _applyConfigDefaults(config, defaultOptions) {
  return {
    ...defaultOptions,
    ...config
  };
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Button that will close the current dialog.
 */
class NativeDialogCloseDirective {
  constructor(
  // The dialog title directive is always used in combination with a `MatDialogRef`.
  // tslint:disable-next-line: lightweight-tokens
  dialogRef, _elementRef, _dialog) {
    this.dialogRef = dialogRef;
    this._elementRef = _elementRef;
    this._dialog = _dialog;
  }
  ngOnInit() {
    if (!this.dialogRef) {
      // When this directive is included in a dialog via TemplateRef (rather than being
      // in a Component), the DialogRef isn't available via injection because embedded
      // views cannot be given a custom injector. Instead, we look up the DialogRef by
      // ID. This must occur in `onInit`, as the ID binding for the dialog container won't
      // be resolved at constructor time.
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.dialogRef = getClosestDialog(this._elementRef, this._dialog.openDialogs);
    }
  }
  ngOnChanges(changes) {
    const proxiedChange = changes['_matDialogClose'] || changes['_matDialogCloseResult'];
    if (proxiedChange) {
      this.dialogResult = proxiedChange.currentValue;
    }
  }
  _onButtonClick() {
    // Determinate the focus origin using the click event, because using the FocusMonitor will
    // result in incorrect origins. Most of the time, close buttons will be auto focused in the
    // dialog, and therefore clicking the button won't result in a focus change. This means that
    // the FocusMonitor won't detect any origin change, and will always output `program`.
    this.dialogRef.close(this.dialogResult);
  }
  static {
    this.ɵfac = function NativeDialogCloseDirective_Factory(t) {
      return new (t || NativeDialogCloseDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogService));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NativeDialogCloseDirective,
      selectors: [["", "native-dialog-close", ""], ["", "nativeDialogClose", ""]],
      hostBindings: function NativeDialogCloseDirective_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("tap", function NativeDialogCloseDirective_tap_HostBindingHandler() {
            return ctx._onButtonClick();
          });
        }
      },
      inputs: {
        dialogResult: ["native-dialog-close", "dialogResult"],
        _matDialogClose: ["nativeDialogClose", "_matDialogClose"]
      },
      exportAs: ["nativeDialogClose"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogCloseDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: '[native-dialog-close], [nativeDialogClose]',
      exportAs: 'nativeDialogClose'
    }]
  }], function () {
    return [{
      type: NativeDialogRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: NativeDialogService
    }];
  }, {
    dialogResult: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['native-dialog-close']
    }],
    _matDialogClose: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nativeDialogClose']
    }],
    _onButtonClick: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['tap']
    }]
  });
})();
/**
 * Finds the closest MatDialogRef to an element by looking at the DOM.
 * @param element Element relative to which to look for a dialog.
 * @param openDialogs References to the currently-open dialogs.
 */
function getClosestDialog(element, openDialogs) {
  let view = element.nativeElement.parent;
  while (view && !Object.hasOwnProperty.call(view, '__ng_modal_id__')) {
    view = view.parent;
  }
  return view ? openDialogs.find(dialog => dialog.id === view['__ng_modal_id__']) : null;
}
class NativeDialogModule {
  static {
    this.ɵfac = function NativeDialogModule_Factory(t) {
      return new (t || NativeDialogModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeDialogModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NativeDialogService]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NativeDialogCloseDirective],
      exports: [NativeDialogCloseDirective],
      providers: [NativeDialogService]
    }]
  }], null, null);
})();

// Allows greater flexibility with `file-system` and Angular
// Also provides a way for `file-system` to be mocked for testing
class NSFileSystem {
  currentApp() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.knownFolders.currentApp();
  }
  fileFromPath(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.fromPath(path);
  }
  fileExists(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.exists(path);
  }
  static {
    this.ɵfac = function NSFileSystem_Factory(t) {
      return new (t || NSFileSystem)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSFileSystem,
      factory: NSFileSystem.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSFileSystem, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();

/**
 * creates a DetachedLoader either linked to the ViewContainerRef or the ApplicationRef if ViewContainerRef is not defined
 * @param resolver component factory resolver
 * @param injector default injector, unused if viewContainerRef is set
 * @param viewContainerRef where the view should live in the angular tree
 * @returns reference to the DetachedLoader
 */
function generateDetachedLoader(resolver, injector, viewContainerRef) {
  injector = viewContainerRef?.injector || injector;
  const detachedFactory = resolver.resolveComponentFactory(DetachedLoader);
  const detachedLoaderRef = viewContainerRef?.createComponent(detachedFactory) || detachedFactory.create(injector);
  if (!viewContainerRef) {
    injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(detachedLoaderRef.hostView);
  }
  detachedLoaderRef.changeDetectorRef.detectChanges();
  return detachedLoaderRef;
}
/**
 * Generates a NgViewRef from a component or template. @see NgViewRef
 * Pass keepNativeViewAttached as `true` if you don't want the first native view to be detached from its parent.
 * For opening modals and others, the firstNativeLikeView should be detached.
 * @param typeOrTemplate ComponentType or TemplateRef that should be instanced
 * @param options options for creating the view
 * @returns NgViewRef
 */
function generateNativeScriptView(typeOrTemplate, options) {
  let detachedLoaderRef = options.detachedLoaderRef;
  const reusingDetachedLoader = !!detachedLoaderRef;
  if (reusingDetachedLoader) {
    options.viewContainerRef = detachedLoaderRef.instance.vc;
  }
  const injector = options.viewContainerRef?.injector || options.injector;
  const resolver = options.resolver || injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
  if (!detachedLoaderRef && (options.viewContainerRef || typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef)) {
    detachedLoaderRef = generateDetachedLoader(resolver, injector, options.viewContainerRef);
  }
  let portal;
  if (typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
    portal = new TemplatePortal(typeOrTemplate, detachedLoaderRef.instance.vc);
  } else {
    portal = new ComponentPortal(typeOrTemplate, detachedLoaderRef?.instance.vc);
  }
  const parentView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
  const portalOutlet = new NativeScriptDomPortalOutlet(parentView, resolver, injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), injector);
  const componentOrTemplateRef = portalOutlet.attach(portal);
  componentOrTemplateRef.onDestroy(() => {
    portalOutlet.dispose();
  });
  if (detachedLoaderRef && !reusingDetachedLoader) {
    componentOrTemplateRef.onDestroy(() => {
      detachedLoaderRef.destroy();
    });
  }
  const viewRef = new NgViewRef(componentOrTemplateRef);
  viewRef.detachedLoaderRef = detachedLoaderRef;
  if (!options.keepNativeViewAttached) {
    viewRef.detachNativeLikeView();
  }
  return viewRef;
}
class BaseValueAccessor {
  constructor(view) {
    this.view = view;
    this.pendingChangeNotification = 0;
    this.onChange = () => {
      //
    };
    this.onTouched = () => {
      //
    };
  }
  registerOnChange(fn) {
    this.onChange = arg => {
      if (this.pendingChangeNotification) {
        clearTimeout(this.pendingChangeNotification);
      }
      this.pendingChangeNotification = setTimeout(() => {
        this.pendingChangeNotification = 0;
        fn(arg);
      }, 20);
    };
  }
  registerOnTouched(fn) {
    this.onTouched = fn;
  }
  setDisabledState(isDisabled) {
    this.view.isEnabled = !isDisabled;
  }
  writeValue(_) {
    //
  }
  normalizeValue(value) {
    return isBlank(value) ? _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue : value;
  }
}
const TEXT_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TextValueAccessor),
  multi: true
};
/**
 * The accessor for writing a text and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TextField [(ngModel)]="model.test">
 *  ```
 */
class TextValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value ? `${value}` : value);
    this.view.text = normalized;
  }
  static {
    this.ɵfac = function TextValueAccessor_Factory(t) {
      return new (t || TextValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TextValueAccessor,
      selectors: [["TextField", "ngModel", ""], ["TextField", "formControlName", ""], ["TextField", "formControl", ""], ["textField", "ngModel", ""], ["textField", "formControlName", ""], ["textField", "formControl", ""], ["textfield", "ngModel", ""], ["textfield", "formControlName", ""], ["textfield", "formControl", ""], ["text-field", "ngModel", ""], ["text-field", "formControlName", ""], ["text-field", "formControl", ""], ["TextView", "ngModel", ""], ["TextView", "formControlName", ""], ["TextView", "formControl", ""], ["textView", "ngModel", ""], ["textView", "formControlName", ""], ["textView", "formControl", ""], ["textview", "ngModel", ""], ["textview", "formControlName", ""], ["textview", "formControl", ""], ["text-view", "ngModel", ""], ["text-view", "formControlName", ""], ["text-view", "formControl", ""], ["SearchBar", "ngModel", ""], ["SearchBar", "formControlName", ""], ["SearchBar", "formControl", ""], ["searchBar", "ngModel", ""], ["searchBar", "formControlName", ""], ["searchBar", "formControl", ""], ["searchbar", "ngModel", ""], ["searchbar", "formControlName", ""], ["searchbar", "formControl", ""], ["search-bar", "ngModel", ""], ["search-bar", "formControlName", ""], ["search-bar", "formControl", ""]],
      hostBindings: function TextValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function TextValueAccessor_blur_HostBindingHandler() {
            return ctx.onTouched();
          })("textChange", function TextValueAccessor_textChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TEXT_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TextValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TextField[ngModel],TextField[formControlName],TextField[formControl],' + 'textField[ngModel],textField[formControlName],textField[formControl],' + 'textfield[ngModel],textfield[formControlName],textfield[formControl],' + 'text-field[ngModel],text-field[formControlName],text-field[formControl],' + 'TextView[ngModel],TextView[formControlName],TextView[formControl],' + 'textView[ngModel],textView[formControlName],textView[formControl],' + 'textview[ngModel],textview[formControlName],textview[formControl],' + 'text-view[ngModel],text-view[formControlName],text-view[formControl],' + 'SearchBar[ngModel],SearchBar[formControlName],SearchBar[formControl],' + 'searchBar[ngModel],searchBar[formControlName],searchBar[formControl],' + 'searchbar[ngModel],searchbar[formControlName],searchbar[formControl],' + 'search-bar[ngModel], search-bar[formControlName],search-bar[formControl]',
      providers: [TEXT_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(blur)': 'onTouched()',
        '(textChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const CHECKED_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => CheckedValueAccessor),
  multi: true
};
/**
 * The accessor for setting a checked property and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <Switch [(ngModel)]="model.test">
 *  ```
 */
class CheckedValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.checked = normalized;
  }
  static {
    this.ɵfac = function CheckedValueAccessor_Factory(t) {
      return new (t || CheckedValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CheckedValueAccessor,
      selectors: [["Switch", "ngModel", ""], ["Switch", "formControlName", ""], ["Switch", "formControl", ""], ["switch", "ngModel", ""], ["switch", "formControlName", ""], ["switch", "formControl", ""]],
      hostBindings: function CheckedValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("checkedChange", function CheckedValueAccessor_checkedChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([CHECKED_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckedValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Switch[ngModel],Switch[formControlName],Switch[formControl],' + 'switch[ngModel],switch[formControlName],switch[formControl]',
      providers: [CHECKED_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(checkedChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const DATE_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => DateValueAccessor),
  multi: true
};
/**
 * The accessor for setting a date and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <DatePicker [(ngModel)]="model.test">
 *  ```
 */
class DateValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.date = normalized;
  }
  static {
    this.ɵfac = function DateValueAccessor_Factory(t) {
      return new (t || DateValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: DateValueAccessor,
      selectors: [["DatePicker", "ngModel", ""], ["DatePicker", "formControlName", ""], ["DatePicker", "formControl", ""], ["datepicker", "ngModel", ""], ["datepicker", "formControlName", ""], ["datepicker", "formControl", ""], ["datePicker", "ngModel", ""], ["datePicker", "formControlName", ""], ["datePicker", "formControl", ""], ["date-picker", "ngModel", ""], ["date-picker", "formControlName", ""], ["date-picker", "formControl", ""]],
      hostBindings: function DateValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("dateChange", function DateValueAccessor_dateChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([DATE_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DateValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'DatePicker[ngModel],DatePicker[formControlName],DatePicker[formControl],' + 'datepicker[ngModel],datepicker[formControlName],datepicker[formControl],' + 'datePicker[ngModel],datePicker[formControlName],datePicker[formControl],' + 'date-picker[ngModel],date-picker[formControlName],date-picker[formControl]',
      providers: [DATE_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(dateChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const TIME_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TimeValueAccessor),
  multi: true
};
/**
 * The accessor for setting a time and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TimePicker [(ngModel)]="model.test">
 *  ```
 */
class TimeValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.time = normalized;
  }
  static {
    this.ɵfac = function TimeValueAccessor_Factory(t) {
      return new (t || TimeValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TimeValueAccessor,
      selectors: [["TimePicker", "ngModel", ""], ["TimePicker", "formControlName", ""], ["TimePicker", "formControl", ""], ["timepicker", "ngModel", ""], ["timepicker", "formControlName", ""], ["timepicker", "formControl", ""], ["timePicker", "ngModel", ""], ["timePicker", "formControlName", ""], ["timePicker", "formControl", ""], ["time-picker", "ngModel", ""], ["time-picker", "formControlName", ""], ["time-picker", "formControl", ""]],
      hostBindings: function TimeValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("timeChange", function TimeValueAccessor_timeChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TIME_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TimeValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TimePicker[ngModel],TimePicker[formControlName],TimePicker[formControl],' + 'timepicker[ngModel],timepicker[formControlName],timepicker[formControl],' + 'timePicker[ngModel],timePicker[formControlName],timePicker[formControl],' + 'time-picker[ngModel],time-picker[formControlName],time-picker[formControl]',
      providers: [TIME_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(timeChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const NUMBER_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => NumberValueAccessor),
  multi: true
};
/**
 * The accessor for setting a value and listening to changes that is used by the
 * {@link NgModel}
 *
 *  ### Example
 *  ```
 *  <Slider [(ngModel)]="model.test">
 *  ```
 */
class NumberValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.value = normalized;
  }
  static {
    this.ɵfac = function NumberValueAccessor_Factory(t) {
      return new (t || NumberValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NumberValueAccessor,
      selectors: [["Slider", "ngModel", ""], ["Slider", "formControlName", ""], ["Slider", "formControl", ""], ["slider", "ngModel", ""], ["slider", "formControlName", ""], ["slider", "formControl", ""]],
      hostBindings: function NumberValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("valueChange", function NumberValueAccessor_valueChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([NUMBER_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NumberValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Slider[ngModel],Slider[formControlName],Slider[formControl],' + 'slider[ngModel],slider[formControlName],slider[formControl]',
      providers: [NUMBER_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(valueChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const SELECTED_INDEX_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => SelectedIndexValueAccessor),
  multi: true
};
/**
 * The accessor for setting a selectedIndex and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <SegmentedBar [(ngModel)]="model.test">
 *  ```
 */
class SelectedIndexValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:max-line-length directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.value = normalized;
    if (this.viewInitialized) {
      this.view.selectedIndex = this.value;
    }
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    this.view.selectedIndex = this.value;
  }
  static {
    this.ɵfac = function SelectedIndexValueAccessor_Factory(t) {
      return new (t || SelectedIndexValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: SelectedIndexValueAccessor,
      selectors: [["SegmentedBar", "ngModel", ""], ["SegmentedBar", "formControlName", ""], ["SegmentedBar", "formControl", ""], ["segmentedBar", "ngModel", ""], ["segmentedBar", "formControlName", ""], ["segmentedBar", "formControl", ""], ["segmentedbar", "ngModel", ""], ["segmentedbar", "formControlName", ""], ["segmentedbar", "formControl", ""], ["segmented-bar", "ngModel", ""], ["segmented-bar", "formControlName", ""], ["segmented-bar", "formControl", ""], ["ListPicker", "ngModel", ""], ["ListPicker", "formControlName", ""], ["ListPicker", "formControl", ""], ["listPicker", "ngModel", ""], ["listPicker", "formControlName", ""], ["listPicker", "formControl", ""], ["listpicker", "ngModel", ""], ["listpicker", "formControlName", ""], ["listpicker", "formControl", ""], ["list-picker", "ngModel", ""], ["list-picker", "formControlName", ""], ["list-picker", "formControl", ""], ["TabView", "ngModel", ""], ["TabView", "formControlName", ""], ["TabView", "formControl", ""], ["tabView", "ngModel", ""], ["tabView", "formControlName", ""], ["tabView", "formControl", ""], ["tabview", "ngModel", ""], ["tabview", "formControlName", ""], ["tabview", "formControl", ""], ["tab-view", "ngModel", ""], ["tab-view", "formControlName", ""], ["tab-view", "formControl", ""]],
      hostBindings: function SelectedIndexValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("selectedIndexChange", function SelectedIndexValueAccessor_selectedIndexChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([SELECTED_INDEX_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SelectedIndexValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'SegmentedBar[ngModel],SegmentedBar[formControlName],SegmentedBar[formControl],' + 'segmentedBar[ngModel],segmentedBar[formControlName],segmentedBar[formControl],' + 'segmentedbar[ngModel],segmentedbar[formControlName],segmentedbar[formControl],' + 'segmented-bar[ngModel],segmented-bar[formControlName],segmented-bar[formControl],' + 'ListPicker[ngModel],ListPicker[formControlName],ListPicker[formControl],' + 'listPicker[ngModel],listPicker[formControlName],listPicker[formControl],' + 'listpicker[ngModel],listpicker[formControlName],listpicker[formControl],' + 'list-picker[ngModel],list-picker[formControlName],list-picker[formControl],' + 'TabView[ngModel],TabView[formControlName],TabView[formControl],' + 'tabView[ngModel],tabView[formControlName],tabView[formControl],' + 'tabview[ngModel],tabview[formControlName],tabview[formControl],' + 'tab-view[ngModel],tab-view[formControlName],tab-view[formControl]',
      providers: [SELECTED_INDEX_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(selectedIndexChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
class NativeScriptFormsModule {
  static {
    this.ɵfac = function NativeScriptFormsModule_Factory(t) {
      return new (t || NativeScriptFormsModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptFormsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptFormsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],
      providers: [],
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule],
      exports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor]
    }]
  }], null, null);
})();
const DASH_CASE_REGEXP = /-+([a-z0-9])/g;
function dashCaseToCamelCase(input) {
  return input.replace(DASH_CASE_REGEXP, (...m) => m[1].toUpperCase());
}
function createKeyframeAnimation(styles, duration, delay, easing) {
  const info = createKeyframeAnimationInfo(styles, duration, delay, easing);
  return _nativescript_core__WEBPACK_IMPORTED_MODULE_58__.KeyframeAnimation.keyframeAnimationFromInfo(info);
}
const createKeyframeAnimationInfo = (styles, duration, delay, easing) => ({
  isForwards: true,
  duration: duration || 0.01,
  delay,
  curve: getCurve(easing),
  keyframes: styles.map(parseAnimationKeyframe)
});
const getCurve = value => (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_59__.animationTimingFunctionConverter)(value);
const parseAnimationKeyframe = styles => ({
  duration: getKeyframeDuration(styles),
  declarations: getDeclarations(styles)
});
const getKeyframeDuration = styles => styles.offset;
function getDeclarations(styles) {
  const keys = Array.from(styles.keys());
  const unparsedDeclarations = keys.map(property => ({
    property,
    value: styles.get(property)
  }));
  return (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_60__.parseKeyframeDeclarations)(unparsedDeclarations);
}
class NativeScriptAnimationPlayer {
  constructor(target, keyframes, duration, delay, easing) {
    this.target = target;
    this.duration = duration;
    this.delay = delay;
    this.parentPlayer = null;
    this._startSubscriptions = [];
    this._doneSubscriptions = [];
    this._finished = false;
    this._started = false;
    this.initKeyframeAnimation(keyframes, duration, delay, easing);
  }
  get totalTime() {
    return this.delay + this.duration;
  }
  init() {}
  hasStarted() {
    return this._started;
  }
  onStart(fn) {
    this._startSubscriptions.push(fn);
  }
  onDone(fn) {
    this._doneSubscriptions.push(fn);
  }
  onDestroy(fn) {
    this._doneSubscriptions.push(fn);
  }
  play() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.play`);
    }
    if (!this.animation) {
      return;
    }
    if (!this._started) {
      this._started = true;
      this._startSubscriptions.forEach(fn => fn());
      this._startSubscriptions = [];
    }
    // When this issue https://github.com/NativeScript/NativeScript/issues/7984 is fixes in @nativescript/core
    // we can change this fix and apply the one that is recommended in that issue.
    if (this.target.isLoaded) {
      this.playAnimation();
    } else {
      this.target.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded.bind(this));
    }
  }
  onTargetLoaded(args) {
    this.target.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded);
    this.playAnimation();
  }
  playAnimation() {
    this.animation.play(this.target).then(() => this.onFinish()).catch(_e => {});
  }
  pause() {}
  finish() {
    this.onFinish();
  }
  reset() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.reset`);
    }
    if (this.animation && this.animation.isPlaying) {
      this.animation.cancel();
    }
  }
  restart() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.restart`);
    }
    this.reset();
    this.play();
  }
  destroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.destroy`);
    }
    this.onFinish();
  }
  setPosition(_p) {
    throw new Error('AnimationPlayer.setPosition method is not supported!');
  }
  getPosition() {
    return 0;
  }
  initKeyframeAnimation(keyframes, duration, delay, easing) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.initKeyframeAnimation`);
    }
    this.animation = createKeyframeAnimation(keyframes, duration, delay, easing);
  }
  onFinish() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.onFinish`);
    }
    if (this._finished) {
      return;
    }
    this._finished = true;
    this._started = false;
    this._doneSubscriptions.forEach(fn => fn());
    this._doneSubscriptions = [];
  }
}
class Selector {
  constructor(rawSelector) {
    this.parse(rawSelector);
  }
  match(element) {
    return this.nsSelectorMatch(element) || this.classSelectorsMatch(element);
  }
  parse(rawSelector) {
    const selectors = rawSelector.split(',').map(s => s.trim());
    this.nsSelectors = selectors.map(_nativescript_core__WEBPACK_IMPORTED_MODULE_61__.CSSHelper.createSelector);
    this.classSelectors = selectors.filter(s => s.startsWith('.')).map(s => s.substring(1));
  }
  nsSelectorMatch(element) {
    return this.nsSelectors.some(s => s.match(element));
  }
  classSelectorsMatch(element) {
    return this.classSelectors.some(s => this.hasClass(element, s));
  }
  // we're using that instead of match for classes
  // that are dynamically added by the animation engine
  // such as .ng-trigger, that's added for every :enter view
  hasClass(element, cls) {
    return element && element['$$classes'] && element['$$classes'][cls];
  }
}
class NativeScriptAnimationDriver {
  static {
    this.validProperties = [..._nativescript_core__WEBPACK_IMPORTED_MODULE_45__.CssAnimationProperty._getPropertyNames(), 'transform'];
  }
  getParentElement(element) {
    return element?.parent;
  }
  validateStyleProperty(property) {
    NativeScriptDebug.animationsLog(`CssAnimationProperty.validateStyleProperty: ${property}`);
    return NativeScriptAnimationDriver.validProperties.indexOf(property) !== -1;
  }
  matchesElement(element, rawSelector) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.matchesElement ` + `element: ${element}, selector: ${rawSelector}`);
    const selector = this.makeSelector(rawSelector);
    return selector.match(element);
  }
  containsElement(elm1, elm2) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.containsElement ` + `element1: ${elm1}, element2: ${elm2}`);
    // Checking if the parent is our fake body object
    if (elm1['isOverride']) {
      return true;
    }
    const params = {
      originalView: elm2
    };
    const result = this.visitDescendants(elm1, viewMatches, params);
    return result.found;
  }
  query(element, rawSelector, multi) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.query ` + `element: ${element}, selector: ${rawSelector} ` + `multi: ${multi}`);
    const selector = this.makeSelector(rawSelector);
    const params = {
      selector,
      multi
    };
    const result = this.visitDescendants(element, queryDescendants, params);
    return result.matches || [];
  }
  computeStyle(element, prop) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.computeStyle ` + `element: ${element}, prop: ${prop}`);
    const camelCaseProp = dashCaseToCamelCase(prop);
    return element.style[camelCaseProp];
  }
  animate(element, keyframes, duration, delay, easing) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.animate ` + `element: ${element}, keyframes: ${keyframes} ` + `duration: ${duration}, delay: ${delay} ` + `easing: ${easing}`);
    return new NativeScriptAnimationPlayer(element, keyframes, duration, delay, easing);
  }
  makeSelector(rawSelector) {
    return new Selector(rawSelector);
  }
  visitDescendants(element, cb, cbParams) {
    const result = {};
    // fill the result obj with the result from the callback function
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.eachDescendant)(element, child => cb(child, result, cbParams));
    return result;
  }
}
function viewMatches(element, result, params) {
  if (element === params.originalView) {
    result.found = true;
  }
  return !result.found;
}
function queryDescendants(element, result, params) {
  if (!result.matches) {
    result.matches = [];
  }
  const {
    selector,
    multi
  } = params;
  // skip comment and text nodes
  // because they are not actual Views
  // and cannot be animated
  if (element instanceof InvisibleNode || !selector.match(element)) {
    return true;
  }
  if (element instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    element.eachChild(child => {
      result.matches.push(child);
      return true;
    });
  } else {
    result.matches.push(element);
  }
  return multi;
}
class InjectableAnimationEngine extends _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"] {
  constructor(doc, driver, normalizer) {
    super(doc.body, driver, normalizer);
  }
  static {
    this.ɵfac = function InjectableAnimationEngine_Factory(t) {
      return new (t || InjectableAnimationEngine)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: InjectableAnimationEngine,
      factory: InjectableAnimationEngine.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](InjectableAnimationEngine, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT]
      }]
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]
    }];
  }, null);
})();
function instantiateSupportedAnimationDriver() {
  return new NativeScriptAnimationDriver();
}
function instantiateRendererFactory(renderer, engine, zone) {
  return new _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵAnimationRendererFactory"](renderer, engine, zone);
}
function instantiateDefaultStyleNormalizer() {
  return new _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵWebAnimationsStyleNormalizer"]();
}
class NativeScriptAnimationsModule {
  constructor(parentModule) {
    // Prevents NativeScriptAnimationsModule from getting imported multiple times
    throwIfAlreadyLoaded(parentModule, 'NativeScriptAnimationsModule');
  }
  static {
    this.ɵfac = function NativeScriptAnimationsModule_Factory(t) {
      return new (t || NativeScriptAnimationsModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptAnimationsModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptAnimationsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_64__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]
      }],
      imports: [NativeScriptCommonModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptAnimationsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [NativeScriptCommonModule],
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_64__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]
      }]
    }]
  }], function () {
    return [{
      type: NativeScriptAnimationsModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }];
  }, null);
})();
function isLocalRequest(url) {
  return url.indexOf('~') === 0 || url.indexOf('/') === 0;
}
function getAbsolutePath(url, nsFileSystem) {
  url = url.replace('~', '').replace('/', '');
  url = _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.path.join(nsFileSystem.currentApp().path, url);
  return url;
}
function processLocalFileRequest(url, nsFileSystem, successResponse, errorResponse) {
  url = getAbsolutePath(url, nsFileSystem);
  // request from local app resources
  return new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(observer => {
    if (nsFileSystem.fileExists(url)) {
      const localFile = nsFileSystem.fileFromPath(url);
      localFile.readText().then(data => {
        try {
          const json = JSON.parse(data);
          observer.next(successResponse(url, json, 200));
          observer.complete();
        } catch (error) {
          // Even though the response status was 2xx, this is still an error.
          // The parse error contains the text of the body that failed to parse.
          const errorResult = {
            error,
            text: data
          };
          observer.error(errorResponse(url, errorResult, 200));
        }
      }, err => {
        observer.error(errorResponse(url, err, 400));
      });
    } else {
      observer.error(errorResponse(url, 'Not Found', 404));
    }
  });
}
class NsHttpBackEnd extends _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpXhrBackend {
  constructor(xhrFactory, nsFileSystem) {
    super(xhrFactory);
    this.nsFileSystem = nsFileSystem;
  }
  handle(req) {
    let result;
    if (isLocalRequest(req.url)) {
      result = this.handleLocalFileRequest(req.url);
    } else {
      result = super.handle(req);
    }
    return result;
  }
  handleLocalFileRequest(url) {
    return processLocalFileRequest(url, this.nsFileSystem, createSuccessResponse, createErrorResponse);
  }
  static {
    this.ɵfac = function NsHttpBackEnd_Factory(t) {
      return new (t || NsHttpBackEnd)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSFileSystem));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NsHttpBackEnd,
      factory: NsHttpBackEnd.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NsHttpBackEnd, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory
    }, {
      type: NSFileSystem
    }];
  }, null);
})();
function createSuccessResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpResponse({
    url,
    body,
    status,
    statusText: 'OK'
  });
}
function createErrorResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpErrorResponse({
    url,
    error: body,
    status,
    statusText: 'ERROR'
  });
}
class NativeScriptHttpClientModule {
  static {
    this.ɵfac = function NativeScriptHttpClientModule_Factory(t) {
      return new (t || NativeScriptHttpClientModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptHttpClientModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptHttpClientModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule],
      exports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule]
    }]
  }], null, null);
})();

/**
 * There are cases where multiple activatedRoute nodes should be associated/handled by the same PageRouterOutlet.
 * We can gat additional ActivatedRoutes nodes when there is:
 *  - Lazy loading - there is an additional ActivatedRoute node for the RouteConfig with the `loadChildren` setup
 *  - Componentless routes - there is an additional ActivatedRoute node for the componentless RouteConfig
 *
 * Example:
 *   R  <-- root
 *   |
 * feature (lazy module) <-- RouteConfig: { path: "lazy", loadChildren: "./feature/feature.module#FeatureModule" }
 *   |
 * module (componentless route) <-- RouteConfig: { path: "module", children: [...] } // Note: No 'component'
 *   |
 *  home <-- RouteConfig: { path: "module", component: MyComponent } - this is what we get as activatedRoute param
 *
 *  In these cases we will mark the top-most node (feature). NSRouteReuseStrategy will detach the tree there and
 *  use this ActivateRoute as a kay for caching.
 */
function findTopActivatedRouteNodeForOutlet(activatedRoute) {
  // TODO: test this and figure it out if it's really no longer needed
  return activatedRoute;
  // let outletActivatedRoute = activatedRoute;
  // while (outletActivatedRoute.parent && outletActivatedRoute.parent.routeConfig && !outletActivatedRoute.parent.routeConfig.component) {
  //   outletActivatedRoute = outletActivatedRoute.parent;
  // }
  // return outletActivatedRoute;
}

const pageRouterActivatedSymbol = Symbol('page-router-activated');
const loaderRefSymbol = Symbol('loader-ref');
function destroyComponentRef(componentRef) {
  if (componentRef) {
    const loaderRef = componentRef[loaderRefSymbol];
    if (loaderRef) {
      loaderRef.destroy();
    }
    componentRef.destroy();
  }
}
const getSnapshotKey = function (snapshot) {
  return snapshot.pathFromRoot.join('->');
};
/**
 * Detached state cache
 */
class DetachedStateCache {
  constructor() {
    this.cache = new Array();
  }
  get length() {
    return this.cache.length;
  }
  push(cacheItem) {
    this.cache.push(cacheItem);
  }
  pop() {
    return this.cache.pop();
  }
  peek() {
    return this.cache[this.cache.length - 1];
  }
  clear() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clear() ${this.cache.length} items will be destroyed`);
    }
    while (this.cache.length > 0) {
      const state = this.cache.pop().state;
      if (!state.componentRef) {
        throw new Error('No componentRef found in DetachedRouteHandle');
      }
      destroyComponentRef(state.componentRef);
    }
  }
  markCurrentForClear() {
    for (const item of this.cache) {
      item.markedForDeletion = true;
    }
  }
  clearMarked() {
    // try to preserve same order as .clear()
    for (let i = this.cache.length - 1; i >= 0; i--) {
      const cacheItem = this.cache[i];
      if (cacheItem.markedForDeletion) {
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        this.cache.splice(i, 1);
      }
    }
  }
  clearModalCache() {
    let removedItemsCount = 0;
    const hasModalPages = this.cache.some(cacheItem => {
      return cacheItem.isModal;
    });
    if (hasModalPages) {
      let modalCacheCleared = false;
      while (!modalCacheCleared) {
        const cacheItem = this.peek();
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        if (cacheItem.isModal) {
          modalCacheCleared = true;
        }
        this.pop();
        removedItemsCount++;
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clearModalCache() ${removedItemsCount} items will be destroyed`);
    }
  }
}
/**
 * Detaches subtrees loaded inside PageRouterOutlet in forward navigation
 * and reattaches them on back.
 * Reuses routes as long as their route config is the same.
 */
class NSRouteReuseStrategy {
  constructor(location) {
    this.location = location;
    this.cacheByOutlet = {};
  }
  shouldDetach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet
    } = this.findValidOutletAndKey(route);
    const key = getSnapshotKey(route);
    let isPageActivated = false;
    let tmp = route;
    while (!(isPageActivated = tmp[pageRouterActivatedSymbol]) && tmp.parent) {
      tmp = tmp.parent;
    }
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    let shouldDetach = outlet && !isBack && isPageActivated;
    if (outlet) {
      if (outlet.parent && !outlet.parent.shouldDetach) {
        shouldDetach = false;
      }
      outlet.shouldDetach = shouldDetach;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldDetach isBack: ${isBack} key: ${key} result: ${shouldDetach}`);
    }
    return shouldDetach;
  }
  findValidOutletAndKey(targetRoute) {
    let route = targetRoute;
    const routeOutletKey = this.location.getRouteFullPath(route);
    let outletKey = routeOutletKey;
    let outlet = this.location.findOutlet(outletKey, route);
    while (!outlet) {
      if (!route.parent) {
        return {
          outlet: null,
          outletKey: routeOutletKey
        };
      }
      route = route.parent;
      outletKey = this.location.getRouteFullPath(route);
      outlet = this.location.findOutlet(outletKey, route);
    }
    if (outlet) {
      while (!outlet.outletKeys.includes(outletKey)) {
        if (!route.parent) {
          NativeScriptDebug.routeReuseStrategyLog(`Could not find valid outlet key for route: ${targetRoute}.`);
          return {
            outlet,
            outletKey: routeOutletKey
          };
        }
        route = route.parent;
        outletKey = this.location.getRouteFullPath(route);
      }
    }
    return {
      outlet,
      outletKey
    };
  }
  shouldAttach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return false;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const shouldAttach = isBack && cache.peek()?.key === key;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldAttach isBack: ${isBack} key: ${key} result: ${shouldAttach}`);
    }
    if (outlet) {
      outlet.shouldDetach = true;
    }
    return shouldAttach;
  }
  store(route, state) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const key = getSnapshotKey(route);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`store key: ${key}, state: ${state}`);
    }
    const {
      outletKey
    } = this.findValidOutletAndKey(route);
    // tslint:disable-next-line:max-line-length
    const cache = this.cacheByOutlet[outletKey] = this.cacheByOutlet[outletKey] || new DetachedStateCache();
    if (state) {
      let isModal = false;
      if (this.location._modalNavigationDepth > 0) {
        isModal = true;
      }
      cache.push({
        key,
        state,
        isModal
      });
    } else {
      const topItem = cache.peek();
      if (topItem.key === key) {
        cache.pop();
        if (!cache.length) {
          delete this.cacheByOutlet[outletKey];
        }
      } else {
        throw new Error("Trying to pop from DetachedStateCache but keys don't match. " + `expected: ${topItem.key} actual: ${key}`);
      }
    }
  }
  retrieve(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return null;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const cachedItem = cache.peek();
    let state = null;
    if (isBack && cachedItem && cachedItem.key === key) {
      state = cachedItem.state;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`retrieved isBack: ${isBack} key: ${key} state: ${state}`);
    }
    return state;
  }
  shouldReuseRoute(future, curr) {
    const shouldReuse = future.routeConfig === curr.routeConfig;
    if (shouldReuse && curr && curr[pageRouterActivatedSymbol]) {
      // When reusing route - copy the pageRouterActivated to the new snapshot
      // It's needed in shouldDetach to determine if the route should be detached.
      future[pageRouterActivatedSymbol] = curr[pageRouterActivatedSymbol];
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldReuseRoute result: ${shouldReuse}`);
    }
    return shouldReuse;
  }
  clearCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clear();
    }
  }
  markCacheForClear(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.markCurrentForClear();
    }
  }
  popCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      if (cache.peek()) {
        const state = cache.pop()?.state;
        if (state?.componentRef) {
          destroyComponentRef(state?.componentRef);
        }
      }
    }
  }
  markCacheForPop(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      const item = cache.peek();
      if (item) {
        item.markedForDeletion = true;
      }
    }
  }
  clearMarkedCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearMarked();
    }
  }
  clearModalCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearModalCache();
    }
  }
  static {
    this.ɵfac = function NSRouteReuseStrategy_Factory(t) {
      return new (t || NSRouteReuseStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSRouteReuseStrategy,
      factory: NSRouteReuseStrategy.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouteReuseStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class RouterExtensions {
  constructor(router, locationStrategy, frameService) {
    this.router = router;
    this.locationStrategy = locationStrategy;
    this.frameService = frameService;
  }
  navigate(commands, extras) {
    return this.router.navigate(commands, extras);
  }
  navigateByUrl(url, options) {
    return this.router.navigateByUrl(url, options);
  }
  back(backNavigationOptions) {
    if (backNavigationOptions) {
      this.backOutlets(backNavigationOptions);
    } else {
      this.locationStrategy.back();
    }
  }
  canGoBack(backNavigationOptions) {
    let canGoBack = true;
    if (backNavigationOptions) {
      const {
        outletsToBack,
        outlets
      } = this.findOutletsToBack(backNavigationOptions);
      if (outletsToBack.length !== outlets.length) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      } else {
        outletsToBack.forEach(outletToBack => {
          if (!this.locationStrategy.canGoBack(outletToBack)) {
            canGoBack = false;
          }
        });
      }
    } else {
      canGoBack = this.locationStrategy.canGoBack();
    }
    return canGoBack;
  }
  backToPreviousPage() {
    this.frameService.getFrame().goBack();
  }
  canGoBackToPreviousPage() {
    return this.frameService.getFrame().canGoBack();
  }
  backOutlets(options) {
    const {
      outletsToBack,
      outlets
    } = this.findOutletsToBack(options);
    if (outletsToBack.length !== outlets.length) {
      NativeScriptDebug.routerError('No outlet found relative to activated route');
    } else {
      outletsToBack.forEach(outletToBack => {
        if (outletToBack.isPageNavigationBack) {
          NativeScriptDebug.routerError('Attempted to call startGoBack while going back:');
        } else {
          this.locationStrategy.back(outletToBack);
        }
      });
    }
  }
  // tslint:disable-next-line:max-line-length
  findOutletsToBack(options) {
    const rootRoute = this.router.routerState.root;
    let outlets = options.outlets;
    let relativeRoute = options.relativeTo || rootRoute;
    const relativeRouteOutlet = this.findOutletByRoute(relativeRoute);
    const isNSEmptyOutlet = relativeRouteOutlet && relativeRouteOutlet.isNSEmptyOutlet;
    // Lazy named outlet has added 'primary' inner NSEmptyOutlet child.
    // Take parent route when `relativeTo` option points to the outer named outlet.
    if (isNSEmptyOutlet && relativeRoute.outlet !== 'primary') {
      relativeRoute = relativeRoute.parent || relativeRoute;
    }
    outlets = outlets || [relativeRoute.outlet];
    const outletsToBack = this.findOutletsRecursive([...outlets], relativeRoute);
    return {
      outletsToBack: outletsToBack,
      outlets: outlets
    };
  }
  // warning, outlets is mutable!
  findOutletsRecursive(outlets, route) {
    if (!route || outlets.length === 0) {
      return [];
    }
    const outletsToBack = [];
    if (outlets.some(currentOutlet => currentOutlet === route.outlet)) {
      const outlet = this.findOutletByRoute(route);
      if (outlet) {
        outlets.splice(outlets.indexOf(route.outlet), 1);
        outletsToBack.push(outlet);
      }
    }
    if (!route.children) {
      return outletsToBack;
    }
    for (let index = 0; index < route.children.length; index++) {
      if (outlets.length === 0) {
        break;
      }
      const currentRoute = route.children[index];
      outletsToBack.push(...this.findOutletsRecursive(outlets, currentRoute));
    }
    return outletsToBack;
  }
  findOutletByRoute(currentRoute) {
    const currentRouteSnapshop = findTopActivatedRouteNodeForOutlet(currentRoute.snapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(currentRouteSnapshop);
    const outlet = this.locationStrategy.findOutlet(outletKey, currentRouteSnapshop);
    return outlet;
  }
  static {
    this.ɵfac = function RouterExtensions_Factory(t) {
      return new (t || RouterExtensions)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: RouterExtensions,
      factory: RouterExtensions.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RouterExtensions, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: NSLocationStrategy
    }, {
      type: FrameService
    }];
  }, null);
})();

/**
 * The nsRouterLink directive lets you link to specific parts of your app.
 *
 * Consider the following route configuration:
 * ```
 * [{ path: "/user", component: UserCmp }]
 * ```
 *
 * When linking to this `User` route, you can write:
 *
 * ```
 * <a [nsRouterLink]="["/user"]">link to user component</a>
 * ```
 *
 * NSRouterLink expects the value to be an array of path segments, followed by the params
 * for that level of routing. For instance `["/team", {teamId: 1}, "user", {userId: 2}]`
 * means that we want to generate a link to `/team;teamId=1/user;userId=2`.
 *
 * The first segment name can be prepended with `/`, `./`, or `../`.
 * If the segment begins with `/`, the router will look up the route from the root of the app.
 * If the segment begins with `./`, or doesn"t begin with a slash, the router will
 * instead look in the current component"s children for the route.
 * And if the segment begins with `../`, the router will go up one level.
 */
class NSRouterLink {
  constructor(ngZone, router, navigator, route, el) {
    this.ngZone = ngZone;
    this.router = router;
    this.navigator = navigator;
    this.route = route;
    this.el = el;
    this.pageTransition = true;
    this.commands = [];
  }
  ngAfterViewInit() {
    this.el.nativeElement.on('tap', () => {
      this.ngZone.run(() => {
        this.onTap();
      });
    });
  }
  set params(data) {
    if (Array.isArray(data)) {
      this.commands = data;
    } else {
      this.commands = [data];
    }
  }
  onTap() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink.tapped: ${this.commands} ` + `clear: ${this.clearHistory} ` + `transition: ${JSON.stringify(this.pageTransition)} ` + `duration: ${this.pageTransitionDuration}`);
    }
    const extras = this.getExtras();
    // this.navigator.navigateByUrl(this.urlTree, extras);
    this.navigator.navigate(this.commands, {
      ...extras,
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
  }
  getExtras() {
    const transition = this.getTransition();
    return {
      skipLocationChange: attrBoolValue(this.skipLocationChange),
      replaceUrl: attrBoolValue(this.replaceUrl),
      clearHistory: this.convertClearHistory(this.clearHistory),
      animated: transition.animated,
      transition: transition.transition
    };
  }
  get urlTree() {
    const urlTree = this.router.createUrlTree(this.commands, {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink urlTree created: ${urlTree}`);
    }
    return urlTree;
  }
  convertClearHistory(value) {
    return value === true || value === 'true';
  }
  getTransition() {
    let transition;
    let animated;
    if (typeof this.pageTransition === 'boolean') {
      animated = this.pageTransition;
    } else if (typeof this.pageTransition === 'string') {
      if (this.pageTransition === 'none' || this.pageTransition === 'false') {
        animated = false;
      } else {
        animated = true;
        transition = {
          name: this.pageTransition
        };
      }
    } else {
      animated = true;
      transition = this.pageTransition;
    }
    const duration = +this.pageTransitionDuration;
    if (!isNaN(duration)) {
      transition = transition || {};
      transition.duration = duration;
    }
    return {
      animated,
      transition
    };
  }
  static {
    this.ɵfac = function NSRouterLink_Factory(t) {
      return new (t || NSRouterLink)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](RouterExtensions), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLink,
      selectors: [["", "nsRouterLink", ""]],
      inputs: {
        target: "target",
        queryParams: "queryParams",
        fragment: "fragment",
        queryParamsHandling: "queryParamsHandling",
        preserveQueryParams: "preserveQueryParams",
        preserveFragment: "preserveFragment",
        skipLocationChange: "skipLocationChange",
        replaceUrl: "replaceUrl",
        clearHistory: "clearHistory",
        pageTransition: "pageTransition",
        pageTransitionDuration: "pageTransitionDuration",
        params: ["nsRouterLink", "params"]
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLink, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLink]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: RouterExtensions
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    target: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    fragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParamsHandling: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveQueryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveFragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    skipLocationChange: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    replaceUrl: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    clearHistory: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransition: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransitionDuration: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    params: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nsRouterLink']
    }]
  });
})();
function attrBoolValue(s) {
  return s === '' || !!s;
}

/* tslint:disable:forin */
function containsTree(container, containee, exact) {
  if (exact) {
    return equalSegmentGroups(container.root, containee.root);
  } else {
    return containsSegmentGroup(container.root, containee.root);
  }
}
function equalSegmentGroups(container, containee) {
  if (!equalPath(container.segments, containee.segments)) {
    return false;
  }
  if (container.numberOfChildren !== containee.numberOfChildren) {
    return false;
  }
  for (const c in containee.children) {
    if (!container.children[c]) {
      return false;
    }
    if (!equalSegmentGroups(container.children[c], containee.children[c])) {
      return false;
    }
  }
  return true;
}
function containsSegmentGroup(container, containee) {
  return containsSegmentGroupHelper(container, containee, containee.segments);
}
function containsSegmentGroupHelper(container, containee, containeePaths) {
  if (container.segments.length > containeePaths.length) {
    const current = container.segments.slice(0, containeePaths.length);
    if (!equalPath(current, containeePaths)) {
      return false;
    }
    if (containee.hasChildren()) {
      return false;
    }
    return true;
  } else if (container.segments.length === containeePaths.length) {
    if (!equalPath(container.segments, containeePaths)) {
      return false;
    }
    for (const c in containee.children) {
      if (!container.children[c]) {
        return false;
      }
      if (!containsSegmentGroup(container.children[c], containee.children[c])) {
        return false;
      }
    }
    return true;
  } else {
    const current = containeePaths.slice(0, container.segments.length);
    const next = containeePaths.slice(container.segments.length);
    if (!equalPath(container.segments, current)) {
      return false;
    }
    if (!container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET]) {
      return false;
    }
    return containsSegmentGroupHelper(container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET], containee, next);
  }
}
function equalPath(a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i].path !== b[i].path) {
      return false;
    }
  }
  return true;
}

/**
 * The NSRouterLinkActive directive lets you add a CSS class to an element when the link"s route
 * becomes active.
 *
 * Consider the following example:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link">Bob</a>
 * ```
 *
 * When the url is either "/user" or "/user/bob", the active-link class will
 * be added to the component. If the url changes, the class will be removed.
 *
 * You can set more than one class, as follows:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="class1 class2">Bob</a>
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="["class1", "class2"]">Bob</a>
 * ```
 *
 * You can configure NSRouterLinkActive by passing `exact: true`. This will add the
 * classes only when the url matches the link exactly.
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link"
 * [nsRouterLinkActiveOptions]="{exact: true}">Bob</a>
 * ```
 *
 * Finally, you can apply the NSRouterLinkActive directive to an ancestor of a RouterLink.
 *
 * ```
 * <div [nsRouterLinkActive]="active-link" [nsRouterLinkActiveOptions]="{exact: true}">
 *   <a [nsRouterLink]="/user/jim">Jim</a>
 *   <a [nsRouterLink]="/user/bob">Bob</a>
 * </div>
 * ```
 *
 * This will set the active-link class on the div tag if the url is either "/user/jim" or
 * "/user/bob".
 *
 * @stable
 */
class NSRouterLinkActive {
  constructor(router, element, renderer) {
    this.router = router;
    this.element = element;
    this.renderer = renderer;
    this.classes = [];
    this.active = false;
    this.nsRouterLinkActiveOptions = {
      exact: false
    };
    this.subscription = router.events.subscribe(s => {
      if (s instanceof _angular_router__WEBPACK_IMPORTED_MODULE_52__.NavigationEnd) {
        this.update();
      }
    });
  }
  get isActive() {
    return this.active;
  }
  ngAfterContentInit() {
    this.links.changes.subscribe(() => this.update());
    this.update();
  }
  set nsRouterLinkActive(data) {
    if (Array.isArray(data)) {
      this.classes = data;
    } else {
      this.classes = data.split(' ');
    }
  }
  ngOnChanges() {
    this.update();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
  update() {
    if (!this.links) {
      return;
    }
    const hasActiveLinks = this.hasActiveLinks();
    // react only when status has changed to prevent unnecessary dom updates
    if (this.active !== hasActiveLinks) {
      const currentUrlTree = this.router.parseUrl(this.router.url);
      const isActiveLinks = this.reduceList(currentUrlTree, this.links);
      this.classes.forEach(c => {
        if (isActiveLinks) {
          this.renderer.addClass(this.element.nativeElement, c);
        } else {
          this.renderer.removeClass(this.element.nativeElement, c);
        }
      });
    }
    Promise.resolve(hasActiveLinks).then(active => this.active = active);
  }
  reduceList(currentUrlTree, q) {
    return q.reduce((res, link) => {
      return res || containsTree(currentUrlTree, link.urlTree, this.nsRouterLinkActiveOptions.exact);
    }, false);
  }
  isLinkActive(router) {
    return link => router.isActive(link.urlTree, this.nsRouterLinkActiveOptions.exact);
  }
  hasActiveLinks() {
    return this.links.some(this.isLinkActive(this.router));
  }
  static {
    this.ɵfac = function NSRouterLinkActive_Factory(t) {
      return new (t || NSRouterLinkActive)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLinkActive,
      selectors: [["", "nsRouterLinkActive", ""]],
      contentQueries: function NSRouterLinkActive_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, NSRouterLink, 4);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.links = _t);
        }
      },
      inputs: {
        nsRouterLinkActiveOptions: "nsRouterLinkActiveOptions",
        nsRouterLinkActive: "nsRouterLinkActive"
      },
      exportAs: ["routerLinkActive"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLinkActive, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLinkActive]',
      exportAs: 'routerLinkActive'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    links: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChildren,
      args: [NSRouterLink]
    }],
    nsRouterLinkActiveOptions: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsRouterLinkActive: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class PageRoute {
  constructor(startRoute) {
    this.activatedRoute = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(startRoute);
  }
}
function isComponentFactoryResolver(item) {
  return !!item.resolveComponentFactory;
}
function callableOnce(fn) {
  let called = false;
  return (...args) => {
    if (called) {
      return;
    }
    called = true;
    return fn(...args);
  };
}
class DestructibleInjector {
  constructor(destructibleProviders, parent) {
    this.destructibleProviders = destructibleProviders;
    this.parent = parent;
    this.refs = new Set();
  }
  get(token, notFoundValue, flags) {
    const ref = this.parent.get(token, notFoundValue, flags);
    // if we're skipping ourselves then it's not our responsibility to destroy
    if (typeof flags === 'number') {
      if (!(flags & _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectFlags.SkipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    } else {
      if (!flags?.skipSelf && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    }
    return ref;
  }
  destroy() {
    this.refs.forEach(ref => {
      if (ref.ngOnDestroy instanceof Function) {
        ref.ngOnDestroy();
      }
    });
    this.refs.clear();
  }
}
const routeToString = function (activatedRoute) {
  return activatedRoute.pathFromRoot.join('->');
};
registerElement('page-router-outlet', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame);
// eslint-disable-next-line @angular-eslint/directive-selector
class PageRouterOutlet {
  /** @deprecated from Angular since v4 */
  get locationInjector() {
    return this.location.injector;
  }
  /** @deprecated from Angular since v4 */
  get locationFactoryResolver() {
    return this.resolver;
  }
  get isActivated() {
    return !!this.activated;
  }
  get component() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this.activated.instance;
  }
  get activatedRoute() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this._activatedRoute;
  }
  get activatedRouteData() {
    if (this._activatedRoute) {
      return this._activatedRoute.snapshot.data;
    }
    return {};
  }
  constructor(parentContexts, location, name, actionBarVisibility, isEmptyOutlet, locationStrategy, componentFactoryResolver, resolver, changeDetector, pageFactory, routeReuseStrategy, ngZone, router, elRef, viewUtil, environmentInjector) {
    this.parentContexts = parentContexts;
    this.location = location;
    this.locationStrategy = locationStrategy;
    this.componentFactoryResolver = componentFactoryResolver;
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.pageFactory = pageFactory;
    this.routeReuseStrategy = routeReuseStrategy;
    this.ngZone = ngZone;
    this.router = router;
    this.environmentInjector = environmentInjector;
    // tslint:disable-line:directive-class-suffix
    this.activated = null;
    this._activatedRoute = null;
    this.attachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.detachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.activateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.deactivateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    this.isEmptyOutlet = isEmptyOutlet;
    this.frame = elRef.nativeElement;
    this.setActionBarVisibility(actionBarVisibility);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.constructor frame: ${this.frame}`);
    }
    this.name = name || _angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET;
    parentContexts.onChildOutletCreated(this.name, this);
    this.viewUtil = viewUtil;
    this.detachedLoaderFactory = resolver.resolveComponentFactory(DetachedLoader);
  }
  setActionBarVisibility(actionBarVisibility) {
    switch (actionBarVisibility) {
      case 'always':
      case 'never':
        this.frame.actionBarVisibility = actionBarVisibility;
        return;
      default:
        this.frame.actionBarVisibility = 'auto';
    }
  }
  ngOnDestroy() {
    // In the event that the `parentContexts` has changed the outlet
    // via the creation of another outlet, the `onChildOutletDestroyed`
    // will be skipped
    if (this.parentContexts.getContext(this.name)?.outlet === this) {
      // Clear accumulated modal view page cache when page-router-outlet
      // destroyed on modal view closing
      this.parentContexts.onChildOutletDestroyed(this.name);
    }
    if (this.outlet) {
      this.outlet.outletKeys.forEach(key => {
        this.routeReuseStrategy.clearModalCache(key);
      });
      this.locationStrategy.clearOutlet(this.frame);
    } else {
      NativeScriptDebug.routerLog('PageRouterOutlet.ngOnDestroy: no outlet available for page-router-outlet');
    }
    if (this.isActivated) {
      const c = this.activated.instance;
      this.activated.hostView.detach();
      destroyComponentRef(this.activated);
      this.deactivateEvents.emit(c);
      this.activated = null;
    }
  }
  deactivate() {
    if (!this.outlet || !this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently not in page back navigation - component should be detached instead of deactivated.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.deactivate() while going back - should destroy');
    }
    if (!this.isActivated) {
      return;
    }
    this.postNavFunction?.();
    const c = this.activated.instance;
    destroyComponentRef(this.activated);
    this.activated = null;
    this._activatedRoute = null;
    this.deactivateEvents.emit(c);
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to detach the subtree
   */
  detach() {
    if (!this.isActivated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.detach() - ${routeToString(this._activatedRoute)}`);
    }
    this.postNavFunction?.();
    // Detach from ChangeDetection
    this.activated.hostView.detach();
    const component = this.activated;
    this.activated = null;
    this._activatedRoute = null;
    this.detachEvents.emit(component.instance);
    return component;
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree
   */
  attach(ref, activatedRoute) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.attach() - ${routeToString(activatedRoute)}`);
    }
    this.activated = ref;
    // reattach to ChangeDetection
    this.activated.hostView.markForCheck();
    this.activated.hostView.reattach();
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    // we have a child with the same name, so we don't finish the back nav
    if (this.isFinalPageRouterOutlet()) {
      this.locationStrategy._finishBackPageNavigation(this.frame);
    }
    this.attachEvents.emit(ref.instance);
  }
  isFinalPageRouterOutlet() {
    let children = this.parentContexts.getContext(this.name)?.children;
    while (children) {
      const childContext = children.getContext(this.name);
      if (!childContext || !childContext.outlet) {
        return true;
      }
      if (childContext.outlet instanceof PageRouterOutlet) {
        return false;
      }
      children = childContext.children;
    }
    return true;
  }
  /**
   * Called by the Router to instantiate a new component during the commit phase of a navigation.
   * This method in turn is responsible for calling the `routerOnActivate` hook of its child.
   */
  activateWith(activatedRoute, resolver) {
    this.outlet = this.outlet || this.getOutlet(activatedRoute.snapshot);
    if (!this.outlet) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      }
      return;
    }
    this.outlet.isNSEmptyOutlet = this.isEmptyOutlet;
    this.locationStrategy.updateOutletFrame(this.outlet, this.frame, this.isEmptyOutlet);
    if (this.outlet && this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently in page back navigation - component should be reattached instead of activated.');
      }
      if (this.isFinalPageRouterOutlet()) {
        this.locationStrategy._finishBackPageNavigation(this.frame);
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.activateWith() - ${routeToString(activatedRoute)}`);
    }
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    this.activateOnGoForward(activatedRoute, resolver || this.environmentInjector);
    this.activateEvents.emit(this.activated.instance);
  }
  activateOnGoForward(activatedRoute, resolverOrInjector) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.activate() forward navigation - ' + 'create detached loader in the loader container');
    }
    const component = this.getComponentType(activatedRoute);
    const page = this.pageFactory({
      isNavigation: true,
      componentType: component
    });
    const location = this.location;
    const destructibles = new Set([PageService]);
    const parentInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useValue: page
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useValue: this.frame
      }, {
        provide: PageRoute,
        useValue: new PageRoute(activatedRoute)
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute,
        useValue: activatedRoute
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts,
        useValue: this.parentContexts.getOrCreateContext(this.name).children
      }, {
        provide: PageService,
        useClass: PageService
      }],
      parent: location.injector
    });
    const injector = new DestructibleInjector(destructibles, parentInjector);
    let loaderRef;
    if (isComponentFactoryResolver(resolverOrInjector)) {
      const factory = resolverOrInjector.resolveComponentFactory(DetachedLoader);
      loaderRef = location.createComponent(factory, location.length, injector);
    } else {
      const environmentInjector = resolverOrInjector;
      loaderRef = location.createComponent(DetachedLoader, {
        index: location.length,
        injector,
        environmentInjector
      });
    }
    loaderRef.onDestroy(() => injector.destroy());
    this.changeDetector.markForCheck();
    this.activated = loaderRef.instance.loadComponentInLocation(component);
    this.activated.changeDetectorRef.detectChanges();
    this.loadComponentInPage(page, this.activated, {
      activatedRoute
    });
    this.activated[loaderRefSymbol] = loaderRef;
  }
  loadComponentInPage(page, componentRef, navigationContext) {
    // Component loaded. Find its root native view.
    const componentView = componentRef.location.nativeElement;
    // Remove it from original native parent.
    this.viewUtil.removeChild(componentView.parent, componentView);
    // Add it to the new page
    this.viewUtil.appendChild(page, componentView);
    let topActivatedRoute = findTopActivatedRouteNodeForOutlet(this._activatedRoute.snapshot);
    let outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    const thisRouteKey = outletKey;
    while (!this.locationStrategy.findOutlet(outletKey)) {
      topActivatedRoute = topActivatedRoute.parent;
      if (!topActivatedRoute) {
        NativeScriptDebug.routerError('Could not find outlet for route: ' + thisRouteKey);
        break;
      }
      outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    }
    const navigatedFromCallback = global.Zone.current.wrap(args => {
      if (args.isBackNavigation) {
        this.locationStrategy._beginBackPageNavigation(this.frame, outletKey);
        this.locationStrategy.back(null, this.frame);
      }
    });
    // TODO: experiment with using NgZone instead of global above
    // const navigatedFromCallback = (args: NavigatedData) => {
    // 	if (args.isBackNavigation) {
    //     this.ngZone.run(() => {
    //       this.locationStrategy._beginBackPageNavigation(this.frame);
    //       this.locationStrategy.back(null, this.frame);
    //     });
    // 	}
    // };
    page.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
    componentRef.onDestroy(() => {
      if (page) {
        page.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
        page = null;
      }
    });
    const navOptions = {
      ...defaultNavOptions,
      ...(this.router.getCurrentNavigation().extras || {})
    };
    this.locationStrategy._beginPageNavigation(this.frame, navOptions);
    const isReplace = navOptions.replaceUrl && !navOptions.clearHistory;
    const currentRoute = this.activatedRoute;
    // Clear refCache if navigation with clearHistory
    if (navOptions.clearHistory) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForClear(key));
      const wipeCache = callableOnce(() => {
        if (this.postNavFunction === wipeCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.clearCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = wipeCache;
      const clearCallback = () => setTimeout(() => {
        wipeCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    } else if (navOptions.replaceUrl) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForPop(key));
      const popCache = callableOnce(() => {
        if (this.postNavFunction === popCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.popCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = popCache;
      const clearCallback = () => setTimeout(() => {
        popCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    }
    const navigationEntry = {
      create() {
        return page;
      },
      context: navigationContext,
      clearHistory: navOptions.clearHistory,
      animated: navOptions.animated,
      transition: navOptions.transition
    };
    if (isReplace && this.frame.currentPage) {
      this.frame.replacePage(navigationEntry);
    } else {
      this.frame.navigate(navigationEntry);
    }
  }
  // Find and mark the top activated route as an activated one.
  // In ns-location-strategy we are reusing components only if their corresponing routes
  // are marked as activated from this method.
  markActivatedRoute(activatedRoute) {
    const queue = [];
    queue.push(activatedRoute.snapshot);
    let currentRoute = queue.shift();
    while (currentRoute) {
      currentRoute.children.forEach(childRoute => {
        queue.push(childRoute);
      });
      const topActivatedRoute = findTopActivatedRouteNodeForOutlet(currentRoute);
      const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
      const outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
      if (outlet && outlet.frames.length) {
        topActivatedRoute[pageRouterActivatedSymbol] = true;
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('Activated route marked as page: ' + routeToString(topActivatedRoute));
        }
      }
      currentRoute = queue.shift();
    }
  }
  getComponentType(activatedRoute) {
    return activatedRoute.routeConfig.component || activatedRoute.component;
  }
  getOutlet(activatedRouteSnapshot) {
    const topActivatedRoute = findTopActivatedRouteNodeForOutlet(activatedRouteSnapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    let outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
    // Named lazy loaded outlet.
    if (!outlet && this.isEmptyOutlet) {
      const parentOutletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute.parent);
      outlet = this.locationStrategy.findOutlet(parentOutletKey, topActivatedRoute.parent);
      if (outlet) {
        outlet.outletKeys.push(outletKey);
      }
    }
    return outlet;
  }
  static {
    this.ɵfac = function PageRouterOutlet_Factory(t) {
      return new (t || PageRouterOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('name'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('actionBarVisibility'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('isEmptyOutlet'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](PAGE_FACTORY), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSRouteReuseStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ViewUtil), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageRouterOutlet,
      selectors: [["page-router-outlet"]],
      outputs: {
        activateEvents: "activate",
        deactivateEvents: "deactivate"
      }
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "activateWith", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "loadComponentInPage", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageRouterOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'page-router-outlet'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['name']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['actionBarVisibility']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['isEmptyOutlet']
      }]
    }, {
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [PAGE_FACTORY]
      }]
    }, {
      type: NSRouteReuseStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ViewUtil
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector
    }];
  }, {
    activateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['activate']
    }],
    deactivateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['deactivate']
    }],
    activateWith: [],
    loadComponentInPage: []
  });
})();
class NativescriptPlatformLocation extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation {
  constructor(locationStrategy) {
    super();
    this.locationStrategy = locationStrategy;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NativescriptPlatformLocation.constructor()');
    }
  }
  getState() {
    return undefined;
  }
  getBaseHrefFromDOM() {
    return '/';
  }
  onPopState(fn) {
    this.locationStrategy.onPopState(fn);
    return () => {
      //
    };
  }
  onHashChange(_fn) {
    return () => {
      //
    };
  }
  get search() {
    return '';
  }
  get hash() {
    return '';
  }
  get pathname() {
    return this.locationStrategy.path();
  }
  set pathname(_newPath) {
    throw new Error('NativescriptPlatformLocation set pathname - not implemented');
  }
  pushState(state, title, url) {
    this.locationStrategy.pushState(state, title, url, null);
  }
  replaceState(state, title, url) {
    this.locationStrategy.replaceState(state, title, url, null);
  }
  forward() {
    throw new Error('NativescriptPlatformLocation.forward() - not implemented');
  }
  back() {
    this.locationStrategy.back();
  }
  static {
    this.ɵfac = function NativescriptPlatformLocation_Factory(t) {
      return new (t || NativescriptPlatformLocation)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptPlatformLocation,
      factory: NativescriptPlatformLocation.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptPlatformLocation, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class NSEmptyOutletComponent {
  constructor(page) {
    this.page = page;
    if (this.page) {
      this.page.actionBarHidden = true;
      this.page.on('loaded', () => {
        if (this.pageRouterOutlet && this.page.frame) {
          this.pageRouterOutlet.setActionBarVisibility(this.page.frame.actionBarVisibility);
        }
      });
    }
  }
  static {
    this.ɵfac = function NSEmptyOutletComponent_Factory(t) {
      return new (t || NSEmptyOutletComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: NSEmptyOutletComponent,
      selectors: [["ns-empty-outlet"]],
      viewQuery: function NSEmptyOutletComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](PageRouterOutlet, 5, PageRouterOutlet);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.pageRouterOutlet = _t.first);
        }
      },
      decls: 1,
      vars: 0,
      consts: [["isEmptyOutlet", "true"]],
      template: function NSEmptyOutletComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "page-router-outlet", 0);
        }
      },
      dependencies: [PageRouterOutlet],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSEmptyOutletComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // tslint:disable-next-line:component-selector
      selector: 'ns-empty-outlet',
      template: "<page-router-outlet isEmptyOutlet='true'></page-router-outlet>"
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page
    }];
  }, {
    pageRouterOutlet: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: [PageRouterOutlet, {
        read: PageRouterOutlet,
        static: false
      }]
    }]
  });
})();
function provideLocationStrategy(locationStrategy, frameService, startPath) {
  return locationStrategy ? locationStrategy : new NSLocationStrategy(frameService, startPath);
}
class NativeScriptRouterModule {
  static forRoot(routes, config) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: [..._angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forRoot(routes, config).providers, {
        provide: NSLocationStrategy,
        useFactory: provideLocationStrategy,
        deps: [[NSLocationStrategy, new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf()], FrameService, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), START_PATH]]
      }, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy,
        useExisting: NSLocationStrategy
      }, NativescriptPlatformLocation, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation,
        useExisting: NativescriptPlatformLocation
      }, RouterExtensions, NSRouteReuseStrategy, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouteReuseStrategy,
        useExisting: NSRouteReuseStrategy
      }]
    };
  }
  static forChild(routes) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forChild(routes).providers
    };
  }
  static {
    this.ɵfac = function NativeScriptRouterModule_Factory(t) {
      return new (t || NativeScriptRouterModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptRouterModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptRouterModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();

/* eslint-disable @typescript-eslint/ban-types */
let currentRafId = 1;
function noop() {}
/**
 * An injectable service for executing work inside or outside of the Angular zone.
 *
 * The most common use of this service is to optimize performance when starting a work consisting of
 * one or more asynchronous tasks that don't require UI updates or error handling to be handled by
 * Angular. Such tasks can be kicked off via {@link #runOutsideAngular} and if needed, these tasks
 * can reenter the Angular zone via {@link #run}.
 *
 * <!-- TODO: add/fix links to:
 *   - docs explaining zones and the use of zones in Angular and change-detection
 *   - link to runOutsideAngular/run (throughout this file!)
 *   -->
 *
 * @usageNotes
 * ### Example
 *
 * ```
 * import {Component, NgZone} from '@angular/core';
 * import {NgIf} from '@angular/common';
 *
 * @Component({
 *   selector: 'ng-zone-demo',
 *   template: `
 *     <h2>Demo: NgZone</h2>
 *
 *     <p>Progress: {{progress}}%</p>
 *     <p *ngIf="progress >= 100">Done processing {{label}} of Angular zone!</p>
 *
 *     <button (click)="processWithinAngularZone()">Process within Angular zone</button>
 *     <button (click)="processOutsideOfAngularZone()">Process outside of Angular zone</button>
 *   `,
 * })
 * export class NgZoneDemo {
 *   progress: number = 0;
 *   label: string;
 *
 *   constructor(private _ngZone: NgZone) {}
 *
 *   // Loop inside the Angular zone
 *   // so the UI DOES refresh after each setTimeout cycle
 *   processWithinAngularZone() {
 *     this.label = 'inside';
 *     this.progress = 0;
 *     this._increaseProgress(() => console.log('Inside Done!'));
 *   }
 *
 *   // Loop outside of the Angular zone
 *   // so the UI DOES NOT refresh after each setTimeout cycle
 *   processOutsideOfAngularZone() {
 *     this.label = 'outside';
 *     this.progress = 0;
 *     this._ngZone.runOutsideAngular(() => {
 *       this._increaseProgress(() => {
 *         // reenter the Angular zone and display done
 *         this._ngZone.run(() => { console.log('Outside Done!'); });
 *       });
 *     });
 *   }
 *
 *   _increaseProgress(doneCallback: () => void) {
 *     this.progress += 1;
 *     console.log(`Current progress: ${this.progress}%`);
 *
 *     if (this.progress < 100) {
 *       window.setTimeout(() => this._increaseProgress(doneCallback), 10);
 *     } else {
 *       doneCallback();
 *     }
 *   }
 * }
 * ```
 *
 * @publicApi
 */
class NativeScriptNgZone {
  constructor({
    enableLongStackTrace = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.isDevMode)(),
    shouldCoalesceEventChangeDetection = true,
    shouldCoalesceRunChangeDetection = true
  } = {}) {
    this.hasPendingMacrotasks = false;
    this.hasPendingMicrotasks = false;
    /**
     * Whether there are no outstanding microtasks or macrotasks.
     */
    this.isStable = true;
    /**
     * Notifies when code enters Angular Zone. This gets fired first on VM Turn.
     */
    this.onUnstable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when there is no more microtasks enqueued in the current VM Turn.
     * This is a hint for Angular to do change detection, which may enqueue more microtasks.
     * For this reason this event can fire multiple times per VM Turn.
     */
    this.onMicrotaskEmpty = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which
     * implies we are about to relinquish VM turn.
     * This event gets called just once.
     */
    this.onStable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies that an error has been delivered.
     */
    this.onError = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    if (typeof Zone == 'undefined') {
      throw new Error(`In this configuration Angular requires Zone.js`);
    }
    Zone.assertZonePatched();
    const self = this;
    self._nesting = 0;
    self._outer = self._inner = Zone.current;
    if (Zone['TaskTrackingZoneSpec']) {
      self._inner = self._inner.fork(new Zone['TaskTrackingZoneSpec']());
    }
    if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {
      self._inner = self._inner.fork(Zone['longStackTraceZoneSpec']);
    }
    // if shouldCoalesceRunChangeDetection is true, all tasks including event tasks will be
    // coalesced, so shouldCoalesceEventChangeDetection option is not necessary and can be skipped.
    self.shouldCoalesceEventChangeDetection = !shouldCoalesceRunChangeDetection && shouldCoalesceEventChangeDetection;
    self.shouldCoalesceRunChangeDetection = shouldCoalesceRunChangeDetection;
    self.lastRequestAnimationFrameId = -1;
    self.nativeRequestAnimationFrame = function (cb) {
      const nativeDispatchToMainThread = _nativescript_core__WEBPACK_IMPORTED_MODULE_55__[Zone.__symbol__('dispatchToMainThread')] || _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.dispatchToMainThread;
      nativeDispatchToMainThread(cb);
      return currentRafId++;
    };
    forkInnerZoneWithAngularBehavior(self);
  }
  static isInAngularZone() {
    return Zone.current.get('isAngularZone') === true;
  }
  static assertInAngularZone() {
    if (!_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to be in Angular Zone, but it is not!');
    }
  }
  static assertNotInAngularZone() {
    if (_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to not be in Angular Zone, but it is!');
    }
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone and returns value returned by
   * the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  run(fn, applyThis, applyArgs) {
    return this._inner.run(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone as a task and returns value
   * returned by the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  runTask(fn, applyThis, applyArgs, name) {
    const zone = this._inner;
    const task = zone.scheduleEventTask('NgZoneEvent: ' + name, fn, EMPTY_PAYLOAD, noop, noop);
    try {
      return zone.runTask(task, applyThis, applyArgs);
    } finally {
      zone.cancelTask(task);
    }
  }
  /**
   * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not
   * rethrown.
   */
  runGuarded(fn, applyThis, applyArgs) {
    return this._inner.runGuarded(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by
   * the function.
   *
   * Running functions via {@link #runOutsideAngular} allows you to escape Angular's zone and do
   * work that
   * doesn't trigger Angular change-detection or is subject to Angular's error handling.
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * outside of the Angular zone.
   *
   * Use {@link #run} to reenter the Angular zone and do work that updates the application model.
   */
  runOutsideAngular(fn) {
    return this._outer.run(fn);
  }
}
const EMPTY_PAYLOAD = {};
function checkStable(zone) {
  // TODO: @JiaLiPassion, should check zone.isCheckStableRunning to prevent
  // re-entry. The case is:
  //
  // @Component({...})
  // export class AppComponent {
  // constructor(private ngZone: NgZone) {
  //   this.ngZone.onStable.subscribe(() => {
  //     this.ngZone.run(() => console.log('stable'););
  //   });
  // }
  //
  // The onStable subscriber run another function inside ngZone
  // which causes `checkStable()` re-entry.
  // But this fix causes some issues in g3, so this fix will be
  // launched in another PR.
  if (zone._nesting == 0 && !zone.hasPendingMicrotasks && !zone.isStable) {
    try {
      zone._nesting++;
      zone.onMicrotaskEmpty.emit(null);
    } finally {
      zone._nesting--;
      if (!zone.hasPendingMicrotasks) {
        try {
          zone.runOutsideAngular(() => zone.onStable.emit(null));
        } finally {
          zone.isStable = true;
        }
      }
    }
  }
}
function delayChangeDetectionForEvents(zone) {
  /**
   * We also need to check _nesting here
   * Consider the following case with shouldCoalesceRunChangeDetection = true
   *
   * ngZone.run(() => {});
   * ngZone.run(() => {});
   *
   * We want the two `ngZone.run()` only trigger one change detection
   * when shouldCoalesceRunChangeDetection is true.
   * And because in this case, change detection run in async way(requestAnimationFrame),
   * so we also need to check the _nesting here to prevent multiple
   * change detections.
   */
  if (zone.isCheckStableRunning || zone.lastRequestAnimationFrameId !== -1) {
    return;
  }
  zone.lastRequestAnimationFrameId = zone.nativeRequestAnimationFrame.call(global, () => {
    // This is a work around for https://github.com/angular/angular/issues/36839.
    // The core issue is that when event coalescing is enabled it is possible for microtasks
    // to get flushed too early (As is the case with `Promise.then`) between the
    // coalescing eventTasks.
    //
    // To workaround this we schedule a "fake" eventTask before we process the
    // coalescing eventTasks. The benefit of this is that the "fake" container eventTask
    //  will prevent the microtasks queue from getting drained in between the coalescing
    // eventTask execution.
    if (!zone.fakeTopEventTask) {
      zone.fakeTopEventTask = Zone.root.scheduleEventTask('fakeTopEventTask', () => {
        zone.lastRequestAnimationFrameId = -1;
        updateMicroTaskStatus(zone);
        zone.isCheckStableRunning = true;
        checkStable(zone);
        zone.isCheckStableRunning = false;
      }, undefined, () => {}, () => {});
    }
    zone.fakeTopEventTask.invoke();
  });
  updateMicroTaskStatus(zone);
}
function forkInnerZoneWithAngularBehavior(zone) {
  const delayChangeDetectionForEventsDelegate = () => {
    delayChangeDetectionForEvents(zone);
  };
  zone._inner = zone._inner.fork({
    name: 'angular',
    properties: {
      isAngularZone: true
    },
    onInvokeTask: (delegate, current, target, task, applyThis, applyArgs) => {
      try {
        onEnter(zone);
        return delegate.invokeTask(target, task, applyThis, applyArgs);
      } finally {
        if (zone.shouldCoalesceEventChangeDetection && task.type === 'eventTask' || zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_55__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onInvoke: (delegate, current, target, callback, applyThis, applyArgs, source) => {
      try {
        onEnter(zone);
        return delegate.invoke(target, callback, applyThis, applyArgs, source);
      } finally {
        if (zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_55__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onHasTask: (delegate, current, target, hasTaskState) => {
      delegate.hasTask(target, hasTaskState);
      if (current === target) {
        // We are only interested in hasTask events which originate from our zone
        // (A child hasTask event is not interesting to us)
        if (hasTaskState.change == 'microTask') {
          zone._hasPendingMicrotasks = hasTaskState.microTask;
          updateMicroTaskStatus(zone);
          checkStable(zone);
        } else if (hasTaskState.change == 'macroTask') {
          zone.hasPendingMacrotasks = hasTaskState.macroTask;
        }
      }
    },
    onHandleError: (delegate, current, target, error) => {
      delegate.handleError(target, error);
      zone.runOutsideAngular(() => zone.onError.emit(error));
      return false;
    }
  });
}
function updateMicroTaskStatus(zone) {
  if (zone._hasPendingMicrotasks || zone.lastRequestAnimationFrameId !== -1) {
    zone.hasPendingMicrotasks = true;
  } else {
    zone.hasPendingMicrotasks = false;
  }
}
function onEnter(zone) {
  zone._nesting++;
  if (zone.isStable) {
    zone.isStable = false;
    zone.onUnstable.emit(null);
  }
}
function onLeave(zone) {
  zone._nesting--;
  checkStable(zone);
}

/**
 * Generated bundle index. Do not edit.
 */


//# sourceMappingURL=nativescript-angular.mjs.map

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLjQ5MGM2NzQzMmI4MmQ0MDI2M2Y4LmhvdC11cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFDMHhCO0FBQy94QjtBQUNzbUI7QUFDbGxCO0FBQ2hCO0FBQzBHO0FBQzlEO0FBQ1U7QUFDdEQ7QUFDd0g7QUFDaEc7QUFDVDtBQUNIO0FBQ3NGO0FBQy9CO0FBQ1c7QUFBQSxNQUFBeUosR0FBQTtBQUFBLE1BQUFDLEdBQUE7QUFBQSxNQUFBQyxHQUFBO0FBQUEsU0FBQUMsNkNBQUFDLEVBQUEsRUFBQUMsR0FBQTtFQUFBLElBQUFELEVBQUE7SUFxUGxCN0YsMERBQUUsd0JBdTdHdUcsQ0FBQztFQUFBO0FBQUE7QUFBQSxTQUFBZ0cseUNBQUFILEVBQUEsRUFBQUMsR0FBQTtFQUFBLElBQUFELEVBQUE7SUF2N0cxRzdGLDBEQUFFLHdCQTA4RytGLENBQUM7RUFBQTtBQUFBO0FBQUEsU0FBQWlHLDhDQUFBSixFQUFBLEVBQUFDLEdBQUE7RUFBQSxJQUFBRCxFQUFBO0lBMThHbEc3RiwwREFBRSx3QkErOUd5RyxDQUFDO0VBQUE7QUFBQTtBQWx0SGhOLE1BQU1rRyxZQUFZLEdBQUlDLFFBQVEsSUFBS0EsUUFBUSxDQUFDQyxXQUFXLENBQUNDLElBQUk7QUFDNUQsTUFBTUMsYUFBYSxTQUFTckssb0RBQUksQ0FBQztFQUM3Qm1LLFdBQVdBLENBQUNDLElBQUksR0FBRyxFQUFFLEVBQUU7SUFDbkIsS0FBSyxDQUFDLENBQUM7SUFD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LENBQUNjLFdBQVcsQ0FBQzF0QyxNQUFNLEVBQUUvSyxLQUFLLENBQUM7TUFDbkNtcUIsSUFBSSxDQUFDK3NCLGlCQUFpQixDQUFDLE1BQU0vc0IsSUFBSSxDQUFDMnJCLE9BQU8sQ0FBQ3ppQyxJQUFJLENBQUNyVCxLQUFLLENBQUMsQ0FBQztNQUN0RCxPQUFPLEtBQUs7SUFDaEI7RUFDSixDQUFDLENBQUM7QUFDTjtBQUNBLFNBQVN1M0MscUJBQXFCQSxDQUFDcHRCLElBQUksRUFBRTtFQUNqQyxJQUFJQSxJQUFJLENBQUNrdUIscUJBQXFCLElBQUlsdUIsSUFBSSxDQUFDa3NCLDJCQUEyQixLQUFLLENBQUMsQ0FBQyxFQUFFO0lBQ3ZFbHNCLElBQUksQ0FBQ3NyQixvQkFBb0IsR0FBRyxJQUFJO0VBQ3BDLENBQUMsTUFDSTtJQUNEdHJCLElBQUksQ0FBQ3NyQixvQkFBb0IsR0FBRyxLQUFLO0VBQ3JDO0FBQ0o7QUFDQSxTQUFTbUMsT0FBT0EsQ0FBQ3p0QixJQUFJLEVBQUU7RUFDbkJBLElBQUksQ0FBQzhyQixRQUFRLEVBQUU7RUFDZixJQUFJOXJCLElBQUksQ0FBQ3VyQixRQUFRLEVBQUU7SUFDZnZyQixJQUFJLENBQUN1ckIsUUFBUSxHQUFHLEtBQUs7SUFDckJ2ckIsSUFBSSxDQUFDd3JCLFVBQVUsQ0FBQ3RpQyxJQUFJLENBQUMsSUFBSSxDQUFDO0VBQzlCO0FBQ0o7QUFDQSxTQUFTMGtDLE9BQU9BLENBQUM1dEIsSUFBSSxFQUFFO0VBQ25CQSxJQUFJLENBQUM4ckIsUUFBUSxFQUFFO0VBQ2ZrQixXQUFXLENBQUNodEIsSUFBSSxDQUFDO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTs7QUFFODNHO0FBQzkzRyIsInNvdXJjZXMiOlsid2VicGFjazovL2Vnb2dyZWVuLy4vbm9kZV9tb2R1bGVzL0BuYXRpdmVzY3JpcHQvYW5ndWxhci9mZXNtMjAyMi9uYXRpdmVzY3JpcHQtYW5ndWxhci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaTEgZnJvbSAnQG5hdGl2ZXNjcmlwdC9jb3JlJztcbmltcG9ydCB7IFZpZXcsIExheW91dEJhc2UsIENvbnRlbnRWaWV3LCBQcm94eVZpZXdDb250YWluZXIsIFBhZ2UsIHBsYXRmb3JtTmFtZXMsIEdyaWRMYXlvdXQsIEFwcGxpY2F0aW9uLCBUcmFjZSwgRm9ybWF0dGVkU3RyaW5nLCBTcGFuLCBBYnNvbHV0ZUxheW91dCwgQWN0aXZpdHlJbmRpY2F0b3IsIEJ1dHRvbiwgRGF0ZVBpY2tlciwgRG9ja0xheW91dCwgRnJhbWUsIEh0bWxWaWV3LCBJbWFnZSwgTGFiZWwsIExpc3RQaWNrZXIsIExpc3RWaWV3LCBQbGFjZWhvbGRlciwgUHJvZ3Jlc3MsIFJlcGVhdGVyLCBSb290TGF5b3V0LCBTY3JvbGxWaWV3LCBTZWFyY2hCYXIsIFNlZ21lbnRlZEJhciwgU2VnbWVudGVkQmFySXRlbSwgU2xpZGVyLCBTdGFja0xheW91dCwgRmxleGJveExheW91dCwgU3dpdGNoLCBUYWJWaWV3LCBUZXh0RmllbGQsIFRleHRWaWV3LCBUaW1lUGlja2VyLCBXZWJWaWV3LCBXcmFwTGF5b3V0LCB1bnNldFZhbHVlLCBwcm9maWxlLCBhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTLCBnZXRWaWV3QnlJZCwgT2JzZXJ2YWJsZSwgQWN0aW9uSXRlbSwgTmF2aWdhdGlvbkJ1dHRvbiwgQWN0aW9uQmFyLCBPYnNlcnZhYmxlQXJyYXksIFRhYlZpZXdJdGVtLCBDb2xvciwgRGV2aWNlLCBVdGlscywgcmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUywga25vd25Gb2xkZXJzLCBGaWxlLCBLZXlmcmFtZUFuaW1hdGlvbiwgYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25Db252ZXJ0ZXIsIHBhcnNlS2V5ZnJhbWVEZWNsYXJhdGlvbnMsIENTU0hlbHBlciwgQ3NzQW5pbWF0aW9uUHJvcGVydHksIGVhY2hEZXNjZW5kYW50LCBwYXRoIH0gZnJvbSAnQG5hdGl2ZXNjcmlwdC9jb3JlJztcbmltcG9ydCAqIGFzIGkwIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIEluamVjdCwgQ29tcG9uZW50UmVmLCBJbmplY3RhYmxlLCBWaWV3RW5jYXBzdWxhdGlvbiwgT3B0aW9uYWwsIEVsZW1lbnRSZWYsIERpcmVjdGl2ZSwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIE5nTW9kdWxlLCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIEFwcGxpY2F0aW9uUmVmLCBJbmplY3RvciwgVmlld0NvbnRhaW5lclJlZiwgQ29tcG9uZW50LCBWaWV3Q2hpbGQsIElucHV0LCBpbmplY3QsIEl0ZXJhYmxlRGlmZmVycywgQ2hhbmdlRGV0ZWN0b3JSZWYsIGZvcndhcmRSZWYsIFRlbXBsYXRlUmVmLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29udGVudENoaWxkLCBIb3N0TGlzdGVuZXIsIEhvc3QsIE5PX0VSUk9SU19TQ0hFTUEsIEVycm9ySGFuZGxlciwgU2tpcFNlbGYsIMm1SU5KRUNUT1JfU0NPUEUsIFJlbmRlcmVyRmFjdG9yeTIsIEFwcGxpY2F0aW9uTW9kdWxlLCBQbGF0Zm9ybVJlZiwgTmdNb2R1bGVSZWYsIMm1aW50ZXJuYWxDcmVhdGVBcHBsaWNhdGlvbiwgTmdab25lLCBTYW5pdGl6ZXIsIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeSwgcGxhdGZvcm1Db3JlLCBDb250ZW50Q2hpbGRyZW4sIEluamVjdEZsYWdzLCBBdHRyaWJ1dGUsIGlzRGV2TW9kZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgX19kZWNvcmF0ZSwgX19wYXJhbSwgX19tZXRhZGF0YSB9IGZyb20gJ3RzbGliJztcbmltcG9ydCAqIGFzIGkxJDEgZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFhockZhY3RvcnksIExvY2F0aW9uU3RyYXRlZ3ksIENvbW1vbk1vZHVsZSwgVmlld3BvcnRTY3JvbGxlciwgybVOdWxsVmlld3BvcnRTY3JvbGxlciwgRE9DVU1FTlQsIFBsYXRmb3JtTG9jYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgZmlsdGVyLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwLCB0YWtlLCBzdGFydFdpdGggfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YmplY3QsIGZyb21FdmVudCwgZGVmZXIsIE9ic2VydmFibGUgYXMgT2JzZXJ2YWJsZSQxIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgKiBhcyBpMSQzIGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBEZWZhdWx0VXJsU2VyaWFsaXplciwgUFJJTUFSWV9PVVRMRVQsIE5hdmlnYXRpb25FbmQsIEFjdGl2YXRlZFJvdXRlLCBDaGlsZHJlbk91dGxldENvbnRleHRzLCBSb3V0ZXJNb2R1bGUsIFJvdXRlUmV1c2VTdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBOR19WQUxVRV9BQ0NFU1NPUiwgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBBbmltYXRpb25CdWlsZGVyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgKiBhcyBpMSQyIGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMvYnJvd3Nlcic7XG5pbXBvcnQgeyDJtUFuaW1hdGlvbkVuZ2luZSwgybVXZWJBbmltYXRpb25zU3R5bGVOb3JtYWxpemVyLCBBbmltYXRpb25Ecml2ZXIsIMm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucy9icm93c2VyJztcbmltcG9ydCB7IMm1QW5pbWF0aW9uUmVuZGVyZXJGYWN0b3J5LCDJtUJyb3dzZXJBbmltYXRpb25CdWlsZGVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9hbmltYXRpb25zJztcbmltcG9ydCB7IEh0dHBYaHJCYWNrZW5kLCBIdHRwUmVzcG9uc2UsIEh0dHBFcnJvclJlc3BvbnNlLCBIdHRwQ2xpZW50TW9kdWxlLCBIdHRwQmFja2VuZCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcblxuY29uc3QgZ2V0Q2xhc3NOYW1lID0gKGluc3RhbmNlKSA9PiBpbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lO1xuY2xhc3MgSW52aXNpYmxlTm9kZSBleHRlbmRzIFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUgPSAnJykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm5vZGVUeXBlID0gMTtcbiAgICAgICAgdGhpcy5ub2RlTmFtZSA9IGdldENsYXNzTmFtZSh0aGlzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLm5vZGVOYW1lfSgke3RoaXMuaWR9KS0ke3RoaXMubmFtZX1gO1xuICAgIH1cbn1cbmNsYXNzIENvbW1lbnROb2RlIGV4dGVuZHMgSW52aXNpYmxlTm9kZSB7XG4gICAgc3RhdGljIHsgdGhpcy5pZCA9IDA7IH1cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcih2YWx1ZSk7XG4gICAgICAgIHRoaXMubWV0YSA9IHtcbiAgICAgICAgICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pZCA9IENvbW1lbnROb2RlLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgIENvbW1lbnROb2RlLmlkICs9IDE7XG4gICAgfVxufVxuY2xhc3MgVGV4dE5vZGUgZXh0ZW5kcyBJbnZpc2libGVOb2RlIHtcbiAgICBzdGF0aWMgeyB0aGlzLnRleHRDaGFuZ2VFdmVudCA9ICd0ZXh0Q2hhbmdlJzsgfVxuICAgIHN0YXRpYyB7IHRoaXMuaWQgPSAwOyB9XG4gICAgZ2V0IHRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH1cbiAgICBzZXQgdGV4dCh0KSB7XG4gICAgICAgIHRoaXMuX3RleHQgPSB0O1xuICAgICAgICB0aGlzLm5vdGlmeSh7IGV2ZW50TmFtZTogVGV4dE5vZGUudGV4dENoYW5nZUV2ZW50LCBvYmplY3Q6IHRoaXMsIHZhbHVlOiB0IH0pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcih2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3RleHQgPSAnJztcbiAgICAgICAgdGhpcy5jYWxsYmFja01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fdGV4dCA9IHZhbHVlO1xuICAgICAgICB0aGlzLm1ldGEgPSB7XG4gICAgICAgICAgICBza2lwQWRkVG9Eb206IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaWQgPSBUZXh0Tm9kZS5pZC50b1N0cmluZygpO1xuICAgICAgICBUZXh0Tm9kZS5pZCArPSAxO1xuICAgIH1cbiAgICByZWdpc3RlclRleHRDaGFuZ2UoY2FsbGJhY2ssIGlkKSB7XG4gICAgICAgIGNvbnN0IGNiID0gKGV2dCkgPT4gY2FsbGJhY2soZXZ0LnZhbHVlKTtcbiAgICAgICAgY29uc3QgY2JBcnIgPSB0aGlzLmNhbGxiYWNrTWFwLmdldChpZCkgfHwgW107XG4gICAgICAgIGNiQXJyLnB1c2goY2IpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrTWFwLnNldChpZCwgY2JBcnIpO1xuICAgICAgICB0aGlzLm9uKCd0ZXh0Q2hhbmdlJywgY2IpO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVyVGV4dENoYW5nZShpZCkge1xuICAgICAgICBjb25zdCBjYkFyciA9IHRoaXMuY2FsbGJhY2tNYXAuZ2V0KGlkKSB8fCBbXTtcbiAgICAgICAgY2JBcnIuZm9yRWFjaCgoY2IpID0+IHRoaXMub2ZmKCd0ZXh0Q2hhbmdlJywgY2IpKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja01hcC5kZWxldGUoaWQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNEZXRhY2hlZEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQubWV0YSAmJiBlbGVtZW50Lm1ldGEuc2tpcEFkZFRvRG9tO1xufVxuZnVuY3Rpb24gaXNWaWV3KHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIFZpZXc7XG59XG5mdW5jdGlvbiBpc0ludmlzaWJsZU5vZGUodmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZTtcbn1cbmZ1bmN0aW9uIGlzTGF5b3V0KHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIExheW91dEJhc2U7XG59XG5mdW5jdGlvbiBpc0NvbnRlbnRWaWV3KHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIENvbnRlbnRWaWV3O1xufVxuZnVuY3Rpb24gZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh2aWV3LCBleHRyYWN0RnJvbU5TUGFyZW50ID0gZmFsc2UpIHtcbiAgICBpZiAodmlldyBpbnN0YW5jZW9mIFByb3h5Vmlld0NvbnRhaW5lcikge1xuICAgICAgICBpZiAodmlldy5nZXRDaGlsZHJlbkNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3KHZpZXcuZ2V0Q2hpbGRBdCgwKSk7XG4gICAgfVxuICAgIGlmIChleHRyYWN0RnJvbU5TUGFyZW50KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB2aWV3LnBhcmVudE5vZGU7XG4gICAgICAgIGRldGFjaFZpZXdGcm9tUGFyZW50KHZpZXcpO1xuICAgICAgICB2aWV3LnBhcmVudE5vZGUgPSBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gdmlldztcbn1cbmZ1bmN0aW9uIGRldGFjaFZpZXdGcm9tUGFyZW50KHZpZXcpIHtcbiAgICBjb25zdCBwYXJlbnQgPSB2aWV3Py5wYXJlbnQ7XG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyZW50Lm1ldGEgJiYgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQpIHtcbiAgICAgICAgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQocGFyZW50LCB2aWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSAmJiBwYXJlbnQuY29udGVudCA9PT0gdmlldykge1xuICAgICAgICBwYXJlbnQuY29udGVudCA9IG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVmlldyhwYXJlbnQpKSB7XG4gICAgICAgIHBhcmVudC5fcmVtb3ZlVmlldyh2aWV3KTtcbiAgICB9XG59XG5cbmNvbnN0IEFQUF9ST09UX1ZJRVcgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdEFwcFJvb3RWaWV3Jyk7XG5jb25zdCBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdFJvb3RNb2R1bGVJZCcpO1xuY29uc3QgU1RBUlRfUEFUSCA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0U3RhcnRQYXRoJyk7XG5jb25zdCBFTkFCTEVfUkVVU0FCRV9WSUVXUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0RW5hYmxlUmV1c2FibGVWaWV3cycpO1xuY29uc3QgRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdERpc2FibGVSb290Vmlld0hhbmRsaW5nJyk7XG5jb25zdCBERVZJQ0UgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdERldmljZScpO1xuY29uc3QgUEFHRV9GQUNUT1JZID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRQYWdlRmFjdG9yeScpO1xuY29uc3QgZGVmYXVsdFBhZ2VGYWN0b3J5ID0gZnVuY3Rpb24gKF9vcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBQYWdlKCk7XG59O1xuXG5sZXQgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIgPSBjbGFzcyBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZGV2aWNlKSB7XG4gICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xuICAgIH1cbiAgICBydW5zSW4obmFtZXNwYWNlLCBuZXh0KSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmFuZHJvaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy5pb3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQobmFtZXNwYWNlKTtcbiAgICB9XG59O1xuUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIEluamVjdChERVZJQ0UpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdF0pXG5dLCBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlcik7XG5jb25zdCBOQU1FU1BBQ0VfRklMVEVSUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0TmFtZXNwYWNlRmlsdGVyJyk7XG5cbmNsYXNzIE5nVmlld1JlZiB7XG4gICAgY29uc3RydWN0b3IocmVmKSB7XG4gICAgICAgIHRoaXMucmVmID0gcmVmO1xuICAgICAgICB0aGlzLnZpZXcgPSByZWYgaW5zdGFuY2VvZiBDb21wb25lbnRSZWYgPyByZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudCA6IHJlZi5yb290Tm9kZXMuZmluZCgodikgPT4gISh2IGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZSkpO1xuICAgICAgICB0aGlzLmZpcnN0TmF0aXZlTGlrZVZpZXcgPSBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3KHRoaXMudmlldyk7XG4gICAgfVxuICAgIGRldGFjaE5hdGl2ZUxpa2VWaWV3KCkge1xuICAgICAgICBkZXRhY2hWaWV3RnJvbVBhcmVudCh0aGlzLmZpcnN0TmF0aXZlTGlrZVZpZXcpO1xuICAgIH1cbn1cblxuY2xhc3MgQXBwSG9zdFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IoYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcbiAgICB9XG4gICAgZ2V0IG5nQXBwUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25nQXBwUm9vdDtcbiAgICB9XG4gICAgc2V0IG5nQXBwUm9vdCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9uZ0FwcFJvb3QgPSB2YWx1ZTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudDtcbiAgICB9XG4gICAgc2V0IGNvbnRlbnQodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnQucGFyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb250ZW50ID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5wYXJlbnROb2RlID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5nQXBwUm9vdCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCBpbnN0YW5jZW9mIFByb3h5Vmlld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkTGF5b3V0KCk7XG4gICAgICAgICAgICBncmlkLmJhY2tncm91bmRDb2xvciA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgZ3JpZC5hZGRDaGlsZCh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMubmdBcHBSb290ID0gZ3JpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5uZ0FwcFJvb3QpIHtcbiAgICAgICAgICAgIC8vIG1heWJlIHVzZSB0aGlzIGFwcHJvYWNoXG4gICAgICAgICAgICAvLyB0aGlzLnNjaGVkdWxlUm9vdENoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjaGVkdWxlUm9vdENoYW5nZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5uZ0FwcFJvb3QpO1xuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJlc2V0Um9vdFZpZXcoe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGU6ICgpID0+IHRoaXMuY29udGVudCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSAtMTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQXBwSG9zdEFzeW5jVmlldyBleHRlbmRzIEdyaWRMYXlvdXQge1xuICAgIGNvbnN0cnVjdG9yKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcbiAgICB9XG4gICAgZ2V0IG5nQXBwUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldCBuZ0FwcFJvb3QodmFsdWUpIHtcbiAgICAgICAgLy8gaWdub3JlZFxuICAgIH1cbn1cblxuY2xhc3MgTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1haW5Nb2R1bGVSZWFkeSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHRydWUpO1xuICAgICAgICB0aGlzLm9uTWFpbk1vZHVsZVJlYWR5JCA9IHRoaXMubWFpbk1vZHVsZVJlYWR5JC5waXBlKGZpbHRlcigocmVhZHkpID0+IHJlYWR5KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRlbGF5cyBkZXN0cm95aW5nIHRoaXMgbW9kdWxlIHVudGlsIGBub3RpZnlSZWFkeVRvRGVzdHJveSgpYC5cbiAgICAgKiByZW1lbWJlciB0byBjYWxsIGBub3RpZnlSZWFkeVRvRGVzdHJveSgpYCB3aGVuIGRvbmUhXG4gICAgICovXG4gICAgd2FpdFVudGlsTm90aWZpZWQoKSB7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkLm5leHQoZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBub3RpZmllcyB0aGlzIG1vZHVsZSBpcyByZWFkeSB0byBiZSBkZXN0cm95ZWRcbiAgICAgKi9cbiAgICBub3RpZnlSZWFkeVRvRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQubmV4dCh0cnVlKTtcbiAgICB9XG4gICAgaXNNYWluTW9kdWxlUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW5Nb2R1bGVSZWFkeSQudmFsdWU7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JC5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLm1haW5Nb2R1bGVSZWFkeSQuY29tcGxldGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jaW9uIGlzIGNhbGxlZCBieSB0aGUgYm9vdHN0cmFwIGNvZGUgd2hlbiB0aGUgYXBwIGlzIHJlYWR5XG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX25vdGlmeU1haW5Nb2R1bGVSZWFkeSgpIHtcbiAgICAgICAgdGhpcy5tYWluTW9kdWxlUmVhZHkkLm5leHQodHJ1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3Jvb3QnIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jbGFzcyBOYXRpdmVTY3JpcHREZWJ1ZyB7XG4gICAgc3RhdGljIHsgdGhpcy5hbmltYXRpb25zVHJhY2VDYXRlZ29yeSA9ICducy1hbmltYXRpb25zJzsgfVxuICAgIHN0YXRpYyB7IHRoaXMucmVuZGVyZXJUcmFjZUNhdGVnb3J5ID0gJ25zLXJlbmRlcmVyJzsgfVxuICAgIHN0YXRpYyB7IHRoaXMudmlld1V0aWxDYXRlZ29yeSA9ICducy12aWV3LXV0aWwnOyB9XG4gICAgc3RhdGljIHsgdGhpcy5yb3V0ZXJUcmFjZUNhdGVnb3J5ID0gJ25zLXJvdXRlcic7IH1cbiAgICBzdGF0aWMgeyB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneVRyYWNlQ2F0ZWdvcnkgPSAnbnMtcm91dGUtcmV1c2Utc3RyYXRlZ3knOyB9XG4gICAgc3RhdGljIHsgdGhpcy5saXN0Vmlld1RyYWNlQ2F0ZWdvcnkgPSAnbnMtbGlzdC12aWV3JzsgfVxuICAgIHN0YXRpYyB7IHRoaXMuYm9vdHN0cmFwQ2F0ZWdvcnkgPSAnYm9vdHN0cmFwJzsgfVxuICAgIC8vIFRPRE86IG1pZ3JhdGUgYWxsIHVzYWdlIHRvIHRoaXMgLSBhdm9pZHMgZXh0cmFuZW91cyBtZXRob2QgZXhlY3V0aW9uc1xuICAgIHN0YXRpYyB7IHRoaXMuZW5hYmxlZCA9IFRyYWNlLmlzRW5hYmxlZCgpOyB9XG4gICAgc3RhdGljIGlzTG9nRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIFRyYWNlLmlzRW5hYmxlZCgpO1xuICAgIH1cbiAgICBzdGF0aWMgYW5pbWF0aW9uc0xvZyhtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHJlbmRlcmVyTG9nKG1zZykge1xuICAgICAgICBUcmFjZS53cml0ZShtc2csIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyVHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByZW5kZXJlckVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJUcmFjZUNhdGVnb3J5LCBUcmFjZS5tZXNzYWdlVHlwZS5lcnJvcik7XG4gICAgfVxuICAgIHN0YXRpYyB2aWV3VXRpbExvZyhtc2cpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobXNnLCBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbENhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHJvdXRlckxvZyhtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlclRyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcm91dGVyRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJUcmFjZUNhdGVnb3J5LCBUcmFjZS5tZXNzYWdlVHlwZS5lcnJvcik7XG4gICAgfVxuICAgIHN0YXRpYyByb3V0ZVJldXNlU3RyYXRlZ3lMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHN0eWxlRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBUcmFjZS5jYXRlZ29yaWVzLlN0eWxlLCBUcmFjZS5tZXNzYWdlVHlwZS5lcnJvcik7XG4gICAgfVxuICAgIHN0YXRpYyBsaXN0Vmlld0xvZyhtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3VHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyBsaXN0Vmlld0Vycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdUcmFjZUNhdGVnb3J5LCBUcmFjZS5tZXNzYWdlVHlwZS5lcnJvcik7XG4gICAgfVxuICAgIHN0YXRpYyBib290c3RyYXBMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyBib290c3RyYXBMb2dFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcENhdGVnb3J5LCBUcmFjZS5tZXNzYWdlVHlwZS5lcnJvcik7XG4gICAgfVxufVxuXG5jbGFzcyBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5IGV4dGVuZHMgWGhyRmFjdG9yeSB7XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5LCBkZXBzOiBudWxsLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5IH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0gfSk7XG5cbmNvbnN0IGZyYW1lTWV0YSA9IHtcbiAgICBpbnNlcnRDaGlsZDogKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICAgICAgLy8gUGFnZSBjYW5ub3QgYmUgYWRkZWQgdG8gRnJhbWUgd2l0aCBfYWRkQ2hpbGRGcm9tQnVpbGRlciAodGh3b3MgXCJ1c2UgZGVmYXVsdFBhZ2VcIiBlcnJvcilcbiAgICAgICAgaWYgKGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFBhZ2UpIHtcbiAgICAgICAgICAgIHBhcmVudC5uYXZpZ2F0ZSh7IGNyZWF0ZTogKCkgPT4gY2hpbGQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgYSBQYWdlIGNhbiBiZSBhIGNoaWxkIG9mIEZyYW1lJyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmNvbnN0IGZvcm1hdHRlZFN0cmluZ01ldGEgPSB7XG4gICAgaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5zcGFucy5pbmRleE9mKG5leHQpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcGFyZW50LnNwYW5zLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LnNwYW5zLnB1c2goY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LnNwYW5zLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcGFyZW50LnNwYW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmNvbnN0IHRleHRCYXNlTWV0YSA9IHtcbiAgICBpbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEZvcm1hdHRlZFN0cmluZykge1xuICAgICAgICAgICAgcGFyZW50LmZvcm1hdHRlZFRleHQgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFNwYW4pIHtcbiAgICAgICAgICAgIHBhcmVudC5mb3JtYXR0ZWRUZXh0ID8/PSBuZXcgRm9ybWF0dGVkU3RyaW5nKCk7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmdNZXRhLmluc2VydENoaWxkKHBhcmVudC5mb3JtYXR0ZWRUZXh0LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKCFwYXJlbnQuZm9ybWF0dGVkVGV4dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgRm9ybWF0dGVkU3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50LmZvcm1hdHRlZFRleHQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmZvcm1hdHRlZFRleHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgU3Bhbikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nTWV0YS5yZW1vdmVDaGlsZChwYXJlbnQuZm9ybWF0dGVkVGV4dCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbmNvbnN0IGVsZW1lbnRNYXAgPSBuZXcgTWFwKCk7XG5jb25zdCBjYW1lbENhc2VTcGxpdCA9IC8oW2EtejAtOV0pKFtBLVpdKS9nO1xuY29uc3QgZGVmYXVsdFZpZXdNZXRhID0geyBza2lwQWRkVG9Eb206IGZhbHNlIH07XG5mdW5jdGlvbiByZWdpc3RlckVsZW1lbnQoZWxlbWVudE5hbWUsIHJlc29sdmVyLCBtZXRhKSB7XG4gICAgY29uc3QgZW50cnkgPSB7IHJlc29sdmVyLCBtZXRhIH07XG4gICAgZWxlbWVudE1hcC5zZXQoZWxlbWVudE5hbWUsIGVudHJ5KTtcbiAgICBlbGVtZW50TWFwLnNldChlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpLCBlbnRyeSk7XG4gICAgZWxlbWVudE1hcC5zZXQoZWxlbWVudE5hbWUucmVwbGFjZShjYW1lbENhc2VTcGxpdCwgJyQxLSQyJykudG9Mb3dlckNhc2UoKSwgZW50cnkpO1xufVxuZnVuY3Rpb24gZ2V0Vmlld0NsYXNzKGVsZW1lbnROYW1lKSB7XG4gICAgY29uc3QgZW50cnkgPSBlbGVtZW50TWFwLmdldChlbGVtZW50TmFtZSkgfHwgZWxlbWVudE1hcC5nZXQoZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgaWYgKCFlbnRyeSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBrbm93biBjb21wb25lbnQgZm9yIGVsZW1lbnQgJHtlbGVtZW50TmFtZX0uYCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5yZXNvbHZlcigpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBDb3VsZCBub3QgbG9hZCB2aWV3IGZvcjogJHtlbGVtZW50TmFtZX0uJHtlfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFZpZXdNZXRhKG5vZGVOYW1lKSB7XG4gICAgY29uc3QgZW50cnkgPSBlbGVtZW50TWFwLmdldChub2RlTmFtZSkgfHwgZWxlbWVudE1hcC5nZXQobm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgcmV0dXJuIChlbnRyeSAmJiBlbnRyeS5tZXRhKSB8fCBkZWZhdWx0Vmlld01ldGE7XG59XG5mdW5jdGlvbiBpc0tub3duVmlldyhlbGVtZW50TmFtZSkge1xuICAgIHJldHVybiBlbGVtZW50TWFwLmhhcyhlbGVtZW50TmFtZSkgfHwgZWxlbWVudE1hcC5oYXMoZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZShub2RlcywgbmVzdExldmVsKSB7XG4gICAgY29uc3QgYWN0dWFsTm9kZXMgPSBub2Rlcy5maWx0ZXIoKG5vZGUpID0+ICEobm9kZSBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUpKTtcbiAgICBpZiAoYWN0dWFsTm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VpdGFibGUgdmlld3MgZm91bmQgaW4gbGlzdCB0ZW1wbGF0ZSEgYCArIGBOZXN0aW5nIGxldmVsOiAke25lc3RMZXZlbH1gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYWN0dWFsTm9kZXMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1vcmUgdGhhbiBvbmUgdmlldyBmb3VuZCBpbiBsaXN0IHRlbXBsYXRlIWAgKyBgTmVzdGluZyBsZXZlbDogJHtuZXN0TGV2ZWx9YCk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RMYXlvdXQgPSBhY3R1YWxOb2Rlc1swXTtcbiAgICBpZiAoIXJvb3RMYXlvdXQpIHtcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKHJvb3RMYXlvdXQuY2hpbGRyZW4sIG5lc3RMZXZlbCArIDEpO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRMYXlvdXQgPSByb290TGF5b3V0LnBhcmVudDtcbiAgICBpZiAocGFyZW50TGF5b3V0IGluc3RhbmNlb2YgTGF5b3V0QmFzZSkge1xuICAgICAgICBjb25zdCBub2RlID0gcm9vdExheW91dC5wYXJlbnROb2RlO1xuICAgICAgICBwYXJlbnRMYXlvdXQucmVtb3ZlQ2hpbGQocm9vdExheW91dCk7XG4gICAgICAgIHJvb3RMYXlvdXQucGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIHJldHVybiByb290TGF5b3V0O1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBnZXRTaW5nbGVWaWV3UmVjdXJzaXZlIGlzIGRlcHJlY2F0ZWQsIHVzZSBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZVxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVWaWV3UmVjdXJzaXZlKG5vZGVzLCBuZXN0TGV2ZWwpIHtcbiAgICByZXR1cm4gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUobm9kZXMsIG5lc3RMZXZlbCk7XG59XG5cbi8vIFJlZ2lzdGVyIGRlZmF1bHQgTmF0aXZlU2NyaXB0IGNvbXBvbmVudHNcbi8vIE5vdGU6IEFjdGlvbkJhciByZWxhdGVkIGNvbXBvbmVudHMgYXJlIHJlZ2lzdGVyZCB0b2dldGhlciB3aXRoIGFjdGlvbi1iYXIgZGlyZWN0aXZlcy5cbmZ1bmN0aW9uIHJlZ2lzdGVyTmF0aXZlU2NyaXB0Vmlld0NvbXBvbmVudHMoKSB7XG4gICAgaWYgKCFnbG9iYWwuX19uZ1JlZ2lzdGVyZWRWaWV3cykge1xuICAgICAgICBnbG9iYWwuX19uZ1JlZ2lzdGVyZWRWaWV3cyA9IHRydWU7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQWJzb2x1dGVMYXlvdXQnLCAoKSA9PiBBYnNvbHV0ZUxheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQWN0aXZpdHlJbmRpY2F0b3InLCAoKSA9PiBBY3Rpdml0eUluZGljYXRvcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQnV0dG9uJywgKCkgPT4gQnV0dG9uLCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0NvbnRlbnRWaWV3JywgKCkgPT4gQ29udGVudFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0RhdGVQaWNrZXInLCAoKSA9PiBEYXRlUGlja2VyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdEb2NrTGF5b3V0JywgKCkgPT4gRG9ja0xheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRnJhbWUnLCAoKSA9PiBGcmFtZSwgZnJhbWVNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdHcmlkTGF5b3V0JywgKCkgPT4gR3JpZExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnSHRtbFZpZXcnLCAoKSA9PiBIdG1sVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnSW1hZ2UnLCAoKSA9PiBJbWFnZSk7XG4gICAgICAgIC8vIFBhcnNlNSBjaGFuZ2VzIDxJbWFnZT4gdGFncyB0byA8aW1nPi4gV1RGIVxuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ2ltZycsICgpID0+IEltYWdlKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdMYWJlbCcsICgpID0+IExhYmVsLCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0xpc3RQaWNrZXInLCAoKSA9PiBMaXN0UGlja2VyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdMaXN0VmlldycsICgpID0+IExpc3RWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQYWdlJywgKCkgPT4gUGFnZSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUGxhY2Vob2xkZXInLCAoKSA9PiBQbGFjZWhvbGRlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUHJvZ3Jlc3MnLCAoKSA9PiBQcm9ncmVzcyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUHJveHlWaWV3Q29udGFpbmVyJywgKCkgPT4gUHJveHlWaWV3Q29udGFpbmVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdSZXBlYXRlcicsICgpID0+IFJlcGVhdGVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdSb290TGF5b3V0JywgKCkgPT4gUm9vdExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2Nyb2xsVmlldycsICgpID0+IFNjcm9sbFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NlYXJjaEJhcicsICgpID0+IFNlYXJjaEJhcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2VnbWVudGVkQmFyJywgKCkgPT4gU2VnbWVudGVkQmFyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTZWdtZW50ZWRCYXJJdGVtJywgKCkgPT4gU2VnbWVudGVkQmFySXRlbSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2xpZGVyJywgKCkgPT4gU2xpZGVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTdGFja0xheW91dCcsICgpID0+IFN0YWNrTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdGbGV4Ym94TGF5b3V0JywgKCkgPT4gRmxleGJveExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU3dpdGNoJywgKCkgPT4gU3dpdGNoKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUYWJWaWV3JywgKCkgPT4gVGFiVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGV4dEZpZWxkJywgKCkgPT4gVGV4dEZpZWxkLCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RleHRWaWV3JywgKCkgPT4gVGV4dFZpZXcsIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGltZVBpY2tlcicsICgpID0+IFRpbWVQaWNrZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1dlYlZpZXcnLCAoKSA9PiBXZWJWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdXcmFwTGF5b3V0JywgKCkgPT4gV3JhcExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRm9ybWF0dGVkU3RyaW5nJywgKCkgPT4gRm9ybWF0dGVkU3RyaW5nLCBmb3JtYXR0ZWRTdHJpbmdNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTcGFuJywgKCkgPT4gU3Bhbik7XG4gICAgfVxufVxuXG4vLyBOb3RlOiB0aGlzIHV0aWxpdHkgZXhpc3RzIGZyb20gZGVlcCBjb3JlIGltcG9ydCBob3dldmVyIHJlc3VsdHMgaW5cbi8vIE1vZHVsZSBub3QgZm91bmQ6IEVycm9yOiBDYW4ndCByZXNvbHZlICdAbmF0aXZlc2NyaXB0L2NvcmUvdWkvY29yZS9wcm9wZXJ0aWVzJ1xuZnVuY3Rpb24gaXNDc3NWYXJpYWJsZShwcm9wZXJ0eSkge1xuICAgIHJldHVybiAvXi0tW14sXFxzXSs/JC8udGVzdChwcm9wZXJ0eSk7XG59XG5jb25zdCBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG5jb25zdCBYTUxfQVRUUklCVVRFUyA9IE9iamVjdC5mcmVlemUoWydzdHlsZScsICdyb3dzJywgJ2NvbHVtbnMnLCAnZm9udEF0dHJpYnV0ZXMnXSk7XG5jb25zdCB3aGl0ZVNwYWNlU3BsaXR0ZXIgPSAvXFxzKy87XG5mdW5jdGlvbiBwcmludE5nVHJlZSh2aWV3KSB7XG4gICAgbGV0IHBhcmVudCA9IHZpZXc7XG4gICAgd2hpbGUgKHBhcmVudC5wYXJlbnQgJiYgcGFyZW50LnBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHByaW50Q2hpbGRyZW5SZWN1cnNlKHBhcmVudCk7XG59XG5mdW5jdGlvbiBwcmludENoaWxkcmVuUmVjdXJzZShwYXJlbnQpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudC5maXJzdENoaWxkID8gW3BhcmVudC5maXJzdENoaWxkLCAuLi5nZXRDaGlsZHJlblNpYmxpbmdzKHBhcmVudC5maXJzdENoaWxkKS5uZXh0U2libGluZ3NdIDogW107XG4gICAgY29uc29sZS5sb2coYHBhcmVudDogJHtwYXJlbnR9LCBmaXJzdENoaWxkOiAke3BhcmVudC5maXJzdENoaWxkfSwgbGFzdENoaWxkOiAke3BhcmVudC5sYXN0Q2hpbGR9IGNoaWxkcmVuOiAke2NoaWxkcmVufWApO1xuICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgLS0tLS0gc3RhcnQgJHtwYXJlbnR9YCk7XG4gICAgfVxuICAgIGNoaWxkcmVuLmZvckVhY2goKGMpID0+IHByaW50Q2hpbGRyZW5SZWN1cnNlKGMpKTtcbiAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYC0tLS0tIGVuZCAke3BhcmVudH1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDaGlsZHJlblNpYmxpbmdzKHZpZXcpIHtcbiAgICBjb25zdCBuZXh0U2libGluZ3MgPSBbXTtcbiAgICBjb25zdCBwcmV2aW91c1NpYmxpbmdzID0gW107XG4gICAgbGV0IHNpYmxpbmcgPSB2aWV3Lm5leHRTaWJsaW5nO1xuICAgIHdoaWxlIChzaWJsaW5nKSB7XG4gICAgICAgIG5leHRTaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xuICAgICAgICBzaWJsaW5nID0gc2libGluZy5uZXh0U2libGluZztcbiAgICB9XG4gICAgc2libGluZyA9IHZpZXcucHJldmlvdXNTaWJsaW5nO1xuICAgIHdoaWxlIChzaWJsaW5nKSB7XG4gICAgICAgIHByZXZpb3VzU2libGluZ3MucHVzaChzaWJsaW5nKTtcbiAgICAgICAgc2libGluZyA9IHNpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBwcmV2aW91c1NpYmxpbmdzLFxuICAgICAgICBuZXh0U2libGluZ3MsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHByaW50U2libGluZ3NUcmVlKHZpZXcpIHtcbiAgICBjb25zdCB7IHByZXZpb3VzU2libGluZ3MsIG5leHRTaWJsaW5ncyB9ID0gZ2V0Q2hpbGRyZW5TaWJsaW5ncyh2aWV3KTtcbiAgICBjb25zb2xlLmxvZyhgJHt2aWV3fSBwcmV2aW91c1NpYmxpbmdzOiAke3ByZXZpb3VzU2libGluZ3N9IG5leHRTaWJsaW5nczogJHtuZXh0U2libGluZ3N9YCk7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuY29uc3QgcHJvcGVydHlNYXBzID0gbmV3IE1hcCgpO1xuY2xhc3MgVmlld1V0aWwge1xuICAgIGNvbnN0cnVjdG9yKG5hbWVzcGFjZUZpbHRlcnMsIHJldXNlVmlld3MpIHtcbiAgICAgICAgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzID0gbmFtZXNwYWNlRmlsdGVycztcbiAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gcmV1c2VWaWV3cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIGNoaWxkIGludG8gYSBwYXJyZW50LCBwcmVmZXJhYmx5IGJlZm9yZSBuZXh0LlxuICAgICAqIEBwYXJhbSBwYXJlbnQgcGFyZW50IHZpZXdcbiAgICAgKiBAcGFyYW0gY2hpbGQgY2hpbGQgdmlldyB0byBiZSBhZGRlZFxuICAgICAqIEBwYXJhbSBwcmV2aW91cyBwcmV2aW91cyBlbGVtZW50LiBJZiBwcmVzZW50LCBpbnNlcnQgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0gbmV4dCBuZXh0IGVsZW1lbnQuIElmIHByZXNlbnQsIGluc2VydCBiZWZvcmUgdGhpcyAocHJldmlvdXMgaXMgaWdub3JlZCkuXG4gICAgICovXG4gICAgaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgcHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRlbmRlZFBhcmVudCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhwYXJlbnQpO1xuICAgICAgICBjb25zdCBleHRlbmRlZENoaWxkID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKGNoaWxkKTtcbiAgICAgICAgLy8gdGhpcyBzaG91bGQgbmV2ZXIgZW50ZXIsIGFzIGFuZ3VsYXIgaXMgc3VwcG9zZWQgdG8gcmVtb3ZlIHRoZSBjaGlsZCBmcm9tIHRoZSBwcmV2aW91cyBwYXJlbnQgYmVmb3JlIGNhbGxpbmcgdGhpc1xuICAgICAgICAvLyBidXQgd2hlbiBhbmd1bGFyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQsIHRoZSByZW1vdmFsIG1pZ2h0IGJlIGRlbGF5ZWQsIHNvIHdlIG5lZWQgdG8gZW5zdXJlIHRoaXMgdmlldyBpcyBub3QgYW55d2hlcmVcbiAgICAgICAgLy8gdGhpcyBzZWVtcyB0byBvbmx5IGhhcHBlbnMgdG8gQ29tbWVudE5vZGVzXG4gICAgICAgIGlmIChleHRlbmRlZENoaWxkLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlLCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSdzIGEgbmV4dCBjaGlsZCwgcHJldmlvdXMgaXMgdGhlIHByZXZpb3VzU2libGluZyBvZiBpdFxuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgcHJldmlvdXMgPSBuZXh0LnByZXZpb3VzU2libGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhIHByZXZpb3VzLCBuZXh0IGlzIHRoZSBuZXh0U2libGluZyBvZiBpdFxuICAgICAgICAgICAgbmV4dCA9IHByZXZpb3VzLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gcHJldmlvdXMgb3IgbmV4dCwgYXBwZW5kIHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICAgIHByZXZpb3VzID0gZXh0ZW5kZWRQYXJlbnQubGFzdENoaWxkOyAvLyB0aGlzIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQgaWYgdGhlIHBhcmVudCBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnNlcnRJbkxpc3QoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQsIHByZXZpb3VzLCBuZXh0KTtcbiAgICAgICAgaWYgKGlzRGV0YWNoZWRFbGVtZW50KGNoaWxkKSB8fCBpc0ludmlzaWJsZU5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICBleHRlbmRlZENoaWxkLnBhcmVudE5vZGUgPSBleHRlbmRlZFBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRGV0YWNoZWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFZpc3VhbCA9IHRoaXMuZmluZE5leHRWaXN1YWwobmV4dCk7XG4gICAgICAgICAgICB0aGlzLmFkZFRvVmlzdWFsVHJlZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCwgbmV4dFZpc3VhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJbnZpc2libGVOb2RlKGV4dGVuZGVkQ2hpbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VmlzdWFsID0gdGhpcy5maW5kTmV4dFZpc3VhbChuZXh0KTtcbiAgICAgICAgICAgIHRoaXMuYWRkSW52aXNpYmxlTm9kZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCwgbmV4dFZpc3VhbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJpbnROZ1RyZWUoZXh0ZW5kZWRDaGlsZCk7XG4gICAgfVxuICAgIGluc2VydEJlZm9yZShwYXJlbnQsIGNoaWxkLCByZWZDaGlsZCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFJlZiA9IHJlZkNoaWxkID8gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHJlZkNoaWxkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCB1bmRlZmluZWQsIGV4dGVuZGVkUmVmKTtcbiAgICB9XG4gICAgaW5zZXJ0QWZ0ZXIocGFyZW50LCBjaGlsZCwgcmVmQ2hpbGQpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRSZWYgPSByZWZDaGlsZCA/IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhyZWZDaGlsZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgZXh0ZW5kZWRSZWYpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSB2aWV3IGludG8gdGhlIHBhcmVudC9zaWJsaW5nIGxpbmtlZCBsaXN0XG4gICAgICogIVdBUk5JTkc6IHRoaXMgbWV0aG9kIG1ha2VzIG5vIGNoZWNrcyB0byB2YWxpZGF0ZSB0aGUgaW50ZWdyaXR5IG9mIHByZXZpb3VzL25leHQgY2hpbGRyZW5cbiAgICAgKiBAcGFyYW0gcGFyZW50IHBhcmVudCB2aWV3XG4gICAgICogQHBhcmFtIGNoaWxkIGNoaWxkIHZpZXdcbiAgICAgKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXMgZWxlbWVudC4gbnVsbC91bmRlZmluZWQgZm9yIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gbmV4dCBuZXh0IGVsZW1lbnQuIG51bGwvdW5kZWZpbmVkIGZvciBsYXN0IGVsZW1lbnRcbiAgICAgKi9cbiAgICBpbnNlcnRJbkxpc3QocGFyZW50LCBjaGlsZCwgcHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwuaW5zZXJ0SW5MaXN0IHBhcmVudDogJHtwYXJlbnR9LCB2aWV3OiAke2NoaWxkfSwgYCArIGBwcmV2aW91czogJHtwcmV2aW91c30sIG5leHQ6ICR7bmV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHRTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgICAgICBjaGlsZC5wcmV2aW91c1NpYmxpbmcgPSBwcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5maXJzdENoaWxkID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIGNoaWxkLm5leHRTaWJsaW5nID0gbmV4dDtcbiAgICAgICAgICAgIG5leHQucHJldmlvdXNTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQubGFzdENoaWxkID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVG9WaXN1YWxUcmVlKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwuYWRkVG9WaXN1YWxUcmVlIHBhcmVudDogJHtwYXJlbnR9LCB2aWV3OiAke2NoaWxkfSwgbmV4dDogJHtuZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQubWV0YSAmJiBwYXJlbnQubWV0YS5pbnNlcnRDaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRUb0xheW91dChwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHBhcmVudC5jb250ZW50ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50ICYmIHBhcmVudC5fYWRkQ2hpbGRGcm9tQnVpbGRlcikge1xuICAgICAgICAgICAgcGFyZW50Ll9hZGRDaGlsZEZyb21CdWlsZGVyKGNoaWxkLm5vZGVOYW1lLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkSW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGlmIChwYXJlbnQubWV0YT8uaW5zZXJ0SW52aXNpYmxlTm9kZSkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEuaW5zZXJ0SW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnRleHQgPSBjaGlsZC50ZXh0O1xuICAgICAgICAgICAgICAgIGNoaWxkLnJlZ2lzdGVyVGV4dENoYW5nZSgodCkgPT4gKHBhcmVudC50ZXh0ID0gdCksIHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5zZXJ0VG9MYXlvdXQocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAoY2hpbGQucGFyZW50ID09PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGF5b3V0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dFZpc3VhbCA9IHRoaXMuZmluZE5leHRWaXN1YWwobmV4dCk7XG4gICAgICAgIGlmIChuZXh0VmlzdWFsKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5nZXRDaGlsZEluZGV4KG5leHRWaXN1YWwpO1xuICAgICAgICAgICAgcGFyZW50Lmluc2VydENoaWxkKGNoaWxkLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcmVudC5lYWNoQ2hpbGQoKGMpID0+IHtjb25zb2xlLmxvZyhjKTsgcmV0dXJuIHRydWV9KTtcbiAgICB9XG4gICAgZmluZE5leHRWaXN1YWwodmlldykge1xuICAgICAgICBsZXQgbmV4dCA9IHZpZXc7XG4gICAgICAgIHdoaWxlIChuZXh0ICYmIGlzRGV0YWNoZWRFbGVtZW50KG5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVDaGlsZCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUGFyZW50ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHBhcmVudCk7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkQ2hpbGQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMoY2hpbGQpO1xuICAgICAgICBleHRlbmRlZENoaWxkLnBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbW92ZUZyb21MaXN0KGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgaWYgKCFpc0RldGFjaGVkRWxlbWVudChleHRlbmRlZENoaWxkKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGcm9tVmlzdWFsVHJlZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJbnZpc2libGVOb2RlKGV4dGVuZGVkQ2hpbGQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUludmlzaWJsZU5vZGUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUZyb21MaXN0KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlRnJvbUxpc3QgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb25seSBjaGlsZC4gbnVsbCBldmVyeXRoaW5nXG4gICAgICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCA9PT0gY2hpbGQgJiYgcGFyZW50Lmxhc3RDaGlsZCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5maXJzdENoaWxkID0gbnVsbDtcbiAgICAgICAgICAgIHBhcmVudC5sYXN0Q2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgY2hpbGQubmV4dFNpYmxpbmcgPSBudWxsO1xuICAgICAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91cyA9IGNoaWxkLnByZXZpb3VzU2libGluZztcbiAgICAgICAgY29uc3QgbmV4dCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAvLyBpcyBmaXJzdCBjaGlsZCwgbWFrZSB0aGUgbmV4dCBzaWJsaW5nIHRoZSBmaXJzdCBjaGlsZCAoY2FuIGJlIG51bGwpXG4gICAgICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5maXJzdENoaWxkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpcyBsYXN0IGNoaWxkLCBtYWtlIHRoZSBwcmV2aW91cyBzaWJsaW5nIHRoZSBsYXN0IGNoaWxkIChjYW4gYmUgbnVsbClcbiAgICAgICAgaWYgKHBhcmVudC5sYXN0Q2hpbGQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQubGFzdENoaWxkID0gcHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgaGF2ZSBhIHByZXZpb3VzIHNpYmxpbmcsIG1ha2UgaXQgcG9pbnQgdG8gdGhlIG5leHQgc2libGluZ1xuICAgICAgICBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHRTaWJsaW5nID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBoYXZlIGEgbmV4dCBzaWJsaW5nLCBtYWtlIGl0IHBvaW50IHRvIHRoZSBwcmV2aW91c1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgbmV4dC5wcmV2aW91c1NpYmxpbmcgPSBwcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5hbGx5LCBudWxsIHRoZSBzaWJsaW5nc1xuICAgICAgICBjaGlsZC5uZXh0U2libGluZyA9IG51bGw7XG4gICAgICAgIGNoaWxkLnByZXZpb3VzU2libGluZyA9IG51bGw7XG4gICAgfVxuICAgIC8vIE5PVEU6IFRoaXMgb25lIGlzIE8obikgLSB1c2UgY2FyZWZ1bGx5XG4gICAgZmluZFByZXZpb3VzRWxlbWVudChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLmZpbmRQcmV2aW91c0VsZW1lbnQgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXZpb3VzVmlzdWFsO1xuICAgICAgICBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgcHJldmlvdXNWaXN1YWwgPSB0aGlzLmdldFByZXZpb3VzVmlzdWFsRWxlbWVudChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJldmlvdXMgPSBwcmV2aW91c1Zpc3VhbCB8fCBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgLy8gc2luY2UgZGV0YWNoZWQgZWxlbWVudHMgYXJlIG5vdCBhZGRlZCB0byB0aGUgdmlzdWFsIHRyZWUsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZmluZCB0aGUgYWN0dWFsIHByZXZpb3VzIHNpYmxpbmcgb2YgdGhlIHZpZXcsXG4gICAgICAgIC8vIHdoaWNoIG1heSBhcyB3ZWxsIGJlIGFuIGludmlzaWJsZSBub2RlXG4gICAgICAgIHdoaWxlIChwcmV2aW91cyAmJiBwcmV2aW91cyAhPT0gY2hpbGQgJiYgcHJldmlvdXMubmV4dFNpYmxpbmcgIT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IHByZXZpb3VzLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2aW91cztcbiAgICB9XG4gICAgZ2V0UHJldmlvdXNWaXN1YWxFbGVtZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudEluZGV4ID0gcGFyZW50LmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICBpZiAoZWxlbWVudEluZGV4ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRDaGlsZEF0KGVsZW1lbnRJbmRleCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5PVEU6IFRoaXMgb25lIGlzIE8obikgLSB1c2UgY2FyZWZ1bGx5XG4gICAgZ2V0Q2hpbGRJbmRleChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkID09PSBwYXJlbnQuY29udGVudCA/IDAgOiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVGcm9tVmlzdWFsVHJlZShwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUZyb21WaXN1YWxUcmVlIHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQubWV0YSAmJiBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMYXlvdXRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkgJiYgcGFyZW50LmNvbnRlbnQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQuY29udGVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHBhcmVudC5fcmVtb3ZlVmlldyhjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlSW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChwYXJlbnQubWV0YT8ucmVtb3ZlSW52aXNpYmxlTm9kZSkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEucmVtb3ZlSW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudW5yZWdpc3RlclRleHRDaGFuZ2UocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVMYXlvdXRDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUxheW91dENoaWxkIHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUNvbW1lbnQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21tZW50Tm9kZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNyZWF0ZVRleHQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNyZWF0ZVZpZXcobmFtZSkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbE5hbWUgPSBuYW1lO1xuICAgICAgICBpZiAoIWlzS25vd25WaWV3KG5hbWUpKSB7XG4gICAgICAgICAgICBuYW1lID0gJ1Byb3h5Vmlld0NvbnRhaW5lcic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgQ3JlYXRpbmcgdmlldzogJHtvcmlnaW5hbE5hbWV9ICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3Q2xhc3MgPSBnZXRWaWV3Q2xhc3MobmFtZSk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgdmlld0NsYXNzKCk7XG4gICAgICAgIGNvbnN0IG5nVmlldyA9IHRoaXMuc2V0TmdWaWV3RXh0ZW5zaW9ucyh2aWV3LCBuYW1lKTtcbiAgICAgICAgbmdWaWV3LnJldXNhYmxlID0gISF0aGlzLnJldXNlVmlld3M7XG4gICAgICAgIHJldHVybiBuZ1ZpZXc7XG4gICAgfVxuICAgIGVuc3VyZU5nVmlld0V4dGVuc2lvbnModmlldykge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodmlldywgJ21ldGEnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdmlldy5jc3NUeXBlIHx8IHZpZXcudHlwZU5hbWU7XG4gICAgICAgICAgICBjb25zdCBuZ1ZpZXcgPSB0aGlzLnNldE5nVmlld0V4dGVuc2lvbnModmlldywgbmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gbmdWaWV3O1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldE5nVmlld0V4dGVuc2lvbnModmlldywgbmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBNYWtlIGludG8gYSBOZ1ZpZXcgdmlldzogJHt2aWV3fSBuYW1lOiBcIiR7bmFtZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5nVmlldyA9IHZpZXc7XG4gICAgICAgIG5nVmlldy5ub2RlTmFtZSA9IG5hbWU7XG4gICAgICAgIG5nVmlldy5tZXRhID0gZ2V0Vmlld01ldGEobmFtZSk7XG4gICAgICAgIC8vIHdlJ3JlIHNldHRpbmcgdGhlIG5vZGUgdHlwZSBvZiB0aGUgdmlld1xuICAgICAgICAvLyB0byAnZWxlbWVudCcgYmVjYXVzZSBvZiBjaGVja3MgZG9uZSBpbiB0aGVcbiAgICAgICAgLy8gZG9tIGFuaW1hdGlvbiBlbmdpbmVcbiAgICAgICAgbmdWaWV3Lm5vZGVUeXBlID0gRUxFTUVOVF9OT0RFX1RZUEU7XG4gICAgICAgIHJldHVybiBuZ1ZpZXc7XG4gICAgfVxuICAgIHNldFByb3BlcnR5KHZpZXcsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCF2aWV3IHx8IChuYW1lc3BhY2UgJiYgIXRoaXMucnVuc0luKG5hbWVzcGFjZSkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUuaW5kZXhPZignLicpICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIG5lc3RlZCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gYXR0cmlidXRlTmFtZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IHByb3BlcnRpZXNbcHJvcGVydGllcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBwcm9wTWFwID0gdGhpcy5nZXRQcm9wZXJ0aWVzKHZpZXcpO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBwcm9wZXJ0aWVzLmxlbmd0aCAtIDEgJiYgdHlwZW9mIHZpZXcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb3AgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wTWFwLmhhcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gcHJvcE1hcC5nZXQocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcgPSB2aWV3W3Byb3BdO1xuICAgICAgICAgICAgICAgIHByb3BNYXAgPSB0aGlzLmdldFByb3BlcnRpZXModmlldyk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmlldyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydHlJbnRlcm5hbCh2aWV3LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuc0luKHBsYXRmb3JtKSB7XG4gICAgICAgIGxldCBydW5zID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbGFzdCA9ICgpID0+IHRydWU7XG4gICAgICAgIGlmICh0aGlzLm5hbWVzcGFjZUZpbHRlcnMpIHtcbiAgICAgICAgICAgIGxldCBjaGFpbiA9IChwKSA9PiB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubmFtZXNwYWNlRmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDaGFpbiA9IGNoYWluO1xuICAgICAgICAgICAgICAgIGNoYWluID0gKHApID0+IHRoaXMubmFtZXNwYWNlRmlsdGVyc1tpXS5ydW5zSW4ocCwgY3VycmVudENoYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bnMgPSBjaGFpbihwbGF0Zm9ybSk7XG4gICAgICAgICAgICBydW5zID0gcnVucyAhPT0gZmFsc2UgPyB0cnVlIDogZmFsc2U7IC8vIHVuZGVmaW5lZCBtZWFucyB0cnVlXG4gICAgICAgICAgICAvLyB0aGlzLm5hbWVzcGFjZUZpbHRlcnMuc29tZSgoZmlsdGVyKSA9PiB7XG4gICAgICAgICAgICAvLyBcdGNvbnN0IHJ1bnNJbkZpbHRlciA9IGZpbHRlci5ydW5zSW4ocGxhdGZvcm0pO1xuICAgICAgICAgICAgLy8gXHRpZiAocnVuc0luRmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIFx0XHRydW5zID0gcnVuc0luRmlsdGVyO1xuICAgICAgICAgICAgLy8gXHRcdHJldHVybiB0cnVlO1xuICAgICAgICAgICAgLy8gXHR9XG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVucztcbiAgICB9XG4gICAgc2V0UHJvcGVydHlJbnRlcm5hbCh2aWV3LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBTZXR0aW5nIGF0dHJpYnV0ZTogJHthdHRyaWJ1dGVOYW1lfT0ke3ZhbHVlfSB0byAke3ZpZXd9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2xhc3Nlcyh2aWV3LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFhNTF9BVFRSSUJVVEVTLmluZGV4T2YoYXR0cmlidXRlTmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICB2aWV3W2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvcE1hcCA9IHRoaXMuZ2V0UHJvcGVydGllcyh2aWV3KTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcE1hcC5nZXQoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgY2hpbGRyZW4gb2YgYSBjb2xsZWN0aW9uIGN1cnJlbnRseSBoYXZlIG5vIHBhcmVudCBzZXQuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVQYXJlbnRSZWZlcmVuY2VzRnJvbUl0ZW1zKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIGEgbG93ZXItdXBwZXIgY2FzZSBtYXBwZWQgcHJvcGVydHkuXG4gICAgICAgICAgICB2aWV3W3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVbmtub3duIGF0dHJpYnV0ZSB2YWx1ZSAtLSBqdXN0IHNldCBpdCB0byBvdXIgb2JqZWN0IGFzIGlzLlxuICAgICAgICB2aWV3W2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIHJlbW92ZVBhcmVudFJlZmVyZW5jZXNGcm9tSXRlbXMoaXRlbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXJlbnQgJiYgaXRlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBVbmFzc2lnbmluZyBwYXJlbnQgJHtpdGVtLnBhcmVudE5vZGV9IG9uIHZhbHVlOiAke2l0ZW19YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQcm9wZXJ0aWVzKGluc3RhbmNlKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvcGVydHlNYXBzLmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpmb3JpblxuICAgICAgICAgICAgICAgIHByb3BNYXAuc2V0KHByb3BOYW1lLnRvTG93ZXJDYXNlKCksIHByb3BOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BlcnR5TWFwcy5zZXQodHlwZSwgcHJvcE1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BlcnR5TWFwcy5nZXQodHlwZSk7XG4gICAgfVxuICAgIGNzc0NsYXNzZXModmlldykge1xuICAgICAgICBpZiAoIXZpZXcubmdDc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICB2aWV3Lm5nQ3NzQ2xhc3NlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldy5uZ0Nzc0NsYXNzZXM7XG4gICAgfVxuICAgIGFkZENsYXNzKHZpZXcsIGNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFZpZXcgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnModmlldyk7XG4gICAgICAgIHRoaXMuY3NzQ2xhc3NlcyhleHRlbmRlZFZpZXcpLnNldChjbGFzc05hbWUsIHRydWUpO1xuICAgICAgICB0aGlzLnN5bmNDbGFzc2VzKGV4dGVuZGVkVmlldyk7XG4gICAgfVxuICAgIHJlbW92ZUNsYXNzKHZpZXcsIGNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFZpZXcgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnModmlldyk7XG4gICAgICAgIHRoaXMuY3NzQ2xhc3NlcyhleHRlbmRlZFZpZXcpLmRlbGV0ZShjbGFzc05hbWUpO1xuICAgICAgICB0aGlzLnN5bmNDbGFzc2VzKGV4dGVuZGVkVmlldyk7XG4gICAgfVxuICAgIHNldENsYXNzZXModmlldywgY2xhc3Nlc1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjbGFzc2VzVmFsdWUuc3BsaXQod2hpdGVTcGFjZVNwbGl0dGVyKTtcbiAgICAgICAgdGhpcy5jc3NDbGFzc2VzKHZpZXcpLmNsZWFyKCk7XG4gICAgICAgIGNsYXNzZXMuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB0aGlzLmNzc0NsYXNzZXModmlldykuc2V0KGNsYXNzTmFtZSwgdHJ1ZSkpO1xuICAgICAgICB0aGlzLnN5bmNDbGFzc2VzKHZpZXcpO1xuICAgIH1cbiAgICBzeW5jQ2xhc3Nlcyh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGNsYXNzVmFsdWUgPSBBcnJheS5mcm9tKHRoaXMuY3NzQ2xhc3Nlcyh2aWV3KS5rZXlzKCkpLmpvaW4oJyAnKTtcbiAgICAgICAgdmlldy5jbGFzc05hbWUgPSBjbGFzc1ZhbHVlO1xuICAgIH1cbiAgICBzZXRTdHlsZSh2aWV3LCBzdHlsZU5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChpc0Nzc1ZhcmlhYmxlKHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHZpZXcuc3R5bGUuc2V0VW5zY29wZWRDc3NWYXJpYWJsZShzdHlsZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHZpZXcuX29uQ3NzU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpZXcuc3R5bGVbc3R5bGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZVN0eWxlKHZpZXcsIHN0eWxlTmFtZSkge1xuICAgICAgICBpZiAoaXNDc3NWYXJpYWJsZShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBleHBvc2UgdGhpcyBvbiBjb3JlXG4gICAgICAgICAgICB2aWV3LnN0eWxlLnVuc2NvcGVkQ3NzVmFyaWFibGVzLmRlbGV0ZShzdHlsZU5hbWUpO1xuICAgICAgICAgICAgdmlldy5fb25Dc3NTdGF0ZUNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlldy5zdHlsZVtzdHlsZU5hbWVdID0gdW5zZXRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIHZpZXdVdGlsID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBWaWV3VXRpbDogVmlld1V0aWxcbn0pO1xuXG5jb25zdCBhZGRTdHlsZVRvQ3NzID0gcHJvZmlsZSgnXCJyZW5kZXJlclwiLmFkZFN0eWxlVG9Dc3MnLCBmdW5jdGlvbiBhZGRTdHlsZVRvQ3NzKHN0eWxlLCB0YWcpIHtcbiAgICBpZiAodGFnKSB7XG4gICAgICAgIGFkZFRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGUsIHRhZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBBcHBsaWNhdGlvbi5hZGRDc3Moc3R5bGUpO1xuICAgIH1cbn0pO1xuZnVuY3Rpb24gcnVuSW5Sb290Wm9uZShmbikge1xuICAgIGlmICh0eXBlb2YgWm9uZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIHJldHVybiBab25lLnJvb3QucnVuKGZuKTtcbn1cbmZ1bmN0aW9uIGluUm9vdFpvbmUoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBjb25zdCBjaGlsZEZ1bmN0aW9uID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IGNoaWxkRnVuY3Rpb24uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBydW5JblJvb3Rab25lKCgpID0+IGZuKC4uLmFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfTtcbn1cbmxldCBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkgPSBjbGFzcyBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByb290TW9kdWxlSUQsIHJldXNlVmlld3MpIHtcbiAgICAgICAgdGhpcy5yb290VmlldyA9IHJvb3RWaWV3O1xuICAgICAgICB0aGlzLm5hbWVzcGFjZUZpbHRlcnMgPSBuYW1lc3BhY2VGaWx0ZXJzO1xuICAgICAgICB0aGlzLnJvb3RNb2R1bGVJRCA9IHJvb3RNb2R1bGVJRDtcbiAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gcmV1c2VWaWV3cztcbiAgICAgICAgdGhpcy5jb21wb25lbnRSZW5kZXJlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggUmFkTGlzdFZpZXdcbiAgICAgICAgdGhpcy52aWV3VXRpbCA9IG5ldyBWaWV3VXRpbCh0aGlzLm5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXVzZVZpZXdzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IGZhbHNlOyAvLyBkZWZhdWx0IHRvIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWZhdWx0UmVuZGVyZXIgPSBuZXcgTmF0aXZlU2NyaXB0UmVuZGVyZXIocm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgfVxuICAgIGNyZWF0ZVJlbmRlcmVyKGhvc3RFbGVtZW50LCB0eXBlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyICR7aG9zdEVsZW1lbnR9LiB0eXBlLmlkOiAke3R5cGUuaWR9IHR5cGUuZW5jYXBzdWxhdGlvbjogJHt0eXBlLmVuY2Fwc3VsYXRpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFob3N0RWxlbWVudCB8fCAhdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZW5kZXJlciA9IHRoaXMuY29tcG9uZW50UmVuZGVyZXJzLmdldCh0eXBlLmlkKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqISBXQVJOSU5HXG4gICAgICAgICAqISBXZSdyZSByZXVzaW5nIHRoZSByZW5kZXJlciBmb3IgdGhlIGNvbXBvbmVudHNcbiAgICAgICAgICohIHRoaXMgbWlnaHQgY2F1c2UgdW5leHBlY3RlZCBiZWhhdmlvciBhcyB0aGUgXCJyb290Vmlld1wiIGlzIGFuIGFyYml0cmFyeSBob3N0RWxlbWVudFxuICAgICAgICAgKiEgYWxzbywgdGhlIHJlbmRlcmVyIGhhcyBpdCdzIC5kZXN0cm95KCkgY2FsbGVkIVxuICAgICAgICAgKiEgbWlnaHQgYmUgdXNlZnVsIHRvIGNyZWF0ZSBhIEJhc2VFbXVsYXRlZFJlbmRlciBhbmQgYSBQcm94eUVtdWxhdGVkUmVuZGVyXG4gICAgICAgICAqISBldmVyeSBjb21wb25lbnQgdHlwZSBnZXRzIGEgQmFzZUVtdWxhdGVkUmVuZGVyIChzaW5nbGV0b24pIHdoaWNoIGlzIHBhc3NlZCB0byBQcm94eUVtdWxhdGVkUmVuZGVyXG4gICAgICAgICAqISBQcm94eUVtdWxhdGVkUmVuZGVyZXIgcmVnaXN0ZXJzIHdpdGggQmFzZUVtdWxhdGVkUmVuZGVyIHNvIHdlIGNhbiBjbGVhbiB1cCB0aGluZ3MgbGlrZSBDU1Mgd2hlbiBpdCdzIG5vdCBuZWVkZWRcbiAgICAgICAgICohIHRoaXMgbWlnaHQgYmUgdXNlZnVsIGlmIHdlIGZpbmQgYSB3YXkgdG8gSE1SIGNvbXBvbmVudCBzdHlsaW5nIHdpdGhvdXQgYSBmdWxsIHJlYm9vdHN0cmFwXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGlmIChyZW5kZXJlciBpbnN0YW5jZW9mIEVtdWxhdGVkUmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5hcHBseVRvSG9zdChob3N0RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUuZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24uTm9uZSkge1xuICAgICAgICAgICAgdHlwZS5zdHlsZXMubWFwKChzKSA9PiBzLnRvU3RyaW5nKCkpLmZvckVhY2goKHYpID0+IGFkZFN0eWxlVG9Dc3ModiwgdGhpcy5yb290TW9kdWxlSUQpKTtcbiAgICAgICAgICAgIHJlbmRlcmVyID0gdGhpcy5kZWZhdWx0UmVuZGVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlciA9IG5ldyBFbXVsYXRlZFJlbmRlcmVyKHR5cGUsIGhvc3RFbGVtZW50LCB0aGlzLm5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucm9vdE1vZHVsZUlELCB0aGlzLnJldXNlVmlld3MpO1xuICAgICAgICAgICAgcmVuZGVyZXIuYXBwbHlUb0hvc3QoaG9zdEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50UmVuZGVyZXJzLnNldCh0eXBlLmlkLCByZW5kZXJlcik7XG4gICAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICB9XG4gICAgLy8gYmVnaW4/KCk6IHZvaWQge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICAvLyB9XG4gICAgLy8gZW5kPygpOiB2b2lkIHtcbiAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgLy8gfVxuICAgIHdoZW5SZW5kZXJpbmdEb25lKCkge1xuICAgICAgICBpZiAoIXRoaXMucm9vdFZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCBpbnRlcnZhbCA9IDA7XG4gICAgICAgICAgICBmdW5jdGlvbiBzY2hlZHVsZVJlc29sdmUoKSB7XG4gICAgICAgICAgICAgICAgLy8gaU9TIHJlYWxseSBoYXRlcyBzeW5jaHJvbm91cyB0aGluZ3MuLi5cbiAgICAgICAgICAgICAgICAvLyBVdGlscy5xdWV1ZU1hY3JvdGFzayhyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDE1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpcmVXaGVuTG9hZGVkKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSByb290RmFjdG9yeSgpO1xuICAgICAgICAgICAgICAgIGlmICh2aWV3LmlzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5vbmNlKCdsb2FkZWQnLCBzY2hlZHVsZVJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJvb3RGYWN0b3J5ID0gKCkgPT4gKHRoaXMucm9vdFZpZXcgaW5zdGFuY2VvZiBDb250ZW50VmlldyA/IHRoaXMucm9vdFZpZXcuY29udGVudCA6IHRoaXMucm9vdFZpZXcpO1xuICAgICAgICAgICAgaWYgKCFyb290RmFjdG9yeSgpKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290RmFjdG9yeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVXaGVuTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaXJlV2hlbkxvYWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxufTtcbk5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSW5qZWN0KEFQUF9ST09UX1ZJRVcpKSxcbiAgICBfX3BhcmFtKDEsIEluamVjdChOQU1FU1BBQ0VfRklMVEVSUykpLFxuICAgIF9fcGFyYW0oMiwgSW5qZWN0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCkpLFxuICAgIF9fcGFyYW0oMywgT3B0aW9uYWwoKSksXG4gICAgX19wYXJhbSgzLCBJbmplY3QoRU5BQkxFX1JFVVNBQkVfVklFV1MpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1ZpZXcsIEFycmF5LCBPYmplY3QsIE9iamVjdF0pXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkpO1xuY2xhc3MgTmF0aXZlU2NyaXB0UmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHRoaXMucm9vdFZpZXcgPSByb290VmlldztcbiAgICAgICAgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzID0gbmFtZXNwYWNlRmlsdGVycztcbiAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gcmV1c2VWaWV3cztcbiAgICAgICAgdGhpcy52aWV3VXRpbCA9IG5ldyBWaWV3VXRpbCh0aGlzLm5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgICAgIHRoaXMuZGVzdHJveU5vZGUgPSAobm9kZSkgPT4gcnVuSW5Sb290Wm9uZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5kZXN0cm95Tm9kZSBub2RlOiAke25vZGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZT8uZGVzdHJveU5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlPy5kZXN0cm95Tm9kZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKCdOYXRpdmVTY3JpcHRSZW5kZXJlci5kZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlRWxlbWVudChuYW1lLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5jcmVhdGVFbGVtZW50OiAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9sZE5hbWU7XG4gICAgICAgIGlmICghaXNLbm93blZpZXcobmFtZSkpIHtcbiAgICAgICAgICAgIG9sZE5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgbmFtZSA9ICdQcm94eVZpZXdDb250YWluZXInO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdVdGlsLmNyZWF0ZVZpZXcobmFtZSk7XG4gICAgICAgIGlmIChvbGROYW1lKSB7XG4gICAgICAgICAgICB2aWV3LmN1c3RvbUNTU05hbWUgPSBvbGROYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cbiAgICBjcmVhdGVDb21tZW50KHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuY3JlYXRlQ29tbWVudCAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdVdGlsLmNyZWF0ZUNvbW1lbnQodmFsdWUpO1xuICAgIH1cbiAgICBjcmVhdGVUZXh0KHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuY3JlYXRlVGV4dCAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdVdGlsLmNyZWF0ZVRleHQodmFsdWUpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuYXBwZW5kQ2hpbGQgY2hpbGQ6ICR7bmV3Q2hpbGR9IHBhcmVudDogJHtwYXJlbnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5hcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKTtcbiAgICB9XG4gICAgaW5zZXJ0QmVmb3JlKHBhcmVudCwgbmV3Q2hpbGQsIHJlZkNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuaW5zZXJ0QmVmb3JlIGNoaWxkOiAke25ld0NoaWxkfSBgICsgYHBhcmVudDogJHtwYXJlbnR9IHJlZkNoaWxkOiAke3JlZkNoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuaW5zZXJ0QmVmb3JlKHBhcmVudCwgbmV3Q2hpbGQsIHJlZkNoaWxkKTtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBvbGRDaGlsZCwgaXNIb3N0RWxlbWVudCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZUNoaWxkIGNoaWxkOiAke29sZENoaWxkfSBwYXJlbnQ6ICR7cGFyZW50fWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwucmVtb3ZlQ2hpbGQocGFyZW50LCBvbGRDaGlsZCk7XG4gICAgfVxuICAgIHNlbGVjdFJvb3RFbGVtZW50KHNlbGVjdG9yT3JOb2RlLCBwcmVzZXJ2ZUNvbnRlbnQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZWxlY3RSb290RWxlbWVudDogJHtzZWxlY3Rvck9yTm9kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0b3JPck5vZGUgaW5zdGFuY2VvZiBWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3JPck5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdG9yT3JOb2RlICYmIHNlbGVjdG9yT3JOb2RlWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFZpZXdCeUlkKHRoaXMucm9vdFZpZXcsIHNlbGVjdG9yT3JOb2RlLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIHJldHVybiAocmVzdWx0IHx8IHRoaXMucm9vdFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3JPck5vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy52aWV3VXRpbC5jcmVhdGVWaWV3KHNlbGVjdG9yT3JOb2RlKTtcbiAgICAgICAgICAgIGlmIChnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3KHZpZXcpID09PSB2aWV3KSB7XG4gICAgICAgICAgICAgICAgLy8gdmlldyBpcyBuYXRpdmVsaWtlIVxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5yb290Vmlldywgdmlldyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdFZpZXc7XG4gICAgfVxuICAgIHBhcmVudE5vZGUobm9kZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnBhcmVudE5vZGUgZm9yIG5vZGU6ICR7bm9kZX0gaXMgJHtub2RlLnBhcmVudE5vZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgbmV4dFNpYmxpbmcobm9kZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLm5leHRTaWJsaW5nIG9mICR7bm9kZX0gaXMgJHtub2RlLm5leHRTaWJsaW5nfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBzZXRBdHRyaWJ1dGUoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZXRBdHRyaWJ1dGUgJHtuYW1lc3BhY2UgPyBuYW1lc3BhY2UgKyAnOicgOiAnJ30ke2VsfS4ke25hbWV9ID0gJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnNldFByb3BlcnR5KGVsLCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgcmVtb3ZlQXR0cmlidXRlKGVsLCBuYW1lLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUgJHtuYW1lc3BhY2UgPyBuYW1lc3BhY2UgKyAnOicgOiAnJ30ke2VsfS4ke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkQ2xhc3MoZWwsIG5hbWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5hZGRDbGFzcyAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5hZGRDbGFzcyhlbCwgbmFtZSk7XG4gICAgfVxuICAgIHJlbW92ZUNsYXNzKGVsLCBuYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlQ2xhc3MgJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwucmVtb3ZlQ2xhc3MoZWwsIG5hbWUpO1xuICAgIH1cbiAgICBzZXRTdHlsZShlbCwgc3R5bGUsIHZhbHVlLCBmbGFncykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldFN0eWxlOiAke2VsfSwgJHtzdHlsZX0gPSAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuc2V0U3R5bGUoZWwsIHN0eWxlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJlbW92ZVN0eWxlKGVsLCBzdHlsZSwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKCdOYXRpdmVTY3JpcHRSZW5kZXJlci5yZW1vdmVTdHlsZTogJHtzdHlsZU5hbWV9Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVTdHlsZShlbCwgc3R5bGUpO1xuICAgIH1cbiAgICBzZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZXRQcm9wZXJ0eSAke2VsfS4ke25hbWV9ID0gJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnNldFByb3BlcnR5KGVsLCBuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICAgIHNldFZhbHVlKG5vZGUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0VmFsdWUgcmVuZGVyTm9kZTogJHtub2RlfSwgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0Tm9kZSkge1xuICAgICAgICAgICAgbm9kZS50ZXh0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIGxpc3Rlbih0YXJnZXQsIGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIubGlzdGVuOiAke2V2ZW50TmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQub24oZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgICAgIGlmIChldmVudE5hbWUgPT09IFZpZXcubG9hZGVkRXZlbnQgJiYgdGFyZ2V0LmlzTG9hZGVkKSB7XG4gICAgICAgICAgICAvLyB3ZSBtdXN0IGNyZWF0ZSBhIG5ldyBvYmVydmFibGUgaGVyZSB0byBlbnN1cmUgdGhhdCB0aGUgZXZlbnQgZ29lcyB0aHJvdWdoIHdoYXRldmVyIHpvbmUgcGF0Y2hlcyBhcmUgYXBwbGllZFxuICAgICAgICAgICAgY29uc3Qgb2JzID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgICAgIG9icy5vbmNlKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgb2JzLm5vdGlmeSh7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIG9iamVjdDogdGFyZ2V0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHRhcmdldC5vZmYoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtTdHJpbmcsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiY3JlYXRlRWxlbWVudFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJjcmVhdGVDb21tZW50XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImNyZWF0ZVRleHRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1ZpZXcsIFZpZXddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImFwcGVuZENoaWxkXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIE9iamVjdCwgT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJpbnNlcnRCZWZvcmVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgT2JqZWN0LCBCb29sZWFuXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJyZW1vdmVDaGlsZFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIFN0cmluZywgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJzZXRBdHRyaWJ1dGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJhZGRDbGFzc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInJlbW92ZUNsYXNzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZywgT2JqZWN0LCBOdW1iZXJdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInNldFN0eWxlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZywgTnVtYmVyXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJyZW1vdmVTdHlsZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIE9iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwic2V0UHJvcGVydHlcIiwgbnVsbCk7XG4vLyBDT05URU5UX0FUVFIgbm90IGV4cG9ydGVkIGZyb20gbmF0aXZlc2NyaXB0LXJlbmRlcmVyIC0gd2UgbmVlZCBpdCBmb3Igc3R5bGVzIGFwcGxpY2F0aW9uLlxuY29uc3QgQ09NUE9ORU5UX1JFR0VYID0gLyVDT01QJS9nO1xuY29uc3QgQVRUUl9TQU5JVElaRVIgPSAvLS9nO1xuY29uc3QgQ09NUE9ORU5UX1ZBUklBQkxFID0gJyVDT01QJSc7XG5jb25zdCBIT1NUX0FUVFIgPSBgX25naG9zdC0ke0NPTVBPTkVOVF9WQVJJQUJMRX1gO1xuY29uc3QgQ09OVEVOVF9BVFRSID0gYF9uZ2NvbnRlbnQtJHtDT01QT05FTlRfVkFSSUFCTEV9YDtcbmNvbnN0IHJlcGxhY2VOZ0F0dHJpYnV0ZSA9IGZ1bmN0aW9uIChpbnB1dCwgY29tcG9uZW50SWQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShDT01QT05FTlRfUkVHRVgsIGNvbXBvbmVudElkKTtcbn07XG5jb25zdCBhZGRTY29wZWRTdHlsZVRvQ3NzID0gcHJvZmlsZShgXCJyZW5kZXJlclwiLmFkZFNjb3BlZFN0eWxlVG9Dc3NgLCBmdW5jdGlvbiBhZGRTY29wZWRTdHlsZVRvQ3NzKHN0eWxlLCB0YWcpIHtcbiAgICBpZiAodGFnKSB7XG4gICAgICAgIGFkZFRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGUsIHRhZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBBcHBsaWNhdGlvbi5hZGRDc3Moc3R5bGUpO1xuICAgIH1cbn0pO1xuY2xhc3MgRW11bGF0ZWRSZW5kZXJlciBleHRlbmRzIE5hdGl2ZVNjcmlwdFJlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnQsIHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByb290TW9kdWxlSWQsIHJldXNlVmlld3MpIHtcbiAgICAgICAgc3VwZXIocm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHJldXNlVmlld3MpO1xuICAgICAgICB0aGlzLnJvb3RNb2R1bGVJZCA9IHJvb3RNb2R1bGVJZDtcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnQuaWQucmVwbGFjZShBVFRSX1NBTklUSVpFUiwgJ18nKTtcbiAgICAgICAgdGhpcy5jb250ZW50QXR0ciA9IHJlcGxhY2VOZ0F0dHJpYnV0ZShDT05URU5UX0FUVFIsIGNvbXBvbmVudElkKTtcbiAgICAgICAgdGhpcy5ob3N0QXR0ciA9IHJlcGxhY2VOZ0F0dHJpYnV0ZShIT1NUX0FUVFIsIGNvbXBvbmVudElkKTtcbiAgICAgICAgdGhpcy5hZGRTdHlsZXMoY29tcG9uZW50LnN0eWxlcywgY29tcG9uZW50SWQpO1xuICAgIH1cbiAgICBhcHBseVRvSG9zdCh2aWV3KSB7XG4gICAgICAgIHN1cGVyLnNldEF0dHJpYnV0ZSh2aWV3LCB0aGlzLmhvc3RBdHRyLCAnJyk7XG4gICAgfVxuICAgIGFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpIHtcbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCk7XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQocGFyZW50LCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBzdXBlci5jcmVhdGVFbGVtZW50KHBhcmVudCwgbmFtZSk7XG4gICAgICAgIC8vIFNldCBhbiBhdHRyaWJ1dGUgdG8gdGhlIHZpZXcgdG8gc2NvcGUgY29tcG9uZW50LXNwZWNpZmljIGNzcy5cbiAgICAgICAgLy8gVGhlIHByb3BlcnR5IG5hbWUgaXMgcHJlLWdlbmVyYXRlZCBieSBBbmd1bGFyLlxuICAgICAgICBzdXBlci5zZXRBdHRyaWJ1dGUodmlldywgdGhpcy5jb250ZW50QXR0ciwgJycpO1xuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG4gICAgYWRkU3R5bGVzKHN0eWxlcywgY29tcG9uZW50SWQpIHtcbiAgICAgICAgc3R5bGVzXG4gICAgICAgICAgICAubWFwKChzKSA9PiBzLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAubWFwKChzKSA9PiByZXBsYWNlTmdBdHRyaWJ1dGUocywgY29tcG9uZW50SWQpKVxuICAgICAgICAgICAgLmZvckVhY2goKHMpID0+IGFkZFNjb3BlZFN0eWxlVG9Dc3MocywgdGhpcy5yb290TW9kdWxlSWQpKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBFbXVsYXRlZFJlbmRlcmVyLCBkZXBzOiBcImludmFsaWRcIiwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRW11bGF0ZWRSZW5kZXJlciB9KTsgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvZmlsZSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbQXJyYXksIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBFbXVsYXRlZFJlbmRlcmVyLnByb3RvdHlwZSwgXCJhZGRTdHlsZXNcIiwgbnVsbCk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRW11bGF0ZWRSZW5kZXJlciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQgfSwgeyB0eXBlOiBpMS5WaWV3IH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogdW5kZWZpbmVkIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBhZGRTdHlsZXM6IFtdIH0gfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBudWxsIHBvcnRhbCB0byBhIGhvc3QuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93TnVsbFBvcnRhbEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdNdXN0IHByb3ZpZGUgYSBwb3J0YWwgdG8gYXR0YWNoJyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhIHBvcnRhbCB0byBhIGhvc3QgdGhhdCBpcyBhbHJlYWR5IGF0dGFjaGVkLlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdIb3N0IGFscmVhZHkgaGFzIGEgcG9ydGFsIGF0dGFjaGVkJyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhIHBvcnRhbCB0byBhbiBhbHJlYWR5LWRpc3Bvc2VkIGhvc3QuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93UG9ydGFsT3V0bGV0QWxyZWFkeURpc3Bvc2VkRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1RoaXMgUG9ydGFsT3V0bGV0IGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQnKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGFuIHVua25vd24gcG9ydGFsIHR5cGUuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93VW5rbm93blBvcnRhbFR5cGVFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignQXR0ZW1wdGluZyB0byBhdHRhY2ggYW4gdW5rbm93biBQb3J0YWwgdHlwZS4gQmFzZVBvcnRhbE91dGxldCBhY2NlcHRzIGVpdGhlciAnICsgJ2EgQ29tcG9uZW50UG9ydGFsIG9yIGEgVGVtcGxhdGVQb3J0YWwuJyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhIHBvcnRhbCB0byBhIG51bGwgaG9zdC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dOdWxsUG9ydGFsT3V0bGV0RXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gYXR0YWNoIGEgcG9ydGFsIHRvIGEgbnVsbCBQb3J0YWxPdXRsZXQnKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gZGV0YWNoIGEgcG9ydGFsIHRoYXQgaXMgbm90IGF0dGFjaGVkLlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd05vUG9ydGFsQXR0YWNoZWRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignQXR0ZW1wdGluZyB0byBkZXRhY2ggYSBwb3J0YWwgdGhhdCBpcyBub3QgYXR0YWNoZWQgdG8gYSBob3N0Jyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIGBQb3J0YWxgIGlzIHNvbWV0aGluZyB0aGF0IHlvdSB3YW50IHRvIHJlbmRlciBzb21ld2hlcmUgZWxzZS5cbiAqIEl0IGNhbiBiZSBhdHRhY2ggdG8gLyBkZXRhY2hlZCBmcm9tIGEgYFBvcnRhbE91dGxldGAuXG4gKi9cbmNsYXNzIFBvcnRhbCB7XG4gICAgLyoqIEF0dGFjaCB0aGlzIHBvcnRhbCB0byBhIGhvc3QuICovXG4gICAgYXR0YWNoKGhvc3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgaWYgKGhvc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93TnVsbFBvcnRhbE91dGxldEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaG9zdC5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkSG9zdCA9IGhvc3Q7XG4gICAgICAgIHJldHVybiBob3N0LmF0dGFjaCh0aGlzKTtcbiAgICB9XG4gICAgLyoqIERldGFjaCB0aGlzIHBvcnRhbCBmcm9tIGl0cyBob3N0ICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICBjb25zdCBob3N0ID0gdGhpcy5fYXR0YWNoZWRIb3N0O1xuICAgICAgICBpZiAoaG9zdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZEhvc3QgPSBudWxsO1xuICAgICAgICAgICAgaG9zdC5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIHRocm93Tm9Qb3J0YWxBdHRhY2hlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFdoZXRoZXIgdGhpcyBwb3J0YWwgaXMgYXR0YWNoZWQgdG8gYSBob3N0LiAqL1xuICAgIGdldCBpc0F0dGFjaGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRIb3N0ICE9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIFBvcnRhbE91dGxldCByZWZlcmVuY2Ugd2l0aG91dCBwZXJmb3JtaW5nIGBhdHRhY2goKWAuIFRoaXMgaXMgdXNlZCBkaXJlY3RseSBieVxuICAgICAqIHRoZSBQb3J0YWxPdXRsZXQgd2hlbiBpdCBpcyBwZXJmb3JtaW5nIGFuIGBhdHRhY2goKWAgb3IgYGRldGFjaCgpYC5cbiAgICAgKi9cbiAgICBzZXRBdHRhY2hlZEhvc3QoaG9zdCkge1xuICAgICAgICB0aGlzLl9hdHRhY2hlZEhvc3QgPSBob3N0O1xuICAgIH1cbn1cbi8qKlxuICogQSBgQ29tcG9uZW50UG9ydGFsYCBpcyBhIHBvcnRhbCB0aGF0IGluc3RhbnRpYXRlcyBzb21lIENvbXBvbmVudCB1cG9uIGF0dGFjaG1lbnQuXG4gKi9cbmNsYXNzIENvbXBvbmVudFBvcnRhbCBleHRlbmRzIFBvcnRhbCB7XG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50LCB2aWV3Q29udGFpbmVyUmVmLCBpbmplY3RvciwgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXJSZWYgPSB2aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLmluamVjdG9yID0gaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgIH1cbn1cbi8qKlxuICogQSBgVGVtcGxhdGVQb3J0YWxgIGlzIGEgcG9ydGFsIHRoYXQgcmVwcmVzZW50cyBzb21lIGVtYmVkZGVkIHRlbXBsYXRlIChUZW1wbGF0ZVJlZikuXG4gKi9cbmNsYXNzIFRlbXBsYXRlUG9ydGFsIGV4dGVuZHMgUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgdmlld0NvbnRhaW5lclJlZiwgY29udGV4dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRlbXBsYXRlUmVmID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICAgIGdldCBvcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlUmVmLmVsZW1lbnRSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgcG9ydGFsIHRvIHRoZSBwcm92aWRlZCBgUG9ydGFsT3V0bGV0YC5cbiAgICAgKiBXaGVuIGEgY29udGV4dCBpcyBwcm92aWRlZCBpdCB3aWxsIG92ZXJyaWRlIHRoZSBgY29udGV4dGAgcHJvcGVydHkgb2YgdGhlIGBUZW1wbGF0ZVBvcnRhbGBcbiAgICAgKiBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhdHRhY2goaG9zdCwgY29udGV4dCA9IHRoaXMuY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICByZXR1cm4gc3VwZXIuYXR0YWNoKGhvc3QpO1xuICAgIH1cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmRldGFjaCgpO1xuICAgIH1cbn1cbi8qKlxuICogQSBgRG9tUG9ydGFsYCBpcyBhIHBvcnRhbCB3aG9zZSBET00gZWxlbWVudCB3aWxsIGJlIHRha2VuIGZyb20gaXRzIGN1cnJlbnQgcG9zaXRpb25cbiAqIGluIHRoZSBET00gYW5kIG1vdmVkIGludG8gYSBwb3J0YWwgb3V0bGV0LCB3aGVuIGl0IGlzIGF0dGFjaGVkLiBPbiBkZXRhY2gsIHRoZSBjb250ZW50XG4gKiB3aWxsIGJlIHJlc3RvcmVkIHRvIGl0cyBvcmlnaW5hbCBwb3NpdGlvbi5cbiAqL1xuY2xhc3MgRG9tUG9ydGFsIGV4dGVuZHMgUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50UmVmID8gZWxlbWVudC5uYXRpdmVFbGVtZW50IDogZWxlbWVudDtcbiAgICB9XG59XG4vKipcbiAqIFBhcnRpYWwgaW1wbGVtZW50YXRpb24gb2YgUG9ydGFsT3V0bGV0IHRoYXQgaGFuZGxlcyBhdHRhY2hpbmdcbiAqIENvbXBvbmVudFBvcnRhbCBhbmQgVGVtcGxhdGVQb3J0YWwuXG4gKi9cbmNsYXNzIEJhc2VQb3J0YWxPdXRsZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKiogV2hldGhlciB0aGlzIGhvc3QgaGFzIGFscmVhZHkgYmVlbiBwZXJtYW5lbnRseSBkaXNwb3NlZC4gKi9cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICAvLyBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMCBgYXR0YWNoRG9tUG9ydGFsYCB0byBiZWNvbWUgYSByZXF1aXJlZCBhYnN0cmFjdCBtZXRob2QuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbWVtYmVyLW9yZGVyaW5nXG4gICAgICAgIHRoaXMuYXR0YWNoRG9tUG9ydGFsID0gbnVsbDtcbiAgICB9XG4gICAgLyoqIFdoZXRoZXIgdGhpcyBob3N0IGhhcyBhbiBhdHRhY2hlZCBwb3J0YWwuICovXG4gICAgaGFzQXR0YWNoZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2F0dGFjaGVkUG9ydGFsO1xuICAgIH1cbiAgICAvKiogQXR0YWNoZXMgYSBwb3J0YWwuICovXG4gICAgYXR0YWNoKHBvcnRhbCkge1xuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBpZiAoIXBvcnRhbCkge1xuICAgICAgICAgICAgICAgIHRocm93TnVsbFBvcnRhbEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcnRhbCBpbnN0YW5jZW9mIENvbXBvbmVudFBvcnRhbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb3J0YWwgaW5zdGFuY2VvZiBUZW1wbGF0ZVBvcnRhbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2hUZW1wbGF0ZVBvcnRhbChwb3J0YWwpO1xuICAgICAgICAgICAgLy8gQGJyZWFraW5nLWNoYW5nZSAxMC4wLjAgcmVtb3ZlIG51bGwgY2hlY2sgZm9yIGB0aGlzLmF0dGFjaERvbVBvcnRhbGAuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdHRhY2hEb21Qb3J0YWwgJiYgcG9ydGFsIGluc3RhbmNlb2YgRG9tUG9ydGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGFjaERvbVBvcnRhbChwb3J0YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIHRocm93VW5rbm93blBvcnRhbFR5cGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBEZXRhY2hlcyBhIHByZXZpb3VzbHkgYXR0YWNoZWQgcG9ydGFsLiAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkUG9ydGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbC5zZXRBdHRhY2hlZEhvc3QobnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW52b2tlRGlzcG9zZUZuKCk7XG4gICAgfVxuICAgIC8qKiBQZXJtYW5lbnRseSBkaXNwb3NlIG9mIHRoaXMgcG9ydGFsIGhvc3QuICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZva2VEaXNwb3NlRm4oKTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKiBAZG9jcy1wcml2YXRlICovXG4gICAgc2V0RGlzcG9zZUZuKGZuKSB7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VGbiA9IGZuO1xuICAgIH1cbiAgICBfaW52b2tlRGlzcG9zZUZuKCkge1xuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZUZuKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlRm4oKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VGbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaXJlY3RpdmUgdmVyc2lvbiBvZiBhIGBUZW1wbGF0ZVBvcnRhbGAuIEJlY2F1c2UgdGhlIGRpcmVjdGl2ZSAqaXMqIGEgVGVtcGxhdGVQb3J0YWwsXG4gKiB0aGUgZGlyZWN0aXZlIGluc3RhbmNlIGl0c2VsZiBjYW4gYmUgYXR0YWNoZWQgdG8gYSBob3N0LCBlbmFibGluZyBkZWNsYXJhdGl2ZSB1c2Ugb2YgcG9ydGFscy5cbiAqL1xuY2xhc3MgQ2RrUG9ydGFsIGV4dGVuZHMgVGVtcGxhdGVQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlUmVmLCB2aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIHN1cGVyKHRlbXBsYXRlUmVmLCB2aWV3Q29udGFpbmVyUmVmKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWwsIGRlcHM6IFt7IHRva2VuOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogQ2RrUG9ydGFsLCBzZWxlY3RvcjogXCJbY2RrUG9ydGFsXVwiLCBleHBvcnRBczogW1wiY2RrUG9ydGFsXCJdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW2Nka1BvcnRhbF0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ2Nka1BvcnRhbCcsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfV07IH0gfSk7XG4vKipcbiAqIERpcmVjdGl2ZSB2ZXJzaW9uIG9mIGEgUG9ydGFsT3V0bGV0LiBCZWNhdXNlIHRoZSBkaXJlY3RpdmUgKmlzKiBhIFBvcnRhbE91dGxldCwgcG9ydGFscyBjYW4gYmVcbiAqIGRpcmVjdGx5IGF0dGFjaGVkIHRvIGl0LCBlbmFibGluZyBkZWNsYXJhdGl2ZSB1c2UuXG4gKlxuICogVXNhZ2U6XG4gKiBgPG5nLXRlbXBsYXRlIFtjZGtQb3J0YWxPdXRsZXRdPVwiZ3JlZXRpbmdcIj48L25nLXRlbXBsYXRlPmBcbiAqL1xuY2xhc3MgQ2RrUG9ydGFsT3V0bGV0IGV4dGVuZHMgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgX3ZpZXdDb250YWluZXJSZWYsIHJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYgPSBfdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKiogV2hldGhlciB0aGUgcG9ydGFsIGNvbXBvbmVudCBpcyBpbml0aWFsaXplZC4gKi9cbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAvKiogRW1pdHMgd2hlbiBhIHBvcnRhbCBpcyBhdHRhY2hlZCB0byB0aGUgb3V0bGV0LiAqL1xuICAgICAgICB0aGlzLmF0dGFjaGVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoZXMgdGhlIGdpdmVuIERvbVBvcnRhbCB0byB0aGlzIFBvcnRhbEhvc3QgYnkgbW92aW5nIGFsbCBvZiB0aGUgcG9ydGFsIGNvbnRlbnQgaW50byBpdC5cbiAgICAgICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFRvIGJlIHR1cm5lZCBpbnRvIGEgbWV0aG9kLlxuICAgICAgICAgKiBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSAocG9ydGFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gcG9ydGFsLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSAmJiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdET00gcG9ydGFsIGNvbnRlbnQgbXVzdCBiZSBhdHRhY2hlZCB0byBhIHBhcmVudCBub2RlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQW5jaG9yIHVzZWQgdG8gc2F2ZSB0aGUgZWxlbWVudCdzIHByZXZpb3VzIHBvc2l0aW9uIHNvXG4gICAgICAgICAgICAvLyB0aGF0IHdlIGNhbiByZXN0b3JlIGl0IHdoZW4gdGhlIHBvcnRhbCBpcyBkZXRhY2hlZC5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQoJ2RvbS1wb3J0YWwnKTtcbiAgICAgICAgICAgIHBvcnRhbC5zZXRBdHRhY2hlZEhvc3QodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmluc2VydEJlZm9yZShlbGVtZW50LnBhcmVudE5vZGUsIGFuY2hvck5vZGUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLl9nZXRSb290Tm9kZSgpLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvck5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmluc2VydEJlZm9yZShhbmNob3JOb2RlLnBhcmVudE5vZGUsIGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKGFuY2hvck5vZGUucGFyZW50Tm9kZSwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuY2hvck5vZGUucGFyZW50Tm9kZSEucmVwbGFjZUNoaWxkKGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogUG9ydGFsIGFzc29jaWF0ZWQgd2l0aCB0aGUgUG9ydGFsIG91dGxldC4gKi9cbiAgICBnZXQgcG9ydGFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRQb3J0YWw7XG4gICAgfVxuICAgIHNldCBwb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgY2FzZXMgd2hlcmUgdGhlIGBwb3J0YWxgIGlzIHNldCB0byBhIGZhbHN5IHZhbHVlIGJlZm9yZSB0aGUgbGlmZWN5Y2xlIGhvb2tzIGhhdmVcbiAgICAgICAgLy8gcnVuLiBUaGlzIGhhbmRsZXMgdGhlIGNhc2VzIHdoZXJlIHRoZSB1c2VyIG1pZ2h0IGRvIHNvbWV0aGluZyBsaWtlIGA8ZGl2IGNka1BvcnRhbE91dGxldD5gXG4gICAgICAgIC8vIGFuZCBhdHRhY2ggYSBwb3J0YWwgcHJvZ3JhbW1hdGljYWxseSBpbiB0aGUgcGFyZW50IGNvbXBvbmVudC4gV2hlbiBBbmd1bGFyIGRvZXMgdGhlIGZpcnN0IENEXG4gICAgICAgIC8vIHJvdW5kLCBpdCB3aWxsIGZpcmUgdGhlIHNldHRlciB3aXRoIGVtcHR5IHN0cmluZywgY2F1c2luZyB0aGUgdXNlcidzIGNvbnRlbnQgdG8gYmUgY2xlYXJlZC5cbiAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSAmJiAhcG9ydGFsICYmICF0aGlzLl9pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgc3VwZXIuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcnRhbCkge1xuICAgICAgICAgICAgc3VwZXIuYXR0YWNoKHBvcnRhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgfVxuICAgIC8qKiBDb21wb25lbnQgb3IgdmlldyByZWZlcmVuY2UgdGhhdCBpcyBhdHRhY2hlZCB0byB0aGUgcG9ydGFsLiAqL1xuICAgIGdldCBhdHRhY2hlZFJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkUmVmO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIENvbXBvbmVudFBvcnRhbCB0byB0aGlzIFBvcnRhbE91dGxldCB1c2luZyB0aGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIHBvcnRhbCBvdXRsZXQuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBhdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHBvcnRhbC5zZXRBdHRhY2hlZEhvc3QodGhpcyk7XG4gICAgICAgIC8vIElmIHRoZSBwb3J0YWwgc3BlY2lmaWVzIGFuIG9yaWdpbiwgdXNlIHRoYXQgYXMgdGhlIGxvZ2ljYWwgbG9jYXRpb24gb2YgdGhlIGNvbXBvbmVudFxuICAgICAgICAvLyBpbiB0aGUgYXBwbGljYXRpb24gdHJlZS4gT3RoZXJ3aXNlIHVzZSB0aGUgbG9jYXRpb24gb2YgdGhpcyBQb3J0YWxPdXRsZXQuXG4gICAgICAgIGNvbnN0IHZpZXdDb250YWluZXJSZWYgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZiAhPSBudWxsID8gcG9ydGFsLnZpZXdDb250YWluZXJSZWYgOiB0aGlzLl92aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IHBvcnRhbC5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfHwgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICBjb25zdCBjb21wb25lbnRGYWN0b3J5ID0gcmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkocG9ydGFsLmNvbXBvbmVudCk7XG4gICAgICAgIGNvbnN0IHJlZiA9IHZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnksIHZpZXdDb250YWluZXJSZWYubGVuZ3RoLCBwb3J0YWwuaW5qZWN0b3IgfHwgdmlld0NvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgIC8vIElmIHdlJ3JlIHVzaW5nIGEgdmlldyBjb250YWluZXIgdGhhdCdzIGRpZmZlcmVudCBmcm9tIHRoZSBpbmplY3RlZCBvbmUgKGUuZy4gd2hlbiB0aGUgcG9ydGFsXG4gICAgICAgIC8vIHNwZWNpZmllcyBpdHMgb3duKSB3ZSBuZWVkIHRvIG1vdmUgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSBvdXRsZXQsIG90aGVyd2lzZSBpdCdsbCBiZSByZW5kZXJlZFxuICAgICAgICAvLyBpbnNpZGUgb2YgdGhlIGFsdGVybmF0ZSB2aWV3IGNvbnRhaW5lci5cbiAgICAgICAgaWYgKHZpZXdDb250YWluZXJSZWYgIT09IHRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0Um9vdE5vZGUoKSwgcmVmLmhvc3RWaWV3LnJvb3ROb2Rlc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHJlZi5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSByZWY7XG4gICAgICAgIHRoaXMuYXR0YWNoZWQuZW1pdChyZWYpO1xuICAgICAgICByZXR1cm4gcmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIFRlbXBsYXRlUG9ydGFsIHRvIHRoaXMgUG9ydGFsSG9zdCBhcyBhbiBlbWJlZGRlZCBWaWV3LlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIGF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBwb3J0YWwuc2V0QXR0YWNoZWRIb3N0KHRoaXMpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5fdmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcocG9ydGFsLnRlbXBsYXRlUmVmLCBwb3J0YWwuY29udGV4dCk7XG4gICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmNsZWFyKCkpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSB2aWV3UmVmO1xuICAgICAgICB0aGlzLmF0dGFjaGVkLmVtaXQodmlld1JlZik7XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICAvKiogR2V0cyB0aGUgcm9vdCBub2RlIG9mIHRoZSBwb3J0YWwgb3V0bGV0LiAqL1xuICAgIF9nZXRSb290Tm9kZSgpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICAvLyBUaGUgZGlyZWN0aXZlIGNvdWxkIGJlIHNldCBvbiBhIHRlbXBsYXRlIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgY29tbWVudFxuICAgICAgICAvLyBub2RlIGJlaW5nIHRoZSByb290LiBVc2UgdGhlIGNvbW1lbnQncyBwYXJlbnQgbm9kZSBpZiB0aGF0IGlzIHRoZSBjYXNlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICByZXR1cm4gKCEobmF0aXZlRWxlbWVudCBpbnN0YW5jZW9mIENvbW1lbnROb2RlKSA/IG5hdGl2ZUVsZW1lbnQgOiBuYXRpdmVFbGVtZW50LnBhcmVudE5vZGUpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbE91dGxldCwgZGVwczogW3sgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdG9rZW46IGkwLlJlbmRlcmVyMiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IENka1BvcnRhbE91dGxldCwgc2VsZWN0b3I6IFwiW2Nka1BvcnRhbE91dGxldF1cIiwgaW5wdXRzOiB7IHBvcnRhbDogW1wiY2RrUG9ydGFsT3V0bGV0XCIsIFwicG9ydGFsXCJdIH0sIG91dHB1dHM6IHsgYXR0YWNoZWQ6IFwiYXR0YWNoZWRcIiB9LCBleHBvcnRBczogW1wiY2RrUG9ydGFsT3V0bGV0XCJdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbE91dGxldCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW2Nka1BvcnRhbE91dGxldF0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ2Nka1BvcnRhbE91dGxldCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taW5wdXRzLW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGlucHV0czogWydwb3J0YWw6IGNka1BvcnRhbE91dGxldCddLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IGkwLlJlbmRlcmVyMiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYXR0YWNoZWQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuY2xhc3MgUG9ydGFsTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBvcnRhbE1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQb3J0YWxNb2R1bGUsIGRlY2xhcmF0aW9uczogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSwgZXhwb3J0czogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBvcnRhbE1vZHVsZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBvcnRhbE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBQb3J0YWxPdXRsZXQgZm9yIGF0dGFjaGluZyBwb3J0YWxzIHRvIGFuIGFyYml0cmFyeSBET00gZWxlbWVudCBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyXG4gKiBhcHBsaWNhdGlvbiBjb250ZXh0LlxuICovXG5sZXQgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0ID0gY2xhc3MgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0IGV4dGVuZHMgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIEVsZW1lbnQgaW50byB3aGljaCB0aGUgY29udGVudCBpcyBwcm9qZWN0ZWQuICovXG4gICAgb3V0bGV0RWxlbWVudCwgX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgX2FwcFJlZiwgX2RlZmF1bHRJbmplY3Rvciwgdmlld1V0aWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vdXRsZXRFbGVtZW50ID0gb3V0bGV0RWxlbWVudDtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gX2FwcFJlZjtcbiAgICAgICAgdGhpcy5fZGVmYXVsdEluamVjdG9yID0gX2RlZmF1bHRJbmplY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dGFjaGVzIGEgRE9NIHBvcnRhbCBieSB0cmFuc2ZlcnJpbmcgaXRzIGNvbnRlbnQgaW50byB0aGUgb3V0bGV0LlxuICAgICAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZC5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVG8gYmUgdHVybmVkIGludG8gYSBtZXRob2QuXG4gICAgICAgICAqIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF0dGFjaERvbVBvcnRhbCA9IChwb3J0YWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwb3J0YWwuZWxlbWVudDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5wYXJlbnROb2RlICYmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0RPTSBwb3J0YWwgY29udGVudCBtdXN0IGJlIGF0dGFjaGVkIHRvIGEgcGFyZW50IG5vZGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBbmNob3IgdXNlZCB0byBzYXZlIHRoZSBlbGVtZW50J3MgcHJldmlvdXMgcG9zaXRpb24gc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2UgY2FuIHJlc3RvcmUgaXQgd2hlbiB0aGUgcG9ydGFsIGlzIGRldGFjaGVkLlxuICAgICAgICAgICAgY29uc3QgYW5jaG9yTm9kZSA9IHRoaXMuX3ZpZXdVdGlsLmNyZWF0ZUNvbW1lbnQoJ2RvbS1wb3J0YWwnKTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmluc2VydEJlZm9yZShlbGVtZW50LnBhcmVudE5vZGUsIGFuY2hvck5vZGUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwuYXBwZW5kQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LCBlbGVtZW50KTtcbiAgICAgICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuJ3QgdXNlIGByZXBsYWNlV2l0aGAgaGVyZSBiZWNhdXNlIElFIGRvZXNuJ3Qgc3VwcG9ydCBpdC5cbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmluc2VydEJlZm9yZShhbmNob3JOb2RlLnBhcmVudE5vZGUsIGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZChhbmNob3JOb2RlLnBhcmVudE5vZGUsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvL2FuY2hvck5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3ZpZXdVdGlsID0gdmlld1V0aWwgfHwgdGhpcy5fZGVmYXVsdEluamVjdG9yLmdldChWaWV3VXRpbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgZ2l2ZW4gQ29tcG9uZW50UG9ydGFsIHRvIERPTSBlbGVtZW50IHVzaW5nIHRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWRcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBwb3J0YWwuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHBvcnRhbC5jb21wb25lbnQpO1xuICAgICAgICBsZXQgY29tcG9uZW50UmVmO1xuICAgICAgICAvLyBJZiB0aGUgcG9ydGFsIHNwZWNpZmllcyBhIFZpZXdDb250YWluZXJSZWYsIHdlIHdpbGwgdXNlIHRoYXQgYXMgdGhlIGF0dGFjaG1lbnQgcG9pbnRcbiAgICAgICAgLy8gZm9yIHRoZSBjb21wb25lbnQgKGluIHRlcm1zIG9mIEFuZ3VsYXIncyBjb21wb25lbnQgdHJlZSwgbm90IHJlbmRlcmluZykuXG4gICAgICAgIC8vIFdoZW4gdGhlIFZpZXdDb250YWluZXJSZWYgaXMgbWlzc2luZywgd2UgdXNlIHRoZSBmYWN0b3J5IHRvIGNyZWF0ZSB0aGUgY29tcG9uZW50IGRpcmVjdGx5XG4gICAgICAgIC8vIGFuZCB0aGVuIG1hbnVhbGx5IGF0dGFjaCB0aGUgdmlldyB0byB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIGlmIChwb3J0YWwudmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgY29tcG9uZW50UmVmID0gcG9ydGFsLnZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnksIHBvcnRhbC52aWV3Q29udGFpbmVyUmVmLmxlbmd0aCwgcG9ydGFsLmluamVjdG9yIHx8IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmLmluamVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IGNvbXBvbmVudFJlZi5kZXN0cm95KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50UmVmID0gY29tcG9uZW50RmFjdG9yeS5jcmVhdGUocG9ydGFsLmluamVjdG9yIHx8IHRoaXMuX2RlZmF1bHRJbmplY3Rvcik7XG4gICAgICAgICAgICB0aGlzLl9hcHBSZWYuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgdGhpcy5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FwcFJlZi5kZXRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBpbnN0YW50aWF0ZWQsIHNvIHdlIG1vdmUgaXQgdG8gdGhlIGxvY2F0aW9uIGluIHRoZSBET01cbiAgICAgICAgLy8gd2hlcmUgd2Ugd2FudCBpdCB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSB0aGlzLl9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpO1xuICAgICAgICBpZiAocm9vdE5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZChyb290Tm9kZS5wYXJlbnQsIHJvb3ROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92aWV3VXRpbC5hcHBlbmRDaGlsZCh0aGlzLm91dGxldEVsZW1lbnQsIHRoaXMuX2dldENvbXBvbmVudFJvb3ROb2RlKGNvbXBvbmVudFJlZikpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHRlbXBsYXRlIHBvcnRhbCB0byB0aGUgRE9NIGFzIGFuIGVtYmVkZGVkIHZpZXcuXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGVtYmVkZGVkIHZpZXcuXG4gICAgICovXG4gICAgYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIGNvbnN0IHZpZXdDb250YWluZXIgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHBvcnRhbC50ZW1wbGF0ZVJlZiwgcG9ydGFsLmNvbnRleHQpO1xuICAgICAgICAvLyBUaGUgbWV0aG9kIGBjcmVhdGVFbWJlZGRlZFZpZXdgIHdpbGwgYWRkIHRoZSB2aWV3IGFzIGEgY2hpbGQgb2YgdGhlIHZpZXdDb250YWluZXIuXG4gICAgICAgIC8vIEJ1dCBmb3IgdGhlIERvbVBvcnRhbE91dGxldCB0aGUgdmlldyBjYW4gYmUgYWRkZWQgZXZlcnl3aGVyZSBpbiB0aGUgRE9NXG4gICAgICAgIC8vIChlLmcgT3ZlcmxheSBDb250YWluZXIpIFRvIG1vdmUgdGhlIHZpZXcgdG8gdGhlIHNwZWNpZmllZCBob3N0IGVsZW1lbnQuIFdlIGp1c3RcbiAgICAgICAgLy8gcmUtYXBwZW5kIHRoZSBleGlzdGluZyByb290IG5vZGVzLlxuICAgICAgICB2aWV3UmVmLnJvb3ROb2Rlcy5mb3JFYWNoKChyb290Tm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJvb3ROb2RlLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLnJlbW92ZUNoaWxkKHJvb3ROb2RlLnBhcmVudCwgcm9vdE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwuYXBwZW5kQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LCByb290Tm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBOb3RlIHRoYXQgd2Ugd2FudCB0byBkZXRlY3QgY2hhbmdlcyBhZnRlciB0aGUgbm9kZXMgaGF2ZSBiZWVuIG1vdmVkIHNvIHRoYXRcbiAgICAgICAgLy8gYW55IGRpcmVjdGl2ZXMgaW5zaWRlIHRoZSBwb3J0YWwgdGhhdCBhcmUgbG9va2luZyBhdCB0aGUgRE9NIGluc2lkZSBhIGxpZmVjeWNsZVxuICAgICAgICAvLyBob29rIHdvbid0IGJlIGludm9rZWQgdG9vIGVhcmx5LlxuICAgICAgICB2aWV3UmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgdGhpcy5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB2aWV3Q29udGFpbmVyLmluZGV4T2Yodmlld1JlZik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmlld0NvbnRhaW5lci5yZW1vdmUoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETyhqZWxib3Vybik6IFJldHVybiBsb2NhbHMgZnJvbSB2aWV3LlxuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIG91dCBhIHBvcnRhbCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICBpZiAodGhpcy5vdXRsZXRFbGVtZW50LnBhcmVudE5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LnBhcmVudE5vZGUsIHRoaXMub3V0bGV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEdldHMgdGhlIHJvb3QgSFRNTEVsZW1lbnQgZm9yIGFuIGluc3RhbnRpYXRlZCBjb21wb25lbnQuICovXG4gICAgX2dldENvbXBvbmVudFJvb3ROb2RlKGNvbXBvbmVudFJlZikge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmLmhvc3RWaWV3LnJvb3ROb2Rlc1swXTtcbiAgICB9XG59O1xuTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0ID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSg0LCBPcHRpb25hbCgpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1ZpZXcsXG4gICAgICAgIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICAgICAgQXBwbGljYXRpb25SZWYsXG4gICAgICAgIEluamVjdG9yLFxuICAgICAgICBWaWV3VXRpbF0pXG5dLCBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQpO1xuXG5yZWdpc3RlckVsZW1lbnQoJ0RldGFjaGVkQ29udGFpbmVyJywgKCkgPT4gUHJveHlWaWV3Q29udGFpbmVyLCB7XG4gICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxufSk7XG4vKipcbiAqIFdyYXBwZXIgY29tcG9uZW50IHVzZWQgZm9yIGxvYWRpbmcgY29tcG9uZW50cyB3aGVuIG5hdmlnYXRpbmdcbiAqIEl0IHVzZXMgRGV0YWNoZWRDb250YWluZXIgYXMgc2VsZWN0b3Igc28gdGhhdCBpdCBpcyBjb250YWluZXJSZWYgaXMgbm90IGF0dGFjaGVkIHRvXG4gKiB0aGUgdmlzdWFsIHRyZWUuXG4gKi9cbmNsYXNzIERldGFjaGVkTG9hZGVyIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmNvbXBvbmVudC1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihyZXNvbHZlciwgY2hhbmdlRGV0ZWN0b3IsIGNvbnRhaW5lclJlZiwgYXBwUmVmKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSByZXNvbHZlcjtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvciA9IGNoYW5nZURldGVjdG9yO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclJlZiA9IGNvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5hcHBSZWYgPSBhcHBSZWY7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBjcmVhdGVDb21wb25lbnRQb3J0YWwoY29tcG9uZW50VHlwZSwgY3VzdG9tSW5qZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRQb3J0YWwoY29tcG9uZW50VHlwZSwgdGhpcy52YywgY3VzdG9tSW5qZWN0b3IgfHwgdGhpcy52Yy5pbmplY3Rvcik7XG4gICAgfVxuICAgIGNyZWF0ZVRlbXBsYXRlUG9ydGFsKHRlbXBsYXRlUmVmLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGVQb3J0YWwodGVtcGxhdGVSZWYsIHRoaXMudmMsIGNvbnRleHQpO1xuICAgIH1cbiAgICBsb2FkSW5BcHBSZWYoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnRUeXBlKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gZmFjdG9yeS5jcmVhdGUodGhpcy5jb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwUmVmLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDb21wb25lbnQgaXMgY3JlYXRlZCwgYnVpbHQgbWF5IG5vdCBiZSBjaGVja2VkIGlmIHdlIGFyZSBsb2FkaW5nXG4gICAgICAgIC8vIGluc2lkZSBjb21wb25lbnQgd2l0aCBPblB1c2ggQ0Qgc3RyYXRlZ3kuIE1hcmsgdXMgZm9yIGNoZWNrIHRvIGJlIHN1cmUgQ0Qgd2lsbCByZWFjaCB1cy5cbiAgICAgICAgLy8gV2UgYXJlIGluc2lkZSBhIHByb21pc2UgaGVyZSBzbyBubyBuZWVkIGZvciBzZXRUaW1lb3V0IC0gQ0Qgc2hvdWxkIHRyaWdnZXJcbiAgICAgICAgLy8gYWZ0ZXIgdGhlIHByb21pc2UuXG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkSW5Mb2NhdGlvbiBjb21wb25lbnQgbG9hZGVkIC0+IG1hcmtGb3JDaGVjaycsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgbG9hZEluTG9jYXRpb24oY29tcG9uZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52Yy5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50VHlwZSk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VGdW5jdGlvbnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgIH1cbiAgICBkZXRlY3RDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRDb21wb25lbnQoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZENvbXBvbmVudCcsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZENvbXBvbmVudFN5bmMoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZENvbXBvbmVudFN5bmMnLCAnZGV0YWNoZWQtbG9hZGVyJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkQ29tcG9uZW50SW5Mb2NhdGlvbihjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkQ29tcG9uZW50SW5Mb2NhdGlvbicsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEluTG9jYXRpb24oY29tcG9uZW50VHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZFdpdGhGYWN0b3J5KGZhY3RvcnkpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gZmFjdG9yeS5jcmVhdGUodGhpcy5jb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwUmVmLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRXaXRoRmFjdG9yeUluTG9jYXRpb24oZmFjdG9yeSkge1xuICAgICAgICByZXR1cm4gdGhpcy52Yy5jcmVhdGVDb21wb25lbnQoZmFjdG9yeSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGV0YWNoZWRMb2FkZXIsIGRlcHM6IFt7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHRva2VuOiBpMC5BcHBsaWNhdGlvblJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IERldGFjaGVkTG9hZGVyLCBzZWxlY3RvcjogXCJEZXRhY2hlZENvbnRhaW5lclwiLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcInZjXCIsIGZpcnN0OiB0cnVlLCBwcmVkaWNhdGU6IFtcInZjXCJdLCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPFBsYWNlaG9sZGVyICNsb2FkZXI+PC9QbGFjZWhvbGRlcj5cbiAgICA8bmctY29udGFpbmVyICN2Yz48L25nLWNvbnRhaW5lcj5cbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEZXRhY2hlZExvYWRlciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRGV0YWNoZWRDb250YWluZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxQbGFjZWhvbGRlciAjbG9hZGVyPjwvUGxhY2Vob2xkZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjdmM+PC9uZy1jb250YWluZXI+XG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0eXBlOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0eXBlOiBpMC5BcHBsaWNhdGlvblJlZiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgdmM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogVmlld0NoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsndmMnLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9XVxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgUGFnZVNlcnZpY2Uge1xuICAgIGdldCBpblBhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pblBhZ2UkLnZhbHVlO1xuICAgIH1cbiAgICBnZXQgaW5QYWdlJCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luUGFnZSQucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgICB9XG4gICAgZ2V0IHBhZ2VFdmVudHMkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFnZUV2ZW50cyQuYXNPYnNlcnZhYmxlKCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhZ2UsIGVsUmVmLCB2aWV3KSB7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgaWYgKHBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3ID0gdmlldyB8fCBlbFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHZpZXcpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlldyBpbnN0YW5jZW9mIFBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlID0gdmlldztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcgPSB2aWV3LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pblBhZ2UkID0gbmV3IEJlaGF2aW9yU3ViamVjdCghIXRoaXMucGFnZT8uaXNMb2FkZWQpO1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRlZEZyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRlZFRvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0aW5nRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbmF2aWdhdGluZ1RvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0ZWRGcm9tJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGVkVG8nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0aW5nRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYoJ25hdmlnYXRpbmdUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pblBhZ2UkLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIHBhZ2VFdmVudChldnQpIHtcbiAgICAgICAgdGhpcy5fcGFnZUV2ZW50cyQubmV4dChldnQpO1xuICAgICAgICBzd2l0Y2ggKGV2dC5ldmVudE5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25hdmlnYXRlZFRvJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9pblBhZ2UkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICduYXZpZ2F0ZWRGcm9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9pblBhZ2UkLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlLCBkZXBzOiBbeyB0b2tlbjogaTEuUGFnZSwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTEuVmlld0Jhc2UsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlU2VydmljZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxLlBhZ2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTEuVmlld0Jhc2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbmZ1bmN0aW9uIGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSh2KSB7XG4gICAgcmV0dXJuIHYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xufVxuZnVuY3Rpb24gY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUodikge1xuICAgIHJldHVybiB2LnBhZ2U7XG59XG5yZWdpc3RlckVsZW1lbnQoJ0ZyYW1lUGFnZScsICgpID0+IEZyYW1lLCB7XG4gICAgaW5zZXJ0Q2hpbGQ6IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFBhZ2UpIHtcbiAgICAgICAgICAgIGZyYW1lTWV0YS5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnRbJ19fbmdfcGFnZV9fJ10uY29udGVudCA9IGNoaWxkO1xuICAgIH0sXG59KTtcbmNsYXNzIEZyYW1lUGFnZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgcmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5hY3Rpb25CYXJIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYWdlID0gcmVuZGVyZXIuY3JlYXRlRWxlbWVudCgnUGFnZScpO1xuICAgICAgICBlbGVtZW50Lm5hdGl2ZUVsZW1lbnRbJ19fbmdfcGFnZV9fJ10gPSB0aGlzLnBhZ2U7XG4gICAgICAgIHJlbmRlcmVyLmFwcGVuZENoaWxkKGVsZW1lbnQubmF0aXZlRWxlbWVudCwgdGhpcy5wYWdlKTtcbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlcy5hY3Rpb25CYXJIaWRkZW4gJiYgY2hhbmdlcy5hY3Rpb25CYXJIaWRkZW4ucHJldmlvdXNWYWx1ZSAhPT0gY2hhbmdlcy5hY3Rpb25CYXJIaWRkZW4uY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbiA9ICEhdGhpcy5hY3Rpb25CYXJIaWRkZW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gISF0aGlzLmFjdGlvbkJhckhpZGRlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZUNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogRnJhbWVQYWdlQ29tcG9uZW50LCBzZWxlY3RvcjogXCJGcmFtZVBhZ2VcIiwgaW5wdXRzOiB7IGFjdGlvbkJhckhpZGRlbjogXCJhY3Rpb25CYXJIaWRkZW5cIiB9LCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3RvcnksXG4gICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUsXG4gICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgICAgIF0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0ZyYW1lUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGFjdGlvbkJhckhpZGRlbjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuZnVuY3Rpb24gY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5KHYpIHtcbiAgICByZXR1cm4gdi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG59XG5jbGFzcyBGcmFtZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJGcmFtZVwiLCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lRGlyZWN0aXZlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdGcmFtZScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmZ1bmN0aW9uIGN1c3RvbVBhZ2VGYWN0b3J5KHYpIHtcbiAgICByZXR1cm4gdi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG59XG5jbGFzcyBQYWdlRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBQYWdlRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJQYWdlXCIsIHByb3ZpZGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgZGVwczogW1BhZ2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgICAgICBdLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdQYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbUGFnZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jbGFzcyBGcmFtZVBhZ2VNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVjbGFyYXRpb25zOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sIGV4cG9ydHM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuZnVuY3Rpb24gaXNQcmVzZW50KG9iaikge1xuICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc0JsYW5rKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQWN0aW9uSXRlbSh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBBY3Rpb25JdGVtO1xufVxuZnVuY3Rpb24gaXNOYXZpZ2F0aW9uQnV0dG9uKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIE5hdmlnYXRpb25CdXR0b247XG59XG5jb25zdCBhY3Rpb25CYXJNZXRhID0ge1xuICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbiAgICBpbnNlcnRDaGlsZDogKHBhcmVudCwgY2hpbGQsIG5leHQpID0+IHtcbiAgICAgICAgaWYgKGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05hdmlnYXRpb25CdXR0b24oY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9IGNoaWxkO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FjdGlvbkl0ZW0oY2hpbGQpKSB7XG4gICAgICAgICAgICBhZGRBY3Rpb25JdGVtKHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcoY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQudGl0bGVWaWV3ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTmF2aWdhdGlvbkJ1dHRvbihjaGlsZCkpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FjdGlvbkl0ZW0oY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuYWN0aW9uSXRlbXMucmVtb3ZlSXRlbShjaGlsZCk7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcoY2hpbGQpICYmIHBhcmVudC50aXRsZVZpZXcgJiYgcGFyZW50LnRpdGxlVmlldyA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC50aXRsZVZpZXcgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5yZWdpc3RlckVsZW1lbnQoJ0FjdGlvbkJhcicsICgpID0+IEFjdGlvbkJhciwgYWN0aW9uQmFyTWV0YSk7XG5yZWdpc3RlckVsZW1lbnQoJ0FjdGlvbkl0ZW0nLCAoKSA9PiBBY3Rpb25JdGVtKTtcbnJlZ2lzdGVyRWxlbWVudCgnTmF2aWdhdGlvbkJ1dHRvbicsICgpID0+IE5hdmlnYXRpb25CdXR0b24pO1xuY29uc3QgYWRkQWN0aW9uSXRlbSA9IChiYXIsIGl0ZW0sIG5leHQpID0+IHtcbiAgICBpZiAobmV4dCkge1xuICAgICAgICBpbnNlcnRBY3Rpb25JdGVtQmVmb3JlKGJhciwgaXRlbSwgbmV4dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcHBlbmRBY3Rpb25JdGVtKGJhciwgaXRlbSk7XG4gICAgfVxufTtcbmNvbnN0IGluc2VydEFjdGlvbkl0ZW1CZWZvcmUgPSAoYmFyLCBpdGVtLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgYWN0aW9uSXRlbXMgPSBiYXIuYWN0aW9uSXRlbXM7XG4gICAgY29uc3QgYWN0aW9uSXRlbXNDb2xsZWN0aW9uID0gYWN0aW9uSXRlbXMuZ2V0SXRlbXMoKTtcbiAgICBjb25zdCBpbmRleFRvSW5zZXJ0ID0gYWN0aW9uSXRlbXNDb2xsZWN0aW9uLmluZGV4T2YobmV4dCk7XG4gICAgYWN0aW9uSXRlbXNDb2xsZWN0aW9uLnNwbGljZShpbmRleFRvSW5zZXJ0LCAwLCBpdGVtKTtcbiAgICBhY3Rpb25JdGVtcy5zZXRJdGVtcyhhY3Rpb25JdGVtc0NvbGxlY3Rpb24pO1xufTtcbmNvbnN0IGFwcGVuZEFjdGlvbkl0ZW0gPSAoYmFyLCBpdGVtKSA9PiB7XG4gICAgYmFyLmFjdGlvbkl0ZW1zLmFkZEl0ZW0oaXRlbSk7XG59O1xuY2xhc3MgQWN0aW9uQmFyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYWdlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIGlmICghdGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFBhZ2UgZm91bmQgaW4gQWN0aW9uQmFyQ29tcG9uZW50LlxcbicgKyAnT25seSBhIFBhZ2UgY2FuIGNvbnRhaW4gYW4gQWN0aW9uQmFyLCBzbyBwbGVhc2UgZW5zdXJlIEFjdGlvbkJhciBpcyBvbmx5IHVzZWQgaW5zaWRlIGEgQ29tcG9uZW50IHRoYXQgaXMgcm91dGVkIHZpYSBwYWdlLXJvdXRlci1vdXRsZXQgb3IgaXMgY29udGFpbmVkIGluIGEgUGFnZS5cXG4nICsgJ0V4YW1wbGUgZm9yIHJvb3QgYWN0aW9uIGJhcnMgaW4gQXBwQ29tcG9uZW50OiA8RnJhbWU+PFBhZ2U+PEFjdGlvbkJhcj4uLi4uPC9BY3Rpb25CYXI+PC9QYWdlPjwvRnJhbWU+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbikpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyID0gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIudXBkYXRlKCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMS5QYWdlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IEFjdGlvbkJhckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiQWN0aW9uQmFyXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JywgaXNJbmxpbmU6IHRydWUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0FjdGlvbkJhcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PicsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogaTEuUGFnZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcbmNsYXNzIEFjdGlvbkJhclNjb3BlIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmNvbXBvbmVudC1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihwYWdlKSB7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIGlmICghdGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luc2lkZSBBY3Rpb25CYXJFeHRlbnNpb24gYnV0IG5vIEFjdGlvbkJhciBmb3VuZCB0byBleHRlbmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25OYXZCdXR0b25Jbml0KG5hdkJ0bikge1xuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLm5hdmlnYXRpb25CdXR0b24gPSBuYXZCdG4uZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgIH1cbiAgICBvbk5hdkJ1dHRvbkRlc3Ryb3kobmF2QnRuKSB7XG4gICAgICAgIGNvbnN0IG5hdiA9IG5hdkJ0bi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmIChuYXYgJiYgdGhpcy5wYWdlLmFjdGlvbkJhci5uYXZpZ2F0aW9uQnV0dG9uID09PSBuYXYpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIubmF2aWdhdGlvbkJ1dHRvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25BY3Rpb25Jbml0KGl0ZW0pIHtcbiAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci5hY3Rpb25JdGVtcy5hZGRJdGVtKGl0ZW0uZWxlbWVudC5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgb25BY3Rpb25EZXN0cm95KGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uZWxlbWVudC5uYXRpdmVFbGVtZW50LmFjdGlvbkJhcikge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci5hY3Rpb25JdGVtcy5yZW1vdmVJdGVtKGl0ZW0uZWxlbWVudC5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkJhclNjb3BlLCBkZXBzOiBbeyB0b2tlbjogaTEuUGFnZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBBY3Rpb25CYXJTY29wZSwgc2VsZWN0b3I6IFwiQWN0aW9uQmFyRXh0ZW5zaW9uXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6ICcnLCBpc0lubGluZTogdHJ1ZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkJhclNjb3BlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdBY3Rpb25CYXJFeHRlbnNpb24nLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJycsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMS5QYWdlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuY2xhc3MgQWN0aW9uSXRlbURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3duZXJTY29wZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm93bmVyU2NvcGUgPSBvd25lclNjb3BlO1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25BY3Rpb25Jbml0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25BY3Rpb25EZXN0cm95KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uSXRlbURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogQWN0aW9uQmFyU2NvcGUsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogQWN0aW9uSXRlbURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiQWN0aW9uSXRlbVwiLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25JdGVtRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdBY3Rpb25JdGVtJywgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcbmNsYXNzIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG93bmVyU2NvcGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5vd25lclNjb3BlID0gb3duZXJTY29wZTtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uTmF2QnV0dG9uSW5pdCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uTmF2QnV0dG9uRGVzdHJveSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IEFjdGlvbkJhclNjb3BlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIHNlbGVjdG9yOiBcIk5hdmlnYXRpb25CdXR0b25cIiwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnTmF2aWdhdGlvbkJ1dHRvbicsIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbi8qKlxuICogVXRpbGl0eSBtZXRob2QgdG8gZW5zdXJlIGEgTmdNb2R1bGUgaXMgb25seSBpbXBvcnRlZCBvbmNlIGluIGEgY29kZWJhc2UsIG90aGVyd2lzZSB3aWxsIHRocm93IHRvIGhlbHAgcHJldmVudCBhY2NpZGVudGFsIGRvdWJsZSBpbXBvcnRpbmdcbiAqIEBwYXJhbSBwYXJlbnRNb2R1bGUgUGFyZW50IG1vZHVsZSBuYW1lXG4gKiBAcGFyYW0gbW9kdWxlTmFtZSBUaGUgbW9kdWxlIG5hbWVcbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkFscmVhZHlMb2FkZWQocGFyZW50TW9kdWxlLCBtb2R1bGVOYW1lKSB7XG4gICAgaWYgKHBhcmVudE1vZHVsZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bW9kdWxlTmFtZX0gaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIEltcG9ydCAke21vZHVsZU5hbWV9IGluIHRoZSBBcHBNb2R1bGUgb25seS5gKTtcbiAgICB9XG59XG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kIHdoaWNoIHdpbGwgb25seSBmaXJlIHRoZSBjYWxsYmFjayBvbmNlIGV2ZXJcbiAqIEBwYXJhbSBmbiBjYWxsYmFjayB0byBjYWxsIG9ubHkgb25jZVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCB3YXNDYWxsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgaWYgKHdhc0NhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhc0NhbGxlZCA9IHRydWU7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkLCBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaikge1xuICAgIGlmICghaXNKc09iamVjdChvYmopKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBNYXApICYmIC8vIEpTIE1hcCBhcmUgaXRlcmFibGVzIGJ1dCByZXR1cm4gZW50cmllcyBhcyBbaywgdl1cbiAgICAgICAgICAgIFN5bWJvbC5pdGVyYXRvciBpbiBvYmopOyAvLyBKUyBJdGVyYWJsZSBoYXZlIGEgU3ltYm9sLml0ZXJhdG9yIHByb3Bcbn1cbmZ1bmN0aW9uIGlzSnNPYmplY3Qobykge1xuICAgIHJldHVybiBvICE9PSBudWxsICYmICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbyA9PT0gJ29iamVjdCcpO1xufVxuXG5jb25zdCBOR19WSUVXID0gJ19uZ1ZpZXdSZWYnO1xuY29uc3QgVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCA9IG5ldyBJbmplY3Rpb25Ub2tlbignVGVtcGxhdGVkSXRlbXNDb21wb25lbnQnKTtcbmNsYXNzIEl0ZW1Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigkaW1wbGljaXQsIGl0ZW0sIGluZGV4LCBldmVuLCBvZGQpIHtcbiAgICAgICAgdGhpcy4kaW1wbGljaXQgPSAkaW1wbGljaXQ7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5ldmVuID0gZXZlbjtcbiAgICAgICAgdGhpcy5vZGQgPSBvZGQ7XG4gICAgfVxufVxuY2xhc3MgTnNUZW1wbGF0ZWRJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgbG9jYXRpb24sIG9uQ3JlYXRlKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLm9uQ3JlYXRlID0gb25DcmVhdGU7XG4gICAgfVxuICAgIGNyZWF0ZShjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmxvY2F0aW9uLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLnRlbXBsYXRlLCBjb250ZXh0ID8gdGhpcy5zZXR1cEl0ZW1Db250ZXh0KGNvbnRleHQpIDogbmV3IEl0ZW1Db250ZXh0KCkpO1xuICAgICAgICB2aWV3UmVmLmRldGFjaCgpOyAvLyBjcmVhdGUgZGV0YWNoZWQsIGp1c3QgYmV3YXJlIHRoaXMgZG9lc24ndCBhbHdheXMgd29yayBhbmQgdGhlIHZpZXcgbWlnaHQgcnVuIHRoZSBmaXJzdCBDRCBhbnl3YXkuXG4gICAgICAgIGNvbnN0IHJlc3VsdFZpZXcgPSBnZXRJdGVtVmlld1Jvb3Qodmlld1JlZik7XG4gICAgICAgIHJlc3VsdFZpZXdbTkdfVklFV10gPSB2aWV3UmVmO1xuICAgICAgICBpZiAodGhpcy5vbkNyZWF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vbkNyZWF0ZShyZXN1bHRWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0VmlldztcbiAgICB9XG4gICAgdXBkYXRlKHZpZXcsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgICAgICB0aGlzLnNldHVwSXRlbUNvbnRleHQoY29udGV4dCwgdmlld1JlZik7XG4gICAgICAgIHZpZXdSZWY/LmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgYXR0YWNoKHZpZXcpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgICAgICB2aWV3UmVmPy5yZWF0dGFjaCgpO1xuICAgICAgICB2aWV3UmVmPy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIGRldGFjaCh2aWV3KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdmlld1JlZj8uZGV0YWNoKCk7XG4gICAgfVxuICAgIGRpc3Bvc2Uodmlldykge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHZpZXdSZWY/LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpIHtcbiAgICAgICAgbGV0IHZpZXdSZWYgPSB2aWV3W05HX1ZJRVddO1xuICAgICAgICAvLyBHZXR0aW5nIGFuZ3VsYXIgdmlldyBmcm9tIG9yaWdpbmFsIGVsZW1lbnQgKGluIGNhc2VzIHdoZW4gUHJveHlWaWV3Q29udGFpbmVyXG4gICAgICAgIC8vIGlzIHVzZWQgTmF0aXZlU2NyaXB0IGludGVybmFsbHkgd3JhcHMgaXQgaW4gYSBTdGFja0xheW91dClcbiAgICAgICAgaWYgKCF2aWV3UmVmICYmIHZpZXcgaW5zdGFuY2VvZiBMYXlvdXRCYXNlICYmIHZpZXcuZ2V0Q2hpbGRyZW5Db3VudCgpID4gMCkge1xuICAgICAgICAgICAgdmlld1JlZiA9IHZpZXcuZ2V0Q2hpbGRBdCgwKVtOR19WSUVXXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgaXNWYWxpZCh2aWV3KSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgIH1cbiAgICBzZXR1cEl0ZW1Db250ZXh0KHsgaW5kZXgsIGRhdGEgfSwgb2xkVmlldykge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gb2xkVmlldyA/IG9sZFZpZXcuY29udGV4dCA6IG5ldyBJdGVtQ29udGV4dCgpO1xuICAgICAgICBjb250ZXh0LiRpbXBsaWNpdCA9IGRhdGE7XG4gICAgICAgIGNvbnRleHQuaXRlbSA9IGRhdGE7XG4gICAgICAgIGNvbnRleHQuaW5kZXggPSBpbmRleDtcbiAgICAgICAgY29udGV4dC5ldmVuID0gaW5kZXggJSAyID09PSAwO1xuICAgICAgICBjb250ZXh0Lm9kZCA9ICFjb250ZXh0LmV2ZW47XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbn1cbmNsYXNzIExpc3RWaWV3Q29tcG9uZW50IHtcbiAgICBnZXQgbmF0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3O1xuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcbiAgICB9XG4gICAgc2V0IGl0ZW1zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gdmFsdWU7XG4gICAgICAgIGxldCBuZWVkRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JzZXJ2YWJsZUFycmF5KSB7XG4gICAgICAgICAgICBuZWVkRGlmZmVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5lZWREaWZmZXIgJiYgIXRoaXMuX2RpZmZlciAmJiBpc0xpc3RMaWtlSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWZmZXIgPSB0aGlzLl9pdGVyYWJsZURpZmZlcnMuZmluZCh0aGlzLl9pdGVtcykuY3JlYXRlKChfaW5kZXgsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3Lml0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgfVxuICAgIC8vIHRoaXMgZWxlbWVudFJlZiBpcyBvbmx5IGhlcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHJlYXNvbnNcbiAgICBjb25zdHJ1Y3RvcihfZWxlbWVudFJlZikge1xuICAgICAgICB0aGlzLl9pdGVyYWJsZURpZmZlcnMgPSBpbmplY3QoSXRlcmFibGVEaWZmZXJzKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICAgICAgICB0aGlzLl9lbGVtZW50UmVmID0gaW5qZWN0KEVsZW1lbnRSZWYpO1xuICAgICAgICAvLyBJIGJlbGlldmUgdGhpcyBvbmx5IGV4aXN0cyBzbyB0aGlzIGNhbiBiZSBpbmhlcml0ZWQgYW5kIHBlb3BsZSBjYW4gb3ZlcnJpZGUgaXQuXG4gICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3ID0gdGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLl92aWV3VG9UZW1wbGF0ZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuc2V0dXBJdGVtVmlldyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgaWYgKF9lbGVtZW50UmVmKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldyA9IF9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCdUZW1wbGF0ZWRJdGVtc1ZpZXcubmdBZnRlckNvbnRlbnRJbml0KCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEl0ZW1UZW1wbGF0ZXMoKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldEl0ZW1UZW1wbGF0ZXMoKSB7XG4gICAgICAgIC8vIFRoZSBpdGVtVGVtcGxhdGVRdWVyeSBtYXkgYmUgY2hhbmdlZCBhZnRlciBsaXN0IGl0ZW1zIGFyZSBhZGRlZCB0aGF0IGNvbnRhaW4gPHRlbXBsYXRlPiBpbnNpZGUsXG4gICAgICAgIC8vIHNvIGNhY2hlIGFuZCB1c2Ugb25seSB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdG8gYXZvaWQgZXJyb3JzLlxuICAgICAgICB0aGlzLmZhbGxiYWNrSXRlbVRlbXBsYXRlID0gdGhpcy5pdGVtVGVtcGxhdGVRdWVyeTtcbiAgICAgICAgaWYgKHRoaXMuZmFsbGJhY2tJdGVtVGVtcGxhdGUgJiYgIXRoaXMuX3RlbXBsYXRlTWFwPy5oYXMoJ2RlZmF1bHQnKSkge1xuICAgICAgICAgICAgLy8gYXBwYXJlbnRseSB5b3UgY2FuIGNyZWF0ZSBhIENvcmUgTGlzdFZpZXcgd2l0aG91dCBhIHRlbXBsYXRlLi4uXG4gICAgICAgICAgICAvLyB3ZSBhbHNvIGFkZCBhIGZhbGxiYWNrIGRlZmF1bHQgZm9yIHdoZW4gdGhlIHVzZXIgc2V0cyBtdWx0aXBsZSB0ZW1wbGF0ZXMgYnV0IG5vIHRlbXBsYXRlU2VsZWN0b3JcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJUZW1wbGF0ZSgnZGVmYXVsdCcsIHRoaXMuZmFsbGJhY2tJdGVtVGVtcGxhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90ZW1wbGF0ZU1hcCkge1xuICAgICAgICAgICAgLy8gc29tZXRpbWVzIHRlbXBsYXRlcyBhcmUgcmVnaXN0ZXJlZCBiZWZvcmUgbG9hZGVyIGlzIHJlYWR5LCBzbyB3ZSB1cGRhdGUgaGVyZVxuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVNYXAuZm9yRWFjaCgodCkgPT4gKHQubG9jYXRpb24gPSB0aGlzLmxvYWRlcikpO1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coJ1NldHRpbmcgdGVtcGxhdGVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVZpZXc6ICgpID0+IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcuaXRlbVRlbXBsYXRlcyA9IHRlbXBsYXRlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWdpc3RlclRlbXBsYXRlKGtleSwgdGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZyhgcmVnaXN0ZXJUZW1wbGF0ZSBmb3Iga2V5OiAke2tleX0sICR7dGhpcy5sb2FkZXJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl90ZW1wbGF0ZU1hcCkge1xuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGVtcGxhdGVNYXAuc2V0KGtleSwgbmV3IE5zVGVtcGxhdGVkSXRlbSh0ZW1wbGF0ZSwgdGhpcy5sb2FkZXIsICh2KSA9PiB0aGlzLl92aWV3VG9UZW1wbGF0ZS5zZXQodiwga2V5KSkpO1xuICAgIH1cbiAgICBvbkl0ZW1Mb2FkaW5nKGFyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90ZW1wbGF0ZU1hcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4ID0gYXJncy5pbmRleDtcbiAgICAgICAgY29uc3QgbHZpZXcgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBsdmlldy5pdGVtcztcbiAgICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSAnZ2V0SXRlbScgaW4gaXRlbXMgJiYgdHlwZW9mIGl0ZW1zLmdldEl0ZW0gPT09ICdmdW5jdGlvbicgPyBpdGVtcy5nZXRJdGVtKGluZGV4KSA6IGl0ZW1zW2luZGV4XTtcbiAgICAgICAgbGV0IHRlbXBsYXRlO1xuICAgICAgICBpZiAoYXJncy52aWV3KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZyhgb25JdGVtTG9hZGluZzogJHtpbmRleH0gLSBSZXVzaW5nIGV4aXN0aW5nIHZpZXdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZUtleSA9IHRoaXMuX3ZpZXdUb1RlbXBsYXRlLmdldChhcmdzLnZpZXcpO1xuICAgICAgICAgICAgaWYgKCF0ZW1wbGF0ZUtleSAmJiBhcmdzLnZpZXcgaW5zdGFuY2VvZiBMYXlvdXRCYXNlICYmIGFyZ3Mudmlldy5nZXRDaGlsZHJlbkNvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVLZXkgPSB0aGlzLl92aWV3VG9UZW1wbGF0ZS5nZXQoYXJncy52aWV3LmdldENoaWxkQXQoMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0ZW1wbGF0ZUtleSkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgdGVtcGxhdGUgd2FzIG5vdCBjcmVhdGVkIGJ5IHVzXG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3RXJyb3IoYFZpZXdSZWZlcmVuY2Ugbm90IGZvdW5kIGZvciBpdGVtICR7aW5kZXh9LiBWaWV3IHJlY3ljbGluZyBpcyBub3Qgd29ya2luZ2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMuX3RlbXBsYXRlTWFwLmdldCh0ZW1wbGF0ZUtleSk7XG4gICAgICAgICAgICB0ZW1wbGF0ZS51cGRhdGUoYXJncy52aWV3LCB7IGluZGV4LCBkYXRhOiBjdXJyZW50SXRlbSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgc2hvdWxkIG5ldmVyIGVudGVyIGlmIGl0IGNyZWF0ZXMgdGhlIHZpZXdcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlS2V5ID0gdHlwZW9mIGx2aWV3Lml0ZW1UZW1wbGF0ZVNlbGVjdG9yID09PSAnZnVuY3Rpb24nID8gbHZpZXcuaXRlbVRlbXBsYXRlU2VsZWN0b3IoY3VycmVudEl0ZW0sIGluZGV4LCBpdGVtcykgOiAnZGVmYXVsdCc7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMuX3RlbXBsYXRlTWFwLmdldCh0ZW1wbGF0ZUtleSk7XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3RXJyb3IoYFRlbXBsYXRlIGZvciBrZXkgJyR7dGVtcGxhdGVLZXl9JyBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MudmlldyA9IHRlbXBsYXRlLmNyZWF0ZSh7IGluZGV4LCBkYXRhOiBjdXJyZW50SXRlbSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHVwVmlld1JlZih0ZW1wbGF0ZS5nZXRFbWJlZGRlZFZpZXdSZWYoYXJncy52aWV3KSwgY3VycmVudEl0ZW0sIGluZGV4LCBhcmdzLnZpZXcpO1xuICAgICAgICB0ZW1wbGF0ZS5hdHRhY2goYXJncy52aWV3KTtcbiAgICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBzZXR1cFZpZXdSZWYodmlld1JlZiwgZGF0YSwgaW5kZXgsIG5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHZpZXdSZWYuY29udGV4dDtcbiAgICAgICAgdGhpcy5zZXR1cEl0ZW1WaWV3Lm5leHQoeyB2aWV3OiB2aWV3UmVmLCBuYXRpdmVFbGVtZW50LCBkYXRhOiBkYXRhLCBpbmRleDogaW5kZXgsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG4gICAgfVxuICAgIG5nRG9DaGVjaygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RpZmZlcikge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coJ25nRG9DaGVjaygpIC0gZXhlY3V0ZSBkaWZmZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLl9kaWZmZXIuZGlmZih0aGlzLl9pdGVtcyk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnbmdEb0NoZWNrKCkgLSByZWZyZXNoJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3LnJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IExpc3RWaWV3Q29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IExpc3RWaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJMaXN0Vmlld1wiLCBpbnB1dHM6IHsgaXRlbXM6IFwiaXRlbXNcIiB9LCBvdXRwdXRzOiB7IHNldHVwSXRlbVZpZXc6IFwic2V0dXBJdGVtVmlld1wiIH0sIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiaXRlbUxvYWRpbmdcIjogXCJvbkl0ZW1Mb2FkaW5nKCRldmVudClcIiB9IH0sIHByb3ZpZGVyczogW3sgcHJvdmlkZTogVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTGlzdFZpZXdDb21wb25lbnQpIH1dLCBxdWVyaWVzOiBbeyBwcm9wZXJ0eU5hbWU6IFwiaXRlbVRlbXBsYXRlUXVlcnlcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogVGVtcGxhdGVSZWYsIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBUZW1wbGF0ZVJlZiB9XSwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJsb2FkZXJcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogW1wibG9hZGVyXCJdLCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPERldGFjaGVkQ29udGFpbmVyPlxuICAgIDxuZy1jb250YWluZXIgI2xvYWRlcj48L25nLWNvbnRhaW5lcj5cbiAgPC9EZXRhY2hlZENvbnRhaW5lcj5gLCBpc0lubGluZTogdHJ1ZSwgY2hhbmdlRGV0ZWN0aW9uOiBpMC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2ggfSk7IH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBMaXN0Vmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwib25JdGVtTG9hZGluZ1wiLCBudWxsKTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBMaXN0Vmlld0NvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnTGlzdFZpZXcnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxEZXRhY2hlZENvbnRhaW5lcj5cbiAgICA8bmctY29udGFpbmVyICNsb2FkZXI+PC9uZy1jb250YWluZXI+XG4gIDwvRGV0YWNoZWRDb250YWluZXI+YCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW3sgcHJvdmlkZTogVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTGlzdFZpZXdDb21wb25lbnQpIH1dLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgbG9hZGVyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2xvYWRlcicsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dXG4gICAgICAgICAgICB9XSwgc2V0dXBJdGVtVmlldzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBpdGVtVGVtcGxhdGVRdWVyeTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBDb250ZW50Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogW1RlbXBsYXRlUmVmLCB7IHJlYWQ6IFRlbXBsYXRlUmVmLCBzdGF0aWM6IGZhbHNlIH1dXG4gICAgICAgICAgICB9XSwgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBvbkl0ZW1Mb2FkaW5nOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RMaXN0ZW5lcixcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2l0ZW1Mb2FkaW5nJywgWyckZXZlbnQnXV1cbiAgICAgICAgICAgIH1dIH0gfSk7XG5mdW5jdGlvbiBnZXRJdGVtVmlld1Jvb3Qodmlld1JlZiwgcm9vdExvY2F0b3IgPSBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZSkge1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gcm9vdExvY2F0b3Iodmlld1JlZi5yb290Tm9kZXMsIDApO1xuICAgIHJldHVybiByb290Vmlldztcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG5jbGFzcyBUZW1wbGF0ZUtleURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGVSZWYsIGNvbXApIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlUmVmO1xuICAgICAgICB0aGlzLmNvbXAgPSBjb21wO1xuICAgIH1cbiAgICBzZXQgbnNUZW1wbGF0ZUtleSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5jb21wICYmIHRoaXMudGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcC5yZWdpc3RlclRlbXBsYXRlKHZhbHVlLCB0aGlzLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQgbnNUZW1wbGF0ZUtleXModmFsdWVzKSB7XG4gICAgICAgIC8vIHNpbmdsZSB0ZW1wbGF0ZSB3aXRoIG11bHRpcGxlIGtleXNcbiAgICAgICAgaWYgKHRoaXMuY29tcCAmJiB0aGlzLnRlbXBsYXRlUmVmICYmIHZhbHVlcykge1xuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB0aGlzLmNvbXAucmVnaXN0ZXJUZW1wbGF0ZSh2YWx1ZSwgdGhpcy50ZW1wbGF0ZVJlZikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGVtcGxhdGVLZXlEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHRva2VuOiBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCBob3N0OiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogVGVtcGxhdGVLZXlEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIltuc1RlbXBsYXRlS2V5XSxbbnNUZW1wbGF0ZUtleXNdXCIsIGlucHV0czogeyBuc1RlbXBsYXRlS2V5OiBcIm5zVGVtcGxhdGVLZXlcIiwgbnNUZW1wbGF0ZUtleXM6IFwibnNUZW1wbGF0ZUtleXNcIiB9LCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25zVGVtcGxhdGVLZXldLFtuc1RlbXBsYXRlS2V5c10nIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuVGVtcGxhdGVSZWYgfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW1RFTVBMQVRFRF9JVEVNU19DT01QT05FTlRdXG4gICAgICAgICAgICAgICAgfV0gfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IG5zVGVtcGxhdGVLZXk6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBuc1RlbXBsYXRlS2V5czogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgRnJhbWVTZXJ2aWNlIHtcbiAgICAvLyBUT0RPOiBBZGQgYW55IG1ldGhvZHMgdGhhdCBhcmUgbmVlZGVkIHRvIGhhbmRsZSBmcmFtZS9wYWdlIG5hdmlnYXRpb25cbiAgICBnZXRGcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIEZyYW1lLnRvcG1vc3QoKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVNlcnZpY2UsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVNlcnZpY2UsIHByb3ZpZGVkSW46ICdyb290JyB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbmNsYXNzIE91dGxldCB7XG4gICAgZ2V0IGlzUGFnZU5hdmlnYXRpb25CYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLnNpemUgPiAwO1xuICAgIH1cbiAgICBzZXQgaXNQYWdlTmF2aWdhdGlvbkJhY2soaXNCYWNrKSB7XG4gICAgICAgIGlmICghaXNCYWNrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmRlbGV0ZSh0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMub3V0bGV0S2V5cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvdXRsZXRLZXksIHBhdGgsIHBhdGhCeU91dGxldHMsIG1vZGFsTmF2aWdhdGlvbkRlcHRoKSB7XG4gICAgICAgIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLy8gTW9yZSB0aGFuIG9uZSBmcmFtZSBhdmFpbGFibGUgd2hlbiB1c2luZyBOU0VtcHR5T3V0bGV0Q29tcG9uZW50IGNvbXBvbmVudFxuICAgICAgICAvLyBpbiBtb2R1bGUgdGhhdCBsYXp5IGxvYWRzIGNoaWxkcmVuIChsb2FkQ2hpbGRyZW4pIGFuZCBoYXMgb3V0bGV0IG5hbWUuXG4gICAgICAgIHRoaXMuZnJhbWVzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGVzID0gW107XG4gICAgICAgIC8vIFVzZWQgaW4gcmV1c2Utc3RyYXRlZ3kgYnkgaXRzIGNoaWxkcmVuIHRvIGRldGVybWluZSBpZiB0aGV5IHNob3VsZCBiZSBkZXRhY2hlZCB0b28uXG4gICAgICAgIHRoaXMuc2hvdWxkRGV0YWNoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vdXRsZXRLZXlzID0gW291dGxldEtleV07XG4gICAgICAgIHRoaXMuaXNQYWdlTmF2aWdhdGlvbkJhY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93aW5nTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb2RhbE5hdmlnYXRpb25EZXB0aCA9IG1vZGFsTmF2aWdhdGlvbkRlcHRoIHx8IDA7XG4gICAgICAgIHRoaXMucGF0aEJ5T3V0bGV0cyA9IHBhdGhCeU91dGxldHM7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgfVxuICAgIHNldE91dGxldEtleU5hdmlnYXRpbmdCYWNrKGtleSkge1xuICAgICAgICBjb25zdCBuZXN0cyA9IGtleS5zcGxpdCgnLycpO1xuICAgICAgICB0aGlzLm91dGxldEtleXNcbiAgICAgICAgICAgIC5maWx0ZXIoKGspID0+IGsuc3BsaXQoJy8nKS5sZW5ndGggPj0gbmVzdHMubGVuZ3RoKVxuICAgICAgICAgICAgLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy5hZGQoayk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb250YWluc0ZyYW1lKGZyYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lcy5pbmRleE9mKGZyYW1lKSA+IC0xO1xuICAgIH1cbiAgICBwZWVrU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbdGhpcy5zdGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnRhaW5zVG9wU3RhdGUoc3RhdGVVcmwpIHtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gdGhpcy5wZWVrU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGxhc3RTdGF0ZSAmJiBsYXN0U3RhdGUuc2VnbWVudEdyb3VwLnRvU3RyaW5nKCkgPT09IHN0YXRlVXJsO1xuICAgIH1cbiAgICAvLyBTZWFyY2ggZm9yIGZyYW1lIHRoYXQgY2FuIGdvIGJhY2suXG4gICAgLy8gTmVzdGVkICdwcmltYXJ5JyBvdXRsZXRzIGNvdWxkIHJlc3VsdCBpbiBPdXRsZXQgd2l0aCBtdWx0aXBsZSBuYXZpZ2F0YWJsZSBmcmFtZXMuXG4gICAgZ2V0RnJhbWVUb0JhY2soKSB7XG4gICAgICAgIGxldCBmcmFtZSA9IHRoaXMuZnJhbWVzW3RoaXMuZnJhbWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIXRoaXMuaXNOU0VtcHR5T3V0bGV0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IHRoaXMuZnJhbWVzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RnJhbWUgPSB0aGlzLmZyYW1lc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZS5jYW5Hb0JhY2soKSkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IGN1cnJlbnRGcmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9XG59XG5jb25zdCBkZWZhdWx0TmF2T3B0aW9ucyA9IHtcbiAgICBjbGVhckhpc3Rvcnk6IGZhbHNlLFxuICAgIGFuaW1hdGVkOiB0cnVlLFxufTtcblxuY2xhc3MgTlNMb2NhdGlvblN0cmF0ZWd5IGV4dGVuZHMgTG9jYXRpb25TdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IoZnJhbWVTZXJ2aWNlLCBzdGFydFBhdGgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5mcmFtZVNlcnZpY2UgPSBmcmFtZVNlcnZpY2U7XG4gICAgICAgIHRoaXMuc3RhcnRQYXRoID0gc3RhcnRQYXRoO1xuICAgICAgICB0aGlzLm91dGxldHMgPSBbXTtcbiAgICAgICAgdGhpcy5wb3BTdGF0ZUNhbGxiYWNrcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA9IDA7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuY29uc3RydWN0b3IoKScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50T3V0bGV0ICYmIHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKTtcbiAgICB9XG4gICAgcGF0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVcmxUcmVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydFBhdGggfHwgJy8nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jdXJyZW50T3V0bGV0ICYmIHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5jdXJyZW50VXJsVHJlZTtcbiAgICAgICAgY29uc3QgY2hhbmdlZE91dGxldCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQodGhpcy5jdXJyZW50T3V0bGV0KTtcbiAgICAgICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgZGVjbGFyZXMgYSBjb21wb25lbnQgYXQgcGF0aCBcIi9cIi5cbiAgICAgICAgLy8gVGhlIHVybCBzZXJpYWxpemVyIGRvZXNuJ3QgcGFyc2UgdGhpcyB1cmwgYXMgaGF2aW5nIGEgcHJpbWFyeSBvdXRsZXQuXG4gICAgICAgIGlmIChzdGF0ZS5pc1Jvb3RTZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgIHRyZWUucm9vdCA9IHN0YXRlLnNlZ21lbnRHcm91cDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VkT3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlZ21lbnRHcm91cCh0cmVlLnJvb3QsIGNoYW5nZWRPdXRsZXQsIHN0YXRlLnNlZ21lbnRHcm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsU2VyaWFsaXplciA9IG5ldyBEZWZhdWx0VXJsU2VyaWFsaXplcigpO1xuICAgICAgICB0cmVlLnF1ZXJ5UGFyYW1zID0gc3RhdGUucXVlcnlQYXJhbXM7XG4gICAgICAgIGNvbnN0IHVybCA9IHVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHRyZWUpO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnBhdGgoKTogJyArIHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gICAgcHJlcGFyZUV4dGVybmFsVXJsKGludGVybmFsKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucHJlcGFyZUV4dGVybmFsVXJsKCkgaW50ZXJuYWw6ICcgKyBpbnRlcm5hbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludGVybmFsO1xuICAgIH1cbiAgICBwdXNoU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucHVzaFN0YXRlIHN0YXRlOiAnICsgYCR7c3RhdGV9LCB0aXRsZTogJHt0aXRsZX0sIHVybDogJHt1cmx9LCBxdWVyeVBhcmFtczogJHtxdWVyeVBhcmFtc31gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnB1c2hTdGF0ZUludGVybmFsKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcyk7XG4gICAgfVxuICAgIHB1c2hTdGF0ZUludGVybmFsKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcywgcmVwbGFjZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHVybFNlcmlhbGl6ZXIgPSBuZXcgRGVmYXVsdFVybFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50VXJsVHJlZSA9IHVybFNlcmlhbGl6ZXIucGFyc2UodXJsKTtcbiAgICAgICAgY29uc3QgdXJsVHJlZVJvb3QgPSB0aGlzLmN1cnJlbnRVcmxUcmVlLnJvb3Q7XG4gICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGRlY2xhcmVzIGEgY29tcG9uZW50IGF0IHBhdGggXCIvXCIuXG4gICAgICAgIC8vIFRoZSB1cmwgc2VyaWFsaXplciBkb2Vzbid0IHBhcnNlIHRoaXMgdXJsIGFzIGhhdmluZyBhIHByaW1hcnkgb3V0bGV0LlxuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHVybFRyZWVSb290LmNoaWxkcmVuKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRHcm91cCA9IHRoaXMuY3VycmVudFVybFRyZWUgJiYgdGhpcy5jdXJyZW50VXJsVHJlZS5yb290O1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0S2V5ID0gdGhpcy5nZXRPdXRsZXRLZXkodGhpcy5nZXRTZWdtZW50R3JvdXBGdWxsUGF0aChzZWdtZW50R3JvdXApLCAncHJpbWFyeScpO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0KG91dGxldEtleSk7XG4gICAgICAgICAgICBpZiAob3V0bGV0ICYmIHRoaXMudXBkYXRlU3RhdGVzKG91dGxldCwgc2VnbWVudEdyb3VwLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zLCByZXBsYWNlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDsgLy8gSWYgc3RhdGVzIHVwZGF0ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdE91dGxldCA9IHRoaXMuY3JlYXRlT3V0bGV0KCdwcmltYXJ5JywgbnVsbCwgc2VnbWVudEdyb3VwLCBudWxsLCBudWxsLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSByb290T3V0bGV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpLmlzUm9vdFNlZ21lbnRHcm91cCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVldWUgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRUcmVlID0gdXJsVHJlZVJvb3Q7XG4gICAgICAgIHdoaWxlIChjdXJyZW50VHJlZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY3VycmVudFRyZWUuY2hpbGRyZW4pLmZvckVhY2goKG91dGxldE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2VnbWVudEdyb3VwID0gY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV07XG4gICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnRHcm91cC5vdXRsZXQgPSBvdXRsZXROYW1lO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50R3JvdXAucm9vdCA9IHVybFRyZWVSb290O1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldFBhdGggPSB0aGlzLmdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKGN1cnJlbnRUcmVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleShvdXRsZXRQYXRoLCBvdXRsZXROYW1lKTtcbiAgICAgICAgICAgICAgICBsZXQgb3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0KG91dGxldEtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0TmFtZSA9IGN1cnJlbnRUcmVlLm91dGxldCB8fCAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXRQYXRoID0gdGhpcy5nZXRTZWdtZW50R3JvdXBGdWxsUGF0aChjdXJyZW50VHJlZS5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KHBhcmVudE91dGxldFBhdGgsIHBhcmVudE91dGxldE5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldCA9IHRoaXMuZmluZE91dGxldChwYXJlbnRPdXRsZXRLZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5zTGFzdFN0YXRlID0gb3V0bGV0ICYmIG91dGxldC5jb250YWluc1RvcFN0YXRlKGN1cnJlbnRTZWdtZW50R3JvdXAudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgICAgICAgICBvdXRsZXQgPSB0aGlzLmNyZWF0ZU91dGxldChvdXRsZXRLZXksIG91dGxldFBhdGgsIGN1cnJlbnRTZWdtZW50R3JvdXAsIHBhcmVudE91dGxldCwgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID4gMCAmJiBvdXRsZXQuc2hvd2luZ01vZGFsICYmICFjb250YWluc0xhc3RTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0aW9uIGluc2lkZSBtb2RhbCB2aWV3LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwc2VydE1vZGFsT3V0bGV0KG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcywgcmVwbGFjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXRsZXQucGFyZW50ID0gcGFyZW50T3V0bGV0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZXMob3V0bGV0LCBjdXJyZW50U2VnbWVudEdyb3VwLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zLCByZXBsYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0OyAvLyBJZiBzdGF0ZXMgdXBkYXRlZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goY3VycmVudFNlZ21lbnRHcm91cCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRUcmVlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IHRoaXMuY3VycmVudE91dGxldCAmJiB0aGlzLmN1cnJlbnRPdXRsZXQuc3RhdGVzO1xuICAgICAgICBpZiAoc3RhdGVzICYmIHN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5yZXBsYWNlU3RhdGUgY2hhbmdpbmcgZXhpc3Rpbmcgc3RhdGU6ICcgKyBgJHtzdGF0ZX0sIHRpdGxlOiAke3RpdGxlfSwgdXJsOiAke3VybH0sIHF1ZXJ5UGFyYW1zOiAke3F1ZXJ5UGFyYW1zfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucmVwbGFjZVN0YXRlIHB1c2hpbmcgbmV3IHN0YXRlOiAnICsgYCR7c3RhdGV9LCB0aXRsZTogJHt0aXRsZX0sIHVybDogJHt1cmx9LCBxdWVyeVBhcmFtczogJHtxdWVyeVBhcmFtc31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3J3YXJkKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05TTG9jYXRpb25TdHJhdGVneS5mb3J3YXJkKCkgLSBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgYmFjayhvdXRsZXQsIGZyYW1lKSB7XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldCB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRPdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlcyA9IHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXM7XG4gICAgICAgICAgICAvLyBXZSBhcmUgbmF2aWdhdGluZyB0byB0aGUgcHJldmlvdXMgcGFnZVxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIHN0YWNrIHVudGlsIHdlIGdldCB0byBhIHBhZ2UgbmF2aWdhdGlvbiBzdGF0ZVxuICAgICAgICAgICAgbGV0IHN0YXRlID0gc3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5mcmFtZSAmJiBzdGF0ZS5mcmFtZSAhPT0gZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKCFzdGF0ZS5pc1BhZ2VOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgTlNMb2NhdGlvblN0cmF0ZWd5LmJhY2soKSB3aGlsZSBuYXZpZ2F0aW5nIGJhY2suIFN0YXRlcyBwb3BwZWQ6ICR7Y291bnR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZShzdGF0ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZS5pc1BhZ2VOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyB3YXMgYSBwYWdlIG5hdmlnYXRpb24gLSBzbyBuYXZpZ2F0ZSB0aHJvdWdoIGZyYW1lLlxuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5iYWNrKCkgd2hpbGUgbm90IG5hdmlnYXRpbmcgYmFjayBidXQgdG9wJyArICcgc3RhdGUgaXMgcGFnZSAtIHdpbGwgY2FsbCBmcmFtZS5nb0JhY2soKScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW91dGxldCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3Btb3N0RnJhbWUgPSB0aGlzLmZyYW1lU2VydmljZS5nZXRGcmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUodG9wbW9zdEZyYW1lKSB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lVG9CYWNrID0gdGhpcy5jdXJyZW50T3V0bGV0LmdldEZyYW1lVG9CYWNrKCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lVG9CYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lVG9CYWNrLmdvQmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5lc3RlZCBuYXZpZ2F0aW9uIC0ganVzdCBwb3AgdGhlIHN0YXRlXG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmJhY2soKSB3aGlsZSBub3QgbmF2aWdhdGluZyBiYWNrIGJ1dCB0b3AnICsgJyBzdGF0ZSBpcyBub3QgcGFnZSAtIGp1c3QgcG9wJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFBvcFN0YXRlKHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXMucG9wKCksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhbkdvQmFjayhvdXRsZXQpIHtcbiAgICAgICAgb3V0bGV0ID0gb3V0bGV0IHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgcmV0dXJuIG91dGxldC5zdGF0ZXMubGVuZ3RoID4gMTtcbiAgICB9XG4gICAgb25Qb3BTdGF0ZShmbikge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Lm9uUG9wU3RhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcFN0YXRlQ2FsbGJhY2tzLnB1c2goZm4pO1xuICAgIH1cbiAgICBnZXRCYXNlSHJlZigpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5nZXRCYXNlSHJlZigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjYWxsUG9wU3RhdGUoc3RhdGUsIHBvcCA9IHRydWUsIG91dGxldCkge1xuICAgICAgICBvdXRsZXQgPSBvdXRsZXQgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICBjb25zdCB1cmxTZXJpYWxpemVyID0gbmV3IERlZmF1bHRVcmxTZXJpYWxpemVyKCk7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRPdXRsZXQgPSB0aGlzLmdldFNlZ21lbnRHcm91cEJ5T3V0bGV0KG91dGxldCk7XG4gICAgICAgIGlmIChzdGF0ZSAmJiBjaGFuZ2VkT3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlZ21lbnRHcm91cCh0aGlzLmN1cnJlbnRVcmxUcmVlLnJvb3QsIGNoYW5nZWRPdXRsZXQsIHN0YXRlLnNlZ21lbnRHcm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlZE91dGxldCkge1xuICAgICAgICAgICAgLy8gd2hlbiBjbG9zaW5nIG1vZGFsIHZpZXcgdGhlcmUgYXJlIHNjZW5hcmlvcyAoZS5nLiByb290IHZpZXdDb250YWluZXJSZWYpIHdoZW4gd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gY2xlYW4gdXAgdGhlIG5hbWVkIHBhZ2Ugcm91dGVyIG91dGxldCB0byBtYWtlIHN1cmUgd2Ugd2lsbCBvcGVuIHRoZSBtb2RhbCBwcm9wZXJseSBhZ2FpbiBpZiBuZWVkZWQuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlZ21lbnRHcm91cCh0aGlzLmN1cnJlbnRVcmxUcmVlLnJvb3QsIGNoYW5nZWRPdXRsZXQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybCA9IHVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHRoaXMuY3VycmVudFVybFRyZWUpO1xuICAgICAgICBjb25zdCBjaGFuZ2UgPSB7IHN0YXRlLCB0eXBlOiAncG9wc3RhdGUnIH07XG4gICAgICAgIGZvciAoY29uc3QgZm4gb2YgdGhpcy5wb3BTdGF0ZUNhbGxiYWNrcykge1xuICAgICAgICAgICAgZm4oY2hhbmdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICB0aGlzLm91dGxldHMuZm9yRWFjaCgob3V0bGV0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRTdGF0ZXMgPSBvdXRsZXQuc3RhdGVzO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0TG9nID0gb3V0bGV0U3RhdGVzXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgICAgIC5tYXAoKHYsIGkpID0+IGAke291dGxldC5vdXRsZXRLZXlzfS4ke2l9Llske3YuaXNQYWdlTmF2aWdhdGlvbiA/ICdQQUdFJyA6ICdJTlRFUk5BTCd9XS5bJHtvdXRsZXQubW9kYWxOYXZpZ2F0aW9uRGVwdGggPyAnTU9EQUwnIDogJ0JBU0UnfV0gXCIke3Yuc2VnbWVudEdyb3VwLnRvU3RyaW5nKCl9XCJgKVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KG91dGxldExvZyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICAvLyBNZXRob2RzIGZvciBzeW5jaW5nIHdpdGggcGFnZSBuYXZpZ2F0aW9uIGluIFBhZ2VSb3V0ZXJPdXRsZXRcbiAgICBfYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24oZnJhbWUsIG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpO1xuICAgICAgICBpZiAoIW91dGxldCB8fCBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdBdHRlbXB0ZWQgdG8gY2FsbCBzdGFydEdvQmFjayB3aGlsZSBnb2luZyBiYWNrLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuc3RhcnRHb0JhY2soKScpO1xuICAgICAgICB9XG4gICAgICAgIG91dGxldC5zZXRPdXRsZXRLZXlOYXZpZ2F0aW5nQmFjayhvdXRsZXRLZXkpO1xuICAgICAgICAvLyBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgPSB0cnVlO1xuICAgICAgICAvLyB3ZSBmaW5kIGFsbCB0aGUgY2hpbGRyZW4gYW5kIGFsc28gc2V0IHRoZWlyIGlzUGFnZU5hdmlnYXRpb25CYWNrXG4gICAgICAgIHRoaXMub3V0bGV0c1xuICAgICAgICAgICAgLmZpbHRlcigobykgPT4ge1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IG8ucGFyZW50O1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG91dGxldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChvKSA9PiAoby5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IHRydWUpKTtcbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0O1xuICAgIH1cbiAgICBfZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKGZyYW1lKSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSk7XG4gICAgICAgIGlmICghb3V0bGV0IHx8ICFvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdBdHRlbXB0ZWQgdG8gY2FsbCBlbmRHb0JhY2sgd2hpbGUgbm90IGdvaW5nIGJhY2suJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24oKScpO1xuICAgICAgICB9XG4gICAgICAgIG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IGZhbHNlO1xuICAgIH1cbiAgICBfYmVnaW5Nb2RhbE5hdmlnYXRpb24oZnJhbWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5fYmVnaW5Nb2RhbE5hdmlnYXRpb24oKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSkgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICAvLyBJdCBpcyBwb3NzaWJsZSB0byBoYXZlIGZyYW1lLCBidXQgbm90IGNvcnJlc3BvbmRpbmcgT3V0bGV0LCBpZlxuICAgICAgICAvLyBzaG93aW5nIG1vZGFsIGRpYWxvZyBvbiBhcHAuY29tcG9uZW50LnRzIG5nT25Jbml0KCkgZS5nLiBJbiB0aGF0IGNhc2VcbiAgICAgICAgLy8gdGhlIG1vZGFsIGlzIHRyZWF0ZWQgYXMgbm9uZSBtb2RhbCBuYXZpZ2F0aW9uLlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50T3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQuc2hvd2luZ01vZGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmNsb3NlTW9kYWxOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1Nob3dpbmdNb2RhbCA9IHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID4gMDtcbiAgICAgICAgaWYgKGlzU2hvd2luZ01vZGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aC0tO1xuICAgICAgICB9XG4gICAgICAgIC8vIGN1cnJlbnRPdXRsZXQgc2hvdWxkIGJlIHRoZSBvbmUgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgdG9wbW9zdCBmcmFtZVxuICAgICAgICBjb25zdCB0b3Btb3N0T3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCkpO1xuICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeU1vZGFsKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoLCBpc1Nob3dpbmdNb2RhbCkgfHwgdG9wbW9zdE91dGxldDtcbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0LnNob3dpbmdNb2RhbCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUodGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5lZWRlZCBiZWNhdXNlIGFuZ3VsYXIgZG9lcyBhIHNldFRpbWVvdXQgb24gb25Qb3BTdGF0ZSwgc28gaWYgd2UgZG9uJ3QgZG8gdGhpcyB3ZSBtaWdodCBlbmQgdXAgd2l0aCBpbmNvbnNpc3RlbnQgc3RhdGVcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2JlZ2luUGFnZU5hdmlnYXRpb24oZnJhbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5fYmVnaW5QYWdlTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKSB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKTtcbiAgICAgICAgaWYgKGxhc3RTdGF0ZSkge1xuICAgICAgICAgICAgbGFzdFN0YXRlLmlzUGFnZU5hdmlnYXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdk9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHROYXZPcHRpb25zO1xuICAgICAgICBpZiAobmF2T3B0aW9ucy5jbGVhckhpc3RvcnkpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Ll9iZWdpblBhZ2VOYXZpZ2F0aW9uIGNsZWFyaW5nIHN0YXRlcyBoaXN0b3J5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQuc3RhdGVzID0gW2xhc3RTdGF0ZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdk9wdGlvbnM7XG4gICAgfVxuICAgIF9nZXRPdXRsZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXRzO1xuICAgIH1cbiAgICB1cGRhdGVPdXRsZXRGcmFtZShvdXRsZXQsIGZyYW1lLCBpc0VtcHR5T3V0bGV0RnJhbWUpIHtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gb3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICBpZiAobGFzdFN0YXRlICYmICFsYXN0U3RhdGUuZnJhbWUgJiYgIWlzRW1wdHlPdXRsZXRGcmFtZSkge1xuICAgICAgICAgICAgbGFzdFN0YXRlLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvdXRsZXQuY29udGFpbnNGcmFtZShmcmFtZSkpIHtcbiAgICAgICAgICAgIG91dGxldC5mcmFtZXMucHVzaChmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0O1xuICAgIH1cbiAgICBjbGVhck91dGxldChmcmFtZSkge1xuICAgICAgICB0aGlzLm91dGxldHMgPSB0aGlzLm91dGxldHMuZmlsdGVyKChjdXJyZW50T3V0bGV0KSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNFcXVhbFRvQ3VycmVudDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRPdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBpc0VxdWFsVG9DdXJyZW50ID0gY3VycmVudE91dGxldC5wYXRoQnlPdXRsZXRzID09PSB0aGlzLmN1cnJlbnRPdXRsZXQucGF0aEJ5T3V0bGV0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSBvdXRsZXQgZnJvbSB0aGUgdXJsIHRyZWUuXG4gICAgICAgICAgICBpZiAoY3VycmVudE91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKSAmJiAhaXNFcXVhbFRvQ3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFBvcFN0YXRlKG51bGwsIHRydWUsIGN1cnJlbnRPdXRsZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2tpcCBmcmFtZXMgZmlsdGVyaW5nIHNpbmNlIGN1cnJlbnRPdXRsZXQgaXMgPHJvdXRlci1vdXRsZXQ+IHdoZW4gbm8gZnJhbWVzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIGlmIChjdXJyZW50T3V0bGV0LmZyYW1lcy5sZW5ndGggJiYgIWN1cnJlbnRPdXRsZXQuaXNOU0VtcHR5T3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE91dGxldC5mcmFtZXMgPSBjdXJyZW50T3V0bGV0LmZyYW1lcy5maWx0ZXIoKGN1cnJlbnRGcmFtZSkgPT4gY3VycmVudEZyYW1lICE9PSBmcmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRPdXRsZXQuZnJhbWVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhY3VycmVudE91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKHNlZ21lbnRHcm91cCkge1xuICAgICAgICBsZXQgZnVsbFBhdGggPSAnJztcbiAgICAgICAgd2hpbGUgKHNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gc2VnbWVudEdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoZnVsbFBhdGgpIHtcbiAgICAgICAgICAgICAgICBmdWxsUGF0aCA9ICh1cmwgPyB1cmwgKyAnLycgOiAnJykgKyBmdWxsUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZ1bGxQYXRoID0gdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VnbWVudEdyb3VwID0gc2VnbWVudEdyb3VwLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVsbFBhdGg7XG4gICAgfVxuICAgIGdldFJvdXRlRnVsbFBhdGgoY3VycmVudFJvdXRlKSB7XG4gICAgICAgIGNvbnN0IG91dGxldE5hbWUgPSBjdXJyZW50Um91dGUub3V0bGV0O1xuICAgICAgICBsZXQgZnVsbFBhdGg7XG4gICAgICAgIGN1cnJlbnRSb3V0ZSA9IGN1cnJlbnRSb3V0ZS5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybHMgPSBjdXJyZW50Um91dGUudXJsLnZhbHVlIHx8IGN1cnJlbnRSb3V0ZS51cmw7XG4gICAgICAgICAgICBsZXQgdXJsID0gdXJscztcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVybHMpKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLmpvaW4oJy8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bGxQYXRoID0gZnVsbFBhdGggPyAodXJsID8gdXJsICsgJy8nIDogdXJsKSArIGZ1bGxQYXRoIDogdXJsO1xuICAgICAgICAgICAgY3VycmVudFJvdXRlID0gY3VycmVudFJvdXRlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVsbFBhdGggPyBmdWxsUGF0aCArICctJyArIG91dGxldE5hbWUgOiBvdXRsZXROYW1lO1xuICAgIH1cbiAgICBnZXRQYXRoQnlPdXRsZXRzKHVybFNlZ21lbnRHcm91cCkge1xuICAgICAgICBpZiAoIXVybFNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXRoVG9PdXRsZXQ7XG4gICAgICAgIGxldCBsYXN0UGF0aCA9IHVybFNlZ21lbnRHcm91cC5vdXRsZXQgfHwgJ3ByaW1hcnknO1xuICAgICAgICBsZXQgcGFyZW50ID0gdXJsU2VnbWVudEdyb3VwLnBhcmVudDtcbiAgICAgICAgd2hpbGUgKHBhcmVudCAmJiB1cmxTZWdtZW50R3JvdXAucm9vdCAhPT0gcGFyZW50KSB7XG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5vdXRsZXQgIT09IGxhc3RQYXRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQYXRoID09PSAncHJpbWFyeScpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBhdGggPSBwYXJlbnQub3V0bGV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBhdGggPSBwYXJlbnQub3V0bGV0O1xuICAgICAgICAgICAgICAgICAgICBwYXRoVG9PdXRsZXQgPSBsYXN0UGF0aCArICctJyArIChwYXRoVG9PdXRsZXQgfHwgdXJsU2VnbWVudEdyb3VwLm91dGxldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aFRvT3V0bGV0IHx8IGxhc3RQYXRoO1xuICAgIH1cbiAgICBmaW5kT3V0bGV0KG91dGxldEtleSwgYWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgICAgICBsZXQgb3V0bGV0ID0gdGhpcy5vdXRsZXRzLmZpbmQoKGN1cnJlbnRPdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVxdWFsTW9kYWxEZXB0aCA9IGN1cnJlbnRPdXRsZXQubW9kYWxOYXZpZ2F0aW9uRGVwdGggPT09IHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoO1xuICAgICAgICAgICAgcmV0dXJuIGVxdWFsTW9kYWxEZXB0aCAmJiBjdXJyZW50T3V0bGV0Lm91dGxldEtleXMuaW5kZXhPZihvdXRsZXRLZXkpID4gLTE7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBObyBPdXRsZXQgd2l0aCB0aGUgZ2l2ZW4gb3V0bGV0S2V5IGNvdWxkIGhhcHBlbiB3aGVuIHVzaW5nIG5lc3RlZCB1bm5hbWVkIHAtci1vXG4gICAgICAgIC8vIHByaW1hcnkgLT4gcHJpbWFyeSAtPiBwcnltYXJ5XG4gICAgICAgIGlmICghb3V0bGV0ICYmIGFjdGl2YXRlZFJvdXRlU25hcHNob3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhCeU91dGxldHMgPSB0aGlzLmdldFBhdGhCeU91dGxldHMoYWN0aXZhdGVkUm91dGVTbmFwc2hvdCk7XG4gICAgICAgICAgICBvdXRsZXQgPSB0aGlzLm91dGxldHMuZmluZCgoY3VycmVudE91dGxldCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWFsTW9kYWxEZXB0aCA9IGN1cnJlbnRPdXRsZXQubW9kYWxOYXZpZ2F0aW9uRGVwdGggPT09IHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoO1xuICAgICAgICAgICAgICAgIHJldHVybiBlcXVhbE1vZGFsRGVwdGggJiYgY3VycmVudE91dGxldC5wYXRoQnlPdXRsZXRzID09PSBwYXRoQnlPdXRsZXRzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG4gICAgZmluZE91dGxldEJ5TW9kYWwobW9kYWxOYXZpZ2F0aW9uLCBpc1Nob3dpbmdNb2RhbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXRzLmZpbmQoKG91dGxldCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXF1YWxNb2RhbERlcHRoID0gb3V0bGV0Lm1vZGFsTmF2aWdhdGlvbkRlcHRoID09PSBtb2RhbE5hdmlnYXRpb247XG4gICAgICAgICAgICByZXR1cm4gaXNTaG93aW5nTW9kYWwgPyBlcXVhbE1vZGFsRGVwdGggJiYgb3V0bGV0LnNob3dpbmdNb2RhbCA6IGVxdWFsTW9kYWxEZXB0aDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldE91dGxldEJ5RnJhbWUoZnJhbWUpIHtcbiAgICAgICAgbGV0IG91dGxldDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMub3V0bGV0cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPdXRsZXQgPSB0aGlzLm91dGxldHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRPdXRsZXQuY29udGFpbnNGcmFtZShmcmFtZSkpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXQgPSBjdXJyZW50T3V0bGV0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRsZXQ7XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlcyhvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgaXNOZXdQYWdlID0gb3V0bGV0LnN0YXRlcy5sZW5ndGggPT09IDA7XG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IG91dGxldC5zdGF0ZXNbb3V0bGV0LnN0YXRlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgZXF1YWxTdGF0ZVVybHMgPSBvdXRsZXQuY29udGFpbnNUb3BTdGF0ZShjdXJyZW50U2VnbWVudEdyb3VwLnRvU3RyaW5nKCkpO1xuICAgICAgICBjb25zdCBsb2NhdGlvblN0YXRlID0ge1xuICAgICAgICAgICAgc2VnbWVudEdyb3VwOiBjdXJyZW50U2VnbWVudEdyb3VwLFxuICAgICAgICAgICAgaXNSb290U2VnbWVudEdyb3VwOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUGFnZU5hdmlnYXRpb246IGlzTmV3UGFnZSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB7IC4uLnF1ZXJ5UGFyYW1zIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmICghbGFzdFN0YXRlIHx8ICFlcXVhbFN0YXRlVXJscykge1xuICAgICAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXQuc3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0bGV0LnN0YXRlcy5wdXNoKGxvY2F0aW9uU3RhdGUpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxhc3Qgc3RhdGUgc2VnbWVudEdyb3VwIG9mIHBhcmVudCBPdXRsZXQuXG4gICAgICAgICAgICBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPT09IDAgJiYgIW91dGxldC5zaG93aW5nTW9kYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhcmVudHNTdGF0ZXMob3V0bGV0LCBjdXJyZW50U2VnbWVudEdyb3VwLnBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChsYXN0U3RhdGUgJiYgZXF1YWxTdGF0ZVVybHMpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcXVlcnkgcGFyYW1zIGZvciBsYXN0IHN0YXRlXG4gICAgICAgICAgICAgICAgbGFzdFN0YXRlLnF1ZXJ5UGFyYW1zID0geyAuLi5xdWVyeVBhcmFtcyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdXBkYXRlUGFyZW50c1N0YXRlcyhvdXRsZXQsIG5ld1NlZ21lbnRHcm91cCkge1xuICAgICAgICBsZXQgcGFyZW50T3V0bGV0ID0gb3V0bGV0LnBhcmVudDtcbiAgICAgICAgLy8gVXBkYXRlIHBhcmVudHMgbGFzdFN0YXRlIHNlZ21lbnRHcm91cHNcbiAgICAgICAgd2hpbGUgKHBhcmVudE91dGxldCAmJiBuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gcGFyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2VnbWVudEdyb3VwID0gbmV3U2VnbWVudEdyb3VwO1xuICAgICAgICAgICAgICAgIG5ld1NlZ21lbnRHcm91cCA9IG5ld1NlZ21lbnRHcm91cC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgcGFyZW50T3V0bGV0ID0gcGFyZW50T3V0bGV0LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgY3JlYXRlT3V0bGV0KG91dGxldEtleSwgcGF0aCwgc2VnbWVudEdyb3VwLCBwYXJlbnQsIG1vZGFsTmF2aWdhdGlvbiwgcXVlcnlQYXJhbXMgPSB7fSkge1xuICAgICAgICBjb25zdCBwYXRoQnlPdXRsZXRzID0gdGhpcy5nZXRQYXRoQnlPdXRsZXRzKHNlZ21lbnRHcm91cCk7XG4gICAgICAgIGNvbnN0IG5ld091dGxldCA9IG5ldyBPdXRsZXQob3V0bGV0S2V5LCBwYXRoLCBwYXRoQnlPdXRsZXRzLCBtb2RhbE5hdmlnYXRpb24pO1xuICAgICAgICBjb25zdCBsb2NhdGlvblN0YXRlID0ge1xuICAgICAgICAgICAgc2VnbWVudEdyb3VwOiBzZWdtZW50R3JvdXAsXG4gICAgICAgICAgICBpc1Jvb3RTZWdtZW50R3JvdXA6IGZhbHNlLFxuICAgICAgICAgICAgaXNQYWdlTmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB7IC4uLnF1ZXJ5UGFyYW1zIH0sXG4gICAgICAgIH07XG4gICAgICAgIG5ld091dGxldC5zdGF0ZXMgPSBbbG9jYXRpb25TdGF0ZV07XG4gICAgICAgIG5ld091dGxldC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMub3V0bGV0cy5wdXNoKG5ld091dGxldCk7XG4gICAgICAgIC8vIFVwZGF0ZSBsYXN0IHN0YXRlIHNlZ21lbnRHcm91cCBvZiBwYXJlbnQgT3V0bGV0LlxuICAgICAgICBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPT09IDAgJiYgIW5ld091dGxldC5zaG93aW5nTW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFyZW50c1N0YXRlcyhuZXdPdXRsZXQsIHNlZ21lbnRHcm91cC5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdPdXRsZXQ7XG4gICAgfVxuICAgIGdldFNlZ21lbnRHcm91cEJ5T3V0bGV0KG91dGxldCkge1xuICAgICAgICBjb25zdCBwYXRoTGlzdCA9IG91dGxldC5wYXRoQnlPdXRsZXRzLnNwbGl0KCctJyk7XG4gICAgICAgIGxldCBzZWdtZW50R3JvdXAgPSB0aGlzLmN1cnJlbnRVcmxUcmVlLnJvb3Q7XG4gICAgICAgIGxldCBwYXRoVG9PdXRsZXQ7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYXRoTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gcGF0aExpc3RbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW5Db3VudCA9IE9iamVjdC5rZXlzKHNlZ21lbnRHcm91cC5jaGlsZHJlbikubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuQ291bnQgJiYgc2VnbWVudEdyb3VwLmNoaWxkcmVuW2N1cnJlbnRQYXRoXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHNlZ21lbnRHcm91cC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHBhdGhUb091dGxldCA9IHBhdGhUb091dGxldCA/IHBhdGhUb091dGxldCArICcvJyArIHVybCA6IHVybDtcbiAgICAgICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBzZWdtZW50R3JvdXAuY2hpbGRyZW5bY3VycmVudFBhdGhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gY2hpbGQgb3V0bGV0IGZvdW5kIHdpdGggdGhlIGdpdmVuIG5hbWUgLSBmb3JnZXQgYWJvdXQgYWxsIHByZXZpb3VzbHkgZm91bmQgb3V0bGV0cy5cbiAgICAgICAgICAgICAgICAvLyBleGFtcGxlOiBzZWFjaGluZyBmb3IgJ3ByaW1hcnktc2Vjb25kLXByaW1hcnknIHNob3VsZG4ndCByZXR1cm4gJ3ByaW1hcnktc2Vjb25kJ1xuICAgICAgICAgICAgICAgIC8vIGlmIG5vICdwcmltYXJ5JyBjaGlsZCBhdmFpbGFibGUgb24gJ3NlY29uZCcuXG4gICAgICAgICAgICAgICAgc2VnbWVudEdyb3VwID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQYXRocyBzaG91bGQgYWxzbyBtYXRjaCBzaW5jZSB0aGVyZSBjb3VsZCBiZSBhbm90aGVyIE91dGxldFxuICAgICAgICAvLyB3aXRoIHRoZSBzYW1lIHBhdGhCeU91dGxldHMgYnV0IGRpZmZlcmVudCB1cmwgcGF0aC5cbiAgICAgICAgaWYgKHNlZ21lbnRHcm91cCAmJiBvdXRsZXQucGF0aCAmJiBwYXRoVG9PdXRsZXQgJiYgb3V0bGV0LnBhdGggIT09IHBhdGhUb091dGxldCkge1xuICAgICAgICAgICAgc2VnbWVudEdyb3VwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VnbWVudEdyb3VwO1xuICAgIH1cbiAgICAvLyBUcmF2ZXJzYWwgYW5kIHJlcGxhY2VtZW50IG9mIHNlZ21lbnRHcm91cC5cbiAgICB1cGRhdGVTZWdtZW50R3JvdXAocm9vdE5vZGUsIG9sZFNlZ21lbnRHcm91cCwgbmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgICAgIGxldCBjdXJyZW50VHJlZSA9IHJvb3ROb2RlO1xuICAgICAgICB3aGlsZSAoY3VycmVudFRyZWUpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGN1cnJlbnRUcmVlLmNoaWxkcmVuKS5mb3JFYWNoKChvdXRsZXROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdID09PSBvbGRTZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1NlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV0gPSBuZXdTZWdtZW50R3JvdXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRUcmVlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cHNlcnRNb2RhbE91dGxldChwYXJlbnRPdXRsZXQsIHNlZ21lbnRlZEdyb3VwLCBxdWVyeVBhcmFtcywgcmVwbGFjZSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBjdXJyZW50TW9kYWxPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeU1vZGFsKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoKTtcbiAgICAgICAgLy8gV2Ugd2FudCB0byB0cmVhdCBldmVyeSBwLXItbyBhcyBhIHN0YW5kYWxvbmUgT3V0bGV0LlxuICAgICAgICBpZiAoIWN1cnJlbnRNb2RhbE91dGxldCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnQgT3V0bGV0IHNob3VsZCBiZSB0aGUgcHJldmlvdXMgb3BlbmVkIG1vZGFsIChpZiBhbnkpLlxuICAgICAgICAgICAgICAgIHBhcmVudE91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5TW9kYWwodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vIGN1cnJlbnRNb2RhbE91dGxldCBhdmFpbGFibGUgd2hlbiBvcGVuaW5nICdwcmltYXJ5JyBwLXItby5cbiAgICAgICAgICAgIGNvbnN0IG91dGxldE5hbWUgPSAncHJpbWFyeSc7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRQYXRoID0gcGFyZW50T3V0bGV0LnBlZWtTdGF0ZSgpLnNlZ21lbnRHcm91cC50b1N0cmluZygpO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0S2V5ID0gdGhpcy5nZXRPdXRsZXRLZXkob3V0bGV0UGF0aCwgb3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBjdXJyZW50TW9kYWxPdXRsZXQgPSB0aGlzLmNyZWF0ZU91dGxldChvdXRsZXRLZXksIG91dGxldFBhdGgsIHNlZ21lbnRlZEdyb3VwLCBwYXJlbnRPdXRsZXQsIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBjdXJyZW50TW9kYWxPdXRsZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy51cGRhdGVTdGF0ZXMoY3VycmVudE1vZGFsT3V0bGV0LCBzZWdtZW50ZWRHcm91cCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UpKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBjdXJyZW50TW9kYWxPdXRsZXQ7IC8vIElmIHN0YXRlcyB1cGRhdGVkXG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0T3V0bGV0S2V5KHBhdGgsIG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHBhdGggPyBwYXRoICsgJy0nICsgb3V0bGV0TmFtZSA6IG91dGxldE5hbWU7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Lm5nT25EZXN0cm95KCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm91dGxldHMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIGRlcHM6IFt7IHRva2VuOiBGcmFtZVNlcnZpY2UgfSwgeyB0b2tlbjogU1RBUlRfUEFUSCwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSwgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEZyYW1lU2VydmljZSB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbU1RBUlRfUEFUSF1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbmNsYXNzIE1vZGFsRGlhbG9nUGFyYW1zIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0ID0ge30sIGNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jbG9zZUNhbGxiYWNrID0gY2xvc2VDYWxsYmFjaztcbiAgICB9XG59XG5jbGFzcyBNb2RhbERpYWxvZ1NlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0aW9uLCB6b25lLCBhcHBSZWYsIGRlZmF1bHRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuem9uZSA9IHpvbmU7XG4gICAgICAgIHRoaXMuYXBwUmVmID0gYXBwUmVmO1xuICAgICAgICB0aGlzLmRlZmF1bHRJbmplY3RvciA9IGRlZmF1bHRJbmplY3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW55dGltZSBhIG1vZGFsIGlzIGNsb3NlZCB3aXRoIHRoZSBNb2RhbERpYWxvZ1BhcmFtcyB3aGljaCB3ZXJlIGluamVjdGVkIGludG8gdGhlIGNvbXBvbmVudCB3aGljaCBpcyBub3cgY2xvc2luZy5cbiAgICAgKiBGb3IgZXhhbXBsZSwgY2FuIGJlIHVzZWQgdG8gd2lyZSB1cCBSeCBmbG93cyBvdXRzaWRlIHRoZSBzY29wZSBvZiBqdXN0IHRoZSBjb21wb25lbnQgYmVpbmcgaGFuZGxlZC5cbiAgICAgKi9cbiAgICBnZXQgY2xvc2VkJCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jbG9zZWQkKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZWQkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xvc2VkJDtcbiAgICB9XG4gICAgc2hvd01vZGFsKHR5cGUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAvLyBpZiAoIW9wdGlvbnMudmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAvLyAgIHRocm93IG5ldyBFcnJvcignTm8gdmlld0NvbnRhaW5lclJlZjogJyArICdNYWtlIHN1cmUgeW91IHBhc3Mgdmlld0NvbnRhaW5lclJlZiBpbiBNb2RhbERpYWxvZ09wdGlvbnMuJyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgbGV0IHBhcmVudFZpZXcgPSBvcHRpb25zLnZpZXdDb250YWluZXJSZWY/LmVsZW1lbnQubmF0aXZlRWxlbWVudCB8fCBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpO1xuICAgICAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0VmlldyB8fCBwYXJlbnRWaWV3IGluc3RhbmNlb2YgQXBwSG9zdEFzeW5jVmlldykgJiYgcGFyZW50Vmlldy5uZ0FwcFJvb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3Lm5nQXBwUm9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBfbmdEaWFsb2dSb290IGlzIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgcHJldmlvdXNseSBkZXRhY2hlZCBwcm94eS5cbiAgICAgICAgLy8gSXQgc2hvdWxkIGhhdmUgJ3ZpZXdDb250cm9sbGVyJyAoaU9TKSBvciAnX2RpYWxvZ0ZyYWdtZW50JyAoQW5kcm9pZCkgYXZhaWxhYmxlIGZvclxuICAgICAgICAvLyBwcmVzZW50aW5nIGZ1dHVyZSBtb2RhbCB2aWV3cy5cbiAgICAgICAgaWYgKHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXNvbHZlIGZyb20gcGFydGljdWxhciBtb2R1bGUgKG1vZHVsZVJlZilcbiAgICAgICAgLy8gb3IgZnJvbSBzYW1lIG1vZHVsZSBhcyBwYXJlbnRWaWV3ICh2aWV3Q29udGFpbmVyUmVmKVxuICAgICAgICBjb25zdCBjb21wb25lbnRJbmplY3RvciA9IG9wdGlvbnMubW9kdWxlUmVmPy5pbmplY3RvciB8fCBvcHRpb25zLnZpZXdDb250YWluZXJSZWY/LmluamVjdG9yIHx8IHRoaXMuZGVmYXVsdEluamVjdG9yO1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IGNvbXBvbmVudEluamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpO1xuICAgICAgICBsZXQgZnJhbWUgPSBwYXJlbnRWaWV3O1xuICAgICAgICBpZiAoIShwYXJlbnRWaWV3IGluc3RhbmNlb2YgRnJhbWUpKSB7XG4gICAgICAgICAgICBmcmFtZSA9IChwYXJlbnRWaWV3LnBhZ2UgJiYgcGFyZW50Vmlldy5wYWdlLmZyYW1lKSB8fCBGcmFtZS50b3Btb3N0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2NhdGlvbj8uX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKGZyYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dEaWFsb2coe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclJlZjogb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3I6IGNvbXBvbmVudEluamVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogb3B0aW9ucy5jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZUNhbGxiYWNrOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Nob3dEaWFsb2cob3B0aW9ucykge1xuICAgICAgICBsZXQgY29tcG9uZW50Vmlld1JlZjtcbiAgICAgICAgbGV0IGRldGFjaGVkTG9hZGVyUmVmO1xuICAgICAgICBsZXQgcG9ydGFsT3V0bGV0O1xuICAgICAgICBjb25zdCBjbG9zZUNhbGxiYWNrID0gb25jZShhc3luYyAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgb3B0aW9ucy5kb25lQ2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRWaWV3UmVmKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLm9wZW5lZE1vZGFsUGFyYW1zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jbG9zZWQkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlZCQubmV4dChwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2F0aW9uLl9jbG9zZU1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChkZXRhY2hlZExvYWRlclJlZiB8fCBwb3J0YWxPdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy56b25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxPdXRsZXQ/LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmPy5pbnN0YW5jZS5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhY2hlZExvYWRlclJlZj8uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb2RhbFBhcmFtcyA9IG5ldyBNb2RhbERpYWxvZ1BhcmFtcyhvcHRpb25zLmNvbnRleHQsIGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICBpZiAoIXRoaXMub3BlbmVkTW9kYWxQYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbmVkTW9kYWxQYXJhbXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wZW5lZE1vZGFsUGFyYW1zLnB1c2gobW9kYWxQYXJhbXMpO1xuICAgICAgICBjb25zdCBjaGlsZEluamVjdG9yID0gSW5qZWN0b3IuY3JlYXRlKHtcbiAgICAgICAgICAgIHByb3ZpZGVyczogW3sgcHJvdmlkZTogTW9kYWxEaWFsb2dQYXJhbXMsIHVzZVZhbHVlOiBtb2RhbFBhcmFtcyB9XSxcbiAgICAgICAgICAgIHBhcmVudDogb3B0aW9ucy5pbmplY3RvcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgd2UgZXZlciBzdXBwb3J0IHRlbXBsYXRlcyBpbiB0aGUgb2xkIEFQSVxuICAgICAgICAgICAgLy8gaWYob3B0aW9ucy50ZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgLy8gICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9IG9wdGlvbnMucmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgICAgICAgICAgLy8gICAgIGlmKG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnksIDAsIGNoaWxkSW5qZWN0b3IsIG51bGwpO1xuICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZShjaGlsZEluamVjdG9yKTsgLy8gdGhpcyBEZXRhY2hlZExvYWRlciBpcyAqKmNvbXBsZXRlbHkqKiBkZXRhY2hlZFxuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTsgLy8gd2UgYXR0YWNoIGl0IHRvIHRoZSBhcHBsaWNhdGlvblJlZiwgc28gaXQgYmVjb21lcyBhIFwicm9vdFwiIHZpZXcgaW4gYW5ndWxhcidzIGhpZXJhcmNoeVxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7IC8vIGZvcmNlIGEgY2hhbmdlIGRldGVjdGlvblxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLmNyZWF0ZVRlbXBsYXRlUG9ydGFsKG9wdGlvbnMudGVtcGxhdGVSZWYpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgICAgICAgICAgY29uc3QgcG9ydGFsID0gbmV3IENvbXBvbmVudFBvcnRhbChvcHRpb25zLnR5cGUpO1xuICAgICAgICAgICAgcG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCh0YXJnZXRWaWV3LCBvcHRpb25zLnJlc29sdmVyLCB0aGlzLmFwcFJlZiwgY2hpbGRJbmplY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSBwb3J0YWxPdXRsZXQuYXR0YWNoKHBvcnRhbCk7XG4gICAgICAgICAgICBjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50UmVmKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNvbnRleHRBc0NvbXBvbmVudFByb3BzICYmIG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmLnJlZi5pbnN0YW5jZVtrZXldID0gb3B0aW9ucy5jb250ZXh0W2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXdSZWYgIT09IGNvbXBvbmVudFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQuX25nRGlhbG9nUm9vdCA9IGNvbXBvbmVudFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGRldGFjaCB0aGUgdmlldyBmcm9tIGl0cyBwYXJlbnQsIGlvcyBnZXRzIG1hZFxuICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZi5kZXRhY2hOYXRpdmVMaWtlVmlldygpO1xuICAgICAgICAgICAgb3B0aW9ucy5wYXJlbnRWaWV3LnNob3dNb2RhbChjb21wb25lbnRWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsIHsgLi4ub3B0aW9ucywgY2xvc2VDYWxsYmFjayB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTW9kYWxEaWFsb2dTZXJ2aWNlLCBkZXBzOiBbeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLk5nWm9uZSB9LCB7IHRva2VuOiBpMC5BcHBsaWNhdGlvblJlZiB9LCB7IHRva2VuOiBpMC5JbmplY3RvciB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTW9kYWxEaWFsb2dTZXJ2aWNlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTW9kYWxEaWFsb2dTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHR5cGU6IGkwLk5nWm9uZSB9LCB7IHR5cGU6IGkwLkFwcGxpY2F0aW9uUmVmIH0sIHsgdHlwZTogaTAuSW5qZWN0b3IgfV07IH0gfSk7XG5cbi8qKlxuICogVGhpcyBkZWNvcmF0b3IgZGVsYXlzIGEgcG90ZW50aWFsbHkgdW5zYWZlIGV2ZW50IChsaWtlIGxvYWRlZC91bmxvYWRlZCB0aGF0IHdpbGwgc29tZXRpbWVzIGJlIGNhbGxlZCBiZWZvcmUgbmdPbkluaXQpIHRvIGJlIGhhbmRsZWQgc2FmZWx5IGJ5IGVuc3VyaW5nIGl0J3MgY2FsbGVkIGFmdGVyIGEgbGlmZWN5Y2xlIGhvb2suXG4gKiBAcGFyYW0gcnVuQWZ0ZXJFdmVudCBldmVudC9mdW5jdGlvbiBjYWxsIHRvIHdhaXQgdW50aWwgdGhlIGV2ZW50IGNhbiBiZSBmaXJlZCAoJ25nT25Jbml0JywgJ25nQWZ0ZXJWaWV3SW5pdCcsIC4uLilcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGV2ZW50IGhhbmRsaW5nIHBhcmFtc1xuICogQHJldHVybnMgZGVjb3JhdG9yXG4gKi9cbmZ1bmN0aW9uIE5hdGl2ZVNjcmlwdE5nU2FmZUV2ZW50KHJ1bkFmdGVyRXZlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGV2ZW50ID0gcnVuQWZ0ZXJFdmVudDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0TmdTYWZlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFsnX19uZ19zYWZlX18nXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRhcmdldFsnX19uZ19zYWZlX18nXSkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdE5nU2FmZSA9IHtcbiAgICAgICAgICAgICAgICBldmVudHM6IHt9LFxuICAgICAgICAgICAgICAgIHJ1bkJlZm9yZToge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFyZ2V0WydfX25nX3NhZmVfXyddID0gZGVmYXVsdE5nU2FmZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0pIHtcbiAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0gPSB7XG4gICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYnVmZmVyOiBbXSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbERlbGVnYXRlOiB0YXJnZXRbZXZlbnRdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhcmdldFtldmVudF0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLm9yaWdpbmFsRGVsZWdhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLm9yaWdpbmFsRGVsZWdhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLmZvckVhY2goKGZuKSA9PiBmbi5mbigpKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFsd2F5c1J1bkJlZm9yZSkge1xuICAgICAgICAgICAgZ2V0TmdTYWZlKCkucnVuQmVmb3JlW3Byb3BlcnR5S2V5XSA9IHRhcmdldFtvcHRpb25zLmFsd2F5c1J1bkJlZm9yZV07XG4gICAgICAgICAgICB0YXJnZXRbYCR7b3B0aW9ucy5hbHdheXNSdW5CZWZvcmV9YF0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpXG4gICAgICAgICAgICAgICAgICAgIC5ldmVudHNbZXZlbnRdLmJ1ZmZlci5maWx0ZXIoKHYpID0+IHYua2V5ID09PSBwcm9wZXJ0eUtleSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGZuKSA9PiBmbi5mbigpKTtcbiAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlciA9IGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLmZpbHRlcigodikgPT4gdi5rZXkgIT09IHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldO1xuICAgICAgICAgICAgICAgIGlmIChnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkRm4gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmRvbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2hvdWxkUHVzaCA9IHRydWU7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vbmx5Rmlyc3QgfHwgb3B0aW9ucy5vbmx5TGFzdCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyW2ldLmtleSA9PT0gcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9ubHlGaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFB1c2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9ubHlMYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZFB1c2gpIHtcbiAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgICAgICAgZm46IG9sZEZuLmJpbmQodGhpcywgYXJncyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuY2xhc3MgVGFiVmlld0RpcmVjdGl2ZSB7XG4gICAgZ2V0IHNlbGVjdGVkSW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZEluZGV4O1xuICAgIH1cbiAgICBzZXQgc2VsZWN0ZWRJbmRleCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZWxlY3RlZEluZGV4ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnZpZXdJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy50YWJWaWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLl9zZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50YWJWaWV3ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMudmlld0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygndGhpcy5fc2VsZWN0ZWRJbmRleDogJyArIHRoaXMuX3NlbGVjdGVkSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNCbGFuayh0aGlzLl9zZWxlY3RlZEluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy50YWJWaWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLl9zZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGFiVmlld0RpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlLCBzZWxlY3RvcjogXCJUYWJWaWV3XCIsIGlucHV0czogeyBzZWxlY3RlZEluZGV4OiBcInNlbGVjdGVkSW5kZXhcIiB9LCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdUYWJWaWV3JywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBzZWxlY3RlZEluZGV4OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuY2xhc3MgVGFiVmlld0l0ZW1EaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCB0ZW1wbGF0ZVJlZiwgdmlld0NvbnRhaW5lcikge1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZVJlZjtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcbiAgICB9XG4gICAgc2V0IGNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb25maWcgfHwgdGhpcy5fY29uZmlnLmljb25Tb3VyY2UgIT09IGNvbmZpZy5pY29uU291cmNlIHx8IHRoaXMuX2NvbmZpZy50aXRsZSAhPT0gY29uZmlnLnRpdGxlIHx8IHRoaXMuX2NvbmZpZy50ZXh0VHJhbnNmb3JtICE9PSBjb25maWcudGV4dFRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5hcHBseUNvbmZpZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8taW5wdXQtcmVuYW1lXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcgfHwge307XG4gICAgfVxuICAgIHNldCB0aXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIHsgdGl0bGUgfSk7XG4gICAgfVxuICAgIGdldCB0aXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnRpdGxlO1xuICAgIH1cbiAgICBzZXQgaWNvblNvdXJjZShpY29uU291cmNlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZywgeyBpY29uU291cmNlIH0pO1xuICAgIH1cbiAgICBnZXQgaWNvblNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmljb25Tb3VyY2U7XG4gICAgfVxuICAgIHNldCB0ZXh0VHJhbnNmb3JtKHRleHRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCB7IHRleHRUcmFuc2Zvcm0gfSk7XG4gICAgfVxuICAgIGdldCB0ZXh0VHJhbnNmb3JtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudGV4dFRyYW5zZm9ybTtcbiAgICB9XG4gICAgZW5zdXJlSXRlbSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLml0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbSA9IG5ldyBUYWJWaWV3SXRlbSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGx5Q29uZmlnKCkge1xuICAgICAgICB0aGlzLmVuc3VyZUl0ZW0oKTtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0udGl0bGUgPSB0aGlzLmNvbmZpZy50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25maWcuaWNvblNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtLmljb25Tb3VyY2UgPSB0aGlzLmNvbmZpZy5pY29uU291cmNlO1xuICAgICAgICB9XG4gICAgICAgIC8vICBUYWJWaWV3SXRlbSB0ZXh0VHJhbnNmb3JtIGhhcyBhIGRlZmF1bHQgdmFsdWUgZm9yIEFuZHJvaWQgdGhhdCBraWNrIGluXG4gICAgICAgIC8vIG9ubHkgaWYgbm8gdmFsdWUgKGV2ZW4gYSBudWxsIHZhbHVlKSBpcyBzZXQuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy50ZXh0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0udGV4dFRyYW5zZm9ybSA9IHRoaXMuY29uZmlnLnRleHRUcmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuYXBwbHlDb25maWcoKTtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy50ZW1wbGF0ZVJlZik7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgdGV4dCBub2RlcyBhbmQgY29tbWVudHNcbiAgICAgICAgY29uc3QgcmVhbFZpZXdzID0gdmlld1JlZi5yb290Tm9kZXMuZmlsdGVyKChub2RlKSA9PiAhKG5vZGUgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlKSk7XG4gICAgICAgIGlmIChyZWFsVmlld3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pdGVtLnZpZXcgPSByZWFsVmlld3NbMF07XG4gICAgICAgICAgICBjb25zdCBuZXdJdGVtcyA9ICh0aGlzLm93bmVyLnRhYlZpZXcuaXRlbXMgfHwgW10pLmNvbmNhdChbdGhpcy5pdGVtXSk7XG4gICAgICAgICAgICB0aGlzLm93bmVyLnRhYlZpZXcuaXRlbXMgPSBuZXdJdGVtcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogVGFiVmlld0RpcmVjdGl2ZSB9LCB7IHRva2VuOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogVGFiVmlld0l0ZW1EaXJlY3RpdmUsIHNlbGVjdG9yOiBcIlt0YWJJdGVtXVwiLCBpbnB1dHM6IHsgY29uZmlnOiBbXCJ0YWJJdGVtXCIsIFwiY29uZmlnXCJdLCB0aXRsZTogXCJ0aXRsZVwiLCBpY29uU291cmNlOiBcImljb25Tb3VyY2VcIiwgdGV4dFRyYW5zZm9ybTogXCJ0ZXh0VHJhbnNmb3JtXCIgfSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGFiVmlld0l0ZW1EaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1t0YWJJdGVtXScsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogVGFiVmlld0RpcmVjdGl2ZSB9LCB7IHR5cGU6IGkwLlRlbXBsYXRlUmVmIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgY29uZmlnOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsndGFiSXRlbSddXG4gICAgICAgICAgICB9XSwgdGl0bGU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBpY29uU291cmNlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgdGV4dFRyYW5zZm9ybTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuLyogZXNsaW50LWRpc2FibGUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvciAqL1xuY2xhc3MgQW5kcm9pZEZpbHRlckNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZGV2aWNlKSB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy5hbmRyb2lkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBERVZJQ0UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJhbmRyb2lkXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTEkMS5OZ0lmLCBzZWxlY3RvcjogXCJbbmdJZl1cIiwgaW5wdXRzOiBbXCJuZ0lmXCIsIFwibmdJZlRoZW5cIiwgXCJuZ0lmRWxzZVwiXSB9XSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2FuZHJvaWQnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtERVZJQ0VdXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3IgKi9cbmNsYXNzIElPU0ZpbHRlckNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZGV2aWNlKSB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy5pb3M7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogSU9TRmlsdGVyQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogREVWSUNFIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogSU9TRmlsdGVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJpb3NcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpMSQxLk5nSWYsIHNlbGVjdG9yOiBcIltuZ0lmXVwiLCBpbnB1dHM6IFtcIm5nSWZcIiwgXCJuZ0lmVGhlblwiLCBcIm5nSWZFbHNlXCJdIH1dIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogSU9TRmlsdGVyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdpb3MnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtERVZJQ0VdXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3IgKi9cbmNsYXNzIFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgLy8gTm90ZTogY2FzdGluZyBhbnkgdG8gYmUgYmFja3dhcmRzIGNvbXBhdGlibGVcbiAgICAgICAgLy8gQXZhaWxhYmxlIGluIDguNisgb25seVxuICAgICAgICB0aGlzLnNob3cgPSBkZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMudmlzaW9ub3M7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVmlzaW9uT1NGaWx0ZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBERVZJQ0UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBWaXNpb25PU0ZpbHRlckNvbXBvbmVudCwgc2VsZWN0b3I6IFwidmlzaW9ub3NcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpMSQxLk5nSWYsIHNlbGVjdG9yOiBcIltuZ0lmXVwiLCBpbnB1dHM6IFtcIm5nSWZcIiwgXCJuZ0lmVGhlblwiLCBcIm5nSWZFbHNlXCJdIH1dIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVmlzaW9uT1NGaWx0ZXJDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ3Zpc2lvbm9zJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbREVWSUNFXVxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG5jb25zdCBDREtfQ09NUE9ORU5UUyA9IFtBY3Rpb25CYXJDb21wb25lbnQsIEFjdGlvbkJhclNjb3BlLCBBY3Rpb25JdGVtRGlyZWN0aXZlLCBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBMaXN0Vmlld0NvbXBvbmVudCwgVGVtcGxhdGVLZXlEaXJlY3RpdmUsIFRhYlZpZXdEaXJlY3RpdmUsIFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBJT1NGaWx0ZXJDb21wb25lbnQsIFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50XTtcbnJlZ2lzdGVyTmF0aXZlU2NyaXB0Vmlld0NvbXBvbmVudHMoKTtcbmNsYXNzIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtBY3Rpb25CYXJDb21wb25lbnQsIEFjdGlvbkJhclNjb3BlLCBBY3Rpb25JdGVtRGlyZWN0aXZlLCBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBMaXN0Vmlld0NvbXBvbmVudCwgVGVtcGxhdGVLZXlEaXJlY3RpdmUsIFRhYlZpZXdEaXJlY3RpdmUsIFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBJT1NGaWx0ZXJDb21wb25lbnQsIFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50XSwgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSwgZXhwb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlLCBBY3Rpb25CYXJDb21wb25lbnQsIEFjdGlvbkJhclNjb3BlLCBBY3Rpb25JdGVtRGlyZWN0aXZlLCBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBMaXN0Vmlld0NvbXBvbmVudCwgVGVtcGxhdGVLZXlEaXJlY3RpdmUsIFRhYlZpZXdEaXJlY3RpdmUsIFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBJT1NGaWx0ZXJDb21wb25lbnQsIFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50XSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgcHJvdmlkZXJzOiBbTW9kYWxEaWFsb2dTZXJ2aWNlXSwgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlLCBDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogWy4uLkNES19DT01QT05FTlRTXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlLCAuLi5DREtfQ09NUE9ORU5UU10sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW01vZGFsRGlhbG9nU2VydmljZV0sXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYXM6IFtOT19FUlJPUlNfU0NIRU1BXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3KHBhcmVudFJvb3RWaWV3KSB7XG4gICAgaWYgKHBhcmVudFJvb3RWaWV3KSB7XG4gICAgICAgIHJldHVybiBwYXJlbnRSb290VmlldztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBcHBIb3N0VmlldyhuZXcgQ29sb3IoJ3doaXRlJykpO1xufVxuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKCkge1xuICAgIHJldHVybiBuZXcgRXJyb3JIYW5kbGVyKCk7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUlkKCkge1xuICAgIHJldHVybiBgJHtEYXRlLm5vdygpfWAgKyAnXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG59XG5jb25zdCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMgPSBbXG4gICAgeyBwcm92aWRlOiBBUFBfUk9PVF9WSUVXLCB1c2VGYWN0b3J5OiBnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXcsIGRlcHM6IFtbbmV3IE9wdGlvbmFsKCksIG5ldyBTa2lwU2VsZigpLCBBUFBfUk9PVF9WSUVXXV0gfSxcbiAgICB7IHByb3ZpZGU6IMm1SU5KRUNUT1JfU0NPUEUsIHVzZVZhbHVlOiAncm9vdCcgfSxcbiAgICB7IHByb3ZpZGU6IEVycm9ySGFuZGxlciwgdXNlRmFjdG9yeTogZXJyb3JIYW5kbGVyLCBkZXBzOiBbXSB9LFxuICAgIHsgcHJvdmlkZTogVmlld1V0aWwsIHVzZUNsYXNzOiBWaWV3VXRpbCwgZGVwczogW05BTUVTUEFDRV9GSUxURVJTLCBbbmV3IE9wdGlvbmFsKCksIEVOQUJMRV9SRVVTQUJFX1ZJRVdTXV0gfSxcbiAgICB7XG4gICAgICAgIHByb3ZpZGU6IE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgdXNlQ2xhc3M6IE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgZGVwczogW0FQUF9ST09UX1ZJRVcsIE5BTUVTUEFDRV9GSUxURVJTLCBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQsIFtuZXcgT3B0aW9uYWwoKSwgRU5BQkxFX1JFVVNBQkVfVklFV1NdXSxcbiAgICB9LFxuICAgIHsgcHJvdmlkZTogTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lELCB1c2VGYWN0b3J5OiBnZW5lcmF0ZVJhbmRvbUlkIH0sXG4gICAgeyBwcm92aWRlOiBSZW5kZXJlckZhY3RvcnkyLCB1c2VFeGlzdGluZzogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5IH0sXG4gICAgeyBwcm92aWRlOiBOQU1FU1BBQ0VfRklMVEVSUywgdXNlQ2xhc3M6IFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyLCBkZXBzOiBbREVWSUNFXSwgbXVsdGk6IHRydWUgfSxcbiAgICB7IHByb3ZpZGU6IERFVklDRSwgdXNlVmFsdWU6IERldmljZSB9LFxuICAgIHsgcHJvdmlkZTogWGhyRmFjdG9yeSwgdXNlQ2xhc3M6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIGRlcHM6IFtdIH0sXG5dO1xuY29uc3QgTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMgPSBbeyBwcm92aWRlOiBWaWV3cG9ydFNjcm9sbGVyLCB1c2VDbGFzczogybVOdWxsVmlld3BvcnRTY3JvbGxlciB9XTtcbmNsYXNzIE5hdGl2ZVNjcmlwdE1vZHVsZSB7XG4gICAgY29uc3RydWN0b3IocGFyZW50TW9kdWxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmF0aXZlU2NyaXB0TW9kdWxlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gY29tbW9uIGRpcmVjdGl2ZXMgc3VjaCBhcyBOZ0lmIGFuZCBOZ0ZvciBmcm9tIGEgbGF6eSBsb2FkZWQgbW9kdWxlLCBpbXBvcnQgQ29tbW9uTW9kdWxlIGluc3RlYWQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlcHM6IFt7IHRva2VuOiBOYXRpdmVTY3JpcHRNb2R1bGUsIG9wdGlvbmFsOiB0cnVlLCBza2lwU2VsZjogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVjbGFyYXRpb25zOiBbRGV0YWNoZWRMb2FkZXJdLCBpbXBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sIGV4cG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgRGV0YWNoZWRMb2FkZXIsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIHByb3ZpZGVyczogWy4uLk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlNdLCBpbXBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgQXBwbGljYXRpb25Nb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbRGV0YWNoZWRMb2FkZXJdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFsuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIC4uLk5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBEZXRhY2hlZExvYWRlciwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU2tpcFNlbGZcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW05hdGl2ZVNjcmlwdE1vZHVsZV1cbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuZnVuY3Rpb24gZGlzYWJsZVJvb3RWaWV3SGFuZGluZyh2aWV3KSB7XG4gICAgdmlldy5fX2Rpc2FibGVfcm9vdF92aWV3X2hhbmRsaW5nID0gdHJ1ZTtcbn1cbmNvbnN0IHByZUFuZ3VsYXJEaXNwb3NhbCQgPSBuZXcgU3ViamVjdCgpO1xuY29uc3QgcG9zdEFuZ3VsYXJCb290c3RyYXAkID0gbmV3IFN1YmplY3QoKTtcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuY29uc3Qgb25CZWZvcmVMaXZlc3luYyA9IHByZUFuZ3VsYXJEaXNwb3NhbCQucGlwZShmaWx0ZXIoKHYpID0+IHYubW9kdWxlVHlwZSA9PT0gJ21haW4nICYmIHYucmVhc29uID09PSAnaG90cmVsb2FkJyksIG1hcCgodikgPT4gdi5yZWZlcmVuY2UpKTtcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuY29uc3Qgb25BZnRlckxpdmVzeW5jID0gcG9zdEFuZ3VsYXJCb290c3RyYXAkLnBpcGUoZmlsdGVyKCh2KSA9PiB2Lm1vZHVsZVR5cGUgPT09ICdtYWluJyksIG1hcCgodikgPT4gKHsgbW9kdWxlUmVmOiB2LnJlZmVyZW5jZSB9KSkpO1xuaWYgKGltcG9ydC5tZXRhWyd3ZWJwYWNrSG90J10pIHtcbiAgICBpbXBvcnQubWV0YVsnd2VicGFja0hvdCddLmRlY2xpbmUoKTtcbiAgICBnbG9iYWwuX19vbkxpdmVTeW5jQ29yZSA9ICgpID0+IHtcbiAgICAgICAgQXBwbGljYXRpb24uZ2V0Um9vdFZpZXcoKT8uX29uQ3NzU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgLy8gYWxsIG90aGVyIGNoYW5nZXMgYXJlIGFwcGxpZWQgYnkgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcFxuICAgIH07XG59XG5mdW5jdGlvbiBlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQocmVmLCBuYW1lLCByZWFzb24pIHtcbiAgICBwb3N0QW5ndWxhckJvb3RzdHJhcCQubmV4dCh7XG4gICAgICAgIG1vZHVsZVR5cGU6IG5hbWUsXG4gICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICByZWFzb24sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBkZXN0cm95UmVmKHJlZiwgbmFtZSwgcmVhc29uKSB7XG4gICAgaWYgKHJlZikge1xuICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgUGxhdGZvcm1SZWYpIHtcbiAgICAgICAgICAgIHByZUFuZ3VsYXJEaXNwb3NhbCQubmV4dCh7XG4gICAgICAgICAgICAgICAgbW9kdWxlVHlwZTogJ3BsYXRmb3JtJyxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2U6IHJlZixcbiAgICAgICAgICAgICAgICByZWFzb246IG5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgTmdNb2R1bGVSZWYgfHwgcmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYpIHtcbiAgICAgICAgICAgIHByZUFuZ3VsYXJEaXNwb3NhbCQubmV4dCh7XG4gICAgICAgICAgICAgICAgbW9kdWxlVHlwZTogbmFtZSxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2U6IHJlZixcbiAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZWYuZGVzdHJveSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJ1blpvbmVTeW5jVGFzayhmbikge1xuICAgIGlmICh0eXBlb2YgWm9uZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB6b25lID0gWm9uZS5jdXJyZW50O1xuICAgIGNvbnN0IHRhc2sgPSB6b25lLnNjaGVkdWxlRXZlbnRUYXNrKCdzeW5jX2Z1bmN0aW9uJywgZm4sIHt9LCAoKSA9PiB7XG4gICAgICAgIC8vXG4gICAgfSwgKCkgPT4ge1xuICAgICAgICAvL1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhc2suc3RhdGUpO1xuICAgICAgICB0YXNrLmludm9rZSgpO1xuICAgICAgICAvLyB6b25lLnJ1blRhc2sodGFzayk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhc2suc3RhdGUpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFpvbmVDYW5Xb3JrU3luYygpIHtcbiAgICBsZXQgY2FuUnVuU3luYyA9IGZhbHNlO1xuICAgIHJ1blpvbmVTeW5jVGFzaygoKSA9PiB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gKGNhblJ1blN5bmMgPSB0cnVlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNhblJ1blN5bmM7XG59XG4vKipcbiAqIFRlc3RzIGlmIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUgY2FuIGJlIHVzZWQgdG8gZHJhaW4gbWljcm90YXNrc1xuICogQmVjYXVzZSBvZiBab25lLmpzLCBldmVuIHRob3VnaCB0aGUgbmF0aXZlIHF1ZXVlIG1pZ2h0IGJlIGRyYWluZWQsIHpvbmUgbWljcm90YXNrcyBtaWdodCBub3QgYmVcbiAqIEBwYXJhbSBtYWtlVGVzdERyYWluIHNob3VsZCBpdCBkcmFpbiB0aGUgY3VycmVudCBtaWNyb3Rhc2sgcXVldWUgdG8gZW5zdXJlIHRoZSBxdWV1ZSBjYW4gYmUgZHJhaW5lZFxuICogQHJldHVybnMgaWYgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSBjYW4gYmUgY2FsbGVkXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVF1ZXVlQ2FuQmVEcmFpbmVkKG1ha2VUZXN0RHJhaW4pIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIW1ha2VUZXN0RHJhaW4pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBjYW5SdW5TeW5jID0gZmFsc2U7XG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiAoY2FuUnVuU3luYyA9IHRydWUpKTtcbiAgICBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlKCk7XG4gICAgcmV0dXJuIGNhblJ1blN5bmM7XG59XG4vKipcbiAqIFJ1bnMgYSBmdW5jdGlvbiBpbiB0aGUgbW9zdCBzeW5jaHJvbm91cyB3YXkgcG9zc2libGVcbiAqIEBwYXJhbSBmbiBmdW5jdGlvbiB0byBydW5cbiAqIEBwYXJhbSBkb25lIGZ1bmN0aW9uIHRvIGNoYWluIGFmdGVyIGRvbmVcbiAqL1xuZnVuY3Rpb24gcnVuU3luY2hyb25vdXNseShmbiwgZG9uZSkge1xuICAgIGlmICh0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgWm9uZUNhbldvcmtTeW5jKCkpIHtcbiAgICAgICAgcnVuWm9uZVN5bmNUYXNrKGZuKTtcbiAgICAgICAgZG9uZT8uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5hdGl2ZVF1ZXVlQ2FuQmVEcmFpbmVkKHRydWUpKSB7XG4gICAgICAgIGZuKCk7XG4gICAgICAgIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUoKTtcbiAgICAgICAgZG9uZT8uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm4oKTtcbiAgICBpZiAoZG9uZSkge1xuICAgICAgICBVdGlscy5xdWV1ZU1hY3JvdGFzayhkb25lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQcm92aWRlcnNDb25maWcob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwcFByb3ZpZGVyczogWy4uLk5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTLCAuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIC4uLihvcHRpb25zPy5wcm92aWRlcnMgPz8gW10pXSxcbiAgICAgICAgLy8gcGxhdGZvcm1Qcm92aWRlcnM6IElOVEVSTkFMX0JST1dTRVJfUExBVEZPUk1fUFJPVklERVJTXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJvb3RzdHJhcEFwcGxpY2F0aW9uKHJvb3RDb21wb25lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gybVpbnRlcm5hbENyZWF0ZUFwcGxpY2F0aW9uKHsgcm9vdENvbXBvbmVudCwgLi4uY3JlYXRlUHJvdmlkZXJzQ29uZmlnKG9wdGlvbnMpIH0pO1xufVxuZnVuY3Rpb24gcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcChvcHRpb25zKSB7XG4gICAgbGV0IG1haW5Nb2R1bGVSZWYgPSBudWxsO1xuICAgIGxldCBsb2FkaW5nTW9kdWxlUmVmO1xuICAgIGxldCBwbGF0Zm9ybVJlZiA9IG51bGw7XG4gICAgbGV0IGJvb3RzdHJhcElkID0gLTE7XG4gICAgY29uc3QgdXBkYXRlUGxhdGZvcm1SZWYgPSAobW9kdWxlUmVmLCByZWFzb24pID0+IHtcbiAgICAgICAgY29uc3QgbmV3UGxhdGZvcm1SZWYgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KFBsYXRmb3JtUmVmKTtcbiAgICAgICAgaWYgKG5ld1BsYXRmb3JtUmVmID09PSBwbGF0Zm9ybVJlZikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlc3Ryb3lSZWYocGxhdGZvcm1SZWYsIHJlYXNvbik7XG4gICAgICAgIHBsYXRmb3JtUmVmID0gbmV3UGxhdGZvcm1SZWY7XG4gICAgICAgIHBsYXRmb3JtUmVmLm9uRGVzdHJveSgoKSA9PiAocGxhdGZvcm1SZWYgPSBwbGF0Zm9ybVJlZiA9PT0gbmV3UGxhdGZvcm1SZWYgPyBudWxsIDogcGxhdGZvcm1SZWYpKTtcbiAgICB9O1xuICAgIGxldCBsYXVuY2hFdmVudERvbmUgPSB0cnVlO1xuICAgIGxldCB0YXJnZXRSb290VmlldyA9IG51bGw7XG4gICAgY29uc3Qgc2V0Um9vdFZpZXcgPSAocmVmKSA9PiB7XG4gICAgICAgIGlmIChib290c3RyYXBJZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIHRyZWF0IGVkZ2UgY2FzZXNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgTmdNb2R1bGVSZWYgfHwgcmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYpIHtcbiAgICAgICAgICAgIGlmIChyZWYuaW5qZWN0b3IuZ2V0KERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVmWydfX2Rpc2FibGVfcm9vdF92aWV3X2hhbmRsaW5nJ10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQXBwbGljYXRpb24uZ2V0Um9vdFZpZXcoKT8uX2Nsb3NlQWxsTW9kYWxWaWV3c0ludGVybmFsKCk7IC8vIGNsZWFudXAgb2xkIHJvb3R2aWV3XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZyhgU2V0dGluZyBSb290VmlldyAke2xhdW5jaEV2ZW50RG9uZSA/ICdvdXRzaWRlIG9mJyA6ICdkdXJpbmcnfSBsYXVuY2ggZXZlbnRgKTtcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgZm9yIGxlYWtzIHdoZW4gcm9vdCB2aWV3IGlzbid0IHByb3Blcmx5IGRlc3Ryb3llZFxuICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgVmlldykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nKGBTZXR0aW5nIFJvb3RWaWV3IHRvICR7cmVmfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvbi5ydW4oeyBjcmVhdGU6ICgpID0+IHJlZiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhdW5jaEV2ZW50RG9uZSkge1xuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJlc2V0Um9vdFZpZXcoeyBjcmVhdGU6ICgpID0+IHJlZiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFJvb3RWaWV3ID0gcmVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSByZWYuaW5qZWN0b3IuZ2V0KEFQUF9ST09UX1ZJRVcpO1xuICAgICAgICBjb25zdCBuZXdSb290ID0gdmlldyBpbnN0YW5jZW9mIEFwcEhvc3RWaWV3ID8gdmlldy5jb250ZW50IDogdmlldztcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2coYFNldHRpbmcgUm9vdFZpZXcgdG8gJHtuZXdSb290fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5ydW4oeyBjcmVhdGU6ICgpID0+IG5ld1Jvb3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGF1bmNoRXZlbnREb25lKSB7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5yZXNldFJvb3RWaWV3KHsgY3JlYXRlOiAoKSA9PiBuZXdSb290IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0Um9vdFZpZXcgPSBuZXdSb290O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzaG93RXJyb3JVSSA9IChlcnJvcikgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZSArICdcXG5cXG4nICsgZXJyb3Iuc3RhY2s7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dEJveCA9IG5ldyBUZXh0VmlldygpO1xuICAgICAgICBlcnJvclRleHRCb3gudGV4dCA9IG1lc3NhZ2U7XG4gICAgICAgIGVycm9yVGV4dEJveC5jb2xvciA9IG5ldyBDb2xvcigncmVkJyk7XG4gICAgICAgIHNldFJvb3RWaWV3KGVycm9yVGV4dEJveCk7XG4gICAgfTtcbiAgICBjb25zdCBib290c3RyYXBSb290ID0gKHJlYXNvbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYm9vdHN0cmFwSWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEJvb3RzdHJhcElkID0gYm9vdHN0cmFwSWQ7XG4gICAgICAgICAgICBsZXQgYm9vdHN0cmFwcGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgb25NYWluQm9vdHN0cmFwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blN5bmNocm9ub3VzbHkoKCkgPT4gb3B0aW9ucy5hcHBNb2R1bGVCb290c3RyYXAocmVhc29uKS50aGVuKChyZWYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJvb3RzdHJhcElkICE9PSBib290c3RyYXBJZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1vZHVsZSBpcyBvbGQgYW5kIG5vdCBuZWVkZWQgYW55bW9yZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1heSBoYXBwZW4gd2hlbiBkZXZlbG9wZXIgdXNlcyBhc3luYyBhcHAgaW5pdGlhbGl6ZXIgYW5kIHRoZSB1c2VyIGV4aXRzIHRoZSBhcHAgYmVmb3JlIHRoaXMgYm9vdHN0cmFwc1xuICAgICAgICAgICAgICAgICAgICByZWYuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1haW5Nb2R1bGVSZWYgPSByZWY7XG4gICAgICAgICAgICAgICAgKHJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gcmVmLmNvbXBvbmVudHNbMF0gOiByZWYpLm9uRGVzdHJveSgoKSA9PiAobWFpbk1vZHVsZVJlZiA9IG1haW5Nb2R1bGVSZWYgPT09IHJlZiA/IG51bGwgOiBtYWluTW9kdWxlUmVmKSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlUGxhdGZvcm1SZWYocmVmLCByZWFzb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlVGFnID0gcmVmLmluamVjdG9yLmdldChOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQpO1xuICAgICAgICAgICAgICAgIChyZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZiA/IHJlZi5jb21wb25lbnRzWzBdIDogcmVmKS5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVUYWdnZWRBZGRpdGlvbmFsQ1NTKHN0eWxlVGFnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBib290c3RyYXBwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9uTWFpbkJvb3RzdHJhcCgpO1xuICAgICAgICAgICAgICAgIGVtaXRNb2R1bGVCb290c3RyYXBFdmVudChyZWYsICdtYWluJywgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAvLyBib290c3RyYXBwZWQgY29tcG9uZW50OiAocmVmIGFzIGFueSkuX2Jvb3RzdHJhcENvbXBvbmVudHNbMF07XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2dFcnJvcihgRXJyb3IgYm9vdHN0cmFwcGluZyBhcHAgbW9kdWxlOlxcbiR7ZXJyLm1lc3NhZ2V9XFxuXFxuJHtlcnIuc3RhY2t9YCk7XG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yVUkoZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Qm9vdHN0cmFwSWQgIT09IGJvb3RzdHJhcElkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFib290c3RyYXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9hZGluZ01vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVuU3luY2hyb25vdXNseSgoKSA9PiBvcHRpb25zLmxvYWRpbmdNb2R1bGUocmVhc29uKS50aGVuKChsb2FkaW5nUmVmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCb290c3RyYXBJZCAhPT0gYm9vdHN0cmFwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtb2R1bGUgaXMgb2xkIGFuZCBub3QgbmVlZGVkIGFueW1vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtYXkgaGFwcGVuIHdoZW4gZGV2ZWxvcGVyIHVzZXMgYXN5bmMgYXBwIGluaXRpYWxpemVyIGFuZCB0aGUgdXNlciBleGl0cyB0aGUgYXBwIGJlZm9yZSB0aGlzIGJvb3RzdHJhcHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ1JlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vZHVsZVJlZiA9IGxvYWRpbmdSZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGxvYWRpbmdNb2R1bGVSZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZiA/IGxvYWRpbmdNb2R1bGVSZWYuY29tcG9uZW50c1swXSA6IGxvYWRpbmdNb2R1bGVSZWYpLm9uRGVzdHJveSgoKSA9PiAobG9hZGluZ01vZHVsZVJlZiA9IGxvYWRpbmdNb2R1bGVSZWYgPT09IGxvYWRpbmdSZWYgPyBudWxsIDogbG9hZGluZ01vZHVsZVJlZikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBsYXRmb3JtUmVmKGxvYWRpbmdSZWYsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVUYWcgPSBsb2FkaW5nTW9kdWxlUmVmLmluamVjdG9yLmdldChOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsb2FkaW5nTW9kdWxlUmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyBsb2FkaW5nTW9kdWxlUmVmLmNvbXBvbmVudHNbMF0gOiBsb2FkaW5nTW9kdWxlUmVmKS5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUYWdnZWRBZGRpdGlvbmFsQ1NTKHN0eWxlVGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSb290Vmlldyhsb2FkaW5nUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1haW5Cb290c3RyYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlbGF5IHNob3dpbmcgdGhlIG5ldyByb290dmlldyB0byBhdm9pZCBmbGFzaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLnF1ZXVlTWFjcm90YXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRpbmdTZXJ2aWNlID0gbG9hZGluZ01vZHVsZVJlZi5pbmplY3Rvci5nZXQoTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vZHVsZVJlZi5pbmplY3Rvci5nZXQoTmdab25lKS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdTZXJ2aWNlLl9ub3RpZnlNYWluTW9kdWxlUmVhZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ1NlcnZpY2UucmVhZHlUb0Rlc3Ryb3kkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBpcGUoZmlsdGVyKChyZWFkeSkgPT4gcmVhZHkpLCB0YWtlKDEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc3Ryb3lSZWYobG9hZGluZ01vZHVsZVJlZiwgJ2xvYWRpbmcnLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdNb2R1bGVSZWYgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1pdE1vZHVsZUJvb3RzdHJhcEV2ZW50KGxvYWRpbmdNb2R1bGVSZWYsICdsb2FkaW5nJywgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2dFcnJvcihgRXJyb3IgYm9vdHN0cmFwcGluZyBsb2FkaW5nIG1vZHVsZTpcXG4ke2Vyci5tZXNzYWdlfVxcblxcbiR7ZXJyLnN0YWNrfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvclVJKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMubGF1bmNoVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhdW5jaFZpZXcgPSBvcHRpb25zLmxhdW5jaFZpZXcocmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KGxhdW5jaFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdW5jaFZpZXcuc3RhcnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIGxhdW5jaCBhbmltYXRpb24gaXMgZXhlY3V0ZWQgYWZ0ZXIgbGF1bmNoVmlldyBhZGRlZCB0byB2aWV3IHN0YWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXcuc3RhcnRBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTWFpbkJvb3RzdHJhcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWxheSBzaG93aW5nIHRoZSBuZXcgcm9vdHZpZXcgdG8gYXZvaWQgZmxhc2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWxzLnF1ZXVlTWFjcm90YXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdW5jaFZpZXcuY2xlYW51cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF1bmNoVmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jbGVhbnVwKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSb290VmlldyhtYWluTW9kdWxlUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF1bmNoVmlldyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSb290VmlldyhtYWluTW9kdWxlUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQXBwIGlzIGJvb3RzdHJhcHBpbmcgYXN5bmNocm9ub3VzbHkgKGxpa2VseSBBUFBfSU5JVElBTElaRVIpIGJ1dCBkaWQgbm90IHByb3ZpZGUgYSBsYXVuY2hWaWV3IG9yIExvYWRpbmdNb2R1bGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2dFcnJvcihgRXJyb3IgaW4gQm9vdHN0cmFwIEZ1bmN0aW9uOlxcbiR7ZXJyLm1lc3NhZ2V9XFxuXFxuJHtlcnIuc3RhY2t9YCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGRpc3Bvc2VQbGF0Zm9ybSA9IChyZWFzb24pID0+IHtcbiAgICAgICAgZGVzdHJveVJlZihwbGF0Zm9ybVJlZiwgcmVhc29uKTtcbiAgICAgICAgcGxhdGZvcm1SZWYgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgZGlzcG9zZUxhc3RNb2R1bGVzID0gKHJlYXNvbikgPT4ge1xuICAgICAgICAvLyByZXNldCBib290c3RyYXAgSUQgdG8gbWFrZSBzdXJlIGFueSBtb2R1bGVzIGJvb3RzdHJhcHBlZCBhZnRlciB0aGlzIGFyZSBkaXNjYXJkZWRcbiAgICAgICAgYm9vdHN0cmFwSWQgPSAtMTtcbiAgICAgICAgZGVzdHJveVJlZihsb2FkaW5nTW9kdWxlUmVmLCAnbG9hZGluZycsIHJlYXNvbik7XG4gICAgICAgIGxvYWRpbmdNb2R1bGVSZWYgPSBudWxsO1xuICAgICAgICBkZXN0cm95UmVmKG1haW5Nb2R1bGVSZWYsICdtYWluJywgcmVhc29uKTtcbiAgICAgICAgbWFpbk1vZHVsZVJlZiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBsYXVuY2hDYWxsYmFjayA9IHByb2ZpbGUoJ0BuYXRpdmVzY3JpcHQvYW5ndWxhci9wbGF0Zm9ybS1jb21tb24ubGF1bmNoQ2FsbGJhY2snLCAoYXJncykgPT4ge1xuICAgICAgICBsYXVuY2hFdmVudERvbmUgPSBmYWxzZTtcbiAgICAgICAgYm9vdHN0cmFwUm9vdCgnYXBwbGF1bmNoJyk7XG4gICAgICAgIGxhdW5jaEV2ZW50RG9uZSA9IHRydWU7XG4gICAgICAgIGFyZ3Mucm9vdCA9IHRhcmdldFJvb3RWaWV3IHx8IG51bGw7XG4gICAgfSk7XG4gICAgY29uc3QgZXhpdENhbGxiYWNrID0gcHJvZmlsZSgnQG5hdGl2ZXNjcmlwdC9hbmd1bGFyL3BsYXRmb3JtLWNvbW1vbi5leGl0Q2FsbGJhY2snLCAoYXJncykgPT4ge1xuICAgICAgICBkaXNwb3NlTGFzdE1vZHVsZXMoJ2FwcGV4aXQnKTtcbiAgICB9KTtcbiAgICBsZXQgb2xkQWRkRXZlbnRMaXN0ZW5lcjtcbiAgICBpZiAodHlwZW9mIFpvbmUgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzPy5ldmVudHM/Lltab25lLl9fc3ltYm9sX18oJ2FkZEV2ZW50TGlzdGVuZXInKV0pIHtcbiAgICAgICAgb2xkQWRkRXZlbnRMaXN0ZW5lciA9IGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzLmV2ZW50cy5hZGRFdmVudExpc3RlbmVyO1xuICAgICAgICBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lciA9IGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzLmV2ZW50c1tab25lLl9fc3ltYm9sX18oJ2FkZEV2ZW50TGlzdGVuZXInKV07XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5lbWJlZGRlZCkge1xuICAgICAgICBBcHBsaWNhdGlvbi5vbihBcHBsaWNhdGlvbi5sYXVuY2hFdmVudCwgbGF1bmNoQ2FsbGJhY2spO1xuICAgIH1cbiAgICBBcHBsaWNhdGlvbi5vbihBcHBsaWNhdGlvbi5leGl0RXZlbnQsIGV4aXRDYWxsYmFjayk7XG4gICAgaWYgKG9sZEFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIgPSBvbGRBZGRFdmVudExpc3RlbmVyO1xuICAgIH1cbiAgICBpZiAoaW1wb3J0Lm1ldGFbJ3dlYnBhY2tIb3QnXSkge1xuICAgICAgICAvLyBoYW5kbGUgSE1SIEFwcGxpY2F0aW9uLnJ1blxuICAgICAgICBnbG9iYWxbJ19fZGlzcG9zZV9hcHBfbmdfcGxhdGZvcm1fXyddID0gKCkgPT4ge1xuICAgICAgICAgICAgZGlzcG9zZVBsYXRmb3JtKCdob3RyZWxvYWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2xvYmFsWydfX2Rpc3Bvc2VfYXBwX25nX21vZHVsZXNfXyddID0gKCkgPT4ge1xuICAgICAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdob3RyZWxvYWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2xvYmFsWydfX2Jvb3RzdHJhcF9hcHBfbmdfbW9kdWxlc19fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBib290c3RyYXBSb290KCdob3RyZWxvYWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2xvYmFsWydfX2NsZWFudXBfbmdfaG90X18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLm9mZihBcHBsaWNhdGlvbi5sYXVuY2hFdmVudCwgbGF1bmNoQ2FsbGJhY2spO1xuICAgICAgICAgICAgQXBwbGljYXRpb24ub2ZmKEFwcGxpY2F0aW9uLmV4aXRFdmVudCwgZXhpdENhbGxiYWNrKTtcbiAgICAgICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnaG90cmVsb2FkJyk7XG4gICAgICAgICAgICBkaXNwb3NlUGxhdGZvcm0oJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fcmVib290X25nX21vZHVsZXNfXyddID0gKHNob3VsZERpc3Bvc2VQbGF0Zm9ybSA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlTGFzdE1vZHVsZXMoJ2hvdHJlbG9hZCcpO1xuICAgICAgICAgICAgaWYgKHNob3VsZERpc3Bvc2VQbGF0Zm9ybSkge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2VQbGF0Zm9ybSgnaG90cmVsb2FkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib290c3RyYXBSb290KCdob3RyZWxvYWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFBcHBsaWNhdGlvbi5oYXNMYXVuY2hlZCgpKSB7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5ydW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBib290c3RyYXBSb290KCdob3RyZWxvYWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5lbWJlZGRlZCkge1xuICAgICAgICBib290c3RyYXBSb290KCdhcHBsYXVuY2gnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLnJ1bigpO1xuICAgIH1cbn1cblxuY2xhc3MgTmF0aXZlU2NyaXB0UGxhdGZvcm1SZWZQcm94eSBleHRlbmRzIFBsYXRmb3JtUmVmIHtcbiAgICBjb25zdHJ1Y3RvcihwbGF0Zm9ybSwgbGF1bmNoVmlldykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBsYXRmb3JtID0gcGxhdGZvcm07XG4gICAgICAgIHRoaXMubGF1bmNoVmlldyA9IGxhdW5jaFZpZXc7XG4gICAgfVxuICAgIGJvb3RzdHJhcE1vZHVsZUZhY3RvcnkobW9kdWxlRmFjdG9yeSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhcHBNb2R1bGVCb290c3RyYXA6ICgpID0+IHRoaXMucGxhdGZvcm0uYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5KSxcbiAgICAgICAgICAgIGxhdW5jaFZpZXc6ICgpID0+IHRoaXMubGF1bmNoVmlldyxcbiAgICAgICAgfTtcbiAgICAgICAgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYm9vdHN0cmFwTW9kdWxlKG1vZHVsZVR5cGUsIGNvbXBpbGVyT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhcHBNb2R1bGVCb290c3RyYXA6ICgpID0+IHRoaXMucGxhdGZvcm0uYm9vdHN0cmFwTW9kdWxlKG1vZHVsZVR5cGUsIGNvbXBpbGVyT3B0aW9ucyksXG4gICAgICAgIH07XG4gICAgICAgIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAodGhpcy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIG9uRGVzdHJveShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBsYXRmb3JtLm9uRGVzdHJveShjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldCBpbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhdGZvcm0uaW5qZWN0b3I7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0uZGVzdHJveSgpO1xuICAgIH1cbiAgICBnZXQgZGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF0Zm9ybS5kZXN0cm95ZWQ7XG4gICAgfVxufVxuXG5jb25zdCBkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciA9IHsgcHJvdmlkZTogUEFHRV9GQUNUT1JZLCB1c2VWYWx1ZTogZGVmYXVsdFBhZ2VGYWN0b3J5IH07XG5jbGFzcyBOYXRpdmVTY3JpcHRTYW5pdGl6ZXIgZXh0ZW5kcyBTYW5pdGl6ZXIge1xuICAgIHNhbml0aXplKF9jb250ZXh0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuLy8gVE9ETzogd2hlbiBhbmd1bGFyIGZpbmFsbHkgZXhwb3J0cyB0aGVpciBzY2hlZHVsZXIgdG9rZW4gZm9yIGl2eSBDRCwgcHJvdmlkZSBvdXIgb3duIHdpdGggcXVldWVNYWNyb1Rhc2tcbi8vIGV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZXJGYWN0b3J5KCkge1xuLy8gICByZXR1cm4gKGZuOiBhbnkpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZygnU0NIRURVTEVSJyk7XG4vLyAgICAgc2V0VGltZW91dChmbiwgMCk7XG4vLyAgIH07XG4vLyB9XG5jbGFzcyBOYXRpdmVTY3JpcHREb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIFJlcXVpcmVkIGJ5IHRoZSBBbmltYXRpb25Ecml2ZXJcbiAgICAgICAgdGhpcy5ib2R5ID0ge1xuICAgICAgICAgICAgaXNPdmVycmlkZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY3JlYXRlRWxlbWVudCh0YWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmVTY3JpcHREb2N1bWVudCBpcyBub3QgRE9NIERvY3VtZW50LiBUaGVyZSBpcyBubyBjcmVhdGVFbGVtZW50KCkgbWV0aG9kLicpO1xuICAgIH1cbn1cbmNvbnN0IENPTU1PTl9QUk9WSURFUlMgPSBbZGVmYXVsdFBhZ2VGYWN0b3J5UHJvdmlkZXIsIHsgcHJvdmlkZTogU2FuaXRpemVyLCB1c2VDbGFzczogTmF0aXZlU2NyaXB0U2FuaXRpemVyLCBkZXBzOiBbXSB9LCB7IHByb3ZpZGU6IERPQ1VNRU5ULCB1c2VDbGFzczogTmF0aXZlU2NyaXB0RG9jdW1lbnQsIGRlcHM6IFtdIH1dO1xuY29uc3QgcGxhdGZvcm1OYXRpdmVTY3JpcHQgPSBjcmVhdGVQbGF0Zm9ybUZhY3RvcnkocGxhdGZvcm1Db3JlLCAnbmF0aXZlc2NyaXB0RHluYW1pYycsIENPTU1PTl9QUk9WSURFUlMpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2UgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCBpbnN0ZWFkXG4gKi9cbmNvbnN0IHBsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYyA9IGZ1bmN0aW9uIChvcHRpb25zLCBleHRyYVByb3ZpZGVycykge1xuICAgIGNvbnNvbGUubG9nKCdwbGF0Zm9ybU5hdGl2ZVNjcmlwdER5bmFtaWMgaXMgZGVwcmVjYXRlZCwgdXNlIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAgaW5zdGVhZCcpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGV4dHJhUHJvdmlkZXJzID0gZXh0cmFQcm92aWRlcnMgfHwgW107XG4gICAgY29uc3QgbmdSb290VmlldyA9IG5ldyBBcHBIb3N0VmlldyhuZXcgQ29sb3Iob3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgJ3doaXRlJykpO1xuICAgIGxldCBsYXVuY2hWaWV3ID0gb3B0aW9ucy5sYXVuY2hWaWV3O1xuICAgIGlmICghbGF1bmNoVmlldyAmJiBvcHRpb25zLmFzeW5jKSB7XG4gICAgICAgIGxhdW5jaFZpZXcgPSBuZXcgR3JpZExheW91dCgpO1xuICAgICAgICBsYXVuY2hWaWV3LmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8ICd3aGl0ZSc7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTmF0aXZlU2NyaXB0UGxhdGZvcm1SZWZQcm94eShwbGF0Zm9ybU5hdGl2ZVNjcmlwdChbLi4uZXh0cmFQcm92aWRlcnNdKSwgbGF1bmNoVmlldyk7XG59O1xuXG5jbGFzcyBSb290Vmlld1Byb3h5IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudFJvb3RMYXlvdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wYXJlbnRSb290TGF5b3V0ID0gcGFyZW50Um9vdExheW91dDtcbiAgICB9XG4gICAgX2FkZFZpZXcodmlldywgYXRJbmRleCkge1xuICAgICAgICBzdXBlci5fYWRkVmlldyh2aWV3LCBhdEluZGV4KTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Um9vdExheW91dC5nZXRDaGlsZEluZGV4KHRoaXMpIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRSb290TGF5b3V0Lmluc2VydENoaWxkKHRoaXMsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZW1vdmVWaWV3KHZpZXcpIHtcbiAgICAgICAgc3VwZXIuX3JlbW92ZVZpZXcodmlldyk7XG4gICAgICAgIHRoaXMucGFyZW50Um9vdExheW91dC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgZ2VuZXJhdGVzIGEgUm9vdExheW91dCBhbmQgcmV0dXJucyBhIFJvb3RWaWV3UHJveHkuXG4gKiBTZXR0aW5nIFJvb3RWaWV3UHJveHkuY29udGVudCB3aWxsIGFkZCB0aGUgdmlldyB0byB0aGUgYm90dG9tIG9mIHRoZSBSb290TGF5b3V0XG4gKiBTZXR0aW5nIFJvb3RWaWV3UHJveHkuY29udGVudCA9IG51bGwgd2lsbCByZW1vdmUgdGhlIHZpZXcgZnJvbSB0aGUgUm9vdExheW91dFxuICogQHJldHVybnMgUm9vdFZpZXdQcm94eSB0aGF0IHdpbGwgaW5zZXJ0IGNvbnRlbnQgaW50byB0aGUgc3RhcnQgb2YgdGhlIFJvb3RMYXlvdXRcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVSb290TGF5b3V0QW5kUHJveHkoKSB7XG4gICAgbGV0IHJvb3RWaWV3ID0gQXBwbGljYXRpb24uZ2V0Um9vdFZpZXcoKTtcbiAgICBpZiAoIXJvb3RWaWV3IHx8ICEocm9vdFZpZXcgaW5zdGFuY2VvZiBSb290TGF5b3V0KSkge1xuICAgICAgICByb290VmlldyA9IG5ldyBSb290TGF5b3V0KCk7XG4gICAgICAgIEFwcGxpY2F0aW9uLnJlc2V0Um9vdFZpZXcoeyBjcmVhdGU6ICgpID0+IHJvb3RWaWV3IH0pO1xuICAgIH1cbiAgICBjb25zdCB2aWV3UHJveHkgPSBuZXcgUm9vdFZpZXdQcm94eShyb290Vmlldyk7XG4gICAgLy8gKHJvb3RWaWV3IGFzIFJvb3RMYXlvdXQpLmluc2VydENoaWxkKHZpZXdQcm94eSwgMCk7XG4gICAgcmV0dXJuIHZpZXdQcm94eTtcbn1cbmNsYXNzIFJvb3RDb21wb3NpdGVNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm9vdENvbXBvc2l0ZU1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm9vdENvbXBvc2l0ZU1vZHVsZSwgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICB7IHByb3ZpZGU6IERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HLCB1c2VWYWx1ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBwcm92aWRlOiBBUFBfUk9PVF9WSUVXLCB1c2VGYWN0b3J5OiBnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSB9LFxuICAgICAgICBdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm9vdENvbXBvc2l0ZU1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HLCB1c2VWYWx1ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBBUFBfUk9PVF9WSUVXLCB1c2VGYWN0b3J5OiBnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29uZmlndXJhdGlvbiBmb3Igb3BlbmluZyBhIG1vZGFsIGRpYWxvZyB3aXRoIHRoZSBNYXREaWFsb2cgc2VydmljZS5cbiAqL1xuY2xhc3MgTmF0aXZlRGlhbG9nQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhlIGRpYWxvZyBoYXMgYSBiYWNrZHJvcC4gKi9cbiAgICAgICAgdGhpcy5oYXNCYWNrZHJvcCA9IHRydWU7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSB1c2VyIGNhbiB1c2UgZXNjYXBlIG9yIGNsaWNraW5nIG9uIHRoZSBiYWNrZHJvcCB0byBjbG9zZSB0aGUgbW9kYWwuICovXG4gICAgICAgIHRoaXMuZGlzYWJsZUNsb3NlID0gZmFsc2U7XG4gICAgICAgIC8qKiBEYXRhIGJlaW5nIGluamVjdGVkIGludG8gdGhlIGNoaWxkIGNvbXBvbmVudC4gKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIGRpYWxvZyBzaG91bGQgY2xvc2Ugd2hlbiB0aGUgdXNlciBnb2VzIGJhY2t3YXJkcy9mb3J3YXJkcyBpbiBoaXN0b3J5LlxuICAgICAgICAgKiBOb3RlIHRoYXQgdGhpcyB1c3VhbGx5IGRvZXNuJ3QgaW5jbHVkZSBjbGlja2luZyBvbiBsaW5rcyAodW5sZXNzIHRoZSB1c2VyIGlzIHVzaW5nXG4gICAgICAgICAqIHRoZSBgSGFzaExvY2F0aW9uU3RyYXRlZ3lgKS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VPbk5hdmlnYXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLm5hdGl2ZU9wdGlvbnMgPSB7fTtcbiAgICAgICAgLy8gVE9ETyhqZWxib3Vybik6IGFkZCBjb25maWd1cmF0aW9uIGZvciBsaWZlY3ljbGUgaG9va3MsIEFSSUEgbGFiZWxsaW5nLlxuICAgIH1cbn1cblxuLy8gQ291bnRlciBmb3IgdW5pcXVlIGRpYWxvZyBpZHMuXG5sZXQgdW5pcXVlSWQgPSAwO1xuY2xhc3MgTmF0aXZlRGlhbG9nUmVmIHtcbiAgICBjb25zdHJ1Y3RvcihfbmF0aXZlTW9kYWxSZWYsIGlkID0gYG5hdGl2ZS1kaWFsb2ctJHt1bmlxdWVJZCsrfWApIHtcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYgPSBfbmF0aXZlTW9kYWxSZWY7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgLyoqIFN1YmplY3QgZm9yIG5vdGlmeWluZyB0aGUgdXNlciB0aGF0IHRoZSBkaWFsb2cgaGFzIGZpbmlzaGVkIG9wZW5pbmcuICovXG4gICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgLyoqIFN1YmplY3QgZm9yIG5vdGlmeWluZyB0aGUgdXNlciB0aGF0IHRoZSBkaWFsb2cgaGFzIGZpbmlzaGVkIGNsb3NpbmcuICovXG4gICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgLyoqIFN1YmplY3QgZm9yIG5vdGlmeWluZyB0aGUgdXNlciB0aGF0IHRoZSBkaWFsb2cgaGFzIHN0YXJ0ZWQgY2xvc2luZy4gKi9cbiAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgLyoqIEN1cnJlbnQgc3RhdGUgb2YgdGhlIGRpYWxvZy4gKi9cbiAgICAgICAgdGhpcy5fc3RhdGUgPSAwIC8qIE5hdGl2ZURpYWxvZ1N0YXRlLk9QRU4gKi87XG4gICAgICAgIC8vIFBhc3MgdGhlIGlkIGFsb25nIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5faWQgPSBpZDtcbiAgICAgICAgLy8gRW1pdCB3aGVuIG9wZW5pbmcgYW5pbWF0aW9uIGNvbXBsZXRlc1xuICAgICAgICBfbmF0aXZlTW9kYWxSZWYuc3RhdGVDaGFuZ2VkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC5zdGF0ZSA9PT0gJ29wZW5lZCcpLCB0YWtlKDEpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hZnRlck9wZW5lZC5uZXh0KCk7XG4gICAgICAgICAgICB0aGlzLl9hZnRlck9wZW5lZC5jb21wbGV0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRGlzcG9zZSBvdmVybGF5IHdoZW4gY2xvc2luZyBhbmltYXRpb24gaXMgY29tcGxldGVcbiAgICAgICAgX25hdGl2ZU1vZGFsUmVmLnN0YXRlQ2hhbmdlZFxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKChldmVudCkgPT4gZXZlbnQuc3RhdGUgPT09ICdjbG9zZWQnKSwgdGFrZSgxKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2Nsb3NlRmFsbGJhY2tUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaERpYWxvZ0Nsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9hZnRlckNsb3NlZC5uZXh0KHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl9hZnRlckNsb3NlZC5jb21wbGV0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgX25hdGl2ZU1vZGFsUmVmLm9uRGlzbWlzcy5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLm5leHQodGhpcy5fcmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50SW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgX25hdGl2ZU1vZGFsUmVmLmRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIGRpYWxvZ1Jlc3VsdCBPcHRpb25hbCByZXN1bHQgdG8gcmV0dXJuIHRvIHRoZSBkaWFsb2cgb3BlbmVyLlxuICAgICAqL1xuICAgIGNsb3NlKGRpYWxvZ1Jlc3VsdCkge1xuICAgICAgICB0aGlzLl9yZXN1bHQgPSBkaWFsb2dSZXN1bHQ7XG4gICAgICAgIC8vIFRyYW5zaXRpb24gdGhlIGJhY2tkcm9wIGluIHBhcmFsbGVsIHRvIHRoZSBkaWFsb2cuXG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmLnN0YXRlQ2hhbmdlZFxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKChldmVudCkgPT4gZXZlbnQuc3RhdGUgPT09ICdjbG9zaW5nJyksIHRha2UoMSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLm5leHQoZGlhbG9nUmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuZGlzcG9zZSgpO1xuICAgICAgICAgICAgLy8gdGhpcy5fb3ZlcmxheVJlZi5kZXRhY2hCYWNrZHJvcCgpO1xuICAgICAgICAgICAgLy8gVGhlIGxvZ2ljIHRoYXQgZGlzcG9zZXMgb2YgdGhlIG92ZXJsYXkgZGVwZW5kcyBvbiB0aGUgZXhpdCBhbmltYXRpb24gY29tcGxldGluZywgaG93ZXZlclxuICAgICAgICAgICAgLy8gaXQgaXNuJ3QgZ3VhcmFudGVlZCBpZiB0aGUgcGFyZW50IHZpZXcgaXMgZGVzdHJveWVkIHdoaWxlIGl0J3MgcnVubmluZy4gQWRkIGEgZmFsbGJhY2tcbiAgICAgICAgICAgIC8vIHRpbWVvdXQgd2hpY2ggd2lsbCBjbGVhbiBldmVyeXRoaW5nIHVwIGlmIHRoZSBhbmltYXRpb24gaGFzbid0IGZpcmVkIHdpdGhpbiB0aGUgc3BlY2lmaWVkXG4gICAgICAgICAgICAvLyBhbW91bnQgb2YgdGltZSBwbHVzIDEwMG1zLiBXZSBkb24ndCBuZWVkIHRvIHJ1biB0aGlzIG91dHNpZGUgdGhlIE5nWm9uZSwgYmVjYXVzZSBmb3IgdGhlXG4gICAgICAgICAgICAvLyB2YXN0IG1ham9yaXR5IG9mIGNhc2VzIHRoZSB0aW1lb3V0IHdpbGwgaGF2ZSBiZWVuIGNsZWFyZWQgYmVmb3JlIGl0IGhhcyB0aGUgY2hhbmNlIHRvIGZpcmUuXG4gICAgICAgICAgICB0aGlzLl9jbG9zZUZhbGxiYWNrVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaERpYWxvZ0Nsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQubmV4dCh0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBcbiAgICAgICAgICAgIC8vZXZlbnQudG90YWxUaW1lICsgMTAwKTtcbiAgICAgICAgICAgIDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IDEgLyogTmF0aXZlRGlhbG9nU3RhdGUuQ0xPU0lORyAqLztcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuX3N0YXJ0RXhpdEFuaW1hdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIG9ic2VydmFibGUgdGhhdCBpcyBub3RpZmllZCB3aGVuIHRoZSBkaWFsb2cgaXMgZmluaXNoZWQgb3BlbmluZy5cbiAgICAgKi9cbiAgICBhZnRlck9wZW5lZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FmdGVyT3BlbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIG9ic2VydmFibGUgdGhhdCBpcyBub3RpZmllZCB3aGVuIHRoZSBkaWFsb2cgaXMgZmluaXNoZWQgY2xvc2luZy5cbiAgICAgKi9cbiAgICBhZnRlckNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FmdGVyQ2xvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIG9ic2VydmFibGUgdGhhdCBpcyBub3RpZmllZCB3aGVuIHRoZSBkaWFsb2cgaGFzIHN0YXJ0ZWQgY2xvc2luZy5cbiAgICAgKi9cbiAgICBiZWZvcmVDbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iZWZvcmVDbG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHdoZW4gdGhlIG92ZXJsYXkncyBiYWNrZHJvcCBoYXMgYmVlbiBjbGlja2VkLlxuICAgICAqL1xuICAgIGJhY2tkcm9wQ2xpY2soKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICAvKiogQWRkIGEgQ1NTIGNsYXNzIG9yIGFuIGFycmF5IG9mIGNsYXNzZXMgdG8gdGhlIG92ZXJsYXkgcGFuZS4gKi9cbiAgICBhZGRQYW5lbENsYXNzKGNsYXNzZXMpIHtcbiAgICAgICAgLy8gdGhpcy5fb3ZlcmxheVJlZi5hZGRQYW5lbENsYXNzKGNsYXNzZXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIFJlbW92ZSBhIENTUyBjbGFzcyBvciBhbiBhcnJheSBvZiBjbGFzc2VzIGZyb20gdGhlIG92ZXJsYXkgcGFuZS4gKi9cbiAgICByZW1vdmVQYW5lbENsYXNzKGNsYXNzZXMpIHtcbiAgICAgICAgLy8gdGhpcy5fb3ZlcmxheVJlZi5yZW1vdmVQYW5lbENsYXNzKGNsYXNzZXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEdldHMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGRpYWxvZydzIGxpZmVjeWNsZS4gKi9cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyB0aGUgZGlhbG9nIGNsb3NlIGJ5IHVwZGF0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgZGlhbG9nXG4gICAgICogYW5kIGRpc3Bvc2luZyB0aGUgb3ZlcmxheS5cbiAgICAgKi9cbiAgICBfZmluaXNoRGlhbG9nQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gMiAvKiBOYXRpdmVEaWFsb2dTdGF0ZS5DTE9TRUQgKi87XG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmLmRpc3Bvc2UoKTtcbiAgICB9XG59XG5cbmxldCBOYXRpdmVNb2RhbFJlZiA9IGNsYXNzIE5hdGl2ZU1vZGFsUmVmIHtcbiAgICBjb25zdHJ1Y3RvcihfY29uZmlnLCBfaW5qZWN0b3IsIGxvY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5vbkRpc21pc3MgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB0aGlzLl9pc0Rpc21pc3NlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGFyZW50VmlldyA9IHRoaXMuX2NvbmZpZy52aWV3Q29udGFpbmVyUmVmPy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQgfHwgQXBwbGljYXRpb24uZ2V0Um9vdFZpZXcoKTtcbiAgICAgICAgaWYgKChwYXJlbnRWaWV3IGluc3RhbmNlb2YgQXBwSG9zdFZpZXcgfHwgcGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RBc3luY1ZpZXcpICYmIHBhcmVudFZpZXcubmdBcHBSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5uZ0FwcFJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gX25nRGlhbG9nUm9vdCBpcyB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIHByZXZpb3VzbHkgZGV0YWNoZWQgcHJveHkuXG4gICAgICAgIC8vIEl0IHNob3VsZCBoYXZlICd2aWV3Q29udHJvbGxlcicgKGlPUykgb3IgJ19kaWFsb2dGcmFnbWVudCcgKEFuZHJvaWQpIGF2YWlsYWJsZSBmb3JcbiAgICAgICAgLy8gcHJlc2VudGluZyBmdXR1cmUgbW9kYWwgdmlld3MuXG4gICAgICAgIHdoaWxlIChwYXJlbnRWaWV3Ll9tb2RhbCB8fCBwYXJlbnRWaWV3Ll9uZ0RpYWxvZ1Jvb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3Ll9tb2RhbCB8fCBwYXJlbnRWaWV3Ll9uZ0RpYWxvZ1Jvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJlbnRWaWV3ID0gcGFyZW50VmlldztcbiAgICAgICAgdGhpcy5fY2xvc2VDYWxsYmFjayA9IG9uY2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQubmV4dCh7IHN0YXRlOiAnY2xvc2luZycgfSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzRGlzbWlzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldz8uY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2NhdGlvbj8uX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCk7XG4gICAgICAgICAgICAvLyB0aGlzLmRldGFjaGVkTG9hZGVyUmVmPy5kZXN0cm95KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tb2RhbFZpZXdSZWY/LmZpcnN0TmF0aXZlTGlrZVZpZXcuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBmcm9tRXZlbnQodGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldywgJ3VubG9hZGVkJylcbiAgICAgICAgICAgICAgICAgICAgLnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLnN0YXRlQ2hhbmdlZC5uZXh0KHsgc3RhdGU6ICdjbG9zZWQnIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLm5leHQoeyBzdGF0ZTogJ2Nsb3NlZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lcih2Y1JlZikge1xuICAgICAgICBjb25zdCBkZXRhY2hlZEZhY3RvcnkgPSAodGhpcy5fY29uZmlnLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9pbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgICAgICBpZiAodmNSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoZWRMb2FkZXJSZWYgPSB2Y1JlZi5jcmVhdGVDb21wb25lbnQoZGV0YWNoZWRGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoZWRMb2FkZXJSZWYgPSBkZXRhY2hlZEZhY3RvcnkuY3JlYXRlKHRoaXMuX2NvbmZpZy52aWV3Q29udGFpbmVyUmVmPy5pbmplY3RvciB8fCB0aGlzLl9pbmplY3Rvcik7XG4gICAgICAgICAgICB0aGlzLl9pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLmF0dGFjaFZpZXcodGhpcy5kZXRhY2hlZExvYWRlclJlZi5ob3N0Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIGF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCkge1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxOYXZpZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHZjUmVmID0gcG9ydGFsLnZpZXdDb250YWluZXJSZWYgfHwgdGhpcy5fY29uZmlnLnZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMuX2dlbmVyYXRlRGV0YWNoZWRDb250YWluZXIodmNSZWYpO1xuICAgICAgICBwb3J0YWwudmlld0NvbnRhaW5lclJlZiA9IHRoaXMuZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UudmM7XG4gICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBuZXcgQ29udGVudFZpZXcoKTtcbiAgICAgICAgdGhpcy5wb3J0YWxPdXRsZXQgPSBuZXcgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KHRhcmdldFZpZXcsIHRoaXMuX2NvbmZpZy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfHwgdGhpcy5faW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciksIHRoaXMuX2luamVjdG9yLmdldChBcHBsaWNhdGlvblJlZiksIHRoaXMuX2luamVjdG9yKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVSZWYgPSB0aGlzLnBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYgPSBuZXcgTmdWaWV3UmVmKHRlbXBsYXRlUmVmKTtcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlld1snX19uZ19tb2RhbF9pZF9fJ10gPSB0aGlzLl9pZDtcbiAgICAgICAgLy8gaWYgd2UgZG9uJ3QgZGV0YWNoIHRoZSB2aWV3IGZyb20gaXRzIHBhcmVudCwgaW9zIGdldHMgbWFkXG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgICAgIGNvbnN0IHVzZXJPcHRpb25zID0gdGhpcy5fY29uZmlnLm5hdGl2ZU9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMucGFyZW50Vmlldy5zaG93TW9kYWwodGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldywge1xuICAgICAgICAgICAgY29udGV4dDogbnVsbCxcbiAgICAgICAgICAgIC4uLnVzZXJPcHRpb25zLFxuICAgICAgICAgICAgY2xvc2VDYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYXRpb24/Ll9jbG9zZU1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzbWlzcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6ICF0aGlzLl9jb25maWcuZGlzYWJsZUNsb3NlLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gICBpZiAodGhpcy5tb2RhbFZpZXcgIT09IHRlbXBsYXRlUmVmLnJvb3ROb2Rlc1swXSkge1xuICAgICAgICAvLyAgICAgY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQuX25nRGlhbG9nUm9vdCA9IHRoaXMubW9kYWxWaWV3O1xuICAgICAgICAvLyAgIH1cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlUmVmO1xuICAgIH1cbiAgICBhdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgICAgICB0aGlzLnBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQodGFyZ2V0VmlldywgdGhpcy5fY29uZmlnLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9pbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSwgdGhpcy5faW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKSwgdGhpcy5faW5qZWN0b3IpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSB0aGlzLnBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYgPSBuZXcgTmdWaWV3UmVmKGNvbXBvbmVudFJlZik7XG4gICAgICAgIGlmICh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3ICE9PSB0aGlzLm1vZGFsVmlld1JlZi52aWV3KSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi52aWV3Ll9uZ0RpYWxvZ1Jvb3QgPSB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXdbJ19fbmdfbW9kYWxfaWRfXyddID0gdGhpcy5faWQ7XG4gICAgICAgIC8vIGlmIHdlIGRvbid0IGRldGFjaCB0aGUgdmlldyBmcm9tIGl0cyBwYXJlbnQsIGlvcyBnZXRzIG1hZFxuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5kZXRhY2hOYXRpdmVMaWtlVmlldygpO1xuICAgICAgICBjb25zdCB1c2VyT3B0aW9ucyA9IHRoaXMuX2NvbmZpZy5uYXRpdmVPcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLnBhcmVudFZpZXcuc2hvd01vZGFsKHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsIHtcbiAgICAgICAgICAgIGNvbnRleHQ6IG51bGwsXG4gICAgICAgICAgICAuLi51c2VyT3B0aW9ucyxcbiAgICAgICAgICAgIGNsb3NlQ2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0Rpc21pc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VDYWxsYmFjaygpOyAvLyBjbG9zZSBjYWxsYmFjayBjYW4gb25seSBiZSBjYWxsZWQgb25jZSwgc28gd2UgY2FsbCBpdCBoZXJlIHRvIHNldHVwIHRoZSBleGl0IGV2ZW50c1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzbWlzcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6ICF0aGlzLl9jb25maWcuZGlzYWJsZUNsb3NlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgX3N0YXJ0RXhpdEFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VDYWxsYmFjaygpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnBvcnRhbE91dGxldC5kaXNwb3NlKCk7XG4gICAgfVxuICAgIHN0YXJ0TW9kYWxOYXZpZ2F0aW9uKCkge1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMucGFyZW50VmlldyBpbnN0YW5jZW9mIEZyYW1lID8gdGhpcy5wYXJlbnRWaWV3IDogdGhpcy5wYXJlbnRWaWV3Py5wYWdlPy5mcmFtZSB8fCBGcmFtZS50b3Btb3N0KCk7XG4gICAgICAgIHRoaXMubG9jYXRpb24/Ll9iZWdpbk1vZGFsTmF2aWdhdGlvbihmcmFtZSk7XG4gICAgfVxufTtcbk5hdGl2ZU1vZGFsUmVmID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgyLCBPcHRpb25hbCgpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW05hdGl2ZURpYWxvZ0NvbmZpZywgSW5qZWN0b3IsIE5TTG9jYXRpb25TdHJhdGVneV0pXG5dLCBOYXRpdmVNb2RhbFJlZik7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIEluamVjdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGFjY2VzcyB0aGUgZGF0YSB0aGF0IHdhcyBwYXNzZWQgaW4gdG8gYSBkaWFsb2cuICovXG5jb25zdCBOQVRJVkVfRElBTE9HX0RBVEEgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZURpYWxvZ0RhdGEnKTtcbi8qKiBJbmplY3Rpb24gdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGRlZmF1bHQgZGlhbG9nIG9wdGlvbnMuICovXG5jb25zdCBOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignbmF0aXZlLWRpYWxvZy1kZWZhdWx0LW9wdGlvbnMnKTtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZGlhbG9nIHNlcnZpY2VzLiBUaGUgYmFzZSBkaWFsb2cgc2VydmljZSBhbGxvd3NcbiAqIGZvciBhcmJpdHJhcnkgZGlhbG9nIHJlZnMgYW5kIGRpYWxvZyBjb250YWluZXIgY29tcG9uZW50cy5cbiAqL1xuY2xhc3MgX05hdGl2ZURpYWxvZ0Jhc2Uge1xuICAgIC8qKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudGx5LW9wZW4gZGlhbG9ncy4gKi9cbiAgICBnZXQgb3BlbkRpYWxvZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnREaWFsb2cgPyB0aGlzLl9wYXJlbnREaWFsb2cub3BlbkRpYWxvZ3MgOiB0aGlzLl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsO1xuICAgIH1cbiAgICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBhIGRpYWxvZyBoYXMgYmVlbiBvcGVuZWQuICovXG4gICAgZ2V0IGFmdGVyT3BlbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50RGlhbG9nID8gdGhpcy5fcGFyZW50RGlhbG9nLmFmdGVyT3BlbmVkIDogdGhpcy5fYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbDtcbiAgICB9XG4gICAgX2dldEFmdGVyQWxsQ2xvc2VkKCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9wYXJlbnREaWFsb2c7XG4gICAgICAgIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuX2dldEFmdGVyQWxsQ2xvc2VkKCkgOiB0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihfaW5qZWN0b3IsIF9kZWZhdWx0T3B0aW9ucywgX3BhcmVudERpYWxvZywgX2RpYWxvZ1JlZkNvbnN0cnVjdG9yLCBfbmF0aXZlTW9kYWxUeXBlLCBfZGlhbG9nRGF0YVRva2VuLCBsb2NhdGlvblN0cmF0ZWd5KSB7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLl9kZWZhdWx0T3B0aW9ucyA9IF9kZWZhdWx0T3B0aW9ucztcbiAgICAgICAgdGhpcy5fcGFyZW50RGlhbG9nID0gX3BhcmVudERpYWxvZztcbiAgICAgICAgdGhpcy5fZGlhbG9nUmVmQ29uc3RydWN0b3IgPSBfZGlhbG9nUmVmQ29uc3RydWN0b3I7XG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsVHlwZSA9IF9uYXRpdmVNb2RhbFR5cGU7XG4gICAgICAgIHRoaXMuX2RpYWxvZ0RhdGFUb2tlbiA9IF9kaWFsb2dEYXRhVG9rZW47XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneSA9IGxvY2F0aW9uU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWwgPSBbXTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWwgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvLyBUT0RPIChqZWxib3Vybik6IHRpZ2h0ZW4gdGhlIHR5cGluZyByaWdodC1oYW5kIHNpZGUgb2YgdGhpcyBleHByZXNzaW9uLlxuICAgICAgICAvKipcbiAgICAgICAgICogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBhbGwgb3BlbiBkaWFsb2cgaGF2ZSBmaW5pc2hlZCBjbG9zaW5nLlxuICAgICAgICAgKiBXaWxsIGVtaXQgb24gc3Vic2NyaWJlIGlmIHRoZXJlIGFyZSBubyBvcGVuIGRpYWxvZ3MgdG8gYmVnaW4gd2l0aC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWZ0ZXJBbGxDbG9zZWQgPSBkZWZlcigoKSA9PiAodGhpcy5vcGVuRGlhbG9ncy5sZW5ndGggPyB0aGlzLl9nZXRBZnRlckFsbENsb3NlZCgpIDogdGhpcy5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKS5waXBlKHN0YXJ0V2l0aCh1bmRlZmluZWQpKSkpO1xuICAgIH1cbiAgICBvcGVuKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZykge1xuICAgICAgICBjb25maWcgPSBfYXBwbHlDb25maWdEZWZhdWx0cyhjb25maWcsIHRoaXMuX2RlZmF1bHRPcHRpb25zIHx8IG5ldyBOYXRpdmVEaWFsb2dDb25maWcoKSk7XG4gICAgICAgIGlmIChjb25maWcuaWQgJiYgdGhpcy5nZXREaWFsb2dCeUlkKGNvbmZpZy5pZCkgJiYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBEaWFsb2cgd2l0aCBpZCBcIiR7Y29uZmlnLmlkfVwiIGV4aXN0cyBhbHJlYWR5LiBUaGUgZGlhbG9nIGlkIG11c3QgYmUgdW5pcXVlLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpYWxvZ1JlZiA9IHRoaXMuX2F0dGFjaERpYWxvZ0NvbnRlbnQoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnKTtcbiAgICAgICAgdGhpcy5vcGVuRGlhbG9ncy5wdXNoKGRpYWxvZ1JlZik7XG4gICAgICAgIGRpYWxvZ1JlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB0aGlzLl9yZW1vdmVPcGVuRGlhbG9nKGRpYWxvZ1JlZikpO1xuICAgICAgICB0aGlzLmFmdGVyT3BlbmVkLm5leHQoZGlhbG9nUmVmKTtcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBkaWFsb2cgY29udGFpbmVyIHRoYXQgdGhlIGNvbnRlbnQgaGFzIGJlZW4gYXR0YWNoZWQuXG4gICAgICAgIC8vIGRpYWxvZ0NvbnRhaW5lci5faW5pdGlhbGl6ZVdpdGhBdHRhY2hlZENvbnRlbnQoKTtcbiAgICAgICAgcmV0dXJuIGRpYWxvZ1JlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIGFsbCBvZiB0aGUgY3VycmVudGx5LW9wZW4gZGlhbG9ncy5cbiAgICAgKi9cbiAgICBjbG9zZUFsbCgpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VEaWFsb2dzKHRoaXMub3BlbkRpYWxvZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyBhbiBvcGVuIGRpYWxvZyBieSBpdHMgaWQuXG4gICAgICogQHBhcmFtIGlkIElEIHRvIHVzZSB3aGVuIGxvb2tpbmcgdXAgdGhlIGRpYWxvZy5cbiAgICAgKi9cbiAgICBnZXREaWFsb2dCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5EaWFsb2dzLmZpbmQoKGRpYWxvZykgPT4gZGlhbG9nLmlkID09PSBpZCk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICAvLyBPbmx5IGNsb3NlIHRoZSBkaWFsb2dzIGF0IHRoaXMgbGV2ZWwgb24gZGVzdHJveVxuICAgICAgICAvLyBzaW5jZSB0aGUgcGFyZW50IHNlcnZpY2UgbWF5IHN0aWxsIGJlIGFjdGl2ZS5cbiAgICAgICAgdGhpcy5fY2xvc2VEaWFsb2dzKHRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWwpO1xuICAgICAgICB0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWwuY29tcGxldGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdGhlIHVzZXItcHJvdmlkZWQgY29tcG9uZW50IHRvIHRoZSBhbHJlYWR5LWNyZWF0ZWQgZGlhbG9nIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0gY29tcG9uZW50T3JUZW1wbGF0ZVJlZiBUaGUgdHlwZSBvZiBjb21wb25lbnQgYmVpbmcgbG9hZGVkIGludG8gdGhlIGRpYWxvZyxcbiAgICAgKiAgICAgb3IgYSBUZW1wbGF0ZVJlZiB0byBpbnN0YW50aWF0ZSBhcyB0aGUgY29udGVudC5cbiAgICAgKiBAcGFyYW0gZGlhbG9nQ29udGFpbmVyIFJlZmVyZW5jZSB0byB0aGUgd3JhcHBpbmcgZGlhbG9nIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0gb3ZlcmxheVJlZiBSZWZlcmVuY2UgdG8gdGhlIG92ZXJsYXkgaW4gd2hpY2ggdGhlIGRpYWxvZyByZXNpZGVzLlxuICAgICAqIEBwYXJhbSBjb25maWcgVGhlIGRpYWxvZyBjb25maWd1cmF0aW9uLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIE1hdERpYWxvZ1JlZiB0aGF0IHNob3VsZCBiZSByZXR1cm5lZCB0byB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBfYXR0YWNoRGlhbG9nQ29udGVudChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBjb25maWcpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgcmVmZXJlbmNlIHRvIHRoZSBkaWFsb2cgd2UncmUgY3JlYXRpbmcgaW4gb3JkZXIgdG8gZ2l2ZSB0aGUgdXNlciBhIGhhbmRsZVxuICAgICAgICAvLyB0byBtb2RpZnkgYW5kIGNsb3NlIGl0LlxuICAgICAgICBjb25zdCBuYXRpdmVNb2RhbFJlZiA9IG5ldyB0aGlzLl9uYXRpdmVNb2RhbFR5cGUoY29uZmlnLCB0aGlzLl9pbmplY3RvciwgdGhpcy5sb2NhdGlvblN0cmF0ZWd5KTtcbiAgICAgICAgY29uc3QgZGlhbG9nUmVmID0gbmV3IHRoaXMuX2RpYWxvZ1JlZkNvbnN0cnVjdG9yKG5hdGl2ZU1vZGFsUmVmLCBjb25maWcuaWQpO1xuICAgICAgICBpZiAoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiBpbnN0YW5jZW9mIFRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gb3B0aW9ucy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgICAgICAvLyAgICAgaWYob3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSwgMCwgY2hpbGRJbmplY3RvciwgbnVsbCk7XG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBkZXRhY2hlZEZhY3RvcnkuY3JlYXRlKGNoaWxkSW5qZWN0b3IpOyAvLyB0aGlzIERldGFjaGVkTG9hZGVyIGlzICoqY29tcGxldGVseSoqIGRldGFjaGVkXG4gICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpOyAvLyB3ZSBhdHRhY2ggaXQgdG8gdGhlIGFwcGxpY2F0aW9uUmVmLCBzbyBpdCBiZWNvbWVzIGEgXCJyb290XCIgdmlldyBpbiBhbmd1bGFyJ3MgaGllcmFyY2h5XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTsgLy8gZm9yY2UgYSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UuY3JlYXRlVGVtcGxhdGVQb3J0YWwob3B0aW9ucy50ZW1wbGF0ZVJlZik7XG4gICAgICAgICAgICBuYXRpdmVNb2RhbFJlZi5hdHRhY2hUZW1wbGF0ZVBvcnRhbChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICBuZXcgVGVtcGxhdGVQb3J0YWwoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgbnVsbCwgeyAkaW1wbGljaXQ6IGNvbmZpZy5kYXRhLCBkaWFsb2dSZWYgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5qZWN0b3IgPSB0aGlzLl9jcmVhdGVJbmplY3Rvcihjb25maWcsIGRpYWxvZ1JlZik7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50UmVmID0gbmF0aXZlTW9kYWxSZWYuYXR0YWNoQ29tcG9uZW50UG9ydGFsKG5ldyBDb21wb25lbnRQb3J0YWwoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnLnZpZXdDb250YWluZXJSZWYsIGluamVjdG9yKSk7XG4gICAgICAgICAgICBkaWFsb2dSZWYuY29tcG9uZW50SW5zdGFuY2UgPSBjb250ZW50UmVmLmluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWFsb2dSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjdXN0b20gaW5qZWN0b3IgdG8gYmUgdXNlZCBpbnNpZGUgdGhlIGRpYWxvZy4gVGhpcyBhbGxvd3MgYSBjb21wb25lbnQgbG9hZGVkIGluc2lkZVxuICAgICAqIG9mIGEgZGlhbG9nIHRvIGNsb3NlIGl0c2VsZiBhbmQsIG9wdGlvbmFsbHksIHRvIHJldHVybiBhIHZhbHVlLlxuICAgICAqIEBwYXJhbSBjb25maWcgQ29uZmlnIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gY29uc3RydWN0IHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIGRpYWxvZ1JlZiBSZWZlcmVuY2UgdG8gdGhlIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nQ29udGFpbmVyIERpYWxvZyBjb250YWluZXIgZWxlbWVudCB0aGF0IHdyYXBzIGFsbCBvZiB0aGUgY29udGVudHMuXG4gICAgICogQHJldHVybnMgVGhlIGN1c3RvbSBpbmplY3RvciB0aGF0IGNhbiBiZSB1c2VkIGluc2lkZSB0aGUgZGlhbG9nLlxuICAgICAqL1xuICAgIF9jcmVhdGVJbmplY3Rvcihjb25maWcsIGRpYWxvZ1JlZikge1xuICAgICAgICBjb25zdCB1c2VySW5qZWN0b3IgPSBjb25maWcgJiYgY29uZmlnLnZpZXdDb250YWluZXJSZWYgJiYgY29uZmlnLnZpZXdDb250YWluZXJSZWYuaW5qZWN0b3I7XG4gICAgICAgIC8vIFRoZSBkaWFsb2cgY29udGFpbmVyIHNob3VsZCBiZSBwcm92aWRlZCBhcyB0aGUgZGlhbG9nIGNvbnRhaW5lciBhbmQgdGhlIGRpYWxvZydzXG4gICAgICAgIC8vIGNvbnRlbnQgYXJlIGNyZWF0ZWQgb3V0IG9mIHRoZSBzYW1lIGBWaWV3Q29udGFpbmVyUmVmYCBhbmQgYXMgc3VjaCwgYXJlIHNpYmxpbmdzXG4gICAgICAgIC8vIGZvciBpbmplY3RvciBwdXJwb3Nlcy4gVG8gYWxsb3cgdGhlIGhpZXJhcmNoeSB0aGF0IGlzIGV4cGVjdGVkLCB0aGUgZGlhbG9nXG4gICAgICAgIC8vIGNvbnRhaW5lciBpcyBleHBsaWNpdGx5IHByb3ZpZGVkIGluIHRoZSBpbmplY3Rvci5cbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gW1xuICAgICAgICAgICAgeyBwcm92aWRlOiB0aGlzLl9kaWFsb2dEYXRhVG9rZW4sIHVzZVZhbHVlOiBjb25maWcuZGF0YSB9LFxuICAgICAgICAgICAgeyBwcm92aWRlOiB0aGlzLl9kaWFsb2dSZWZDb25zdHJ1Y3RvciwgdXNlVmFsdWU6IGRpYWxvZ1JlZiB9LFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gSW5qZWN0b3IuY3JlYXRlKHsgcGFyZW50OiB1c2VySW5qZWN0b3IgfHwgdGhpcy5faW5qZWN0b3IsIHByb3ZpZGVycyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRpYWxvZyBmcm9tIHRoZSBhcnJheSBvZiBvcGVuIGRpYWxvZ3MuXG4gICAgICogQHBhcmFtIGRpYWxvZ1JlZiBEaWFsb2cgdG8gYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBfcmVtb3ZlT3BlbkRpYWxvZyhkaWFsb2dSZWYpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm9wZW5EaWFsb2dzLmluZGV4T2YoZGlhbG9nUmVmKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkRpYWxvZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIElmIGFsbCB0aGUgZGlhbG9ncyB3ZXJlIGNsb3NlZCwgcmVtb3ZlL3Jlc3RvcmUgdGhlIGBhcmlhLWhpZGRlbmBcbiAgICAgICAgICAgIC8vIHRvIGEgdGhlIHNpYmxpbmdzIGFuZCBlbWl0IHRvIHRoZSBgYWZ0ZXJBbGxDbG9zZWRgIHN0cmVhbS5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcGVuRGlhbG9ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRBZnRlckFsbENsb3NlZCgpLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQ2xvc2VzIGFsbCBvZiB0aGUgZGlhbG9ncyBpbiBhbiBhcnJheS4gKi9cbiAgICBfY2xvc2VEaWFsb2dzKGRpYWxvZ3MpIHtcbiAgICAgICAgbGV0IGkgPSBkaWFsb2dzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgLy8gVGhlIGBfb3BlbkRpYWxvZ3NgIHByb3BlcnR5IGlzbid0IHVwZGF0ZWQgYWZ0ZXIgY2xvc2UgdW50aWwgdGhlIHJ4anMgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAvLyBydW5zIG9uIHRoZSBuZXh0IG1pY3JvdGFzaywgaW4gYWRkaXRpb24gdG8gbW9kaWZ5aW5nIHRoZSBhcnJheSBhcyB3ZSdyZSBnb2luZ1xuICAgICAgICAgICAgLy8gdGhyb3VnaCBpdC4gV2UgbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGVtIGFuZCBjYWxsIGNsb3NlIHdpdGhvdXQgYXNzdW1pbmcgdGhhdFxuICAgICAgICAgICAgLy8gdGhleSdsbCBiZSByZW1vdmVkIGZyb20gdGhlIGxpc3QgaW5zdGFudGFuZW91c2x5LlxuICAgICAgICAgICAgZGlhbG9nc1tpXS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogX05hdGl2ZURpYWxvZ0Jhc2UsIGRlcHM6IFwiaW52YWxpZFwiLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogX05hdGl2ZURpYWxvZ0Jhc2UsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IF9OYXRpdmVEaWFsb2dCYXNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuSW5qZWN0b3IgfSwgeyB0eXBlOiB1bmRlZmluZWQgfSwgeyB0eXBlOiB1bmRlZmluZWQgfSwgeyB0eXBlOiBpMC5UeXBlIH0sIHsgdHlwZTogaTAuVHlwZSB9LCB7IHR5cGU6IGkwLkluamVjdGlvblRva2VuIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH1dOyB9IH0pO1xuLyoqXG4gKiBTZXJ2aWNlIHRvIG9wZW4gTWF0ZXJpYWwgRGVzaWduIG1vZGFsIGRpYWxvZ3MuXG4gKi9cbmNsYXNzIE5hdGl2ZURpYWxvZ1NlcnZpY2UgZXh0ZW5kcyBfTmF0aXZlRGlhbG9nQmFzZSB7XG4gICAgY29uc3RydWN0b3IoaW5qZWN0b3IsIGRlZmF1bHRPcHRpb25zLCBwYXJlbnREaWFsb2csIGxvY2F0aW9uKSB7XG4gICAgICAgIHN1cGVyKGluamVjdG9yLCBkZWZhdWx0T3B0aW9ucywgcGFyZW50RGlhbG9nLCBOYXRpdmVEaWFsb2dSZWYsIE5hdGl2ZU1vZGFsUmVmLCBOQVRJVkVfRElBTE9HX0RBVEEsIGxvY2F0aW9uKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBkZXBzOiBbeyB0b2tlbjogaTAuSW5qZWN0b3IgfSwgeyB0b2tlbjogTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIG9wdGlvbmFsOiB0cnVlLCBza2lwU2VsZjogdHJ1ZSB9LCB7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5JbmplY3RvciB9LCB7IHR5cGU6IE5hdGl2ZURpYWxvZ0NvbmZpZywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW05BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNraXBTZWxmXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG4vKipcbiAqIEFwcGxpZXMgZGVmYXVsdCBvcHRpb25zIHRvIHRoZSBkaWFsb2cgY29uZmlnLlxuICogQHBhcmFtIGNvbmZpZyBDb25maWcgdG8gYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0gZGVmYXVsdE9wdGlvbnMgRGVmYXVsdCBvcHRpb25zIHByb3ZpZGVkLlxuICogQHJldHVybnMgVGhlIG5ldyBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gX2FwcGx5Q29uZmlnRGVmYXVsdHMoY29uZmlnLCBkZWZhdWx0T3B0aW9ucykge1xuICAgIHJldHVybiB7IC4uLmRlZmF1bHRPcHRpb25zLCAuLi5jb25maWcgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJ1dHRvbiB0aGF0IHdpbGwgY2xvc2UgdGhlIGN1cnJlbnQgZGlhbG9nLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhlIGRpYWxvZyB0aXRsZSBkaXJlY3RpdmUgaXMgYWx3YXlzIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCBhIGBNYXREaWFsb2dSZWZgLlxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbGlnaHR3ZWlnaHQtdG9rZW5zXG4gICAgZGlhbG9nUmVmLCBfZWxlbWVudFJlZiwgX2RpYWxvZykge1xuICAgICAgICB0aGlzLmRpYWxvZ1JlZiA9IGRpYWxvZ1JlZjtcbiAgICAgICAgdGhpcy5fZWxlbWVudFJlZiA9IF9lbGVtZW50UmVmO1xuICAgICAgICB0aGlzLl9kaWFsb2cgPSBfZGlhbG9nO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZ1JlZikge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGlzIGRpcmVjdGl2ZSBpcyBpbmNsdWRlZCBpbiBhIGRpYWxvZyB2aWEgVGVtcGxhdGVSZWYgKHJhdGhlciB0aGFuIGJlaW5nXG4gICAgICAgICAgICAvLyBpbiBhIENvbXBvbmVudCksIHRoZSBEaWFsb2dSZWYgaXNuJ3QgYXZhaWxhYmxlIHZpYSBpbmplY3Rpb24gYmVjYXVzZSBlbWJlZGRlZFxuICAgICAgICAgICAgLy8gdmlld3MgY2Fubm90IGJlIGdpdmVuIGEgY3VzdG9tIGluamVjdG9yLiBJbnN0ZWFkLCB3ZSBsb29rIHVwIHRoZSBEaWFsb2dSZWYgYnlcbiAgICAgICAgICAgIC8vIElELiBUaGlzIG11c3Qgb2NjdXIgaW4gYG9uSW5pdGAsIGFzIHRoZSBJRCBiaW5kaW5nIGZvciB0aGUgZGlhbG9nIGNvbnRhaW5lciB3b24ndFxuICAgICAgICAgICAgLy8gYmUgcmVzb2x2ZWQgYXQgY29uc3RydWN0b3IgdGltZS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1JlZiA9IGdldENsb3Nlc3REaWFsb2codGhpcy5fZWxlbWVudFJlZiwgdGhpcy5fZGlhbG9nLm9wZW5EaWFsb2dzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHByb3hpZWRDaGFuZ2UgPSBjaGFuZ2VzWydfbWF0RGlhbG9nQ2xvc2UnXSB8fCBjaGFuZ2VzWydfbWF0RGlhbG9nQ2xvc2VSZXN1bHQnXTtcbiAgICAgICAgaWYgKHByb3hpZWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nUmVzdWx0ID0gcHJveGllZENoYW5nZS5jdXJyZW50VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uQnV0dG9uQ2xpY2soKSB7XG4gICAgICAgIC8vIERldGVybWluYXRlIHRoZSBmb2N1cyBvcmlnaW4gdXNpbmcgdGhlIGNsaWNrIGV2ZW50LCBiZWNhdXNlIHVzaW5nIHRoZSBGb2N1c01vbml0b3Igd2lsbFxuICAgICAgICAvLyByZXN1bHQgaW4gaW5jb3JyZWN0IG9yaWdpbnMuIE1vc3Qgb2YgdGhlIHRpbWUsIGNsb3NlIGJ1dHRvbnMgd2lsbCBiZSBhdXRvIGZvY3VzZWQgaW4gdGhlXG4gICAgICAgIC8vIGRpYWxvZywgYW5kIHRoZXJlZm9yZSBjbGlja2luZyB0aGUgYnV0dG9uIHdvbid0IHJlc3VsdCBpbiBhIGZvY3VzIGNoYW5nZS4gVGhpcyBtZWFucyB0aGF0XG4gICAgICAgIC8vIHRoZSBGb2N1c01vbml0b3Igd29uJ3QgZGV0ZWN0IGFueSBvcmlnaW4gY2hhbmdlLCBhbmQgd2lsbCBhbHdheXMgb3V0cHV0IGBwcm9ncmFtYC5cbiAgICAgICAgdGhpcy5kaWFsb2dSZWYuY2xvc2UodGhpcy5kaWFsb2dSZXN1bHQpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogTmF0aXZlRGlhbG9nUmVmLCBvcHRpb25hbDogdHJ1ZSB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IE5hdGl2ZURpYWxvZ1NlcnZpY2UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW25hdGl2ZS1kaWFsb2ctY2xvc2VdLCBbbmF0aXZlRGlhbG9nQ2xvc2VdXCIsIGlucHV0czogeyBkaWFsb2dSZXN1bHQ6IFtcIm5hdGl2ZS1kaWFsb2ctY2xvc2VcIiwgXCJkaWFsb2dSZXN1bHRcIl0sIF9tYXREaWFsb2dDbG9zZTogW1wibmF0aXZlRGlhbG9nQ2xvc2VcIiwgXCJfbWF0RGlhbG9nQ2xvc2VcIl0gfSwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJ0YXBcIjogXCJfb25CdXR0b25DbGljaygpXCIgfSB9LCBleHBvcnRBczogW1wibmF0aXZlRGlhbG9nQ2xvc2VcIl0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbmF0aXZlLWRpYWxvZy1jbG9zZV0sIFtuYXRpdmVEaWFsb2dDbG9zZV0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ25hdGl2ZURpYWxvZ0Nsb3NlJyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5hdGl2ZURpYWxvZ1JlZiwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBkaWFsb2dSZXN1bHQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyduYXRpdmUtZGlhbG9nLWNsb3NlJ11cbiAgICAgICAgICAgIH1dLCBfbWF0RGlhbG9nQ2xvc2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyduYXRpdmVEaWFsb2dDbG9zZSddXG4gICAgICAgICAgICB9XSwgX29uQnV0dG9uQ2xpY2s6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdExpc3RlbmVyLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsndGFwJ11cbiAgICAgICAgICAgIH1dIH0gfSk7XG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IE1hdERpYWxvZ1JlZiB0byBhbiBlbGVtZW50IGJ5IGxvb2tpbmcgYXQgdGhlIERPTS5cbiAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgcmVsYXRpdmUgdG8gd2hpY2ggdG8gbG9vayBmb3IgYSBkaWFsb2cuXG4gKiBAcGFyYW0gb3BlbkRpYWxvZ3MgUmVmZXJlbmNlcyB0byB0aGUgY3VycmVudGx5LW9wZW4gZGlhbG9ncy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2xvc2VzdERpYWxvZyhlbGVtZW50LCBvcGVuRGlhbG9ncykge1xuICAgIGxldCB2aWV3ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50LnBhcmVudDtcbiAgICB3aGlsZSAodmlldyAmJiAhT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodmlldywgJ19fbmdfbW9kYWxfaWRfXycpKSB7XG4gICAgICAgIHZpZXcgPSB2aWV3LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXcgPyBvcGVuRGlhbG9ncy5maW5kKChkaWFsb2cpID0+IGRpYWxvZy5pZCA9PT0gdmlld1snX19uZ19tb2RhbF9pZF9fJ10pIDogbnVsbDtcbn1cblxuY2xhc3MgTmF0aXZlRGlhbG9nTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ01vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIGRlY2xhcmF0aW9uczogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSwgZXhwb3J0czogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ01vZHVsZSwgcHJvdmlkZXJzOiBbTmF0aXZlRGlhbG9nU2VydmljZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTmF0aXZlRGlhbG9nU2VydmljZV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8vIEFsbG93cyBncmVhdGVyIGZsZXhpYmlsaXR5IHdpdGggYGZpbGUtc3lzdGVtYCBhbmQgQW5ndWxhclxuLy8gQWxzbyBwcm92aWRlcyBhIHdheSBmb3IgYGZpbGUtc3lzdGVtYCB0byBiZSBtb2NrZWQgZm9yIHRlc3RpbmdcbmNsYXNzIE5TRmlsZVN5c3RlbSB7XG4gICAgY3VycmVudEFwcCgpIHtcbiAgICAgICAgcmV0dXJuIGtub3duRm9sZGVycy5jdXJyZW50QXBwKCk7XG4gICAgfVxuICAgIGZpbGVGcm9tUGF0aChwYXRoKSB7XG4gICAgICAgIHJldHVybiBGaWxlLmZyb21QYXRoKHBhdGgpO1xuICAgIH1cbiAgICBmaWxlRXhpc3RzKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIEZpbGUuZXhpc3RzKHBhdGgpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRmlsZVN5c3RlbSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRmlsZVN5c3RlbSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRmlsZVN5c3RlbSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogY3JlYXRlcyBhIERldGFjaGVkTG9hZGVyIGVpdGhlciBsaW5rZWQgdG8gdGhlIFZpZXdDb250YWluZXJSZWYgb3IgdGhlIEFwcGxpY2F0aW9uUmVmIGlmIFZpZXdDb250YWluZXJSZWYgaXMgbm90IGRlZmluZWRcbiAqIEBwYXJhbSByZXNvbHZlciBjb21wb25lbnQgZmFjdG9yeSByZXNvbHZlclxuICogQHBhcmFtIGluamVjdG9yIGRlZmF1bHQgaW5qZWN0b3IsIHVudXNlZCBpZiB2aWV3Q29udGFpbmVyUmVmIGlzIHNldFxuICogQHBhcmFtIHZpZXdDb250YWluZXJSZWYgd2hlcmUgdGhlIHZpZXcgc2hvdWxkIGxpdmUgaW4gdGhlIGFuZ3VsYXIgdHJlZVxuICogQHJldHVybnMgcmVmZXJlbmNlIHRvIHRoZSBEZXRhY2hlZExvYWRlclxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZURldGFjaGVkTG9hZGVyKHJlc29sdmVyLCBpbmplY3Rvciwgdmlld0NvbnRhaW5lclJlZikge1xuICAgIGluamVjdG9yID0gdmlld0NvbnRhaW5lclJlZj8uaW5qZWN0b3IgfHwgaW5qZWN0b3I7XG4gICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gcmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgIGNvbnN0IGRldGFjaGVkTG9hZGVyUmVmID0gdmlld0NvbnRhaW5lclJlZj8uY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSkgfHwgZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZShpbmplY3Rvcik7XG4gICAgaWYgKCF2aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIGluamVjdG9yLmdldChBcHBsaWNhdGlvblJlZikuYXR0YWNoVmlldyhkZXRhY2hlZExvYWRlclJlZi5ob3N0Vmlldyk7XG4gICAgfVxuICAgIGRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICByZXR1cm4gZGV0YWNoZWRMb2FkZXJSZWY7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIE5nVmlld1JlZiBmcm9tIGEgY29tcG9uZW50IG9yIHRlbXBsYXRlLiBAc2VlIE5nVmlld1JlZlxuICogUGFzcyBrZWVwTmF0aXZlVmlld0F0dGFjaGVkIGFzIGB0cnVlYCBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgZmlyc3QgbmF0aXZlIHZpZXcgdG8gYmUgZGV0YWNoZWQgZnJvbSBpdHMgcGFyZW50LlxuICogRm9yIG9wZW5pbmcgbW9kYWxzIGFuZCBvdGhlcnMsIHRoZSBmaXJzdE5hdGl2ZUxpa2VWaWV3IHNob3VsZCBiZSBkZXRhY2hlZC5cbiAqIEBwYXJhbSB0eXBlT3JUZW1wbGF0ZSBDb21wb25lbnRUeXBlIG9yIFRlbXBsYXRlUmVmIHRoYXQgc2hvdWxkIGJlIGluc3RhbmNlZFxuICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIHZpZXdcbiAqIEByZXR1cm5zIE5nVmlld1JlZlxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZU5hdGl2ZVNjcmlwdFZpZXcodHlwZU9yVGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICBsZXQgZGV0YWNoZWRMb2FkZXJSZWYgPSBvcHRpb25zLmRldGFjaGVkTG9hZGVyUmVmO1xuICAgIGNvbnN0IHJldXNpbmdEZXRhY2hlZExvYWRlciA9ICEhZGV0YWNoZWRMb2FkZXJSZWY7XG4gICAgaWYgKHJldXNpbmdEZXRhY2hlZExvYWRlcikge1xuICAgICAgICBvcHRpb25zLnZpZXdDb250YWluZXJSZWYgPSBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS52YztcbiAgICB9XG4gICAgY29uc3QgaW5qZWN0b3IgPSBvcHRpb25zLnZpZXdDb250YWluZXJSZWY/LmluamVjdG9yIHx8IG9wdGlvbnMuaW5qZWN0b3I7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSBvcHRpb25zLnJlc29sdmVyIHx8IGluamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpO1xuICAgIGlmICghZGV0YWNoZWRMb2FkZXJSZWYgJiYgKG9wdGlvbnMudmlld0NvbnRhaW5lclJlZiB8fCB0eXBlT3JUZW1wbGF0ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVmKSkge1xuICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IGdlbmVyYXRlRGV0YWNoZWRMb2FkZXIocmVzb2x2ZXIsIGluamVjdG9yLCBvcHRpb25zLnZpZXdDb250YWluZXJSZWYpO1xuICAgIH1cbiAgICBsZXQgcG9ydGFsO1xuICAgIGlmICh0eXBlT3JUZW1wbGF0ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVmKSB7XG4gICAgICAgIHBvcnRhbCA9IG5ldyBUZW1wbGF0ZVBvcnRhbCh0eXBlT3JUZW1wbGF0ZSwgZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UudmMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcG9ydGFsID0gbmV3IENvbXBvbmVudFBvcnRhbCh0eXBlT3JUZW1wbGF0ZSwgZGV0YWNoZWRMb2FkZXJSZWY/Lmluc3RhbmNlLnZjKTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgIGNvbnN0IHBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQocGFyZW50VmlldywgcmVzb2x2ZXIsIGluamVjdG9yLmdldChBcHBsaWNhdGlvblJlZiksIGluamVjdG9yKTtcbiAgICBjb25zdCBjb21wb25lbnRPclRlbXBsYXRlUmVmID0gcG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgIGNvbXBvbmVudE9yVGVtcGxhdGVSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgcG9ydGFsT3V0bGV0LmRpc3Bvc2UoKTtcbiAgICB9KTtcbiAgICBpZiAoZGV0YWNoZWRMb2FkZXJSZWYgJiYgIXJldXNpbmdEZXRhY2hlZExvYWRlcikge1xuICAgICAgICBjb21wb25lbnRPclRlbXBsYXRlUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICBkZXRhY2hlZExvYWRlclJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB2aWV3UmVmID0gbmV3IE5nVmlld1JlZihjb21wb25lbnRPclRlbXBsYXRlUmVmKTtcbiAgICB2aWV3UmVmLmRldGFjaGVkTG9hZGVyUmVmID0gZGV0YWNoZWRMb2FkZXJSZWY7XG4gICAgaWYgKCFvcHRpb25zLmtlZXBOYXRpdmVWaWV3QXR0YWNoZWQpIHtcbiAgICAgICAgdmlld1JlZi5kZXRhY2hOYXRpdmVMaWtlVmlldygpO1xuICAgIH1cbiAgICByZXR1cm4gdmlld1JlZjtcbn1cblxuY2xhc3MgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uID0gMDtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Ub3VjaGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVnaXN0ZXJPbkNoYW5nZShmbikge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gKGFyZykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBmbihhcmcpO1xuICAgICAgICAgICAgfSwgMjApO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZWdpc3Rlck9uVG91Y2hlZChmbikge1xuICAgICAgICB0aGlzLm9uVG91Y2hlZCA9IGZuO1xuICAgIH1cbiAgICBzZXREaXNhYmxlZFN0YXRlKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy52aWV3LmlzRW5hYmxlZCA9ICFpc0Rpc2FibGVkO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKF8pIHtcbiAgICAgICAgLy9cbiAgICB9XG4gICAgbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzQmxhbmsodmFsdWUpID8gdW5zZXRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cbn1cblxuY29uc3QgVEVYVF9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUZXh0VmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHdyaXRpbmcgYSB0ZXh0IGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8VGV4dEZpZWxkIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBUZXh0VmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlID8gYCR7dmFsdWV9YCA6IHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnRleHQgPSBub3JtYWxpemVkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRleHRWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFRleHRWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJUZXh0RmllbGRbbmdNb2RlbF0sVGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sVGV4dEZpZWxkW2Zvcm1Db250cm9sXSx0ZXh0RmllbGRbbmdNb2RlbF0sdGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dEZpZWxkW2Zvcm1Db250cm9sXSx0ZXh0ZmllbGRbbmdNb2RlbF0sdGV4dGZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dGZpZWxkW2Zvcm1Db250cm9sXSx0ZXh0LWZpZWxkW25nTW9kZWxdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sXSxUZXh0Vmlld1tuZ01vZGVsXSxUZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLFRleHRWaWV3W2Zvcm1Db250cm9sXSx0ZXh0Vmlld1tuZ01vZGVsXSx0ZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHRWaWV3W2Zvcm1Db250cm9sXSx0ZXh0dmlld1tuZ01vZGVsXSx0ZXh0dmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHR2aWV3W2Zvcm1Db250cm9sXSx0ZXh0LXZpZXdbbmdNb2RlbF0sdGV4dC12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dC12aWV3W2Zvcm1Db250cm9sXSxTZWFyY2hCYXJbbmdNb2RlbF0sU2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VhcmNoQmFyW2Zvcm1Db250cm9sXSxzZWFyY2hCYXJbbmdNb2RlbF0sc2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoQmFyW2Zvcm1Db250cm9sXSxzZWFyY2hiYXJbbmdNb2RlbF0sc2VhcmNoYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoYmFyW2Zvcm1Db250cm9sXSxzZWFyY2gtYmFyW25nTW9kZWxdLCBzZWFyY2gtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoLWJhcltmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJibHVyXCI6IFwib25Ub3VjaGVkKClcIiwgXCJ0ZXh0Q2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbVEVYVF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGV4dFZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1RleHRGaWVsZFtuZ01vZGVsXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRGaWVsZFtuZ01vZGVsXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRmaWVsZFtuZ01vZGVsXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHQtZmllbGRbbmdNb2RlbF0sdGV4dC1maWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1RleHRWaWV3W25nTW9kZWxdLFRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGV4dFZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRWaWV3W25nTW9kZWxdLHRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dFZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHR2aWV3W25nTW9kZWxdLHRleHR2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dHZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHQtdmlld1tuZ01vZGVsXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlYXJjaEJhcltuZ01vZGVsXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYXJjaEJhcltuZ01vZGVsXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYXJjaGJhcltuZ01vZGVsXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYXJjaC1iYXJbbmdNb2RlbF0sIHNlYXJjaC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2gtYmFyW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1RFWFRfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhibHVyKSc6ICdvblRvdWNoZWQoKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnKHRleHRDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBDaGVja2VkVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSBjaGVja2VkIHByb3BlcnR5IGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8U3dpdGNoIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBDaGVja2VkVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LmNoZWNrZWQgPSBub3JtYWxpemVkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJTd2l0Y2hbbmdNb2RlbF0sU3dpdGNoW2Zvcm1Db250cm9sTmFtZV0sU3dpdGNoW2Zvcm1Db250cm9sXSxzd2l0Y2hbbmdNb2RlbF0sc3dpdGNoW2Zvcm1Db250cm9sTmFtZV0sc3dpdGNoW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImNoZWNrZWRDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtDSEVDS0VEX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnU3dpdGNoW25nTW9kZWxdLFN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLFN3aXRjaFtmb3JtQ29udHJvbF0sJyArICdzd2l0Y2hbbmdNb2RlbF0sc3dpdGNoW2Zvcm1Db250cm9sTmFtZV0sc3dpdGNoW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW0NIRUNLRURfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhjaGVja2VkQ2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IERBVEVfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRGF0ZVZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgZGF0ZSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPERhdGVQaWNrZXIgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIERhdGVWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcuZGF0ZSA9IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGF0ZVZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogRGF0ZVZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIkRhdGVQaWNrZXJbbmdNb2RlbF0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLGRhdGVwaWNrZXJbbmdNb2RlbF0sZGF0ZXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xdLGRhdGVQaWNrZXJbbmdNb2RlbF0sZGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLGRhdGUtcGlja2VyW25nTW9kZWxdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiZGF0ZUNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW0RBVEVfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IERhdGVWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdEYXRlUGlja2VyW25nTW9kZWxdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ2RhdGVwaWNrZXJbbmdNb2RlbF0sZGF0ZXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAnZGF0ZVBpY2tlcltuZ01vZGVsXSxkYXRlUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICdkYXRlLXBpY2tlcltuZ01vZGVsXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW0RBVEVfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhkYXRlQ2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IFRJTUVfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gVGltZVZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgdGltZSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFRpbWVQaWNrZXIgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIFRpbWVWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcudGltZSA9IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGltZVZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogVGltZVZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlRpbWVQaWNrZXJbbmdNb2RlbF0sVGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLFRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLHRpbWVwaWNrZXJbbmdNb2RlbF0sdGltZXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xdLHRpbWVQaWNrZXJbbmdNb2RlbF0sdGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLHRpbWUtcGlja2VyW25nTW9kZWxdLHRpbWUtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwidGltZUNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW1RJTUVfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRpbWVWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdUaW1lUGlja2VyW25nTW9kZWxdLFRpbWVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ3RpbWVwaWNrZXJbbmdNb2RlbF0sdGltZXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAndGltZVBpY2tlcltuZ01vZGVsXSx0aW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICd0aW1lLXBpY2tlcltuZ01vZGVsXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWUtcGlja2VyW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1RJTUVfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyh0aW1lQ2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IE5VTUJFUl9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBOdW1iZXJWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIHZhbHVlIGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH1cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8U2xpZGVyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBOdW1iZXJWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcudmFsdWUgPSBub3JtYWxpemVkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE51bWJlclZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogTnVtYmVyVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiU2xpZGVyW25nTW9kZWxdLFNsaWRlcltmb3JtQ29udHJvbE5hbWVdLFNsaWRlcltmb3JtQ29udHJvbF0sc2xpZGVyW25nTW9kZWxdLHNsaWRlcltmb3JtQ29udHJvbE5hbWVdLHNsaWRlcltmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJ2YWx1ZUNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW05VTUJFUl9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnVtYmVyVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnU2xpZGVyW25nTW9kZWxdLFNsaWRlcltmb3JtQ29udHJvbE5hbWVdLFNsaWRlcltmb3JtQ29udHJvbF0sJyArICdzbGlkZXJbbmdNb2RlbF0sc2xpZGVyW2Zvcm1Db250cm9sTmFtZV0sc2xpZGVyW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW05VTUJFUl9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKHZhbHVlQ2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IFNFTEVDVEVEX0lOREVYX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIHNlbGVjdGVkSW5kZXggYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxTZWdtZW50ZWRCYXIgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bWF4LWxpbmUtbGVuZ3RoIGRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgIGlmICh0aGlzLnZpZXdJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy52aWV3SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMudmFsdWU7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlNlZ21lbnRlZEJhcltuZ01vZGVsXSxTZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xOYW1lXSxTZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xdLHNlZ21lbnRlZEJhcltuZ01vZGVsXSxzZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xdLHNlZ21lbnRlZGJhcltuZ01vZGVsXSxzZWdtZW50ZWRiYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWRiYXJbZm9ybUNvbnRyb2xdLHNlZ21lbnRlZC1iYXJbbmdNb2RlbF0sc2VnbWVudGVkLWJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xdLExpc3RQaWNrZXJbbmdNb2RlbF0sTGlzdFBpY2tlcltmb3JtQ29udHJvbE5hbWVdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xdLGxpc3RQaWNrZXJbbmdNb2RlbF0sbGlzdFBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xdLGxpc3RwaWNrZXJbbmdNb2RlbF0sbGlzdHBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xdLGxpc3QtcGlja2VyW25nTW9kZWxdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdC1waWNrZXJbZm9ybUNvbnRyb2xdLFRhYlZpZXdbbmdNb2RlbF0sVGFiVmlld1tmb3JtQ29udHJvbE5hbWVdLFRhYlZpZXdbZm9ybUNvbnRyb2xdLHRhYlZpZXdbbmdNb2RlbF0sdGFiVmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYlZpZXdbZm9ybUNvbnRyb2xdLHRhYnZpZXdbbmdNb2RlbF0sdGFidmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYnZpZXdbZm9ybUNvbnRyb2xdLHRhYi12aWV3W25nTW9kZWxdLHRhYi12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGFiLXZpZXdbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwic2VsZWN0ZWRJbmRleENoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW1NFTEVDVEVEX0lOREVYX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnU2VnbWVudGVkQmFyW25nTW9kZWxdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VnbWVudGVkQmFyW25nTW9kZWxdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VnbWVudGVkYmFyW25nTW9kZWxdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VnbWVudGVkLWJhcltuZ01vZGVsXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkLWJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTGlzdFBpY2tlcltuZ01vZGVsXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sTGlzdFBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlzdFBpY2tlcltuZ01vZGVsXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdFBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlzdHBpY2tlcltuZ01vZGVsXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdHBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlzdC1waWNrZXJbbmdNb2RlbF0sbGlzdC1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGFiVmlld1tuZ01vZGVsXSxUYWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGFiVmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFiVmlld1tuZ01vZGVsXSx0YWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGFiVmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFidmlld1tuZ01vZGVsXSx0YWJ2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGFidmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFiLXZpZXdbbmdNb2RlbF0sdGFiLXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWItdmlld1tmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKHNlbGVjdGVkSW5kZXhDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY2xhc3MgTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGRlY2xhcmF0aW9uczogW1RleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0sIGltcG9ydHM6IFtGb3Jtc01vZHVsZV0sIGV4cG9ydHM6IFtGb3Jtc01vZHVsZSwgVGV4dFZhbHVlQWNjZXNzb3IsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBEYXRlVmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBOdW1iZXJWYWx1ZUFjY2Vzc29yXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBpbXBvcnRzOiBbRm9ybXNNb2R1bGUsIEZvcm1zTW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbRm9ybXNNb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbRm9ybXNNb2R1bGUsIFRleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbmNvbnN0IERBU0hfQ0FTRV9SRUdFWFAgPSAvLSsoW2EtejAtOV0pL2c7XG5mdW5jdGlvbiBkYXNoQ2FzZVRvQ2FtZWxDYXNlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoREFTSF9DQVNFX1JFR0VYUCwgKC4uLm0pID0+IG1bMV0udG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbihzdHlsZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgY29uc3QgaW5mbyA9IGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uSW5mbyhzdHlsZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICByZXR1cm4gS2V5ZnJhbWVBbmltYXRpb24ua2V5ZnJhbWVBbmltYXRpb25Gcm9tSW5mbyhpbmZvKTtcbn1cbmNvbnN0IGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uSW5mbyA9IChzdHlsZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSA9PiAoe1xuICAgIGlzRm9yd2FyZHM6IHRydWUsXG4gICAgZHVyYXRpb246IGR1cmF0aW9uIHx8IDAuMDEsXG4gICAgZGVsYXksXG4gICAgY3VydmU6IGdldEN1cnZlKGVhc2luZyksXG4gICAga2V5ZnJhbWVzOiBzdHlsZXMubWFwKHBhcnNlQW5pbWF0aW9uS2V5ZnJhbWUpLFxufSk7XG5jb25zdCBnZXRDdXJ2ZSA9ICh2YWx1ZSkgPT4gYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25Db252ZXJ0ZXIodmFsdWUpO1xuY29uc3QgcGFyc2VBbmltYXRpb25LZXlmcmFtZSA9IChzdHlsZXMpID0+ICh7XG4gICAgZHVyYXRpb246IGdldEtleWZyYW1lRHVyYXRpb24oc3R5bGVzKSxcbiAgICBkZWNsYXJhdGlvbnM6IGdldERlY2xhcmF0aW9ucyhzdHlsZXMpLFxufSk7XG5jb25zdCBnZXRLZXlmcmFtZUR1cmF0aW9uID0gKHN0eWxlcykgPT4gc3R5bGVzLm9mZnNldDtcbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9ucyhzdHlsZXMpIHtcbiAgICBjb25zdCBrZXlzID0gQXJyYXkuZnJvbShzdHlsZXMua2V5cygpKTtcbiAgICBjb25zdCB1bnBhcnNlZERlY2xhcmF0aW9ucyA9IGtleXMubWFwKChwcm9wZXJ0eSkgPT4gKHsgcHJvcGVydHksIHZhbHVlOiBzdHlsZXMuZ2V0KHByb3BlcnR5KSB9KSk7XG4gICAgcmV0dXJuIHBhcnNlS2V5ZnJhbWVEZWNsYXJhdGlvbnModW5wYXJzZWREZWNsYXJhdGlvbnMpO1xufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwga2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMucGFyZW50UGxheWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbml0S2V5ZnJhbWVBbmltYXRpb24oa2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZyk7XG4gICAgfVxuICAgIGdldCB0b3RhbFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGF5ICsgdGhpcy5kdXJhdGlvbjtcbiAgICB9XG4gICAgaW5pdCgpIHsgfVxuICAgIGhhc1N0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydGVkO1xuICAgIH1cbiAgICBvblN0YXJ0KGZuKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucy5wdXNoKGZuKTtcbiAgICB9XG4gICAgb25Eb25lKGZuKSB7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zLnB1c2goZm4pO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koZm4pIHtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMucHVzaChmbik7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLnBsYXlgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoaXMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL05hdGl2ZVNjcmlwdC9OYXRpdmVTY3JpcHQvaXNzdWVzLzc5ODQgaXMgZml4ZXMgaW4gQG5hdGl2ZXNjcmlwdC9jb3JlXG4gICAgICAgIC8vIHdlIGNhbiBjaGFuZ2UgdGhpcyBmaXggYW5kIGFwcGx5IHRoZSBvbmUgdGhhdCBpcyByZWNvbW1lbmRlZCBpbiB0aGF0IGlzc3VlLlxuICAgICAgICBpZiAodGhpcy50YXJnZXQuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YXJnZXQub24oVmlldy5sb2FkZWRFdmVudCwgdGhpcy5vblRhcmdldExvYWRlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblRhcmdldExvYWRlZChhcmdzKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9mZihWaWV3LmxvYWRlZEV2ZW50LCB0aGlzLm9uVGFyZ2V0TG9hZGVkKTtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKCk7XG4gICAgfVxuICAgIHBsYXlBbmltYXRpb24oKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uXG4gICAgICAgICAgICAucGxheSh0aGlzLnRhcmdldClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMub25GaW5pc2goKSlcbiAgICAgICAgICAgIC5jYXRjaCgoX2UpID0+IHsgfSk7XG4gICAgfVxuICAgIHBhdXNlKCkgeyB9XG4gICAgZmluaXNoKCkge1xuICAgICAgICB0aGlzLm9uRmluaXNoKCk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5yZXNldGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbiAmJiB0aGlzLmFuaW1hdGlvbi5pc1BsYXlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3RhcnQoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLnJlc3RhcnRgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5kZXN0cm95YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkZpbmlzaCgpO1xuICAgIH1cbiAgICBzZXRQb3NpdGlvbihfcCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuaW1hdGlvblBsYXllci5zZXRQb3NpdGlvbiBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCEnKTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpbml0S2V5ZnJhbWVBbmltYXRpb24oa2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5pbml0S2V5ZnJhbWVBbmltYXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uKGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIH1cbiAgICBvbkZpbmlzaCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIub25GaW5pc2hgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIH1cbn1cblxuY2xhc3MgU2VsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMucGFyc2UocmF3U2VsZWN0b3IpO1xuICAgIH1cbiAgICBtYXRjaChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5zU2VsZWN0b3JNYXRjaChlbGVtZW50KSB8fCB0aGlzLmNsYXNzU2VsZWN0b3JzTWF0Y2goZWxlbWVudCk7XG4gICAgfVxuICAgIHBhcnNlKHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9ycyA9IHJhd1NlbGVjdG9yLnNwbGl0KCcsJykubWFwKChzKSA9PiBzLnRyaW0oKSk7XG4gICAgICAgIHRoaXMubnNTZWxlY3RvcnMgPSBzZWxlY3RvcnMubWFwKENTU0hlbHBlci5jcmVhdGVTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuY2xhc3NTZWxlY3RvcnMgPSBzZWxlY3RvcnMuZmlsdGVyKChzKSA9PiBzLnN0YXJ0c1dpdGgoJy4nKSkubWFwKChzKSA9PiBzLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIG5zU2VsZWN0b3JNYXRjaChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5zU2VsZWN0b3JzLnNvbWUoKHMpID0+IHMubWF0Y2goZWxlbWVudCkpO1xuICAgIH1cbiAgICBjbGFzc1NlbGVjdG9yc01hdGNoKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NTZWxlY3RvcnMuc29tZSgocykgPT4gdGhpcy5oYXNDbGFzcyhlbGVtZW50LCBzKSk7XG4gICAgfVxuICAgIC8vIHdlJ3JlIHVzaW5nIHRoYXQgaW5zdGVhZCBvZiBtYXRjaCBmb3IgY2xhc3Nlc1xuICAgIC8vIHRoYXQgYXJlIGR5bmFtaWNhbGx5IGFkZGVkIGJ5IHRoZSBhbmltYXRpb24gZW5naW5lXG4gICAgLy8gc3VjaCBhcyAubmctdHJpZ2dlciwgdGhhdCdzIGFkZGVkIGZvciBldmVyeSA6ZW50ZXIgdmlld1xuICAgIGhhc0NsYXNzKGVsZW1lbnQsIGNscykge1xuICAgICAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50WyckJGNsYXNzZXMnXSAmJiBlbGVtZW50WyckJGNsYXNzZXMnXVtjbHNdO1xuICAgIH1cbn1cbmNsYXNzIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlciB7XG4gICAgc3RhdGljIHsgdGhpcy52YWxpZFByb3BlcnRpZXMgPSBbLi4uQ3NzQW5pbWF0aW9uUHJvcGVydHkuX2dldFByb3BlcnR5TmFtZXMoKSwgJ3RyYW5zZm9ybSddOyB9XG4gICAgZ2V0UGFyZW50RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Py5wYXJlbnQ7XG4gICAgfVxuICAgIHZhbGlkYXRlU3R5bGVQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBDc3NBbmltYXRpb25Qcm9wZXJ0eS52YWxpZGF0ZVN0eWxlUHJvcGVydHk6ICR7cHJvcGVydHl9YCk7XG4gICAgICAgIHJldHVybiBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIudmFsaWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcGVydHkpICE9PSAtMTtcbiAgICB9XG4gICAgbWF0Y2hlc0VsZW1lbnQoZWxlbWVudCwgcmF3U2VsZWN0b3IpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLm1hdGNoZXNFbGVtZW50IGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgc2VsZWN0b3I6ICR7cmF3U2VsZWN0b3J9YCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5tYWtlU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gc2VsZWN0b3IubWF0Y2goZWxlbWVudCk7XG4gICAgfVxuICAgIGNvbnRhaW5zRWxlbWVudChlbG0xLCBlbG0yKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5jb250YWluc0VsZW1lbnQgYCArIGBlbGVtZW50MTogJHtlbG0xfSwgZWxlbWVudDI6ICR7ZWxtMn1gKTtcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIHBhcmVudCBpcyBvdXIgZmFrZSBib2R5IG9iamVjdFxuICAgICAgICBpZiAoZWxtMVsnaXNPdmVycmlkZSddKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IG9yaWdpbmFsVmlldzogZWxtMiB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnZpc2l0RGVzY2VuZGFudHMoZWxtMSwgdmlld01hdGNoZXMsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQuZm91bmQ7XG4gICAgfVxuICAgIHF1ZXJ5KGVsZW1lbnQsIHJhd1NlbGVjdG9yLCBtdWx0aSkge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIucXVlcnkgYCArIGBlbGVtZW50OiAke2VsZW1lbnR9LCBzZWxlY3RvcjogJHtyYXdTZWxlY3Rvcn0gYCArIGBtdWx0aTogJHttdWx0aX1gKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm1ha2VTZWxlY3RvcihyYXdTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgc2VsZWN0b3IsIG11bHRpIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMudmlzaXREZXNjZW5kYW50cyhlbGVtZW50LCBxdWVyeURlc2NlbmRhbnRzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hdGNoZXMgfHwgW107XG4gICAgfVxuICAgIGNvbXB1dGVTdHlsZShlbGVtZW50LCBwcm9wKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5jb21wdXRlU3R5bGUgYCArIGBlbGVtZW50OiAke2VsZW1lbnR9LCBwcm9wOiAke3Byb3B9YCk7XG4gICAgICAgIGNvbnN0IGNhbWVsQ2FzZVByb3AgPSBkYXNoQ2FzZVRvQ2FtZWxDYXNlKHByb3ApO1xuICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtjYW1lbENhc2VQcm9wXTtcbiAgICB9XG4gICAgYW5pbWF0ZShlbGVtZW50LCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5hbmltYXRlIGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwga2V5ZnJhbWVzOiAke2tleWZyYW1lc30gYCArIGBkdXJhdGlvbjogJHtkdXJhdGlvbn0sIGRlbGF5OiAke2RlbGF5fSBgICsgYGVhc2luZzogJHtlYXNpbmd9YCk7XG4gICAgICAgIHJldHVybiBuZXcgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyKGVsZW1lbnQsIGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIH1cbiAgICBtYWtlU2VsZWN0b3IocmF3U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3RvcihyYXdTZWxlY3Rvcik7XG4gICAgfVxuICAgIHZpc2l0RGVzY2VuZGFudHMoZWxlbWVudCwgY2IsIGNiUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICAvLyBmaWxsIHRoZSByZXN1bHQgb2JqIHdpdGggdGhlIHJlc3VsdCBmcm9tIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBlYWNoRGVzY2VuZGFudChlbGVtZW50LCAoY2hpbGQpID0+IGNiKGNoaWxkLCByZXN1bHQsIGNiUGFyYW1zKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gdmlld01hdGNoZXMoZWxlbWVudCwgcmVzdWx0LCBwYXJhbXMpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gcGFyYW1zLm9yaWdpbmFsVmlldykge1xuICAgICAgICByZXN1bHQuZm91bmQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gIXJlc3VsdC5mb3VuZDtcbn1cbmZ1bmN0aW9uIHF1ZXJ5RGVzY2VuZGFudHMoZWxlbWVudCwgcmVzdWx0LCBwYXJhbXMpIHtcbiAgICBpZiAoIXJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIHJlc3VsdC5tYXRjaGVzID0gW107XG4gICAgfVxuICAgIGNvbnN0IHsgc2VsZWN0b3IsIG11bHRpIH0gPSBwYXJhbXM7XG4gICAgLy8gc2tpcCBjb21tZW50IGFuZCB0ZXh0IG5vZGVzXG4gICAgLy8gYmVjYXVzZSB0aGV5IGFyZSBub3QgYWN0dWFsIFZpZXdzXG4gICAgLy8gYW5kIGNhbm5vdCBiZSBhbmltYXRlZFxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZSB8fCAhc2VsZWN0b3IubWF0Y2goZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgUHJveHlWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgIGVsZW1lbnQuZWFjaENoaWxkKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgcmVzdWx0Lm1hdGNoZXMucHVzaChjaGlsZCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQubWF0Y2hlcy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gbXVsdGk7XG59XG5cbmNsYXNzIEluamVjdGFibGVBbmltYXRpb25FbmdpbmUgZXh0ZW5kcyDJtUFuaW1hdGlvbkVuZ2luZSB7XG4gICAgY29uc3RydWN0b3IoZG9jLCBkcml2ZXIsIG5vcm1hbGl6ZXIpIHtcbiAgICAgICAgc3VwZXIoZG9jLmJvZHksIGRyaXZlciwgbm9ybWFsaXplcik7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSwgZGVwczogW3sgdG9rZW46IERPQ1VNRU5UIH0sIHsgdG9rZW46IGkxJDIuQW5pbWF0aW9uRHJpdmVyIH0sIHsgdG9rZW46IGkxJDIuybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbRE9DVU1FTlRdXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMSQyLkFuaW1hdGlvbkRyaXZlciB9LCB7IHR5cGU6IGkxJDIuybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIgfV07IH0gfSk7XG5mdW5jdGlvbiBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlcigpIHtcbiAgICByZXR1cm4gbmV3IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlcigpO1xufVxuZnVuY3Rpb24gaW5zdGFudGlhdGVSZW5kZXJlckZhY3RvcnkocmVuZGVyZXIsIGVuZ2luZSwgem9uZSkge1xuICAgIHJldHVybiBuZXcgybVBbmltYXRpb25SZW5kZXJlckZhY3RvcnkocmVuZGVyZXIsIGVuZ2luZSwgem9uZSk7XG59XG5mdW5jdGlvbiBpbnN0YW50aWF0ZURlZmF1bHRTdHlsZU5vcm1hbGl6ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyDJtVdlYkFuaW1hdGlvbnNTdHlsZU5vcm1hbGl6ZXIoKTtcbn1cbmNsYXNzIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudE1vZHVsZSkge1xuICAgICAgICAvLyBQcmV2ZW50cyBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlIGZyb20gZ2V0dGluZyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICB0aHJvd0lmQWxyZWFkeUxvYWRlZChwYXJlbnRNb2R1bGUsICdOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlJyk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgZGVwczogW3sgdG9rZW46IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIG9wdGlvbmFsOiB0cnVlLCBza2lwU2VsZjogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGltcG9ydHM6IFtOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgcHJvdmlkZTogQW5pbWF0aW9uQnVpbGRlciwgdXNlQ2xhc3M6IMm1QnJvd3NlckFuaW1hdGlvbkJ1aWxkZXIgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiDJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZURlZmF1bHRTdHlsZU5vcm1hbGl6ZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBwcm92aWRlOiDJtUFuaW1hdGlvbkVuZ2luZSwgdXNlQ2xhc3M6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBSZW5kZXJlckZhY3RvcnkyLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICAgICAgICAgIGRlcHM6IFtOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnksIMm1QW5pbWF0aW9uRW5naW5lLCBOZ1pvbmVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSwgaW1wb3J0czogW05hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQW5pbWF0aW9uQnVpbGRlciwgdXNlQ2xhc3M6IMm1QnJvd3NlckFuaW1hdGlvbkJ1aWxkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiDJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZURlZmF1bHRTdHlsZU5vcm1hbGl6ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiDJtUFuaW1hdGlvbkVuZ2luZSwgdXNlQ2xhc3M6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBSZW5kZXJlckZhY3RvcnkyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnksIMm1QW5pbWF0aW9uRW5naW5lLCBOZ1pvbmVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG5mdW5jdGlvbiBpc0xvY2FsUmVxdWVzdCh1cmwpIHtcbiAgICByZXR1cm4gdXJsLmluZGV4T2YoJ34nKSA9PT0gMCB8fCB1cmwuaW5kZXhPZignLycpID09PSAwO1xufVxuZnVuY3Rpb24gZ2V0QWJzb2x1dGVQYXRoKHVybCwgbnNGaWxlU3lzdGVtKSB7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoJ34nLCAnJykucmVwbGFjZSgnLycsICcnKTtcbiAgICB1cmwgPSBwYXRoLmpvaW4obnNGaWxlU3lzdGVtLmN1cnJlbnRBcHAoKS5wYXRoLCB1cmwpO1xuICAgIHJldHVybiB1cmw7XG59XG5mdW5jdGlvbiBwcm9jZXNzTG9jYWxGaWxlUmVxdWVzdCh1cmwsIG5zRmlsZVN5c3RlbSwgc3VjY2Vzc1Jlc3BvbnNlLCBlcnJvclJlc3BvbnNlKSB7XG4gICAgdXJsID0gZ2V0QWJzb2x1dGVQYXRoKHVybCwgbnNGaWxlU3lzdGVtKTtcbiAgICAvLyByZXF1ZXN0IGZyb20gbG9jYWwgYXBwIHJlc291cmNlc1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSQxKChvYnNlcnZlcikgPT4ge1xuICAgICAgICBpZiAobnNGaWxlU3lzdGVtLmZpbGVFeGlzdHModXJsKSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxGaWxlID0gbnNGaWxlU3lzdGVtLmZpbGVGcm9tUGF0aCh1cmwpO1xuICAgICAgICAgICAgbG9jYWxGaWxlLnJlYWRUZXh0KCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHN1Y2Nlc3NSZXNwb25zZSh1cmwsIGpzb24sIDIwMCkpO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXZlbiB0aG91Z2ggdGhlIHJlc3BvbnNlIHN0YXR1cyB3YXMgMnh4LCB0aGlzIGlzIHN0aWxsIGFuIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcGFyc2UgZXJyb3IgY29udGFpbnMgdGhlIHRleHQgb2YgdGhlIGJvZHkgdGhhdCBmYWlsZWQgdG8gcGFyc2UuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yUmVzdWx0ID0geyBlcnJvciwgdGV4dDogZGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvclJlc3BvbnNlKHVybCwgZXJyb3JSZXN1bHQsIDIwMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvclJlc3BvbnNlKHVybCwgZXJyLCA0MDApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3JSZXNwb25zZSh1cmwsICdOb3QgRm91bmQnLCA0MDQpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jbGFzcyBOc0h0dHBCYWNrRW5kIGV4dGVuZHMgSHR0cFhockJhY2tlbmQge1xuICAgIGNvbnN0cnVjdG9yKHhockZhY3RvcnksIG5zRmlsZVN5c3RlbSkge1xuICAgICAgICBzdXBlcih4aHJGYWN0b3J5KTtcbiAgICAgICAgdGhpcy5uc0ZpbGVTeXN0ZW0gPSBuc0ZpbGVTeXN0ZW07XG4gICAgfVxuICAgIGhhbmRsZShyZXEpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKGlzTG9jYWxSZXF1ZXN0KHJlcS51cmwpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmhhbmRsZUxvY2FsRmlsZVJlcXVlc3QocmVxLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzdXBlci5oYW5kbGUocmVxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBoYW5kbGVMb2NhbEZpbGVSZXF1ZXN0KHVybCkge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc0xvY2FsRmlsZVJlcXVlc3QodXJsLCB0aGlzLm5zRmlsZVN5c3RlbSwgY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlLCBjcmVhdGVFcnJvclJlc3BvbnNlKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOc0h0dHBCYWNrRW5kLCBkZXBzOiBbeyB0b2tlbjogaTEkMS5YaHJGYWN0b3J5IH0sIHsgdG9rZW46IE5TRmlsZVN5c3RlbSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnNIdHRwQmFja0VuZCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5zSHR0cEJhY2tFbmQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEkMS5YaHJGYWN0b3J5IH0sIHsgdHlwZTogTlNGaWxlU3lzdGVtIH1dOyB9IH0pO1xuZnVuY3Rpb24gY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlKHVybCwgYm9keSwgc3RhdHVzKSB7XG4gICAgcmV0dXJuIG5ldyBIdHRwUmVzcG9uc2Uoe1xuICAgICAgICB1cmwsXG4gICAgICAgIGJvZHksXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogJ09LJyxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yUmVzcG9uc2UodXJsLCBib2R5LCBzdGF0dXMpIHtcbiAgICByZXR1cm4gbmV3IEh0dHBFcnJvclJlc3BvbnNlKHtcbiAgICAgICAgdXJsLFxuICAgICAgICBlcnJvcjogYm9keSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiAnRVJST1InLFxuICAgIH0pO1xufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgaW1wb3J0czogW0h0dHBDbGllbnRNb2R1bGVdLCBleHBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBwcm92aWRlcnM6IFtOU0ZpbGVTeXN0ZW0sIE5zSHR0cEJhY2tFbmQsIHsgcHJvdmlkZTogSHR0cEJhY2tlbmQsIHVzZUV4aXN0aW5nOiBOc0h0dHBCYWNrRW5kIH1dLCBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZSwgSHR0cENsaWVudE1vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtOU0ZpbGVTeXN0ZW0sIE5zSHR0cEJhY2tFbmQsIHsgcHJvdmlkZTogSHR0cEJhY2tlbmQsIHVzZUV4aXN0aW5nOiBOc0h0dHBCYWNrRW5kIH1dLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLyoqXG4gKiBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgbXVsdGlwbGUgYWN0aXZhdGVkUm91dGUgbm9kZXMgc2hvdWxkIGJlIGFzc29jaWF0ZWQvaGFuZGxlZCBieSB0aGUgc2FtZSBQYWdlUm91dGVyT3V0bGV0LlxuICogV2UgY2FuIGdhdCBhZGRpdGlvbmFsIEFjdGl2YXRlZFJvdXRlcyBub2RlcyB3aGVuIHRoZXJlIGlzOlxuICogIC0gTGF6eSBsb2FkaW5nIC0gdGhlcmUgaXMgYW4gYWRkaXRpb25hbCBBY3RpdmF0ZWRSb3V0ZSBub2RlIGZvciB0aGUgUm91dGVDb25maWcgd2l0aCB0aGUgYGxvYWRDaGlsZHJlbmAgc2V0dXBcbiAqICAtIENvbXBvbmVudGxlc3Mgcm91dGVzIC0gdGhlcmUgaXMgYW4gYWRkaXRpb25hbCBBY3RpdmF0ZWRSb3V0ZSBub2RlIGZvciB0aGUgY29tcG9uZW50bGVzcyBSb3V0ZUNvbmZpZ1xuICpcbiAqIEV4YW1wbGU6XG4gKiAgIFIgIDwtLSByb290XG4gKiAgIHxcbiAqIGZlYXR1cmUgKGxhenkgbW9kdWxlKSA8LS0gUm91dGVDb25maWc6IHsgcGF0aDogXCJsYXp5XCIsIGxvYWRDaGlsZHJlbjogXCIuL2ZlYXR1cmUvZmVhdHVyZS5tb2R1bGUjRmVhdHVyZU1vZHVsZVwiIH1cbiAqICAgfFxuICogbW9kdWxlIChjb21wb25lbnRsZXNzIHJvdXRlKSA8LS0gUm91dGVDb25maWc6IHsgcGF0aDogXCJtb2R1bGVcIiwgY2hpbGRyZW46IFsuLi5dIH0gLy8gTm90ZTogTm8gJ2NvbXBvbmVudCdcbiAqICAgfFxuICogIGhvbWUgPC0tIFJvdXRlQ29uZmlnOiB7IHBhdGg6IFwibW9kdWxlXCIsIGNvbXBvbmVudDogTXlDb21wb25lbnQgfSAtIHRoaXMgaXMgd2hhdCB3ZSBnZXQgYXMgYWN0aXZhdGVkUm91dGUgcGFyYW1cbiAqXG4gKiAgSW4gdGhlc2UgY2FzZXMgd2Ugd2lsbCBtYXJrIHRoZSB0b3AtbW9zdCBub2RlIChmZWF0dXJlKS4gTlNSb3V0ZVJldXNlU3RyYXRlZ3kgd2lsbCBkZXRhY2ggdGhlIHRyZWUgdGhlcmUgYW5kXG4gKiAgdXNlIHRoaXMgQWN0aXZhdGVSb3V0ZSBhcyBhIGtheSBmb3IgY2FjaGluZy5cbiAqL1xuZnVuY3Rpb24gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChhY3RpdmF0ZWRSb3V0ZSkge1xuICAgIC8vIFRPRE86IHRlc3QgdGhpcyBhbmQgZmlndXJlIGl0IG91dCBpZiBpdCdzIHJlYWxseSBubyBsb25nZXIgbmVlZGVkXG4gICAgcmV0dXJuIGFjdGl2YXRlZFJvdXRlO1xuICAgIC8vIGxldCBvdXRsZXRBY3RpdmF0ZWRSb3V0ZSA9IGFjdGl2YXRlZFJvdXRlO1xuICAgIC8vIHdoaWxlIChvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQgJiYgb3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50LnJvdXRlQ29uZmlnICYmICFvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQucm91dGVDb25maWcuY29tcG9uZW50KSB7XG4gICAgLy8gICBvdXRsZXRBY3RpdmF0ZWRSb3V0ZSA9IG91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudDtcbiAgICAvLyB9XG4gICAgLy8gcmV0dXJuIG91dGxldEFjdGl2YXRlZFJvdXRlO1xufVxuY29uc3QgcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbCA9IFN5bWJvbCgncGFnZS1yb3V0ZXItYWN0aXZhdGVkJyk7XG5jb25zdCBsb2FkZXJSZWZTeW1ib2wgPSBTeW1ib2woJ2xvYWRlci1yZWYnKTtcbmZ1bmN0aW9uIGRlc3Ryb3lDb21wb25lbnRSZWYoY29tcG9uZW50UmVmKSB7XG4gICAgaWYgKGNvbXBvbmVudFJlZikge1xuICAgICAgICBjb25zdCBsb2FkZXJSZWYgPSBjb21wb25lbnRSZWZbbG9hZGVyUmVmU3ltYm9sXTtcbiAgICAgICAgaWYgKGxvYWRlclJlZikge1xuICAgICAgICAgICAgbG9hZGVyUmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRSZWYuZGVzdHJveSgpO1xuICAgIH1cbn1cblxuY29uc3QgZ2V0U25hcHNob3RLZXkgPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcbiAgICByZXR1cm4gc25hcHNob3QucGF0aEZyb21Sb290LmpvaW4oJy0+Jyk7XG59O1xuLyoqXG4gKiBEZXRhY2hlZCBzdGF0ZSBjYWNoZVxuICovXG5jbGFzcyBEZXRhY2hlZFN0YXRlQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IEFycmF5KCk7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmxlbmd0aDtcbiAgICB9XG4gICAgcHVzaChjYWNoZUl0ZW0pIHtcbiAgICAgICAgdGhpcy5jYWNoZS5wdXNoKGNhY2hlSXRlbSk7XG4gICAgfVxuICAgIHBvcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUucG9wKCk7XG4gICAgfVxuICAgIHBlZWsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlW3RoaXMuY2FjaGUubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgRGV0YWNoZWRTdGF0ZUNhY2hlLmNsZWFyKCkgJHt0aGlzLmNhY2hlLmxlbmd0aH0gaXRlbXMgd2lsbCBiZSBkZXN0cm95ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5jYWNoZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2FjaGUucG9wKCkuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29tcG9uZW50UmVmIGZvdW5kIGluIERldGFjaGVkUm91dGVIYW5kbGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGUuY29tcG9uZW50UmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXJrQ3VycmVudEZvckNsZWFyKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jYWNoZSkge1xuICAgICAgICAgICAgaXRlbS5tYXJrZWRGb3JEZWxldGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNYXJrZWQoKSB7XG4gICAgICAgIC8vIHRyeSB0byBwcmVzZXJ2ZSBzYW1lIG9yZGVyIGFzIC5jbGVhcigpXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNhY2hlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLmNhY2hlW2ldO1xuICAgICAgICAgICAgaWYgKGNhY2hlSXRlbS5tYXJrZWRGb3JEZWxldGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gY2FjaGVJdGVtLnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdGUuY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29tcG9uZW50UmVmIGZvdW5kIGluIERldGFjaGVkUm91dGVIYW5kbGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZihzdGF0ZS5jb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyTW9kYWxDYWNoZSgpIHtcbiAgICAgICAgbGV0IHJlbW92ZWRJdGVtc0NvdW50ID0gMDtcbiAgICAgICAgY29uc3QgaGFzTW9kYWxQYWdlcyA9IHRoaXMuY2FjaGUuc29tZSgoY2FjaGVJdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVJdGVtLmlzTW9kYWw7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaGFzTW9kYWxQYWdlcykge1xuICAgICAgICAgICAgbGV0IG1vZGFsQ2FjaGVDbGVhcmVkID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAoIW1vZGFsQ2FjaGVDbGVhcmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVJdGVtID0gdGhpcy5wZWVrKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBjYWNoZUl0ZW0uc3RhdGU7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb21wb25lbnRSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb21wb25lbnRSZWYgZm91bmQgaW4gRGV0YWNoZWRSb3V0ZUhhbmRsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlLmNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlSXRlbS5pc01vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsQ2FjaGVDbGVhcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wb3AoKTtcbiAgICAgICAgICAgICAgICByZW1vdmVkSXRlbXNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBEZXRhY2hlZFN0YXRlQ2FjaGUuY2xlYXJNb2RhbENhY2hlKCkgJHtyZW1vdmVkSXRlbXNDb3VudH0gaXRlbXMgd2lsbCBiZSBkZXN0cm95ZWRgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGV0YWNoZXMgc3VidHJlZXMgbG9hZGVkIGluc2lkZSBQYWdlUm91dGVyT3V0bGV0IGluIGZvcndhcmQgbmF2aWdhdGlvblxuICogYW5kIHJlYXR0YWNoZXMgdGhlbSBvbiBiYWNrLlxuICogUmV1c2VzIHJvdXRlcyBhcyBsb25nIGFzIHRoZWlyIHJvdXRlIGNvbmZpZyBpcyB0aGUgc2FtZS5cbiAqL1xuY2xhc3MgTlNSb3V0ZVJldXNlU3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0aW9uKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5jYWNoZUJ5T3V0bGV0ID0ge307XG4gICAgfVxuICAgIHNob3VsZERldGFjaChyb3V0ZSkge1xuICAgICAgICByb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQocm91dGUpO1xuICAgICAgICBjb25zdCB7IG91dGxldCB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGxldCBpc1BhZ2VBY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHRtcCA9IHJvdXRlO1xuICAgICAgICB3aGlsZSAoIShpc1BhZ2VBY3RpdmF0ZWQgPSB0bXBbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0pICYmIHRtcC5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRtcCA9IHRtcC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNCYWNrID0gb3V0bGV0ID8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrIDogZmFsc2U7XG4gICAgICAgIGxldCBzaG91bGREZXRhY2ggPSBvdXRsZXQgJiYgIWlzQmFjayAmJiBpc1BhZ2VBY3RpdmF0ZWQ7XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIGlmIChvdXRsZXQucGFyZW50ICYmICFvdXRsZXQucGFyZW50LnNob3VsZERldGFjaCkge1xuICAgICAgICAgICAgICAgIHNob3VsZERldGFjaCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0bGV0LnNob3VsZERldGFjaCA9IHNob3VsZERldGFjaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc2hvdWxkRGV0YWNoIGlzQmFjazogJHtpc0JhY2t9IGtleTogJHtrZXl9IHJlc3VsdDogJHtzaG91bGREZXRhY2h9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZERldGFjaDtcbiAgICB9XG4gICAgZmluZFZhbGlkT3V0bGV0QW5kS2V5KHRhcmdldFJvdXRlKSB7XG4gICAgICAgIGxldCByb3V0ZSA9IHRhcmdldFJvdXRlO1xuICAgICAgICBjb25zdCByb3V0ZU91dGxldEtleSA9IHRoaXMubG9jYXRpb24uZ2V0Um91dGVGdWxsUGF0aChyb3V0ZSk7XG4gICAgICAgIGxldCBvdXRsZXRLZXkgPSByb3V0ZU91dGxldEtleTtcbiAgICAgICAgbGV0IG91dGxldCA9IHRoaXMubG9jYXRpb24uZmluZE91dGxldChvdXRsZXRLZXksIHJvdXRlKTtcbiAgICAgICAgd2hpbGUgKCFvdXRsZXQpIHtcbiAgICAgICAgICAgIGlmICghcm91dGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgb3V0bGV0OiBudWxsLCBvdXRsZXRLZXk6IHJvdXRlT3V0bGV0S2V5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3V0ZSA9IHJvdXRlLnBhcmVudDtcbiAgICAgICAgICAgIG91dGxldEtleSA9IHRoaXMubG9jYXRpb24uZ2V0Um91dGVGdWxsUGF0aChyb3V0ZSk7XG4gICAgICAgICAgICBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uLmZpbmRPdXRsZXQob3V0bGV0S2V5LCByb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgd2hpbGUgKCFvdXRsZXQub3V0bGV0S2V5cy5pbmNsdWRlcyhvdXRsZXRLZXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyb3V0ZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBDb3VsZCBub3QgZmluZCB2YWxpZCBvdXRsZXQga2V5IGZvciByb3V0ZTogJHt0YXJnZXRSb3V0ZX0uYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG91dGxldCwgb3V0bGV0S2V5OiByb3V0ZU91dGxldEtleSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3V0ZSA9IHJvdXRlLnBhcmVudDtcbiAgICAgICAgICAgICAgICBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uLmdldFJvdXRlRnVsbFBhdGgocm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG91dGxldCwgb3V0bGV0S2V5IH07XG4gICAgfVxuICAgIHNob3VsZEF0dGFjaChyb3V0ZSkge1xuICAgICAgICByb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQocm91dGUpO1xuICAgICAgICBjb25zdCB7IG91dGxldCwgb3V0bGV0S2V5IH0gPSB0aGlzLmZpbmRWYWxpZE91dGxldEFuZEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGlzQmFjayA9IG91dGxldCA/IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA6IGZhbHNlO1xuICAgICAgICBjb25zdCBzaG91bGRBdHRhY2ggPSBpc0JhY2sgJiYgY2FjaGUucGVlaygpPy5rZXkgPT09IGtleTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHNob3VsZEF0dGFjaCBpc0JhY2s6ICR7aXNCYWNrfSBrZXk6ICR7a2V5fSByZXN1bHQ6ICR7c2hvdWxkQXR0YWNofWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIG91dGxldC5zaG91bGREZXRhY2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaG91bGRBdHRhY2g7XG4gICAgfVxuICAgIHN0b3JlKHJvdXRlLCBzdGF0ZSkge1xuICAgICAgICByb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQocm91dGUpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzdG9yZSBrZXk6ICR7a2V5fSwgc3RhdGU6ICR7c3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBvdXRsZXRLZXkgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICBjb25zdCBjYWNoZSA9ICh0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldIHx8IG5ldyBEZXRhY2hlZFN0YXRlQ2FjaGUoKSk7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgbGV0IGlzTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvY2F0aW9uLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpc01vZGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlLnB1c2goeyBrZXksIHN0YXRlLCBpc01vZGFsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdG9wSXRlbSA9IGNhY2hlLnBlZWsoKTtcbiAgICAgICAgICAgIGlmICh0b3BJdGVtLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgY2FjaGUucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBwb3AgZnJvbSBEZXRhY2hlZFN0YXRlQ2FjaGUgYnV0IGtleXMgZG9uJ3QgbWF0Y2guIFwiICsgYGV4cGVjdGVkOiAke3RvcEl0ZW0ua2V5fSBhY3R1YWw6ICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHJpZXZlKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0LCBvdXRsZXRLZXkgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKCFjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0U25hcHNob3RLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBpc0JhY2sgPSBvdXRsZXQgPyBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgY2FjaGVkSXRlbSA9IGNhY2hlLnBlZWsoKTtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgaWYgKGlzQmFjayAmJiBjYWNoZWRJdGVtICYmIGNhY2hlZEl0ZW0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgIHN0YXRlID0gY2FjaGVkSXRlbS5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgcmV0cmlldmVkIGlzQmFjazogJHtpc0JhY2t9IGtleTogJHtrZXl9IHN0YXRlOiAke3N0YXRlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgc2hvdWxkUmV1c2VSb3V0ZShmdXR1cmUsIGN1cnIpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmV1c2UgPSBmdXR1cmUucm91dGVDb25maWcgPT09IGN1cnIucm91dGVDb25maWc7XG4gICAgICAgIGlmIChzaG91bGRSZXVzZSAmJiBjdXJyICYmIGN1cnJbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0pIHtcbiAgICAgICAgICAgIC8vIFdoZW4gcmV1c2luZyByb3V0ZSAtIGNvcHkgdGhlIHBhZ2VSb3V0ZXJBY3RpdmF0ZWQgdG8gdGhlIG5ldyBzbmFwc2hvdFxuICAgICAgICAgICAgLy8gSXQncyBuZWVkZWQgaW4gc2hvdWxkRGV0YWNoIHRvIGRldGVybWluZSBpZiB0aGUgcm91dGUgc2hvdWxkIGJlIGRldGFjaGVkLlxuICAgICAgICAgICAgZnV0dXJlW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdID0gY3VycltwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc2hvdWxkUmV1c2VSb3V0ZSByZXN1bHQ6ICR7c2hvdWxkUmV1c2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZFJldXNlO1xuICAgIH1cbiAgICBjbGVhckNhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFya0NhY2hlRm9yQ2xlYXIob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGUubWFya0N1cnJlbnRGb3JDbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvcENhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGlmIChjYWNoZS5wZWVrKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGNhY2hlLnBvcCgpPy5zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGU/LmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlPy5jb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXJrQ2FjaGVGb3JQb3Aob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGNhY2hlLnBlZWsoKTtcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5tYXJrZWRGb3JEZWxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNYXJrZWRDYWNoZShvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5jbGVhck1hcmtlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyTW9kYWxDYWNoZShvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5jbGVhck1vZGFsQ2FjaGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVSZXVzZVN0cmF0ZWd5LCBkZXBzOiBbeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVSZXVzZVN0cmF0ZWd5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9XTsgfSB9KTtcblxuY2xhc3MgUm91dGVyRXh0ZW5zaW9ucyB7XG4gICAgY29uc3RydWN0b3Iocm91dGVyLCBsb2NhdGlvblN0cmF0ZWd5LCBmcmFtZVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneSA9IGxvY2F0aW9uU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuZnJhbWVTZXJ2aWNlID0gZnJhbWVTZXJ2aWNlO1xuICAgIH1cbiAgICBuYXZpZ2F0ZShjb21tYW5kcywgZXh0cmFzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci5uYXZpZ2F0ZShjb21tYW5kcywgZXh0cmFzKTtcbiAgICB9XG4gICAgbmF2aWdhdGVCeVVybCh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodXJsLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYmFjayhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5iYWNrT3V0bGV0cyhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5Hb0JhY2soYmFja05hdmlnYXRpb25PcHRpb25zKSB7XG4gICAgICAgIGxldCBjYW5Hb0JhY2sgPSB0cnVlO1xuICAgICAgICBpZiAoYmFja05hdmlnYXRpb25PcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB7IG91dGxldHNUb0JhY2ssIG91dGxldHMgfSA9IHRoaXMuZmluZE91dGxldHNUb0JhY2soYmFja05hdmlnYXRpb25PcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChvdXRsZXRzVG9CYWNrLmxlbmd0aCAhPT0gb3V0bGV0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignTm8gb3V0bGV0IGZvdW5kIHJlbGF0aXZlIHRvIGFjdGl2YXRlZCByb3V0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0c1RvQmFjay5mb3JFYWNoKChvdXRsZXRUb0JhY2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuY2FuR29CYWNrKG91dGxldFRvQmFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkdvQmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYW5Hb0JhY2sgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuY2FuR29CYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbkdvQmFjaztcbiAgICB9XG4gICAgYmFja1RvUHJldmlvdXNQYWdlKCkge1xuICAgICAgICB0aGlzLmZyYW1lU2VydmljZS5nZXRGcmFtZSgpLmdvQmFjaygpO1xuICAgIH1cbiAgICBjYW5Hb0JhY2tUb1ByZXZpb3VzUGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCkuY2FuR29CYWNrKCk7XG4gICAgfVxuICAgIGJhY2tPdXRsZXRzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBvdXRsZXRzVG9CYWNrLCBvdXRsZXRzIH0gPSB0aGlzLmZpbmRPdXRsZXRzVG9CYWNrKG9wdGlvbnMpO1xuICAgICAgICBpZiAob3V0bGV0c1RvQmFjay5sZW5ndGggIT09IG91dGxldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignTm8gb3V0bGV0IGZvdW5kIHJlbGF0aXZlIHRvIGFjdGl2YXRlZCByb3V0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0bGV0c1RvQmFjay5mb3JFYWNoKChvdXRsZXRUb0JhY2spID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3V0bGV0VG9CYWNrLmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdBdHRlbXB0ZWQgdG8gY2FsbCBzdGFydEdvQmFjayB3aGlsZSBnb2luZyBiYWNrOicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmJhY2sob3V0bGV0VG9CYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgZmluZE91dGxldHNUb0JhY2sob3B0aW9ucykge1xuICAgICAgICBjb25zdCByb290Um91dGUgPSB0aGlzLnJvdXRlci5yb3V0ZXJTdGF0ZS5yb290O1xuICAgICAgICBsZXQgb3V0bGV0cyA9IG9wdGlvbnMub3V0bGV0cztcbiAgICAgICAgbGV0IHJlbGF0aXZlUm91dGUgPSBvcHRpb25zLnJlbGF0aXZlVG8gfHwgcm9vdFJvdXRlO1xuICAgICAgICBjb25zdCByZWxhdGl2ZVJvdXRlT3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlSb3V0ZShyZWxhdGl2ZVJvdXRlKTtcbiAgICAgICAgY29uc3QgaXNOU0VtcHR5T3V0bGV0ID0gcmVsYXRpdmVSb3V0ZU91dGxldCAmJiByZWxhdGl2ZVJvdXRlT3V0bGV0LmlzTlNFbXB0eU91dGxldDtcbiAgICAgICAgLy8gTGF6eSBuYW1lZCBvdXRsZXQgaGFzIGFkZGVkICdwcmltYXJ5JyBpbm5lciBOU0VtcHR5T3V0bGV0IGNoaWxkLlxuICAgICAgICAvLyBUYWtlIHBhcmVudCByb3V0ZSB3aGVuIGByZWxhdGl2ZVRvYCBvcHRpb24gcG9pbnRzIHRvIHRoZSBvdXRlciBuYW1lZCBvdXRsZXQuXG4gICAgICAgIGlmIChpc05TRW1wdHlPdXRsZXQgJiYgcmVsYXRpdmVSb3V0ZS5vdXRsZXQgIT09ICdwcmltYXJ5Jykge1xuICAgICAgICAgICAgcmVsYXRpdmVSb3V0ZSA9IHJlbGF0aXZlUm91dGUucGFyZW50IHx8IHJlbGF0aXZlUm91dGU7XG4gICAgICAgIH1cbiAgICAgICAgb3V0bGV0cyA9IG91dGxldHMgfHwgW3JlbGF0aXZlUm91dGUub3V0bGV0XTtcbiAgICAgICAgY29uc3Qgb3V0bGV0c1RvQmFjayA9IHRoaXMuZmluZE91dGxldHNSZWN1cnNpdmUoWy4uLm91dGxldHNdLCByZWxhdGl2ZVJvdXRlKTtcbiAgICAgICAgcmV0dXJuIHsgb3V0bGV0c1RvQmFjazogb3V0bGV0c1RvQmFjaywgb3V0bGV0czogb3V0bGV0cyB9O1xuICAgIH1cbiAgICAvLyB3YXJuaW5nLCBvdXRsZXRzIGlzIG11dGFibGUhXG4gICAgZmluZE91dGxldHNSZWN1cnNpdmUob3V0bGV0cywgcm91dGUpIHtcbiAgICAgICAgaWYgKCFyb3V0ZSB8fCBvdXRsZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dGxldHNUb0JhY2sgPSBbXTtcbiAgICAgICAgaWYgKG91dGxldHMuc29tZSgoY3VycmVudE91dGxldCkgPT4gY3VycmVudE91dGxldCA9PT0gcm91dGUub3V0bGV0KSkge1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlSb3V0ZShyb3V0ZSk7XG4gICAgICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0cy5zcGxpY2Uob3V0bGV0cy5pbmRleE9mKHJvdXRlLm91dGxldCksIDEpO1xuICAgICAgICAgICAgICAgIG91dGxldHNUb0JhY2sucHVzaChvdXRsZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcm91dGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBvdXRsZXRzVG9CYWNrO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByb3V0ZS5jaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChvdXRsZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3VycmVudFJvdXRlID0gcm91dGUuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgb3V0bGV0c1RvQmFjay5wdXNoKC4uLnRoaXMuZmluZE91dGxldHNSZWN1cnNpdmUob3V0bGV0cywgY3VycmVudFJvdXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldHNUb0JhY2s7XG4gICAgfVxuICAgIGZpbmRPdXRsZXRCeVJvdXRlKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICBjb25zdCBjdXJyZW50Um91dGVTbmFwc2hvcCA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoY3VycmVudFJvdXRlLnNuYXBzaG90KTtcbiAgICAgICAgY29uc3Qgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgoY3VycmVudFJvdXRlU25hcHNob3ApO1xuICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXksIGN1cnJlbnRSb3V0ZVNuYXBzaG9wKTtcbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zLCBkZXBzOiBbeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdG9rZW46IEZyYW1lU2VydmljZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm91dGVyRXh0ZW5zaW9ucywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm91dGVyRXh0ZW5zaW9ucywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMSQzLlJvdXRlciB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHR5cGU6IEZyYW1lU2VydmljZSB9XTsgfSB9KTtcblxuLyoqXG4gKiBUaGUgbnNSb3V0ZXJMaW5rIGRpcmVjdGl2ZSBsZXRzIHlvdSBsaW5rIHRvIHNwZWNpZmljIHBhcnRzIG9mIHlvdXIgYXBwLlxuICpcbiAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgcm91dGUgY29uZmlndXJhdGlvbjpcbiAqIGBgYFxuICogW3sgcGF0aDogXCIvdXNlclwiLCBjb21wb25lbnQ6IFVzZXJDbXAgfV1cbiAqIGBgYFxuICpcbiAqIFdoZW4gbGlua2luZyB0byB0aGlzIGBVc2VyYCByb3V0ZSwgeW91IGNhbiB3cml0ZTpcbiAqXG4gKiBgYGBcbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiW1wiL3VzZXJcIl1cIj5saW5rIHRvIHVzZXIgY29tcG9uZW50PC9hPlxuICogYGBgXG4gKlxuICogTlNSb3V0ZXJMaW5rIGV4cGVjdHMgdGhlIHZhbHVlIHRvIGJlIGFuIGFycmF5IG9mIHBhdGggc2VnbWVudHMsIGZvbGxvd2VkIGJ5IHRoZSBwYXJhbXNcbiAqIGZvciB0aGF0IGxldmVsIG9mIHJvdXRpbmcuIEZvciBpbnN0YW5jZSBgW1wiL3RlYW1cIiwge3RlYW1JZDogMX0sIFwidXNlclwiLCB7dXNlcklkOiAyfV1gXG4gKiBtZWFucyB0aGF0IHdlIHdhbnQgdG8gZ2VuZXJhdGUgYSBsaW5rIHRvIGAvdGVhbTt0ZWFtSWQ9MS91c2VyO3VzZXJJZD0yYC5cbiAqXG4gKiBUaGUgZmlyc3Qgc2VnbWVudCBuYW1lIGNhbiBiZSBwcmVwZW5kZWQgd2l0aCBgL2AsIGAuL2AsIG9yIGAuLi9gLlxuICogSWYgdGhlIHNlZ21lbnQgYmVnaW5zIHdpdGggYC9gLCB0aGUgcm91dGVyIHdpbGwgbG9vayB1cCB0aGUgcm91dGUgZnJvbSB0aGUgcm9vdCBvZiB0aGUgYXBwLlxuICogSWYgdGhlIHNlZ21lbnQgYmVnaW5zIHdpdGggYC4vYCwgb3IgZG9lc25cInQgYmVnaW4gd2l0aCBhIHNsYXNoLCB0aGUgcm91dGVyIHdpbGxcbiAqIGluc3RlYWQgbG9vayBpbiB0aGUgY3VycmVudCBjb21wb25lbnRcInMgY2hpbGRyZW4gZm9yIHRoZSByb3V0ZS5cbiAqIEFuZCBpZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgLi4vYCwgdGhlIHJvdXRlciB3aWxsIGdvIHVwIG9uZSBsZXZlbC5cbiAqL1xuY2xhc3MgTlNSb3V0ZXJMaW5rIHtcbiAgICBjb25zdHJ1Y3RvcihuZ1pvbmUsIHJvdXRlciwgbmF2aWdhdG9yLCByb3V0ZSwgZWwpIHtcbiAgICAgICAgdGhpcy5uZ1pvbmUgPSBuZ1pvbmU7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLm5hdmlnYXRvciA9IG5hdmlnYXRvcjtcbiAgICAgICAgdGhpcy5yb3V0ZSA9IHJvdXRlO1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMucGFnZVRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbW1hbmRzID0gW107XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50Lm9uKCd0YXAnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25UYXAoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0IHBhcmFtcyhkYXRhKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMgPSBbZGF0YV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25UYXAoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBuc1JvdXRlckxpbmsudGFwcGVkOiAke3RoaXMuY29tbWFuZHN9IGAgKyBgY2xlYXI6ICR7dGhpcy5jbGVhckhpc3Rvcnl9IGAgKyBgdHJhbnNpdGlvbjogJHtKU09OLnN0cmluZ2lmeSh0aGlzLnBhZ2VUcmFuc2l0aW9uKX0gYCArIGBkdXJhdGlvbjogJHt0aGlzLnBhZ2VUcmFuc2l0aW9uRHVyYXRpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0cmFzID0gdGhpcy5nZXRFeHRyYXMoKTtcbiAgICAgICAgLy8gdGhpcy5uYXZpZ2F0b3IubmF2aWdhdGVCeVVybCh0aGlzLnVybFRyZWUsIGV4dHJhcyk7XG4gICAgICAgIHRoaXMubmF2aWdhdG9yLm5hdmlnYXRlKHRoaXMuY29tbWFuZHMsIHtcbiAgICAgICAgICAgIC4uLmV4dHJhcyxcbiAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogdGhpcy5xdWVyeVBhcmFtcyxcbiAgICAgICAgICAgIGZyYWdtZW50OiB0aGlzLmZyYWdtZW50LFxuICAgICAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogdGhpcy5xdWVyeVBhcmFtc0hhbmRsaW5nLFxuICAgICAgICAgICAgcHJlc2VydmVGcmFnbWVudDogYXR0ckJvb2xWYWx1ZSh0aGlzLnByZXNlcnZlRnJhZ21lbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0RXh0cmFzKCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uID0gdGhpcy5nZXRUcmFuc2l0aW9uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBza2lwTG9jYXRpb25DaGFuZ2U6IGF0dHJCb29sVmFsdWUodGhpcy5za2lwTG9jYXRpb25DaGFuZ2UpLFxuICAgICAgICAgICAgcmVwbGFjZVVybDogYXR0ckJvb2xWYWx1ZSh0aGlzLnJlcGxhY2VVcmwpLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiB0aGlzLmNvbnZlcnRDbGVhckhpc3RvcnkodGhpcy5jbGVhckhpc3RvcnkpLFxuICAgICAgICAgICAgYW5pbWF0ZWQ6IHRyYW5zaXRpb24uYW5pbWF0ZWQsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLnRyYW5zaXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCB1cmxUcmVlKCkge1xuICAgICAgICBjb25zdCB1cmxUcmVlID0gdGhpcy5yb3V0ZXIuY3JlYXRlVXJsVHJlZSh0aGlzLmNvbW1hbmRzLCB7XG4gICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHRoaXMucXVlcnlQYXJhbXMsXG4gICAgICAgICAgICBmcmFnbWVudDogdGhpcy5mcmFnbWVudCxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IHRoaXMucXVlcnlQYXJhbXNIYW5kbGluZyxcbiAgICAgICAgICAgIHByZXNlcnZlRnJhZ21lbnQ6IGF0dHJCb29sVmFsdWUodGhpcy5wcmVzZXJ2ZUZyYWdtZW50KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBuc1JvdXRlckxpbmsgdXJsVHJlZSBjcmVhdGVkOiAke3VybFRyZWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybFRyZWU7XG4gICAgfVxuICAgIGNvbnZlcnRDbGVhckhpc3RvcnkodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAndHJ1ZSc7XG4gICAgfVxuICAgIGdldFRyYW5zaXRpb24oKSB7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uO1xuICAgICAgICBsZXQgYW5pbWF0ZWQ7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBhbmltYXRlZCA9IHRoaXMucGFnZVRyYW5zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRoaXMucGFnZVRyYW5zaXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ25vbmUnIHx8IHRoaXMucGFnZVRyYW5zaXRpb24gPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMucGFnZVRyYW5zaXRpb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24gPSB0aGlzLnBhZ2VUcmFuc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gK3RoaXMucGFnZVRyYW5zaXRpb25EdXJhdGlvbjtcbiAgICAgICAgaWYgKCFpc05hTihkdXJhdGlvbikpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24gPSB0cmFuc2l0aW9uIHx8IHt9O1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGFuaW1hdGVkLCB0cmFuc2l0aW9uIH07XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZXJMaW5rLCBkZXBzOiBbeyB0b2tlbjogaTAuTmdab25lIH0sIHsgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IFJvdXRlckV4dGVuc2lvbnMgfSwgeyB0b2tlbjogaTEkMy5BY3RpdmF0ZWRSb3V0ZSB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogTlNSb3V0ZXJMaW5rLCBzZWxlY3RvcjogXCJbbnNSb3V0ZXJMaW5rXVwiLCBpbnB1dHM6IHsgdGFyZ2V0OiBcInRhcmdldFwiLCBxdWVyeVBhcmFtczogXCJxdWVyeVBhcmFtc1wiLCBmcmFnbWVudDogXCJmcmFnbWVudFwiLCBxdWVyeVBhcmFtc0hhbmRsaW5nOiBcInF1ZXJ5UGFyYW1zSGFuZGxpbmdcIiwgcHJlc2VydmVRdWVyeVBhcmFtczogXCJwcmVzZXJ2ZVF1ZXJ5UGFyYW1zXCIsIHByZXNlcnZlRnJhZ21lbnQ6IFwicHJlc2VydmVGcmFnbWVudFwiLCBza2lwTG9jYXRpb25DaGFuZ2U6IFwic2tpcExvY2F0aW9uQ2hhbmdlXCIsIHJlcGxhY2VVcmw6IFwicmVwbGFjZVVybFwiLCBjbGVhckhpc3Rvcnk6IFwiY2xlYXJIaXN0b3J5XCIsIHBhZ2VUcmFuc2l0aW9uOiBcInBhZ2VUcmFuc2l0aW9uXCIsIHBhZ2VUcmFuc2l0aW9uRHVyYXRpb246IFwicGFnZVRyYW5zaXRpb25EdXJhdGlvblwiLCBwYXJhbXM6IFtcIm5zUm91dGVyTGlua1wiLCBcInBhcmFtc1wiXSB9LCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmssIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbeyBzZWxlY3RvcjogJ1tuc1JvdXRlckxpbmtdJyB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLk5nWm9uZSB9LCB7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogUm91dGVyRXh0ZW5zaW9ucyB9LCB7IHR5cGU6IGkxJDMuQWN0aXZhdGVkUm91dGUgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyB0YXJnZXQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBxdWVyeVBhcmFtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGZyYWdtZW50OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcXVlcnlQYXJhbXNIYW5kbGluZzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHByZXNlcnZlUXVlcnlQYXJhbXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwcmVzZXJ2ZUZyYWdtZW50OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgc2tpcExvY2F0aW9uQ2hhbmdlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcmVwbGFjZVVybDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGNsZWFySGlzdG9yeTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHBhZ2VUcmFuc2l0aW9uOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFnZVRyYW5zaXRpb25EdXJhdGlvbjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHBhcmFtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ25zUm91dGVyTGluayddXG4gICAgICAgICAgICB9XSB9IH0pO1xuZnVuY3Rpb24gYXR0ckJvb2xWYWx1ZShzKSB7XG4gICAgcmV0dXJuIHMgPT09ICcnIHx8ICEhcztcbn1cblxuLyogdHNsaW50OmRpc2FibGU6Zm9yaW4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zVHJlZShjb250YWluZXIsIGNvbnRhaW5lZSwgZXhhY3QpIHtcbiAgICBpZiAoZXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIGVxdWFsU2VnbWVudEdyb3Vwcyhjb250YWluZXIucm9vdCwgY29udGFpbmVlLnJvb3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zU2VnbWVudEdyb3VwKGNvbnRhaW5lci5yb290LCBjb250YWluZWUucm9vdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lciwgY29udGFpbmVlKSB7XG4gICAgaWYgKCFlcXVhbFBhdGgoY29udGFpbmVyLnNlZ21lbnRzLCBjb250YWluZWUuc2VnbWVudHMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5udW1iZXJPZkNoaWxkcmVuICE9PSBjb250YWluZWUubnVtYmVyT2ZDaGlsZHJlbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3QgYyBpbiBjb250YWluZWUuY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bY10pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVxdWFsU2VnbWVudEdyb3Vwcyhjb250YWluZXIuY2hpbGRyZW5bY10sIGNvbnRhaW5lZS5jaGlsZHJlbltjXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNvbnRhaW5zU2VnbWVudEdyb3VwKGNvbnRhaW5lciwgY29udGFpbmVlKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyKGNvbnRhaW5lciwgY29udGFpbmVlLCBjb250YWluZWUuc2VnbWVudHMpO1xufVxuZnVuY3Rpb24gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLCBjb250YWluZWUsIGNvbnRhaW5lZVBhdGhzKSB7XG4gICAgaWYgKGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGggPiBjb250YWluZWVQYXRocy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNvbnRhaW5lci5zZWdtZW50cy5zbGljZSgwLCBjb250YWluZWVQYXRocy5sZW5ndGgpO1xuICAgICAgICBpZiAoIWVxdWFsUGF0aChjdXJyZW50LCBjb250YWluZWVQYXRocykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGFpbmVlLmhhc0NoaWxkcmVuKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCA9PT0gY29udGFpbmVlUGF0aHMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGNvbnRhaW5lci5zZWdtZW50cywgY29udGFpbmVlUGF0aHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjIGluIGNvbnRhaW5lZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bY10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5zU2VnbWVudEdyb3VwKGNvbnRhaW5lci5jaGlsZHJlbltjXSwgY29udGFpbmVlLmNoaWxkcmVuW2NdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjb250YWluZWVQYXRocy5zbGljZSgwLCBjb250YWluZXIuc2VnbWVudHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IGNvbnRhaW5lZVBhdGhzLnNsaWNlKGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGgpO1xuICAgICAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIuc2VnbWVudHMsIGN1cnJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bUFJJTUFSWV9PVVRMRVRdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyKGNvbnRhaW5lci5jaGlsZHJlbltQUklNQVJZX09VVExFVF0sIGNvbnRhaW5lZSwgbmV4dCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXF1YWxQYXRoKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldLnBhdGggIT09IGJbaV0ucGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFRoZSBOU1JvdXRlckxpbmtBY3RpdmUgZGlyZWN0aXZlIGxldHMgeW91IGFkZCBhIENTUyBjbGFzcyB0byBhbiBlbGVtZW50IHdoZW4gdGhlIGxpbmtcInMgcm91dGVcbiAqIGJlY29tZXMgYWN0aXZlLlxuICpcbiAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgZXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCIgW25zUm91dGVyTGlua0FjdGl2ZV09XCJhY3RpdmUtbGlua1wiPkJvYjwvYT5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIHVybCBpcyBlaXRoZXIgXCIvdXNlclwiIG9yIFwiL3VzZXIvYm9iXCIsIHRoZSBhY3RpdmUtbGluayBjbGFzcyB3aWxsXG4gKiBiZSBhZGRlZCB0byB0aGUgY29tcG9uZW50LiBJZiB0aGUgdXJsIGNoYW5nZXMsIHRoZSBjbGFzcyB3aWxsIGJlIHJlbW92ZWQuXG4gKlxuICogWW91IGNhbiBzZXQgbW9yZSB0aGFuIG9uZSBjbGFzcywgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBcbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCIgW25zUm91dGVyTGlua0FjdGl2ZV09XCJjbGFzczEgY2xhc3MyXCI+Qm9iPC9hPlxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cIltcImNsYXNzMVwiLCBcImNsYXNzMlwiXVwiPkJvYjwvYT5cbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gY29uZmlndXJlIE5TUm91dGVyTGlua0FjdGl2ZSBieSBwYXNzaW5nIGBleGFjdDogdHJ1ZWAuIFRoaXMgd2lsbCBhZGQgdGhlXG4gKiBjbGFzc2VzIG9ubHkgd2hlbiB0aGUgdXJsIG1hdGNoZXMgdGhlIGxpbmsgZXhhY3RseS5cbiAqXG4gKiBgYGBcbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCIgW25zUm91dGVyTGlua0FjdGl2ZV09XCJhY3RpdmUtbGlua1wiXG4gKiBbbnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc109XCJ7ZXhhY3Q6IHRydWV9XCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogRmluYWxseSwgeW91IGNhbiBhcHBseSB0aGUgTlNSb3V0ZXJMaW5rQWN0aXZlIGRpcmVjdGl2ZSB0byBhbiBhbmNlc3RvciBvZiBhIFJvdXRlckxpbmsuXG4gKlxuICogYGBgXG4gKiA8ZGl2IFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiYWN0aXZlLWxpbmtcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc109XCJ7ZXhhY3Q6IHRydWV9XCI+XG4gKiAgIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvamltXCI+SmltPC9hPlxuICogICA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiPkJvYjwvYT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhpcyB3aWxsIHNldCB0aGUgYWN0aXZlLWxpbmsgY2xhc3Mgb24gdGhlIGRpdiB0YWcgaWYgdGhlIHVybCBpcyBlaXRoZXIgXCIvdXNlci9qaW1cIiBvclxuICogXCIvdXNlci9ib2JcIi5cbiAqXG4gKiBAc3RhYmxlXG4gKi9cbmNsYXNzIE5TUm91dGVyTGlua0FjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Iocm91dGVyLCBlbGVtZW50LCByZW5kZXJlcikge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zID0geyBleGFjdDogZmFsc2UgfTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSByb3V0ZXIuZXZlbnRzLnN1YnNjcmliZSgocykgPT4ge1xuICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgIH1cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIHRoaXMubGlua3MuY2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4gdGhpcy51cGRhdGUoKSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIHNldCBuc1JvdXRlckxpbmtBY3RpdmUoZGF0YSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NlcyA9IGRhdGEuc3BsaXQoJyAnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpbmtzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzQWN0aXZlTGlua3MgPSB0aGlzLmhhc0FjdGl2ZUxpbmtzKCk7XG4gICAgICAgIC8vIHJlYWN0IG9ubHkgd2hlbiBzdGF0dXMgaGFzIGNoYW5nZWQgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSBkb20gdXBkYXRlc1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgIT09IGhhc0FjdGl2ZUxpbmtzKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXJsVHJlZSA9IHRoaXMucm91dGVyLnBhcnNlVXJsKHRoaXMucm91dGVyLnVybCk7XG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZUxpbmtzID0gdGhpcy5yZWR1Y2VMaXN0KGN1cnJlbnRVcmxUcmVlLCB0aGlzLmxpbmtzKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3Nlcy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlTGlua3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCwgYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlLnJlc29sdmUoaGFzQWN0aXZlTGlua3MpLnRoZW4oKGFjdGl2ZSkgPT4gKHRoaXMuYWN0aXZlID0gYWN0aXZlKSk7XG4gICAgfVxuICAgIHJlZHVjZUxpc3QoY3VycmVudFVybFRyZWUsIHEpIHtcbiAgICAgICAgcmV0dXJuIHEucmVkdWNlKChyZXMsIGxpbmspID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXMgfHwgY29udGFpbnNUcmVlKGN1cnJlbnRVcmxUcmVlLCBsaW5rLnVybFRyZWUsIHRoaXMubnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucy5leGFjdCk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gICAgaXNMaW5rQWN0aXZlKHJvdXRlcikge1xuICAgICAgICByZXR1cm4gKGxpbmspID0+IHJvdXRlci5pc0FjdGl2ZShsaW5rLnVybFRyZWUsIHRoaXMubnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucy5leGFjdCk7XG4gICAgfVxuICAgIGhhc0FjdGl2ZUxpbmtzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5rcy5zb21lKHRoaXMuaXNMaW5rQWN0aXZlKHRoaXMucm91dGVyKSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZXJMaW5rQWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBOU1JvdXRlckxpbmtBY3RpdmUsIHNlbGVjdG9yOiBcIltuc1JvdXRlckxpbmtBY3RpdmVdXCIsIGlucHV0czogeyBuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zOiBcIm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnNcIiwgbnNSb3V0ZXJMaW5rQWN0aXZlOiBcIm5zUm91dGVyTGlua0FjdGl2ZVwiIH0sIHF1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJsaW5rc1wiLCBwcmVkaWNhdGU6IE5TUm91dGVyTGluayB9XSwgZXhwb3J0QXM6IFtcInJvdXRlckxpbmtBY3RpdmVcIl0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGlua0FjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW25zUm91dGVyTGlua0FjdGl2ZV0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ3JvdXRlckxpbmtBY3RpdmUnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBsaW5rczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBDb250ZW50Q2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgYXJnczogW05TUm91dGVyTGlua11cbiAgICAgICAgICAgIH1dLCBuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgbnNSb3V0ZXJMaW5rQWN0aXZlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBQYWdlUm91dGUge1xuICAgIGNvbnN0cnVjdG9yKHN0YXJ0Um91dGUpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRSb3V0ZSA9IG5ldyBCZWhhdmlvclN1YmplY3Qoc3RhcnRSb3V0ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoaXRlbSkge1xuICAgIHJldHVybiAhIWl0ZW0ucmVzb2x2ZUNvbXBvbmVudEZhY3Rvcnk7XG59XG5mdW5jdGlvbiBjYWxsYWJsZU9uY2UoZm4pIHtcbiAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZm4oLi4uYXJncyk7XG4gICAgfTtcbn1cbmNsYXNzIERlc3RydWN0aWJsZUluamVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihkZXN0cnVjdGlibGVQcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICB0aGlzLmRlc3RydWN0aWJsZVByb3ZpZGVycyA9IGRlc3RydWN0aWJsZVByb3ZpZGVycztcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMucmVmcyA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncykge1xuICAgICAgICBjb25zdCByZWYgPSB0aGlzLnBhcmVudC5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKTtcbiAgICAgICAgLy8gaWYgd2UncmUgc2tpcHBpbmcgb3Vyc2VsdmVzIHRoZW4gaXQncyBub3Qgb3VyIHJlc3BvbnNpYmlsaXR5IHRvIGRlc3Ryb3lcbiAgICAgICAgaWYgKHR5cGVvZiBmbGFncyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmICghKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpICYmIHRoaXMuZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMuYWRkKHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWZsYWdzPy5za2lwU2VsZiAmJiB0aGlzLmRlc3RydWN0aWJsZVByb3ZpZGVycy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLmFkZChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgICAgICAgIGlmIChyZWYubmdPbkRlc3Ryb3kgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHJlZi5uZ09uRGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWZzLmNsZWFyKCk7XG4gICAgfVxufVxuY29uc3Qgcm91dGVUb1N0cmluZyA9IGZ1bmN0aW9uIChhY3RpdmF0ZWRSb3V0ZSkge1xuICAgIHJldHVybiBhY3RpdmF0ZWRSb3V0ZS5wYXRoRnJvbVJvb3Quam9pbignLT4nKTtcbn07XG5yZWdpc3RlckVsZW1lbnQoJ3BhZ2Utcm91dGVyLW91dGxldCcsICgpID0+IEZyYW1lKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG5jbGFzcyBQYWdlUm91dGVyT3V0bGV0IHtcbiAgICAvKiogQGRlcHJlY2F0ZWQgZnJvbSBBbmd1bGFyIHNpbmNlIHY0ICovXG4gICAgZ2V0IGxvY2F0aW9uSW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLmluamVjdG9yO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgZnJvbSBBbmd1bGFyIHNpbmNlIHY0ICovXG4gICAgZ2V0IGxvY2F0aW9uRmFjdG9yeVJlc29sdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlcjtcbiAgICB9XG4gICAgZ2V0IGlzQWN0aXZhdGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFjdGl2YXRlZDtcbiAgICB9XG4gICAgZ2V0IGNvbXBvbmVudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZTtcbiAgICB9XG4gICAgZ2V0IGFjdGl2YXRlZFJvdXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlO1xuICAgIH1cbiAgICBnZXQgYWN0aXZhdGVkUm91dGVEYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFyZW50Q29udGV4dHMsIGxvY2F0aW9uLCBuYW1lLCBhY3Rpb25CYXJWaXNpYmlsaXR5LCBpc0VtcHR5T3V0bGV0LCBsb2NhdGlvblN0cmF0ZWd5LCBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIHJlc29sdmVyLCBjaGFuZ2VEZXRlY3RvciwgcGFnZUZhY3RvcnksIHJvdXRlUmV1c2VTdHJhdGVneSwgbmdab25lLCByb3V0ZXIsIGVsUmVmLCB2aWV3VXRpbCwgZW52aXJvbm1lbnRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLnBhcmVudENvbnRleHRzID0gcGFyZW50Q29udGV4dHM7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSByZXNvbHZlcjtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvciA9IGNoYW5nZURldGVjdG9yO1xuICAgICAgICB0aGlzLnBhZ2VGYWN0b3J5ID0gcGFnZUZhY3Rvcnk7XG4gICAgICAgIHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5ID0gcm91dGVSZXVzZVN0cmF0ZWd5O1xuICAgICAgICB0aGlzLm5nWm9uZSA9IG5nWm9uZTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnRJbmplY3RvciA9IGVudmlyb25tZW50SW5qZWN0b3I7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRhY2hFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGV0YWNoRXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLW91dHB1dC1yZW5hbWVcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICB0aGlzLmRlYWN0aXZhdGVFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICB0aGlzLmlzRW1wdHlPdXRsZXQgPSBpc0VtcHR5T3V0bGV0O1xuICAgICAgICB0aGlzLmZyYW1lID0gZWxSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgdGhpcy5zZXRBY3Rpb25CYXJWaXNpYmlsaXR5KGFjdGlvbkJhclZpc2liaWxpdHkpO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgUGFnZVJvdXRlck91dGxldC5jb25zdHJ1Y3RvciBmcmFtZTogJHt0aGlzLmZyYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWUgfHwgUFJJTUFSWV9PVVRMRVQ7XG4gICAgICAgIHBhcmVudENvbnRleHRzLm9uQ2hpbGRPdXRsZXRDcmVhdGVkKHRoaXMubmFtZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld1V0aWwgPSB2aWV3VXRpbDtcbiAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlckZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgfVxuICAgIHNldEFjdGlvbkJhclZpc2liaWxpdHkoYWN0aW9uQmFyVmlzaWJpbGl0eSkge1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbkJhclZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Fsd2F5cyc6XG4gICAgICAgICAgICBjYXNlICduZXZlcic6XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5ID0gYWN0aW9uQmFyVmlzaWJpbGl0eTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuYWN0aW9uQmFyVmlzaWJpbGl0eSA9ICdhdXRvJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgLy8gSW4gdGhlIGV2ZW50IHRoYXQgdGhlIGBwYXJlbnRDb250ZXh0c2AgaGFzIGNoYW5nZWQgdGhlIG91dGxldFxuICAgICAgICAvLyB2aWEgdGhlIGNyZWF0aW9uIG9mIGFub3RoZXIgb3V0bGV0LCB0aGUgYG9uQ2hpbGRPdXRsZXREZXN0cm95ZWRgXG4gICAgICAgIC8vIHdpbGwgYmUgc2tpcHBlZFxuICAgICAgICBpZiAodGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSk/Lm91dGxldCA9PT0gdGhpcykge1xuICAgICAgICAgICAgLy8gQ2xlYXIgYWNjdW11bGF0ZWQgbW9kYWwgdmlldyBwYWdlIGNhY2hlIHdoZW4gcGFnZS1yb3V0ZXItb3V0bGV0XG4gICAgICAgICAgICAvLyBkZXN0cm95ZWQgb24gbW9kYWwgdmlldyBjbG9zaW5nXG4gICAgICAgICAgICB0aGlzLnBhcmVudENvbnRleHRzLm9uQ2hpbGRPdXRsZXREZXN0cm95ZWQodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJNb2RhbENhY2hlKGtleSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5jbGVhck91dGxldCh0aGlzLmZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnUGFnZVJvdXRlck91dGxldC5uZ09uRGVzdHJveTogbm8gb3V0bGV0IGF2YWlsYWJsZSBmb3IgcGFnZS1yb3V0ZXItb3V0bGV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVkLmhvc3RWaWV3LmRldGFjaCgpO1xuICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZih0aGlzLmFjdGl2YXRlZCk7XG4gICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdChjKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMub3V0bGV0IHx8ICF0aGlzLm91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdDdXJyZW50bHkgbm90IGluIHBhZ2UgYmFjayBuYXZpZ2F0aW9uIC0gY29tcG9uZW50IHNob3VsZCBiZSBkZXRhY2hlZCBpbnN0ZWFkIG9mIGRlYWN0aXZhdGVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdQYWdlUm91dGVyT3V0bGV0LmRlYWN0aXZhdGUoKSB3aGlsZSBnb2luZyBiYWNrIC0gc2hvdWxkIGRlc3Ryb3knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbj8uKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZTtcbiAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZih0aGlzLmFjdGl2YXRlZCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdChjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGBSb3V0ZVJldXNlU3RyYXRlZ3lgIGluc3RydWN0cyB0byBkZXRhY2ggdGhlIHN1YnRyZWVcbiAgICAgKi9cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmRldGFjaCgpIC0gJHtyb3V0ZVRvU3RyaW5nKHRoaXMuX2FjdGl2YXRlZFJvdXRlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbj8uKCk7XG4gICAgICAgIC8vIERldGFjaCBmcm9tIENoYW5nZURldGVjdGlvblxuICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5kZXRhY2goKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5hY3RpdmF0ZWQ7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRldGFjaEV2ZW50cy5lbWl0KGNvbXBvbmVudC5pbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBgUm91dGVSZXVzZVN0cmF0ZWd5YCBpbnN0cnVjdHMgdG8gcmUtYXR0YWNoIGEgcHJldmlvdXNseSBkZXRhY2hlZCBzdWJ0cmVlXG4gICAgICovXG4gICAgYXR0YWNoKHJlZiwgYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuYXR0YWNoKCkgLSAke3JvdXRlVG9TdHJpbmcoYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gcmVmO1xuICAgICAgICAvLyByZWF0dGFjaCB0byBDaGFuZ2VEZXRlY3Rpb25cbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcubWFya0ZvckNoZWNrKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkLmhvc3RWaWV3LnJlYXR0YWNoKCk7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIHRoaXMubWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgLy8gd2UgaGF2ZSBhIGNoaWxkIHdpdGggdGhlIHNhbWUgbmFtZSwgc28gd2UgZG9uJ3QgZmluaXNoIHRoZSBiYWNrIG5hdlxuICAgICAgICBpZiAodGhpcy5pc0ZpbmFsUGFnZVJvdXRlck91dGxldCgpKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2ZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cy5lbWl0KHJlZi5pbnN0YW5jZSk7XG4gICAgfVxuICAgIGlzRmluYWxQYWdlUm91dGVyT3V0bGV0KCkge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLnBhcmVudENvbnRleHRzLmdldENvbnRleHQodGhpcy5uYW1lKT8uY2hpbGRyZW47XG4gICAgICAgIHdoaWxlIChjaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRDb250ZXh0ID0gY2hpbGRyZW4uZ2V0Q29udGV4dCh0aGlzLm5hbWUpO1xuICAgICAgICAgICAgaWYgKCFjaGlsZENvbnRleHQgfHwgIWNoaWxkQ29udGV4dC5vdXRsZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZENvbnRleHQub3V0bGV0IGluc3RhbmNlb2YgUGFnZVJvdXRlck91dGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRDb250ZXh0LmNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYnkgdGhlIFJvdXRlciB0byBpbnN0YW50aWF0ZSBhIG5ldyBjb21wb25lbnQgZHVyaW5nIHRoZSBjb21taXQgcGhhc2Ugb2YgYSBuYXZpZ2F0aW9uLlxuICAgICAqIFRoaXMgbWV0aG9kIGluIHR1cm4gaXMgcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgdGhlIGByb3V0ZXJPbkFjdGl2YXRlYCBob29rIG9mIGl0cyBjaGlsZC5cbiAgICAgKi9cbiAgICBhY3RpdmF0ZVdpdGgoYWN0aXZhdGVkUm91dGUsIHJlc29sdmVyKSB7XG4gICAgICAgIHRoaXMub3V0bGV0ID0gdGhpcy5vdXRsZXQgfHwgdGhpcy5nZXRPdXRsZXQoYWN0aXZhdGVkUm91dGUuc25hcHNob3QpO1xuICAgICAgICBpZiAoIXRoaXMub3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignTm8gb3V0bGV0IGZvdW5kIHJlbGF0aXZlIHRvIGFjdGl2YXRlZCByb3V0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0bGV0LmlzTlNFbXB0eU91dGxldCA9IHRoaXMuaXNFbXB0eU91dGxldDtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LnVwZGF0ZU91dGxldEZyYW1lKHRoaXMub3V0bGV0LCB0aGlzLmZyYW1lLCB0aGlzLmlzRW1wdHlPdXRsZXQpO1xuICAgICAgICBpZiAodGhpcy5vdXRsZXQgJiYgdGhpcy5vdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnQ3VycmVudGx5IGluIHBhZ2UgYmFjayBuYXZpZ2F0aW9uIC0gY29tcG9uZW50IHNob3VsZCBiZSByZWF0dGFjaGVkIGluc3RlYWQgb2YgYWN0aXZhdGVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmFjdGl2YXRlV2l0aCgpIC0gJHtyb3V0ZVRvU3RyaW5nKGFjdGl2YXRlZFJvdXRlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IGFjdGl2YXRlZFJvdXRlO1xuICAgICAgICB0aGlzLm1hcmtBY3RpdmF0ZWRSb3V0ZShhY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVPbkdvRm9yd2FyZChhY3RpdmF0ZWRSb3V0ZSwgcmVzb2x2ZXIgfHwgdGhpcy5lbnZpcm9ubWVudEluamVjdG9yKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUV2ZW50cy5lbWl0KHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlKTtcbiAgICB9XG4gICAgYWN0aXZhdGVPbkdvRm9yd2FyZChhY3RpdmF0ZWRSb3V0ZSwgcmVzb2x2ZXJPckluamVjdG9yKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdQYWdlUm91dGVyT3V0bGV0LmFjdGl2YXRlKCkgZm9yd2FyZCBuYXZpZ2F0aW9uIC0gJyArICdjcmVhdGUgZGV0YWNoZWQgbG9hZGVyIGluIHRoZSBsb2FkZXIgY29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXRDb21wb25lbnRUeXBlKGFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMucGFnZUZhY3Rvcnkoe1xuICAgICAgICAgICAgaXNOYXZpZ2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogY29tcG9uZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uO1xuICAgICAgICBjb25zdCBkZXN0cnVjdGlibGVzID0gbmV3IFNldChbUGFnZVNlcnZpY2VdKTtcbiAgICAgICAgY29uc3QgcGFyZW50SW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoe1xuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBQYWdlLCB1c2VWYWx1ZTogcGFnZSB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogRnJhbWUsIHVzZVZhbHVlOiB0aGlzLmZyYW1lIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBQYWdlUm91dGUsIHVzZVZhbHVlOiBuZXcgUGFnZVJvdXRlKGFjdGl2YXRlZFJvdXRlKSB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQWN0aXZhdGVkUm91dGUsIHVzZVZhbHVlOiBhY3RpdmF0ZWRSb3V0ZSB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQ2hpbGRyZW5PdXRsZXRDb250ZXh0cywgdXNlVmFsdWU6IHRoaXMucGFyZW50Q29udGV4dHMuZ2V0T3JDcmVhdGVDb250ZXh0KHRoaXMubmFtZSkuY2hpbGRyZW4gfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2VTZXJ2aWNlLCB1c2VDbGFzczogUGFnZVNlcnZpY2UgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBwYXJlbnQ6IGxvY2F0aW9uLmluamVjdG9yLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW5qZWN0b3IgPSBuZXcgRGVzdHJ1Y3RpYmxlSW5qZWN0b3IoZGVzdHJ1Y3RpYmxlcywgcGFyZW50SW5qZWN0b3IpO1xuICAgICAgICBsZXQgbG9hZGVyUmVmO1xuICAgICAgICBpZiAoaXNDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIocmVzb2x2ZXJPckluamVjdG9yKSkge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IHJlc29sdmVyT3JJbmplY3Rvci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgICAgICBsb2FkZXJSZWYgPSBsb2NhdGlvbi5jcmVhdGVDb21wb25lbnQoZmFjdG9yeSwgbG9jYXRpb24ubGVuZ3RoLCBpbmplY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbnZpcm9ubWVudEluamVjdG9yID0gcmVzb2x2ZXJPckluamVjdG9yO1xuICAgICAgICAgICAgbG9hZGVyUmVmID0gbG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KERldGFjaGVkTG9hZGVyLCB7IGluZGV4OiBsb2NhdGlvbi5sZW5ndGgsIGluamVjdG9yLCBlbnZpcm9ubWVudEluamVjdG9yIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxvYWRlclJlZi5vbkRlc3Ryb3koKCkgPT4gaW5qZWN0b3IuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBsb2FkZXJSZWYuaW5zdGFuY2UubG9hZENvbXBvbmVudEluTG9jYXRpb24oY29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB0aGlzLmxvYWRDb21wb25lbnRJblBhZ2UocGFnZSwgdGhpcy5hY3RpdmF0ZWQsIHsgYWN0aXZhdGVkUm91dGUgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkW2xvYWRlclJlZlN5bWJvbF0gPSBsb2FkZXJSZWY7XG4gICAgfVxuICAgIGxvYWRDb21wb25lbnRJblBhZ2UocGFnZSwgY29tcG9uZW50UmVmLCBuYXZpZ2F0aW9uQ29udGV4dCkge1xuICAgICAgICAvLyBDb21wb25lbnQgbG9hZGVkLiBGaW5kIGl0cyByb290IG5hdGl2ZSB2aWV3LlxuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIC8vIFJlbW92ZSBpdCBmcm9tIG9yaWdpbmFsIG5hdGl2ZSBwYXJlbnQuXG4gICAgICAgIHRoaXMudmlld1V0aWwucmVtb3ZlQ2hpbGQoY29tcG9uZW50Vmlldy5wYXJlbnQsIGNvbXBvbmVudFZpZXcpO1xuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIG5ldyBwYWdlXG4gICAgICAgIHRoaXMudmlld1V0aWwuYXBwZW5kQ2hpbGQocGFnZSwgY29tcG9uZW50Vmlldyk7XG4gICAgICAgIGxldCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQodGhpcy5fYWN0aXZhdGVkUm91dGUuc25hcHNob3QpO1xuICAgICAgICBsZXQgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICBjb25zdCB0aGlzUm91dGVLZXkgPSBvdXRsZXRLZXk7XG4gICAgICAgIHdoaWxlICghdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmZpbmRPdXRsZXQob3V0bGV0S2V5KSkge1xuICAgICAgICAgICAgdG9wQWN0aXZhdGVkUm91dGUgPSB0b3BBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoIXRvcEFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIG91dGxldCBmb3Igcm91dGU6ICcgKyB0aGlzUm91dGVLZXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdmlnYXRlZEZyb21DYWxsYmFjayA9IGdsb2JhbC5ab25lLmN1cnJlbnQud3JhcCgoYXJncykgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSwgb3V0bGV0S2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjayhudWxsLCB0aGlzLmZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IGV4cGVyaW1lbnQgd2l0aCB1c2luZyBOZ1pvbmUgaW5zdGVhZCBvZiBnbG9iYWwgYWJvdmVcbiAgICAgICAgLy8gY29uc3QgbmF2aWdhdGVkRnJvbUNhbGxiYWNrID0gKGFyZ3M6IE5hdmlnYXRlZERhdGEpID0+IHtcbiAgICAgICAgLy8gXHRpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgIC8vICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAvLyAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUpO1xuICAgICAgICAvLyAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjayhudWxsLCB0aGlzLmZyYW1lKTtcbiAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAvLyBcdH1cbiAgICAgICAgLy8gfTtcbiAgICAgICAgcGFnZS5vbihQYWdlLm5hdmlnYXRlZEZyb21FdmVudCwgbmF2aWdhdGVkRnJvbUNhbGxiYWNrKTtcbiAgICAgICAgY29tcG9uZW50UmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZSkge1xuICAgICAgICAgICAgICAgIHBhZ2Uub2ZmKFBhZ2UubmF2aWdhdGVkRnJvbUV2ZW50LCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHBhZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmF2T3B0aW9ucyA9IHsgLi4uZGVmYXVsdE5hdk9wdGlvbnMsIC4uLih0aGlzLnJvdXRlci5nZXRDdXJyZW50TmF2aWdhdGlvbigpLmV4dHJhcyB8fCB7fSkgfTtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9iZWdpblBhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUsIG5hdk9wdGlvbnMpO1xuICAgICAgICBjb25zdCBpc1JlcGxhY2UgPSBuYXZPcHRpb25zLnJlcGxhY2VVcmwgJiYgIW5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5O1xuICAgICAgICBjb25zdCBjdXJyZW50Um91dGUgPSB0aGlzLmFjdGl2YXRlZFJvdXRlO1xuICAgICAgICAvLyBDbGVhciByZWZDYWNoZSBpZiBuYXZpZ2F0aW9uIHdpdGggY2xlYXJIaXN0b3J5XG4gICAgICAgIGlmIChuYXZPcHRpb25zLmNsZWFySGlzdG9yeSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5Lm1hcmtDYWNoZUZvckNsZWFyKGtleSkpO1xuICAgICAgICAgICAgY29uc3Qgd2lwZUNhY2hlID0gY2FsbGFibGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3N0TmF2RnVuY3Rpb24gPT09IHdpcGVDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLmFjdGl2YXRlZFJvdXRlID09PSBjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG90ZW50aWFsIGFsdGVybmF0aXZlIGZpeCAob25seSBmaXggY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgb3V0bGV0KVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBuZXN0cyA9IG91dGxldEtleS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LmNsZWFyTWFya2VkQ2FjaGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IHdpcGVDYWNoZTtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ2FsbGJhY2sgPSAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB3aXBlQ2FjaGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFnZS5vbmNlKFBhZ2UubmF2aWdhdGVkVG9FdmVudCwgY2xlYXJDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmF2T3B0aW9ucy5yZXBsYWNlVXJsKSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kubWFya0NhY2hlRm9yUG9wKGtleSkpO1xuICAgICAgICAgICAgY29uc3QgcG9wQ2FjaGUgPSBjYWxsYWJsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROYXZGdW5jdGlvbiA9PT0gcG9wQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRsZXQgJiYgdGhpcy5hY3RpdmF0ZWRSb3V0ZSA9PT0gY3VycmVudFJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvdGVudGlhbCBhbHRlcm5hdGl2ZSBmaXggKG9ubHkgZml4IGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50IG91dGxldClcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbmVzdHMgPSBvdXRsZXRLZXkuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5maWx0ZXIoKGspID0+IGsuc3BsaXQoJy8nKS5sZW5ndGggPj0gbmVzdHMubGVuZ3RoKS5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnBvcENhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJNYXJrZWRDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gcG9wQ2FjaGU7XG4gICAgICAgICAgICBjb25zdCBjbGVhckNhbGxiYWNrID0gKCkgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcG9wQ2FjaGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFnZS5vbmNlKFBhZ2UubmF2aWdhdGVkVG9FdmVudCwgY2xlYXJDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5hdmlnYXRpb25Db250ZXh0LFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBuYXZPcHRpb25zLmNsZWFySGlzdG9yeSxcbiAgICAgICAgICAgIGFuaW1hdGVkOiBuYXZPcHRpb25zLmFuaW1hdGVkLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogbmF2T3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNSZXBsYWNlICYmIHRoaXMuZnJhbWUuY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUucmVwbGFjZVBhZ2UobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBGaW5kIGFuZCBtYXJrIHRoZSB0b3AgYWN0aXZhdGVkIHJvdXRlIGFzIGFuIGFjdGl2YXRlZCBvbmUuXG4gICAgLy8gSW4gbnMtbG9jYXRpb24tc3RyYXRlZ3kgd2UgYXJlIHJldXNpbmcgY29tcG9uZW50cyBvbmx5IGlmIHRoZWlyIGNvcnJlc3BvbmluZyByb3V0ZXNcbiAgICAvLyBhcmUgbWFya2VkIGFzIGFjdGl2YXRlZCBmcm9tIHRoaXMgbWV0aG9kLlxuICAgIG1hcmtBY3RpdmF0ZWRSb3V0ZShhY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBxdWV1ZS5wdXNoKGFjdGl2YXRlZFJvdXRlLnNuYXBzaG90KTtcbiAgICAgICAgbGV0IGN1cnJlbnRSb3V0ZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZFJvdXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChjaGlsZFJvdXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9wQWN0aXZhdGVkUm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGN1cnJlbnRSb3V0ZSk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXksIHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQgJiYgb3V0bGV0LmZyYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0b3BBY3RpdmF0ZWRSb3V0ZVtwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnQWN0aXZhdGVkIHJvdXRlIG1hcmtlZCBhcyBwYWdlOiAnICsgcm91dGVUb1N0cmluZyh0b3BBY3RpdmF0ZWRSb3V0ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50VHlwZShhY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICByZXR1cm4gYWN0aXZhdGVkUm91dGUucm91dGVDb25maWcuY29tcG9uZW50IHx8IGFjdGl2YXRlZFJvdXRlLmNvbXBvbmVudDtcbiAgICB9XG4gICAgZ2V0T3V0bGV0KGFjdGl2YXRlZFJvdXRlU25hcHNob3QpIHtcbiAgICAgICAgY29uc3QgdG9wQWN0aXZhdGVkUm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGFjdGl2YXRlZFJvdXRlU25hcHNob3QpO1xuICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXksIHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgLy8gTmFtZWQgbGF6eSBsb2FkZWQgb3V0bGV0LlxuICAgICAgICBpZiAoIW91dGxldCAmJiB0aGlzLmlzRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlLnBhcmVudCk7XG4gICAgICAgICAgICBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChwYXJlbnRPdXRsZXRLZXksIHRvcEFjdGl2YXRlZFJvdXRlLnBhcmVudCk7XG4gICAgICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0Lm91dGxldEtleXMucHVzaChvdXRsZXRLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRsZXQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVJvdXRlck91dGxldCwgZGVwczogW3sgdG9rZW46IGkxJDMuQ2hpbGRyZW5PdXRsZXRDb250ZXh0cyB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdG9rZW46ICduYW1lJywgYXR0cmlidXRlOiB0cnVlIH0sIHsgdG9rZW46ICdhY3Rpb25CYXJWaXNpYmlsaXR5JywgYXR0cmlidXRlOiB0cnVlIH0sIHsgdG9rZW46ICdpc0VtcHR5T3V0bGV0JywgYXR0cmlidXRlOiB0cnVlIH0sIHsgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdG9rZW46IGkwLkNoYW5nZURldGVjdG9yUmVmIH0sIHsgdG9rZW46IFBBR0VfRkFDVE9SWSB9LCB7IHRva2VuOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9LCB7IHRva2VuOiBpMC5OZ1pvbmUgfSwgeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBWaWV3VXRpbCB9LCB7IHRva2VuOiBpMC5FbnZpcm9ubWVudEluamVjdG9yIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogUGFnZVJvdXRlck91dGxldCwgc2VsZWN0b3I6IFwicGFnZS1yb3V0ZXItb3V0bGV0XCIsIG91dHB1dHM6IHsgYWN0aXZhdGVFdmVudHM6IFwiYWN0aXZhdGVcIiwgZGVhY3RpdmF0ZUV2ZW50czogXCJkZWFjdGl2YXRlXCIgfSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9maWxlLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtBY3RpdmF0ZWRSb3V0ZSwgT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIFBhZ2VSb3V0ZXJPdXRsZXQucHJvdG90eXBlLCBcImFjdGl2YXRlV2l0aFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1BhZ2UsIENvbXBvbmVudFJlZiwgT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIFBhZ2VSb3V0ZXJPdXRsZXQucHJvdG90eXBlLCBcImxvYWRDb21wb25lbnRJblBhZ2VcIiwgbnVsbCk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVJvdXRlck91dGxldCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAncGFnZS1yb3V0ZXItb3V0bGV0JyB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxJDMuQ2hpbGRyZW5PdXRsZXRDb250ZXh0cyB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogWyduYW1lJ11cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbJ2FjdGlvbkJhclZpc2liaWxpdHknXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsnaXNFbXB0eU91dGxldCddXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0eXBlOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0eXBlOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0eXBlOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbUEFHRV9GQUNUT1JZXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSwgeyB0eXBlOiBpMC5OZ1pvbmUgfSwgeyB0eXBlOiBpMSQzLlJvdXRlciB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBWaWV3VXRpbCB9LCB7IHR5cGU6IGkwLkVudmlyb25tZW50SW5qZWN0b3IgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGFjdGl2YXRlRXZlbnRzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2FjdGl2YXRlJ11cbiAgICAgICAgICAgIH1dLCBkZWFjdGl2YXRlRXZlbnRzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2RlYWN0aXZhdGUnXVxuICAgICAgICAgICAgfV0sIGFjdGl2YXRlV2l0aDogW10sIGxvYWRDb21wb25lbnRJblBhZ2U6IFtdIH0gfSk7XG5cbmNsYXNzIE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gZXh0ZW5kcyBQbGF0Zm9ybUxvY2F0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhdGlvblN0cmF0ZWd5KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneSA9IGxvY2F0aW9uU3RyYXRlZ3k7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLmNvbnN0cnVjdG9yKCknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0QmFzZUhyZWZGcm9tRE9NKCkge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBvblBvcFN0YXRlKGZuKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5vblBvcFN0YXRlKGZuKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9uSGFzaENoYW5nZShfZm4pIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBzZWFyY2goKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgZ2V0IGhhc2goKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgZ2V0IHBhdGhuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LnBhdGgoKTtcbiAgICB9XG4gICAgc2V0IHBhdGhuYW1lKF9uZXdQYXRoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiBzZXQgcGF0aG5hbWUgLSBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgcHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5wdXNoU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwsIG51bGwpO1xuICAgIH1cbiAgICByZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgbnVsbCk7XG4gICAgfVxuICAgIGZvcndhcmQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbi5mb3J3YXJkKCkgLSBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgYmFjaygpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmJhY2soKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLCBkZXBzOiBbeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV07IH0gfSk7XG5cbmNsYXNzIE5TRW1wdHlPdXRsZXRDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHBhZ2UpIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ2xvYWRlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYWdlUm91dGVyT3V0bGV0ICYmIHRoaXMucGFnZS5mcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VSb3V0ZXJPdXRsZXQuc2V0QWN0aW9uQmFyVmlzaWJpbGl0eSh0aGlzLnBhZ2UuZnJhbWUuYWN0aW9uQmFyVmlzaWJpbGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogaTEuUGFnZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IE5TRW1wdHlPdXRsZXRDb21wb25lbnQsIHNlbGVjdG9yOiBcIm5zLWVtcHR5LW91dGxldFwiLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcInBhZ2VSb3V0ZXJPdXRsZXRcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogUGFnZVJvdXRlck91dGxldCwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFBhZ2VSb3V0ZXJPdXRsZXQgfV0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IFwiPHBhZ2Utcm91dGVyLW91dGxldCBpc0VtcHR5T3V0bGV0PSd0cnVlJz48L3BhZ2Utcm91dGVyLW91dGxldD5cIiwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogUGFnZVJvdXRlck91dGxldCwgc2VsZWN0b3I6IFwicGFnZS1yb3V0ZXItb3V0bGV0XCIsIG91dHB1dHM6IFtcImFjdGl2YXRlXCIsIFwiZGVhY3RpdmF0ZVwiXSB9XSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRW1wdHlPdXRsZXRDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y29tcG9uZW50LXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnbnMtZW1wdHktb3V0bGV0JyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPHBhZ2Utcm91dGVyLW91dGxldCBpc0VtcHR5T3V0bGV0PSd0cnVlJz48L3BhZ2Utcm91dGVyLW91dGxldD5cIixcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxLlBhZ2UgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHBhZ2VSb3V0ZXJPdXRsZXQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogVmlld0NoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtQYWdlUm91dGVyT3V0bGV0LCB7IHJlYWQ6IFBhZ2VSb3V0ZXJPdXRsZXQsIHN0YXRpYzogZmFsc2UgfV1cbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmZ1bmN0aW9uIHByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5KGxvY2F0aW9uU3RyYXRlZ3ksIGZyYW1lU2VydmljZSwgc3RhcnRQYXRoKSB7XG4gICAgcmV0dXJuIGxvY2F0aW9uU3RyYXRlZ3kgPyBsb2NhdGlvblN0cmF0ZWd5IDogbmV3IE5TTG9jYXRpb25TdHJhdGVneShmcmFtZVNlcnZpY2UsIHN0YXJ0UGF0aCk7XG59XG5jbGFzcyBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUge1xuICAgIHN0YXRpYyBmb3JSb290KHJvdXRlcywgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZ01vZHVsZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgLi4uUm91dGVyTW9kdWxlLmZvclJvb3Qocm91dGVzLCBjb25maWcpLnByb3ZpZGVycyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IE5TTG9jYXRpb25TdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogcHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGRlcHM6IFtbTlNMb2NhdGlvblN0cmF0ZWd5LCBuZXcgT3B0aW9uYWwoKSwgbmV3IFNraXBTZWxmKCldLCBGcmFtZVNlcnZpY2UsIFtuZXcgT3B0aW9uYWwoKSwgU1RBUlRfUEFUSF1dLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBMb2NhdGlvblN0cmF0ZWd5LCB1c2VFeGlzdGluZzogTlNMb2NhdGlvblN0cmF0ZWd5IH0sXG4gICAgICAgICAgICAgICAgTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbixcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBsYXRmb3JtTG9jYXRpb24sIHVzZUV4aXN0aW5nOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIH0sXG4gICAgICAgICAgICAgICAgUm91dGVyRXh0ZW5zaW9ucyxcbiAgICAgICAgICAgICAgICBOU1JvdXRlUmV1c2VTdHJhdGVneSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFJvdXRlUmV1c2VTdHJhdGVneSwgdXNlRXhpc3Rpbmc6IE5TUm91dGVSZXVzZVN0cmF0ZWd5IH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZm9yQ2hpbGQocm91dGVzKSB7XG4gICAgICAgIHJldHVybiB7IG5nTW9kdWxlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIHByb3ZpZGVyczogUm91dGVyTW9kdWxlLmZvckNoaWxkKHJvdXRlcykucHJvdmlkZXJzIH07XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgZGVjbGFyYXRpb25zOiBbTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIFBhZ2VSb3V0ZXJPdXRsZXQsIE5TRW1wdHlPdXRsZXRDb21wb25lbnRdLCBpbXBvcnRzOiBbUm91dGVyTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLCBleHBvcnRzOiBbUm91dGVyTW9kdWxlLCBOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgUm91dGVyTW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIFBhZ2VSb3V0ZXJPdXRsZXQsIE5TRW1wdHlPdXRsZXRDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbUm91dGVyTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbUm91dGVyTW9kdWxlLCBOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYXM6IFtOT19FUlJPUlNfU0NIRU1BXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xubGV0IGN1cnJlbnRSYWZJZCA9IDE7XG5mdW5jdGlvbiBub29wKCkgeyB9XG4vKipcbiAqIEFuIGluamVjdGFibGUgc2VydmljZSBmb3IgZXhlY3V0aW5nIHdvcmsgaW5zaWRlIG9yIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIHRoaXMgc2VydmljZSBpcyB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZSB3aGVuIHN0YXJ0aW5nIGEgd29yayBjb25zaXN0aW5nIG9mXG4gKiBvbmUgb3IgbW9yZSBhc3luY2hyb25vdXMgdGFza3MgdGhhdCBkb24ndCByZXF1aXJlIFVJIHVwZGF0ZXMgb3IgZXJyb3IgaGFuZGxpbmcgdG8gYmUgaGFuZGxlZCBieVxuICogQW5ndWxhci4gU3VjaCB0YXNrcyBjYW4gYmUga2lja2VkIG9mZiB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYW5kIGlmIG5lZWRlZCwgdGhlc2UgdGFza3NcbiAqIGNhbiByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgdmlhIHtAbGluayAjcnVufS5cbiAqXG4gKiA8IS0tIFRPRE86IGFkZC9maXggbGlua3MgdG86XG4gKiAgIC0gZG9jcyBleHBsYWluaW5nIHpvbmVzIGFuZCB0aGUgdXNlIG9mIHpvbmVzIGluIEFuZ3VsYXIgYW5kIGNoYW5nZS1kZXRlY3Rpb25cbiAqICAgLSBsaW5rIHRvIHJ1bk91dHNpZGVBbmd1bGFyL3J1biAodGhyb3VnaG91dCB0aGlzIGZpbGUhKVxuICogICAtLT5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7Q29tcG9uZW50LCBOZ1pvbmV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtOZ0lmfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ25nLXpvbmUtZGVtbycsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGgyPkRlbW86IE5nWm9uZTwvaDI+XG4gKlxuICogICAgIDxwPlByb2dyZXNzOiB7e3Byb2dyZXNzfX0lPC9wPlxuICogICAgIDxwICpuZ0lmPVwicHJvZ3Jlc3MgPj0gMTAwXCI+RG9uZSBwcm9jZXNzaW5nIHt7bGFiZWx9fSBvZiBBbmd1bGFyIHpvbmUhPC9wPlxuICpcbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgd2l0aGluIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyBvdXRzaWRlIG9mIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICBgLFxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBOZ1pvbmVEZW1vIHtcbiAqICAgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gKiAgIGxhYmVsOiBzdHJpbmc7XG4gKlxuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9uZ1pvbmU6IE5nWm9uZSkge31cbiAqXG4gKiAgIC8vIExvb3AgaW5zaWRlIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnaW5zaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IGNvbnNvbGUubG9nKCdJbnNpZGUgRG9uZSEnKSk7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIExvb3Agb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIE5PVCByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdvdXRzaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICogICAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiB7XG4gKiAgICAgICAgIC8vIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZGlzcGxheSBkb25lXG4gKiAgICAgICAgIHRoaXMuX25nWm9uZS5ydW4oKCkgPT4geyBjb25zb2xlLmxvZygnT3V0c2lkZSBEb25lIScpOyB9KTtcbiAqICAgICAgIH0pO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICBfaW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAqICAgICB0aGlzLnByb2dyZXNzICs9IDE7XG4gKiAgICAgY29uc29sZS5sb2coYEN1cnJlbnQgcHJvZ3Jlc3M6ICR7dGhpcy5wcm9ncmVzc30lYCk7XG4gKlxuICogICAgIGlmICh0aGlzLnByb2dyZXNzIDwgMTAwKSB7XG4gKiAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjayksIDEwKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgZG9uZUNhbGxiYWNrKCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5hdGl2ZVNjcmlwdE5nWm9uZSB7XG4gICAgY29uc3RydWN0b3IoeyBlbmFibGVMb25nU3RhY2tUcmFjZSA9IGlzRGV2TW9kZSgpLCBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZSwgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIG1pY3JvdGFza3Mgb3IgbWFjcm90YXNrcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiBjb2RlIGVudGVycyBBbmd1bGFyIFpvbmUuIFRoaXMgZ2V0cyBmaXJlZCBmaXJzdCBvbiBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZXJlIGlzIG5vIG1vcmUgbWljcm90YXNrcyBlbnF1ZXVlZCBpbiB0aGUgY3VycmVudCBWTSBUdXJuLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGludCBmb3IgQW5ndWxhciB0byBkbyBjaGFuZ2UgZGV0ZWN0aW9uLCB3aGljaCBtYXkgZW5xdWV1ZSBtb3JlIG1pY3JvdGFza3MuXG4gICAgICAgICAqIEZvciB0aGlzIHJlYXNvbiB0aGlzIGV2ZW50IGNhbiBmaXJlIG11bHRpcGxlIHRpbWVzIHBlciBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbk1pY3JvdGFza0VtcHR5ID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZSBsYXN0IGBvbk1pY3JvdGFza0VtcHR5YCBoYXMgcnVuIGFuZCB0aGVyZSBhcmUgbm8gbW9yZSBtaWNyb3Rhc2tzLCB3aGljaFxuICAgICAgICAgKiBpbXBsaWVzIHdlIGFyZSBhYm91dCB0byByZWxpbnF1aXNoIFZNIHR1cm4uXG4gICAgICAgICAqIFRoaXMgZXZlbnQgZ2V0cyBjYWxsZWQganVzdCBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgdGhhdCBhbiBlcnJvciBoYXMgYmVlbiBkZWxpdmVyZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanNgKTtcbiAgICAgICAgfVxuICAgICAgICBab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLl9uZXN0aW5nID0gMDtcbiAgICAgICAgc2VsZi5fb3V0ZXIgPSBzZWxmLl9pbm5lciA9IFpvbmUuY3VycmVudDtcbiAgICAgICAgaWYgKFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhuZXcgWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5hYmxlTG9uZ1N0YWNrVHJhY2UgJiYgWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsoWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiBpcyB0cnVlLCBhbGwgdGFza3MgaW5jbHVkaW5nIGV2ZW50IHRhc2tzIHdpbGwgYmVcbiAgICAgICAgLy8gY29hbGVzY2VkLCBzbyBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIG9wdGlvbiBpcyBub3QgbmVjZXNzYXJ5IGFuZCBjYW4gYmUgc2tpcHBlZC5cbiAgICAgICAgc2VsZi5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uID0gIXNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uICYmIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSAtMTtcbiAgICAgICAgc2VsZi5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURpc3BhdGNoVG9NYWluVGhyZWFkID0gVXRpbHNbWm9uZS5fX3N5bWJvbF9fKCdkaXNwYXRjaFRvTWFpblRocmVhZCcpXSB8fCBVdGlscy5kaXNwYXRjaFRvTWFpblRocmVhZDtcbiAgICAgICAgICAgIG5hdGl2ZURpc3BhdGNoVG9NYWluVGhyZWFkKGNiKTtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UmFmSWQrKztcbiAgICAgICAgfTtcbiAgICAgICAgZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioc2VsZik7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIHJldHVybiBab25lLmN1cnJlbnQuZ2V0KCdpc0FuZ3VsYXJab25lJykgPT09IHRydWU7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoIU5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyBub3QhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGFzc2VydE5vdEluQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIGlmIChOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gbm90IGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgcnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYXMgYSB0YXNrIGFuZCByZXR1cm5zIHZhbHVlXG4gICAgICogcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1blRhc2soZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IHpvbmUgPSB0aGlzLl9pbm5lcjtcbiAgICAgICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soJ05nWm9uZUV2ZW50OiAnICsgbmFtZSwgZm4sIEVNUFRZX1BBWUxPQUQsIG5vb3AsIG5vb3ApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHpvbmUucnVuVGFzayh0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLmNhbmNlbFRhc2sodGFzayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBgcnVuYCwgZXhjZXB0IHRoYXQgc3luY2hyb25vdXMgZXJyb3JzIGFyZSBjYXVnaHQgYW5kIGZvcndhcmRlZCB2aWEgYG9uRXJyb3JgIGFuZCBub3RcbiAgICAgKiByZXRocm93bi5cbiAgICAgKi9cbiAgICBydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IGluIEFuZ3VsYXIncyBwYXJlbnQgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbGxvd3MgeW91IHRvIGVzY2FwZSBBbmd1bGFyJ3Mgem9uZSBhbmQgZG9cbiAgICAgKiB3b3JrIHRoYXRcbiAgICAgKiBkb2Vzbid0IHRyaWdnZXIgQW5ndWxhciBjaGFuZ2UtZGV0ZWN0aW9uIG9yIGlzIHN1YmplY3QgdG8gQW5ndWxhcidzIGVycm9yIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rICNydW59IHRvIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZG8gd29yayB0aGF0IHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIG1vZGVsLlxuICAgICAqL1xuICAgIHJ1bk91dHNpZGVBbmd1bGFyKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlci5ydW4oZm4pO1xuICAgIH1cbn1cbmNvbnN0IEVNUFRZX1BBWUxPQUQgPSB7fTtcbmZ1bmN0aW9uIGNoZWNrU3RhYmxlKHpvbmUpIHtcbiAgICAvLyBUT0RPOiBASmlhTGlQYXNzaW9uLCBzaG91bGQgY2hlY2sgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB0byBwcmV2ZW50XG4gICAgLy8gcmUtZW50cnkuIFRoZSBjYXNlIGlzOlxuICAgIC8vXG4gICAgLy8gQENvbXBvbmVudCh7Li4ufSlcbiAgICAvLyBleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAvLyBjb25zdHJ1Y3Rvcihwcml2YXRlIG5nWm9uZTogTmdab25lKSB7XG4gICAgLy8gICB0aGlzLm5nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgIC8vICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4gY29uc29sZS5sb2coJ3N0YWJsZScpOyk7XG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBUaGUgb25TdGFibGUgc3Vic2NyaWJlciBydW4gYW5vdGhlciBmdW5jdGlvbiBpbnNpZGUgbmdab25lXG4gICAgLy8gd2hpY2ggY2F1c2VzIGBjaGVja1N0YWJsZSgpYCByZS1lbnRyeS5cbiAgICAvLyBCdXQgdGhpcyBmaXggY2F1c2VzIHNvbWUgaXNzdWVzIGluIGczLCBzbyB0aGlzIGZpeCB3aWxsIGJlXG4gICAgLy8gbGF1bmNoZWQgaW4gYW5vdGhlciBQUi5cbiAgICBpZiAoem9uZS5fbmVzdGluZyA9PSAwICYmICF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzICYmICF6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgICAgICAgICB6b25lLm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICAgICAgICAgIGlmICghem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gem9uZS5vblN0YWJsZS5lbWl0KG51bGwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpIHtcbiAgICAvKipcbiAgICAgKiBXZSBhbHNvIG5lZWQgdG8gY2hlY2sgX25lc3RpbmcgaGVyZVxuICAgICAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgY2FzZSB3aXRoIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZVxuICAgICAqXG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICpcbiAgICAgKiBXZSB3YW50IHRoZSB0d28gYG5nWm9uZS5ydW4oKWAgb25seSB0cmlnZ2VyIG9uZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogd2hlbiBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiBpcyB0cnVlLlxuICAgICAqIEFuZCBiZWNhdXNlIGluIHRoaXMgY2FzZSwgY2hhbmdlIGRldGVjdGlvbiBydW4gaW4gYXN5bmMgd2F5KHJlcXVlc3RBbmltYXRpb25GcmFtZSksXG4gICAgICogc28gd2UgYWxzbyBuZWVkIHRvIGNoZWNrIHRoZSBfbmVzdGluZyBoZXJlIHRvIHByZXZlbnQgbXVsdGlwbGVcbiAgICAgKiBjaGFuZ2UgZGV0ZWN0aW9ucy5cbiAgICAgKi9cbiAgICBpZiAoem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB8fCB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IHpvbmUubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoZ2xvYmFsLCAoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSB3b3JrIGFyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzY4MzkuXG4gICAgICAgIC8vIFRoZSBjb3JlIGlzc3VlIGlzIHRoYXQgd2hlbiBldmVudCBjb2FsZXNjaW5nIGlzIGVuYWJsZWQgaXQgaXMgcG9zc2libGUgZm9yIG1pY3JvdGFza3NcbiAgICAgICAgLy8gdG8gZ2V0IGZsdXNoZWQgdG9vIGVhcmx5IChBcyBpcyB0aGUgY2FzZSB3aXRoIGBQcm9taXNlLnRoZW5gKSBiZXR3ZWVuIHRoZVxuICAgICAgICAvLyBjb2FsZXNjaW5nIGV2ZW50VGFza3MuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRvIHdvcmthcm91bmQgdGhpcyB3ZSBzY2hlZHVsZSBhIFwiZmFrZVwiIGV2ZW50VGFzayBiZWZvcmUgd2UgcHJvY2VzcyB0aGVcbiAgICAgICAgLy8gY29hbGVzY2luZyBldmVudFRhc2tzLiBUaGUgYmVuZWZpdCBvZiB0aGlzIGlzIHRoYXQgdGhlIFwiZmFrZVwiIGNvbnRhaW5lciBldmVudFRhc2tcbiAgICAgICAgLy8gIHdpbGwgcHJldmVudCB0aGUgbWljcm90YXNrcyBxdWV1ZSBmcm9tIGdldHRpbmcgZHJhaW5lZCBpbiBiZXR3ZWVuIHRoZSBjb2FsZXNjaW5nXG4gICAgICAgIC8vIGV2ZW50VGFzayBleGVjdXRpb24uXG4gICAgICAgIGlmICghem9uZS5mYWtlVG9wRXZlbnRUYXNrKSB7XG4gICAgICAgICAgICB6b25lLmZha2VUb3BFdmVudFRhc2sgPSBab25lLnJvb3Quc2NoZWR1bGVFdmVudFRhc2soJ2Zha2VUb3BFdmVudFRhc2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSAtMTtcbiAgICAgICAgICAgICAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG4gICAgICAgICAgICAgICAgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCAoKSA9PiB7IH0sICgpID0+IHsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgem9uZS5mYWtlVG9wRXZlbnRUYXNrLmludm9rZSgpO1xuICAgIH0pO1xuICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbn1cbmZ1bmN0aW9uIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHpvbmUpIHtcbiAgICBjb25zdCBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlID0gKCkgPT4ge1xuICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyh6b25lKTtcbiAgICB9O1xuICAgIHpvbmUuX2lubmVyID0gem9uZS5faW5uZXIuZm9yayh7XG4gICAgICAgIG5hbWU6ICdhbmd1bGFyJyxcbiAgICAgICAgcHJvcGVydGllczogeyBpc0FuZ3VsYXJab25lOiB0cnVlIH0sXG4gICAgICAgIG9uSW52b2tlVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZVRhc2sodGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoKHpvbmUuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiAmJiB0YXNrLnR5cGUgPT09ICdldmVudFRhc2snKSB8fCB6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIHx8ICFVdGlscy5pc01haW5UaHJlYWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSW52b2tlOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25FbnRlcih6b25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlKHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gfHwgIVV0aWxzLmlzTWFpblRocmVhZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25IYXNUYXNrOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgaGFzVGFza1N0YXRlKSA9PiB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5oYXNUYXNrKHRhcmdldCwgaGFzVGFza1N0YXRlKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGhhc1Rhc2sgZXZlbnRzIHdoaWNoIG9yaWdpbmF0ZSBmcm9tIG91ciB6b25lXG4gICAgICAgICAgICAgICAgLy8gKEEgY2hpbGQgaGFzVGFzayBldmVudCBpcyBub3QgaW50ZXJlc3RpbmcgdG8gdXMpXG4gICAgICAgICAgICAgICAgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21pY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5faGFzUGVuZGluZ01pY3JvdGFza3MgPSBoYXNUYXNrU3RhdGUubWljcm9UYXNrO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtYWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBoYXNUYXNrU3RhdGUubWFjcm9UYXNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25IYW5kbGVFcnJvcjogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5oYW5kbGVFcnJvcih0YXJnZXQsIGVycm9yKTtcbiAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gem9uZS5vbkVycm9yLmVtaXQoZXJyb3IpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKSB7XG4gICAgaWYgKHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzIHx8IHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkICE9PSAtMSkge1xuICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkVudGVyKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgaWYgKHpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgem9uZS5pc1N0YWJsZSA9IGZhbHNlO1xuICAgICAgICB6b25lLm9uVW5zdGFibGUuZW1pdChudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkxlYXZlKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgY2hlY2tTdGFibGUoem9uZSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0IHsgQVBQX1JPT1RfVklFVywgQWN0aW9uQmFyQ29tcG9uZW50LCBBY3Rpb25CYXJTY29wZSwgQWN0aW9uSXRlbURpcmVjdGl2ZSwgQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgQXBwSG9zdEFzeW5jVmlldywgQXBwSG9zdFZpZXcsIEJhc2VQb3J0YWxPdXRsZXQsIEJhc2VWYWx1ZUFjY2Vzc29yLCBDT01NT05fUFJPVklERVJTLCBDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldCwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIENvbW1lbnROb2RlLCBDb21wb25lbnRQb3J0YWwsIERFVklDRSwgRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIERhdGVWYWx1ZUFjY2Vzc29yLCBEZXRhY2hlZExvYWRlciwgRG9tUG9ydGFsLCBFTkFCTEVfUkVVU0FCRV9WSUVXUywgRW11bGF0ZWRSZW5kZXJlciwgRnJhbWVEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudCwgRnJhbWVQYWdlTW9kdWxlLCBGcmFtZVNlcnZpY2UsIElPU0ZpbHRlckNvbXBvbmVudCwgSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSwgSW52aXNpYmxlTm9kZSwgSXRlbUNvbnRleHQsIExpc3RWaWV3Q29tcG9uZW50LCBNb2RhbERpYWxvZ1BhcmFtcywgTW9kYWxEaWFsb2dTZXJ2aWNlLCBOQU1FU1BBQ0VfRklMVEVSUywgTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMsIE5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lELCBOQVRJVkVfRElBTE9HX0RBVEEsIE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TLCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBOU0ZpbGVTeXN0ZW0sIE5TTG9jYXRpb25TdHJhdGVneSwgTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgTmF0aXZlRGlhbG9nQ29uZmlnLCBOYXRpdmVEaWFsb2dNb2R1bGUsIE5hdGl2ZURpYWxvZ1JlZiwgTmF0aXZlRGlhbG9nU2VydmljZSwgTmF0aXZlTW9kYWxSZWYsIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlciwgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLCBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIE5hdGl2ZVNjcmlwdERvY3VtZW50LCBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQsIE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgTmF0aXZlU2NyaXB0TW9kdWxlLCBOYXRpdmVTY3JpcHROZ1NhZmVFdmVudCwgTmF0aXZlU2NyaXB0Tmdab25lLCBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnksIE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0U2FuaXRpemVyLCBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5LCBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBOZ1ZpZXdSZWYsIE5zSHR0cEJhY2tFbmQsIE5zVGVtcGxhdGVkSXRlbSwgTnVtYmVyVmFsdWVBY2Nlc3NvciwgT3V0bGV0LCBQQUdFX0ZBQ1RPUlksIFBhZ2VEaXJlY3RpdmUsIFBhZ2VSb3V0ZSwgUGFnZVJvdXRlck91dGxldCwgUGFnZVNlcnZpY2UsIFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyLCBQb3J0YWwsIFBvcnRhbE1vZHVsZSwgUm9vdENvbXBvc2l0ZU1vZHVsZSwgUm9vdFZpZXdQcm94eSwgUm91dGVyRXh0ZW5zaW9ucywgU1RBUlRfUEFUSCwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQsIFRhYlZpZXdEaXJlY3RpdmUsIFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGVtcGxhdGVQb3J0YWwsIFRleHROb2RlLCBUZXh0VmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50LCBfTmF0aXZlRGlhbG9nQmFzZSwgYm9vdHN0cmFwQXBwbGljYXRpb24sIGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uLCBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3RvcnksIGN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSwgY3VzdG9tUGFnZUZhY3RvcnksIGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lLCBkYXNoQ2FzZVRvQ2FtZWxDYXNlLCBkZWZhdWx0TmF2T3B0aW9ucywgZGVmYXVsdFBhZ2VGYWN0b3J5LCBkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciwgZGV0YWNoVmlld0Zyb21QYXJlbnQsIGRpc2FibGVSb290Vmlld0hhbmRpbmcsIGVycm9ySGFuZGxlciwgZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUsIGZyYW1lTWV0YSwgZ2VuZXJhdGVEZXRhY2hlZExvYWRlciwgZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3LCBnZW5lcmF0ZU5hdGl2ZVNjcmlwdFZpZXcsIGdlbmVyYXRlUmFuZG9tSWQsIGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5LCBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3LCBnZXRJdGVtVmlld1Jvb3QsIGdldFNpbmdsZVZpZXdSZWN1cnNpdmUsIGdldFZpZXdDbGFzcywgZ2V0Vmlld01ldGEsIGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplciwgaW5zdGFudGlhdGVSZW5kZXJlckZhY3RvcnksIGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyLCBpc0JsYW5rLCBpc0NvbnRlbnRWaWV3LCBpc0RldGFjaGVkRWxlbWVudCwgaXNJbnZpc2libGVOb2RlLCBpc0pzT2JqZWN0LCBpc0tub3duVmlldywgaXNMYXlvdXQsIGlzTGlzdExpa2VJdGVyYWJsZSwgaXNQcmVzZW50LCBpc1ZpZXcsIG9uQWZ0ZXJMaXZlc3luYywgb25CZWZvcmVMaXZlc3luYywgb25jZSwgcGxhdGZvcm1OYXRpdmVTY3JpcHQsIHBsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYywgcG9zdEFuZ3VsYXJCb290c3RyYXAkLCBwcmVBbmd1bGFyRGlzcG9zYWwkLCBwcm92aWRlTG9jYXRpb25TdHJhdGVneSwgcmVnaXN0ZXJFbGVtZW50LCByZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzLCBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwLCB0aHJvd0lmQWxyZWFkeUxvYWRlZCwgdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IsIHRocm93TnVsbFBvcnRhbEVycm9yLCB0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvciwgdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvciwgdGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvciwgdGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yLCBDT01QT05FTlRfVkFSSUFCTEUgYXMgybVDT01QT05FTlRfVkFSSUFCTEUsIENPTlRFTlRfQVRUUiBhcyDJtUNPTlRFTlRfQVRUUiwgSE9TVF9BVFRSIGFzIMm1SE9TVF9BVFRSLCBOYXRpdmVTY3JpcHREZWJ1ZyBhcyDJtU5hdGl2ZVNjcmlwdEFuZ3VsYXJEZWJ1Zywgdmlld1V0aWwgYXMgybVWaWV3VXRpbCwgYWN0aW9uQmFyTWV0YSBhcyDJtWFjdGlvbkJhck1ldGEsIGVsZW1lbnRNYXAgYXMgybVlbGVtZW50TWFwLCBpc0FjdGlvbkl0ZW0gYXMgybVpc0FjdGlvbkl0ZW0sIGlzTmF2aWdhdGlvbkJ1dHRvbiBhcyDJtWlzTmF2aWdhdGlvbkJ1dHRvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlc2NyaXB0LWFuZ3VsYXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbImkxIiwiVmlldyIsIkxheW91dEJhc2UiLCJDb250ZW50VmlldyIsIlByb3h5Vmlld0NvbnRhaW5lciIsIlBhZ2UiLCJwbGF0Zm9ybU5hbWVzIiwiR3JpZExheW91dCIsIkFwcGxpY2F0aW9uIiwiVHJhY2UiLCJGb3JtYXR0ZWRTdHJpbmciLCJTcGFuIiwiQWJzb2x1dGVMYXlvdXQiLCJBY3Rpdml0eUluZGljYXRvciIsIkJ1dHRvbiIsIkRhdGVQaWNrZXIiLCJEb2NrTGF5b3V0IiwiRnJhbWUiLCJIdG1sVmlldyIsIkltYWdlIiwiTGFiZWwiLCJMaXN0UGlja2VyIiwiTGlzdFZpZXciLCJQbGFjZWhvbGRlciIsIlByb2dyZXNzIiwiUmVwZWF0ZXIiLCJSb290TGF5b3V0IiwiU2Nyb2xsVmlldyIsIlNlYXJjaEJhciIsIlNlZ21lbnRlZEJhciIsIlNlZ21lbnRlZEJhckl0ZW0iLCJTbGlkZXIiLCJTdGFja0xheW91dCIsIkZsZXhib3hMYXlvdXQiLCJTd2l0Y2giLCJUYWJWaWV3IiwiVGV4dEZpZWxkIiwiVGV4dFZpZXciLCJUaW1lUGlja2VyIiwiV2ViVmlldyIsIldyYXBMYXlvdXQiLCJ1bnNldFZhbHVlIiwicHJvZmlsZSIsImFkZFRhZ2dlZEFkZGl0aW9uYWxDU1MiLCJnZXRWaWV3QnlJZCIsIk9ic2VydmFibGUiLCJBY3Rpb25JdGVtIiwiTmF2aWdhdGlvbkJ1dHRvbiIsIkFjdGlvbkJhciIsIk9ic2VydmFibGVBcnJheSIsIlRhYlZpZXdJdGVtIiwiQ29sb3IiLCJEZXZpY2UiLCJVdGlscyIsInJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1MiLCJrbm93bkZvbGRlcnMiLCJGaWxlIiwiS2V5ZnJhbWVBbmltYXRpb24iLCJhbmltYXRpb25UaW1pbmdGdW5jdGlvbkNvbnZlcnRlciIsInBhcnNlS2V5ZnJhbWVEZWNsYXJhdGlvbnMiLCJDU1NIZWxwZXIiLCJDc3NBbmltYXRpb25Qcm9wZXJ0eSIsImVhY2hEZXNjZW5kYW50IiwicGF0aCIsImkwIiwiSW5qZWN0aW9uVG9rZW4iLCJJbmplY3QiLCJDb21wb25lbnRSZWYiLCJJbmplY3RhYmxlIiwiVmlld0VuY2Fwc3VsYXRpb24iLCJPcHRpb25hbCIsIkVsZW1lbnRSZWYiLCJEaXJlY3RpdmUiLCJFdmVudEVtaXR0ZXIiLCJPdXRwdXQiLCJOZ01vZHVsZSIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIkFwcGxpY2F0aW9uUmVmIiwiSW5qZWN0b3IiLCJWaWV3Q29udGFpbmVyUmVmIiwiQ29tcG9uZW50IiwiVmlld0NoaWxkIiwiSW5wdXQiLCJpbmplY3QiLCJJdGVyYWJsZURpZmZlcnMiLCJDaGFuZ2VEZXRlY3RvclJlZiIsImZvcndhcmRSZWYiLCJUZW1wbGF0ZVJlZiIsIkNoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiQ29udGVudENoaWxkIiwiSG9zdExpc3RlbmVyIiwiSG9zdCIsIk5PX0VSUk9SU19TQ0hFTUEiLCJFcnJvckhhbmRsZXIiLCJTa2lwU2VsZiIsIsm1SU5KRUNUT1JfU0NPUEUiLCJSZW5kZXJlckZhY3RvcnkyIiwiQXBwbGljYXRpb25Nb2R1bGUiLCJQbGF0Zm9ybVJlZiIsIk5nTW9kdWxlUmVmIiwiybVpbnRlcm5hbENyZWF0ZUFwcGxpY2F0aW9uIiwiTmdab25lIiwiU2FuaXRpemVyIiwiY3JlYXRlUGxhdGZvcm1GYWN0b3J5IiwicGxhdGZvcm1Db3JlIiwiQ29udGVudENoaWxkcmVuIiwiSW5qZWN0RmxhZ3MiLCJBdHRyaWJ1dGUiLCJpc0Rldk1vZGUiLCJfX2RlY29yYXRlIiwiX19wYXJhbSIsIl9fbWV0YWRhdGEiLCJpMSQxIiwiWGhyRmFjdG9yeSIsIkxvY2F0aW9uU3RyYXRlZ3kiLCJDb21tb25Nb2R1bGUiLCJWaWV3cG9ydFNjcm9sbGVyIiwiybVOdWxsVmlld3BvcnRTY3JvbGxlciIsIkRPQ1VNRU5UIiwiUGxhdGZvcm1Mb2NhdGlvbiIsImZpbHRlciIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwibWFwIiwidGFrZSIsInN0YXJ0V2l0aCIsIkJlaGF2aW9yU3ViamVjdCIsIlN1YmplY3QiLCJmcm9tRXZlbnQiLCJkZWZlciIsIk9ic2VydmFibGUkMSIsImkxJDMiLCJEZWZhdWx0VXJsU2VyaWFsaXplciIsIlBSSU1BUllfT1VUTEVUIiwiTmF2aWdhdGlvbkVuZCIsIkFjdGl2YXRlZFJvdXRlIiwiQ2hpbGRyZW5PdXRsZXRDb250ZXh0cyIsIlJvdXRlck1vZHVsZSIsIlJvdXRlUmV1c2VTdHJhdGVneSIsIk5HX1ZBTFVFX0FDQ0VTU09SIiwiRm9ybXNNb2R1bGUiLCJBbmltYXRpb25CdWlsZGVyIiwiaTEkMiIsIsm1QW5pbWF0aW9uRW5naW5lIiwiybVXZWJBbmltYXRpb25zU3R5bGVOb3JtYWxpemVyIiwiQW5pbWF0aW9uRHJpdmVyIiwiybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIiLCLJtUFuaW1hdGlvblJlbmRlcmVyRmFjdG9yeSIsIsm1QnJvd3NlckFuaW1hdGlvbkJ1aWxkZXIiLCJIdHRwWGhyQmFja2VuZCIsIkh0dHBSZXNwb25zZSIsIkh0dHBFcnJvclJlc3BvbnNlIiwiSHR0cENsaWVudE1vZHVsZSIsIkh0dHBCYWNrZW5kIiwiX2MwIiwiX2MxIiwiX2MyIiwiQW5kcm9pZEZpbHRlckNvbXBvbmVudF9uZ19jb250ZW50XzBfVGVtcGxhdGUiLCJyZiIsImN0eCIsIsm1ybVwcm9qZWN0aW9uIiwiSU9TRmlsdGVyQ29tcG9uZW50X25nX2NvbnRlbnRfMF9UZW1wbGF0ZSIsIlZpc2lvbk9TRmlsdGVyQ29tcG9uZW50X25nX2NvbnRlbnRfMF9UZW1wbGF0ZSIsImdldENsYXNzTmFtZSIsImluc3RhbmNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiSW52aXNpYmxlTm9kZSIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJ0b1N0cmluZyIsImlkIiwiQ29tbWVudE5vZGUiLCJ2YWx1ZSIsIm1ldGEiLCJza2lwQWRkVG9Eb20iLCJUZXh0Tm9kZSIsInRleHRDaGFuZ2VFdmVudCIsInRleHQiLCJfdGV4dCIsInQiLCJub3RpZnkiLCJldmVudE5hbWUiLCJvYmplY3QiLCJjYWxsYmFja01hcCIsIk1hcCIsInJlZ2lzdGVyVGV4dENoYW5nZSIsImNhbGxiYWNrIiwiY2IiLCJldnQiLCJjYkFyciIsImdldCIsInB1c2giLCJzZXQiLCJvbiIsInVucmVnaXN0ZXJUZXh0Q2hhbmdlIiwiZm9yRWFjaCIsIm9mZiIsImRlbGV0ZSIsImlzRGV0YWNoZWRFbGVtZW50IiwiZWxlbWVudCIsImlzVmlldyIsInZpZXciLCJpc0ludmlzaWJsZU5vZGUiLCJpc0xheW91dCIsImlzQ29udGVudFZpZXciLCJnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3IiwiZXh0cmFjdEZyb21OU1BhcmVudCIsImdldENoaWxkcmVuQ291bnQiLCJnZXRDaGlsZEF0Iiwibm9kZSIsInBhcmVudE5vZGUiLCJkZXRhY2hWaWV3RnJvbVBhcmVudCIsInBhcmVudCIsInJlbW92ZUNoaWxkIiwiY29udGVudCIsIl9yZW1vdmVWaWV3IiwiQVBQX1JPT1RfVklFVyIsIk5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCIsIlNUQVJUX1BBVEgiLCJFTkFCTEVfUkVVU0FCRV9WSUVXUyIsIkRJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HIiwiREVWSUNFIiwiUEFHRV9GQUNUT1JZIiwiZGVmYXVsdFBhZ2VGYWN0b3J5IiwiX29wdHMiLCJQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciIsImRldmljZSIsInJ1bnNJbiIsIm5hbWVzcGFjZSIsIm5leHQiLCJvcyIsImFuZHJvaWQiLCJpb3MiLCJPYmplY3QiLCJOQU1FU1BBQ0VfRklMVEVSUyIsIk5nVmlld1JlZiIsInJlZiIsImxvY2F0aW9uIiwibmF0aXZlRWxlbWVudCIsInJvb3ROb2RlcyIsImZpbmQiLCJ2IiwiZmlyc3ROYXRpdmVMaWtlVmlldyIsImRldGFjaE5hdGl2ZUxpa2VWaWV3IiwiQXBwSG9zdFZpZXciLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aW1lb3V0IiwibmdBcHBSb290IiwiX25nQXBwUm9vdCIsIl9jb250ZW50IiwidW5kZWZpbmVkIiwiZ3JpZCIsImFkZENoaWxkIiwic2NoZWR1bGVSb290Q2hhbmdlIiwic2V0VGltZW91dCIsInJlc2V0Um9vdFZpZXciLCJjcmVhdGUiLCJBcHBIb3N0QXN5bmNWaWV3IiwiTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UiLCJtYWluTW9kdWxlUmVhZHkkIiwicmVhZHlUb0Rlc3Ryb3kkIiwib25NYWluTW9kdWxlUmVhZHkkIiwicGlwZSIsInJlYWR5Iiwid2FpdFVudGlsTm90aWZpZWQiLCJub3RpZnlSZWFkeVRvRGVzdHJveSIsImlzTWFpbk1vZHVsZVJlYWR5IiwibmdPbkRlc3Ryb3kiLCJjb21wbGV0ZSIsIl9ub3RpZnlNYWluTW9kdWxlUmVhZHkiLCLJtWZhYyIsIk5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlX0ZhY3RvcnkiLCLJtXByb3YiLCLJtcm1ZGVmaW5lSW5qZWN0YWJsZSIsInRva2VuIiwiZmFjdG9yeSIsInByb3ZpZGVkSW4iLCJuZ0Rldk1vZGUiLCLJtXNldENsYXNzTWV0YWRhdGEiLCJ0eXBlIiwiYXJncyIsIk5hdGl2ZVNjcmlwdERlYnVnIiwiYW5pbWF0aW9uc1RyYWNlQ2F0ZWdvcnkiLCJyZW5kZXJlclRyYWNlQ2F0ZWdvcnkiLCJ2aWV3VXRpbENhdGVnb3J5Iiwicm91dGVyVHJhY2VDYXRlZ29yeSIsInJvdXRlUmV1c2VTdHJhdGVneVRyYWNlQ2F0ZWdvcnkiLCJsaXN0Vmlld1RyYWNlQ2F0ZWdvcnkiLCJib290c3RyYXBDYXRlZ29yeSIsImVuYWJsZWQiLCJpc0VuYWJsZWQiLCJpc0xvZ0VuYWJsZWQiLCJhbmltYXRpb25zTG9nIiwibWVzc2FnZSIsIndyaXRlIiwicmVuZGVyZXJMb2ciLCJtc2ciLCJyZW5kZXJlckVycm9yIiwibWVzc2FnZVR5cGUiLCJlcnJvciIsInZpZXdVdGlsTG9nIiwicm91dGVyTG9nIiwicm91dGVyRXJyb3IiLCJyb3V0ZVJldXNlU3RyYXRlZ3lMb2ciLCJzdHlsZUVycm9yIiwiY2F0ZWdvcmllcyIsIlN0eWxlIiwibGlzdFZpZXdMb2ciLCJsaXN0Vmlld0Vycm9yIiwiYm9vdHN0cmFwTG9nIiwiYm9vdHN0cmFwTG9nRXJyb3IiLCJOYXRpdmVzY3JpcHRYaHJGYWN0b3J5IiwiYnVpbGQiLCJYTUxIdHRwUmVxdWVzdCIsIsm1TmF0aXZlc2NyaXB0WGhyRmFjdG9yeV9CYXNlRmFjdG9yeSIsIk5hdGl2ZXNjcmlwdFhockZhY3RvcnlfRmFjdG9yeSIsIsm1ybVnZXRJbmhlcml0ZWRGYWN0b3J5IiwiZnJhbWVNZXRhIiwiaW5zZXJ0Q2hpbGQiLCJjaGlsZCIsIm5hdmlnYXRlIiwiRXJyb3IiLCJmb3JtYXR0ZWRTdHJpbmdNZXRhIiwiaW5kZXgiLCJzcGFucyIsImluZGV4T2YiLCJzcGxpY2UiLCJ0ZXh0QmFzZU1ldGEiLCJmb3JtYXR0ZWRUZXh0IiwiZWxlbWVudE1hcCIsImNhbWVsQ2FzZVNwbGl0IiwiZGVmYXVsdFZpZXdNZXRhIiwicmVnaXN0ZXJFbGVtZW50IiwiZWxlbWVudE5hbWUiLCJyZXNvbHZlciIsImVudHJ5IiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZ2V0Vmlld0NsYXNzIiwiVHlwZUVycm9yIiwiZSIsImdldFZpZXdNZXRhIiwiaXNLbm93blZpZXciLCJoYXMiLCJleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZSIsIm5vZGVzIiwibmVzdExldmVsIiwiYWN0dWFsTm9kZXMiLCJsZW5ndGgiLCJyb290TGF5b3V0IiwiY2hpbGRyZW4iLCJwYXJlbnRMYXlvdXQiLCJnZXRTaW5nbGVWaWV3UmVjdXJzaXZlIiwicmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cyIsImdsb2JhbCIsIl9fbmdSZWdpc3RlcmVkVmlld3MiLCJpc0Nzc1ZhcmlhYmxlIiwicHJvcGVydHkiLCJ0ZXN0IiwiRUxFTUVOVF9OT0RFX1RZUEUiLCJYTUxfQVRUUklCVVRFUyIsImZyZWV6ZSIsIndoaXRlU3BhY2VTcGxpdHRlciIsInByaW50TmdUcmVlIiwiZmlyc3RDaGlsZCIsInByaW50Q2hpbGRyZW5SZWN1cnNlIiwiZ2V0Q2hpbGRyZW5TaWJsaW5ncyIsIm5leHRTaWJsaW5ncyIsImNvbnNvbGUiLCJsb2ciLCJsYXN0Q2hpbGQiLCJjIiwicHJldmlvdXNTaWJsaW5ncyIsInNpYmxpbmciLCJuZXh0U2libGluZyIsInByZXZpb3VzU2libGluZyIsInByaW50U2libGluZ3NUcmVlIiwicHJvcGVydHlNYXBzIiwiVmlld1V0aWwiLCJuYW1lc3BhY2VGaWx0ZXJzIiwicmV1c2VWaWV3cyIsInByZXZpb3VzIiwiZXh0ZW5kZWRQYXJlbnQiLCJlbnN1cmVOZ1ZpZXdFeHRlbnNpb25zIiwiZXh0ZW5kZWRDaGlsZCIsImluc2VydEluTGlzdCIsIm5leHRWaXN1YWwiLCJmaW5kTmV4dFZpc3VhbCIsImFkZFRvVmlzdWFsVHJlZSIsImFkZEludmlzaWJsZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJyZWZDaGlsZCIsImV4dGVuZGVkUmVmIiwiaW5zZXJ0QWZ0ZXIiLCJhcHBlbmRDaGlsZCIsImluc2VydFRvTGF5b3V0IiwiX2FkZENoaWxkRnJvbUJ1aWxkZXIiLCJpbnNlcnRJbnZpc2libGVOb2RlIiwicmVtb3ZlTGF5b3V0Q2hpbGQiLCJnZXRDaGlsZEluZGV4IiwicmVtb3ZlRnJvbUxpc3QiLCJyZW1vdmVGcm9tVmlzdWFsVHJlZSIsInJlbW92ZUludmlzaWJsZU5vZGUiLCJmaW5kUHJldmlvdXNFbGVtZW50IiwicHJldmlvdXNWaXN1YWwiLCJnZXRQcmV2aW91c1Zpc3VhbEVsZW1lbnQiLCJlbGVtZW50SW5kZXgiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlVGV4dCIsImNyZWF0ZVZpZXciLCJvcmlnaW5hbE5hbWUiLCJ2aWV3Q2xhc3MiLCJuZ1ZpZXciLCJzZXROZ1ZpZXdFeHRlbnNpb25zIiwicmV1c2FibGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjc3NUeXBlIiwidHlwZU5hbWUiLCJzZXRQcm9wZXJ0eSIsImF0dHJpYnV0ZU5hbWUiLCJwcm9wZXJ0aWVzIiwic3BsaXQiLCJwcm9wTWFwIiwiZ2V0UHJvcGVydGllcyIsImkiLCJwcm9wIiwic2V0UHJvcGVydHlJbnRlcm5hbCIsInBsYXRmb3JtIiwicnVucyIsImxhc3QiLCJjaGFpbiIsInAiLCJjdXJyZW50Q2hhaW4iLCJzZXRDbGFzc2VzIiwicHJvcGVydHlOYW1lIiwiQXJyYXkiLCJpc0FycmF5IiwicmVtb3ZlUGFyZW50UmVmZXJlbmNlc0Zyb21JdGVtcyIsIml0ZW1zIiwiaXRlbSIsInByb3BOYW1lIiwiY3NzQ2xhc3NlcyIsIm5nQ3NzQ2xhc3NlcyIsImFkZENsYXNzIiwiY2xhc3NOYW1lIiwiZXh0ZW5kZWRWaWV3Iiwic3luY0NsYXNzZXMiLCJyZW1vdmVDbGFzcyIsImNsYXNzZXNWYWx1ZSIsImNsYXNzZXMiLCJjbGVhciIsImNsYXNzVmFsdWUiLCJmcm9tIiwia2V5cyIsImpvaW4iLCJzZXRTdHlsZSIsInN0eWxlTmFtZSIsInN0eWxlIiwic2V0VW5zY29wZWRDc3NWYXJpYWJsZSIsIl9vbkNzc1N0YXRlQ2hhbmdlIiwicmVtb3ZlU3R5bGUiLCJ1bnNjb3BlZENzc1ZhcmlhYmxlcyIsInZpZXdVdGlsIiwiX19wcm90b19fIiwiYWRkU3R5bGVUb0NzcyIsInRhZyIsImFkZENzcyIsInJ1bkluUm9vdFpvbmUiLCJmbiIsIlpvbmUiLCJyb290IiwicnVuIiwiaW5Sb290Wm9uZSIsInRhcmdldCIsImtleSIsImRlc2NyaXB0b3IiLCJjaGlsZEZ1bmN0aW9uIiwiYmluZCIsIk5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSIsInJvb3RWaWV3Iiwicm9vdE1vZHVsZUlEIiwiY29tcG9uZW50UmVuZGVyZXJzIiwiZGVmYXVsdFJlbmRlcmVyIiwiTmF0aXZlU2NyaXB0UmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsImhvc3RFbGVtZW50IiwiZW5jYXBzdWxhdGlvbiIsInJlbmRlcmVyIiwiRW11bGF0ZWRSZW5kZXJlciIsImFwcGx5VG9Ib3N0IiwiTm9uZSIsInN0eWxlcyIsInMiLCJ3aGVuUmVuZGVyaW5nRG9uZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW50ZXJ2YWwiLCJzY2hlZHVsZVJlc29sdmUiLCJmaXJlV2hlbkxvYWRlZCIsInJvb3RGYWN0b3J5IiwiaXNMb2FkZWQiLCJvbmNlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZGVzdHJveU5vZGUiLCJkYXRhIiwiZGVzdHJveSIsImNyZWF0ZUVsZW1lbnQiLCJvbGROYW1lIiwiY3VzdG9tQ1NTTmFtZSIsIm5ld0NoaWxkIiwib2xkQ2hpbGQiLCJpc0hvc3RFbGVtZW50Iiwic2VsZWN0Um9vdEVsZW1lbnQiLCJzZWxlY3Rvck9yTm9kZSIsInByZXNlcnZlQ29udGVudCIsInJlc3VsdCIsInNsaWNlIiwic2V0QXR0cmlidXRlIiwiZWwiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmbGFncyIsInNldFZhbHVlIiwibGlzdGVuIiwibG9hZGVkRXZlbnQiLCJvYnMiLCJGdW5jdGlvbiIsIlN0cmluZyIsInByb3RvdHlwZSIsIkJvb2xlYW4iLCJOdW1iZXIiLCJDT01QT05FTlRfUkVHRVgiLCJBVFRSX1NBTklUSVpFUiIsIkNPTVBPTkVOVF9WQVJJQUJMRSIsIkhPU1RfQVRUUiIsIkNPTlRFTlRfQVRUUiIsInJlcGxhY2VOZ0F0dHJpYnV0ZSIsImlucHV0IiwiY29tcG9uZW50SWQiLCJhZGRTY29wZWRTdHlsZVRvQ3NzIiwiY29tcG9uZW50Iiwicm9vdE1vZHVsZUlkIiwiY29udGVudEF0dHIiLCJob3N0QXR0ciIsImFkZFN0eWxlcyIsIkVtdWxhdGVkUmVuZGVyZXJfRmFjdG9yeSIsIsm1ybVpbnZhbGlkRmFjdG9yeSIsInRocm93TnVsbFBvcnRhbEVycm9yIiwidGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvciIsInRocm93UG9ydGFsT3V0bGV0QWxyZWFkeURpc3Bvc2VkRXJyb3IiLCJ0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IiLCJ0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvciIsInRocm93Tm9Qb3J0YWxBdHRhY2hlZEVycm9yIiwiUG9ydGFsIiwiYXR0YWNoIiwiaG9zdCIsImhhc0F0dGFjaGVkIiwiX2F0dGFjaGVkSG9zdCIsImRldGFjaCIsImlzQXR0YWNoZWQiLCJzZXRBdHRhY2hlZEhvc3QiLCJDb21wb25lbnRQb3J0YWwiLCJ2aWV3Q29udGFpbmVyUmVmIiwiaW5qZWN0b3IiLCJjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJUZW1wbGF0ZVBvcnRhbCIsInRlbXBsYXRlIiwiY29udGV4dCIsInRlbXBsYXRlUmVmIiwib3JpZ2luIiwiZWxlbWVudFJlZiIsIkRvbVBvcnRhbCIsIkJhc2VQb3J0YWxPdXRsZXQiLCJfaXNEaXNwb3NlZCIsImF0dGFjaERvbVBvcnRhbCIsIl9hdHRhY2hlZFBvcnRhbCIsInBvcnRhbCIsImF0dGFjaENvbXBvbmVudFBvcnRhbCIsImF0dGFjaFRlbXBsYXRlUG9ydGFsIiwiX2ludm9rZURpc3Bvc2VGbiIsImRpc3Bvc2UiLCJzZXREaXNwb3NlRm4iLCJfZGlzcG9zZUZuIiwiQ2RrUG9ydGFsIiwiQ2RrUG9ydGFsX0ZhY3RvcnkiLCLJtcm1ZGlyZWN0aXZlSW5qZWN0IiwiybVkaXIiLCLJtcm1ZGVmaW5lRGlyZWN0aXZlIiwic2VsZWN0b3JzIiwiZXhwb3J0QXMiLCJmZWF0dXJlcyIsIsm1ybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUiLCJzZWxlY3RvciIsIkNka1BvcnRhbE91dGxldCIsIl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJfdmlld0NvbnRhaW5lclJlZiIsIl9pc0luaXRpYWxpemVkIiwiYXR0YWNoZWQiLCJhbmNob3JOb2RlIiwiX2dldFJvb3ROb2RlIiwiYXR0YWNoZWRSZWYiLCJfYXR0YWNoZWRSZWYiLCJuZ09uSW5pdCIsImNvbXBvbmVudEZhY3RvcnkiLCJyZXNvbHZlQ29tcG9uZW50RmFjdG9yeSIsImNyZWF0ZUNvbXBvbmVudCIsImhvc3RWaWV3IiwiZW1pdCIsInZpZXdSZWYiLCJjcmVhdGVFbWJlZGRlZFZpZXciLCJDZGtQb3J0YWxPdXRsZXRfRmFjdG9yeSIsIlJlbmRlcmVyMiIsImlucHV0cyIsIm91dHB1dHMiLCJQb3J0YWxNb2R1bGUiLCJQb3J0YWxNb2R1bGVfRmFjdG9yeSIsIsm1bW9kIiwiybXJtWRlZmluZU5nTW9kdWxlIiwiybVpbmoiLCLJtcm1ZGVmaW5lSW5qZWN0b3IiLCJleHBvcnRzIiwiZGVjbGFyYXRpb25zIiwiTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0Iiwib3V0bGV0RWxlbWVudCIsIl9hcHBSZWYiLCJfZGVmYXVsdEluamVjdG9yIiwiX3ZpZXdVdGlsIiwiY29tcG9uZW50UmVmIiwiYXR0YWNoVmlldyIsImRldGFjaFZpZXciLCJyb290Tm9kZSIsIl9nZXRDb21wb25lbnRSb290Tm9kZSIsInZpZXdDb250YWluZXIiLCJkZXRlY3RDaGFuZ2VzIiwicmVtb3ZlIiwiRGV0YWNoZWRMb2FkZXIiLCJjaGFuZ2VEZXRlY3RvciIsImNvbnRhaW5lclJlZiIsImFwcFJlZiIsImRpc3Bvc2VGdW5jdGlvbnMiLCJjcmVhdGVDb21wb25lbnRQb3J0YWwiLCJjb21wb25lbnRUeXBlIiwiY3VzdG9tSW5qZWN0b3IiLCJ2YyIsImNyZWF0ZVRlbXBsYXRlUG9ydGFsIiwibG9hZEluQXBwUmVmIiwibG9hZEluTG9jYXRpb24iLCJtYXJrRm9yQ2hlY2siLCJsb2FkQ29tcG9uZW50IiwibG9hZENvbXBvbmVudFN5bmMiLCJsb2FkQ29tcG9uZW50SW5Mb2NhdGlvbiIsImxvYWRXaXRoRmFjdG9yeSIsImxvYWRXaXRoRmFjdG9yeUluTG9jYXRpb24iLCJEZXRhY2hlZExvYWRlcl9GYWN0b3J5IiwiybVjbXAiLCLJtcm1ZGVmaW5lQ29tcG9uZW50Iiwidmlld1F1ZXJ5IiwiRGV0YWNoZWRMb2FkZXJfUXVlcnkiLCLJtcm1dmlld1F1ZXJ5IiwiX3QiLCLJtcm1cXVlcnlSZWZyZXNoIiwiybXJtWxvYWRRdWVyeSIsImZpcnN0IiwibmdDb250ZW50U2VsZWN0b3JzIiwiZGVjbHMiLCJ2YXJzIiwiY29uc3RzIiwiRGV0YWNoZWRMb2FkZXJfVGVtcGxhdGUiLCLJtcm1cHJvamVjdGlvbkRlZiIsIsm1ybVlbGVtZW50IiwiybXJtWVsZW1lbnRDb250YWluZXIiLCJyZWFkIiwic3RhdGljIiwiUGFnZVNlcnZpY2UiLCJpblBhZ2UiLCJfaW5QYWdlJCIsImluUGFnZSQiLCJwYWdlRXZlbnRzJCIsIl9wYWdlRXZlbnRzJCIsImFzT2JzZXJ2YWJsZSIsInBhZ2UiLCJlbFJlZiIsInBhZ2VFdmVudCIsIlBhZ2VTZXJ2aWNlX0ZhY3RvcnkiLCLJtcm1aW5qZWN0IiwiVmlld0Jhc2UiLCJkZWNvcmF0b3JzIiwiY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5IiwiY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUiLCJGcmFtZVBhZ2VDb21wb25lbnQiLCJhY3Rpb25CYXJIaWRkZW4iLCJuZ09uQ2hhbmdlcyIsImNoYW5nZXMiLCJwcmV2aW91c1ZhbHVlIiwiY3VycmVudFZhbHVlIiwibmdBZnRlclZpZXdJbml0IiwiRnJhbWVQYWdlQ29tcG9uZW50X0ZhY3RvcnkiLCLJtcm1UHJvdmlkZXJzRmVhdHVyZSIsInByb3ZpZGUiLCJ1c2VGYWN0b3J5IiwiZGVwcyIsIsm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUiLCJGcmFtZVBhZ2VDb21wb25lbnRfVGVtcGxhdGUiLCJwcm92aWRlcnMiLCJjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnkiLCJGcmFtZURpcmVjdGl2ZSIsIkZyYW1lRGlyZWN0aXZlX0ZhY3RvcnkiLCJjdXN0b21QYWdlRmFjdG9yeSIsIlBhZ2VEaXJlY3RpdmUiLCJQYWdlRGlyZWN0aXZlX0ZhY3RvcnkiLCJGcmFtZVBhZ2VNb2R1bGUiLCJGcmFtZVBhZ2VNb2R1bGVfRmFjdG9yeSIsImlzUHJlc2VudCIsIm9iaiIsImlzQmxhbmsiLCJpc0FjdGlvbkl0ZW0iLCJpc05hdmlnYXRpb25CdXR0b24iLCJhY3Rpb25CYXJNZXRhIiwibmF2aWdhdGlvbkJ1dHRvbiIsImFkZEFjdGlvbkl0ZW0iLCJ0aXRsZVZpZXciLCJhY3Rpb25JdGVtcyIsInJlbW92ZUl0ZW0iLCJiYXIiLCJpbnNlcnRBY3Rpb25JdGVtQmVmb3JlIiwiYXBwZW5kQWN0aW9uSXRlbSIsImFjdGlvbkl0ZW1zQ29sbGVjdGlvbiIsImdldEl0ZW1zIiwiaW5kZXhUb0luc2VydCIsInNldEl0ZW1zIiwiYWRkSXRlbSIsIkFjdGlvbkJhckNvbXBvbmVudCIsImFjdGlvbkJhciIsInVwZGF0ZSIsIkFjdGlvbkJhckNvbXBvbmVudF9GYWN0b3J5IiwiQWN0aW9uQmFyQ29tcG9uZW50X1RlbXBsYXRlIiwiQWN0aW9uQmFyU2NvcGUiLCJvbk5hdkJ1dHRvbkluaXQiLCJuYXZCdG4iLCJvbk5hdkJ1dHRvbkRlc3Ryb3kiLCJuYXYiLCJvbkFjdGlvbkluaXQiLCJvbkFjdGlvbkRlc3Ryb3kiLCJBY3Rpb25CYXJTY29wZV9GYWN0b3J5IiwiQWN0aW9uQmFyU2NvcGVfVGVtcGxhdGUiLCJBY3Rpb25JdGVtRGlyZWN0aXZlIiwib3duZXJTY29wZSIsIkFjdGlvbkl0ZW1EaXJlY3RpdmVfRmFjdG9yeSIsIk5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUiLCJOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlX0ZhY3RvcnkiLCJ0aHJvd0lmQWxyZWFkeUxvYWRlZCIsInBhcmVudE1vZHVsZSIsIm1vZHVsZU5hbWUiLCJ3YXNDYWxsZWQiLCJ3cmFwcGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc0xpc3RMaWtlSXRlcmFibGUiLCJpc0pzT2JqZWN0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvIiwiTkdfVklFVyIsIlRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQiLCJJdGVtQ29udGV4dCIsIiRpbXBsaWNpdCIsImV2ZW4iLCJvZGQiLCJOc1RlbXBsYXRlZEl0ZW0iLCJvbkNyZWF0ZSIsInNldHVwSXRlbUNvbnRleHQiLCJyZXN1bHRWaWV3IiwiZ2V0SXRlbVZpZXdSb290IiwiZ2V0RW1iZWRkZWRWaWV3UmVmIiwicmVhdHRhY2giLCJpc1ZhbGlkIiwib2xkVmlldyIsIkxpc3RWaWV3Q29tcG9uZW50IiwidGVtcGxhdGVkSXRlbXNWaWV3IiwiX2l0ZW1zIiwibmVlZERpZmZlciIsIl9kaWZmZXIiLCJfaXRlcmFibGVEaWZmZXJzIiwiX2luZGV4IiwiX2VsZW1lbnRSZWYiLCJfY2hhbmdlRGV0ZWN0b3JSZWYiLCJfdmlld1RvVGVtcGxhdGUiLCJXZWFrTWFwIiwic2V0dXBJdGVtVmlldyIsIm5nQWZ0ZXJDb250ZW50SW5pdCIsInNldEl0ZW1UZW1wbGF0ZXMiLCJfdGVtcGxhdGVNYXAiLCJmYWxsYmFja0l0ZW1UZW1wbGF0ZSIsIml0ZW1UZW1wbGF0ZVF1ZXJ5IiwicmVnaXN0ZXJUZW1wbGF0ZSIsImxvYWRlciIsInRlbXBsYXRlcyIsIml0ZW1UZW1wbGF0ZXMiLCJvbkl0ZW1Mb2FkaW5nIiwibHZpZXciLCJjdXJyZW50SXRlbSIsImdldEl0ZW0iLCJ0ZW1wbGF0ZUtleSIsIml0ZW1UZW1wbGF0ZVNlbGVjdG9yIiwic2V0dXBWaWV3UmVmIiwibmdEb0NoZWNrIiwiZGlmZiIsInJlZnJlc2giLCJMaXN0Vmlld0NvbXBvbmVudF9GYWN0b3J5IiwiY29udGVudFF1ZXJpZXMiLCJMaXN0Vmlld0NvbXBvbmVudF9Db250ZW50UXVlcmllcyIsImRpckluZGV4IiwiybXJtWNvbnRlbnRRdWVyeSIsIkxpc3RWaWV3Q29tcG9uZW50X1F1ZXJ5IiwiaG9zdEJpbmRpbmdzIiwiTGlzdFZpZXdDb21wb25lbnRfSG9zdEJpbmRpbmdzIiwiybXJtWxpc3RlbmVyIiwiTGlzdFZpZXdDb21wb25lbnRfaXRlbUxvYWRpbmdfSG9zdEJpbmRpbmdIYW5kbGVyIiwiJGV2ZW50IiwidXNlRXhpc3RpbmciLCJMaXN0Vmlld0NvbXBvbmVudF9UZW1wbGF0ZSIsIsm1ybVlbGVtZW50U3RhcnQiLCLJtcm1ZWxlbWVudEVuZCIsImNoYW5nZURldGVjdGlvbiIsIk9uUHVzaCIsInJvb3RMb2NhdG9yIiwiVGVtcGxhdGVLZXlEaXJlY3RpdmUiLCJjb21wIiwibnNUZW1wbGF0ZUtleSIsIm5zVGVtcGxhdGVLZXlzIiwidmFsdWVzIiwiVGVtcGxhdGVLZXlEaXJlY3RpdmVfRmFjdG9yeSIsIkZyYW1lU2VydmljZSIsImdldEZyYW1lIiwidG9wbW9zdCIsIkZyYW1lU2VydmljZV9GYWN0b3J5IiwiT3V0bGV0IiwiaXNQYWdlTmF2aWdhdGlvbkJhY2siLCJfbmF2aWdhdGluZ0JhY2tPdXRsZXRzIiwic2l6ZSIsImlzQmFjayIsIm91dGxldEtleXMiLCJhZGQiLCJvdXRsZXRLZXkiLCJwYXRoQnlPdXRsZXRzIiwibW9kYWxOYXZpZ2F0aW9uRGVwdGgiLCJTZXQiLCJmcmFtZXMiLCJzdGF0ZXMiLCJzaG91bGREZXRhY2giLCJzaG93aW5nTW9kYWwiLCJzZXRPdXRsZXRLZXlOYXZpZ2F0aW5nQmFjayIsIm5lc3RzIiwiayIsImNvbnRhaW5zRnJhbWUiLCJmcmFtZSIsInBlZWtTdGF0ZSIsImNvbnRhaW5zVG9wU3RhdGUiLCJzdGF0ZVVybCIsImxhc3RTdGF0ZSIsInNlZ21lbnRHcm91cCIsImdldEZyYW1lVG9CYWNrIiwiaXNOU0VtcHR5T3V0bGV0IiwiY3VycmVudEZyYW1lIiwiY2FuR29CYWNrIiwiZGVmYXVsdE5hdk9wdGlvbnMiLCJjbGVhckhpc3RvcnkiLCJhbmltYXRlZCIsIk5TTG9jYXRpb25TdHJhdGVneSIsImZyYW1lU2VydmljZSIsInN0YXJ0UGF0aCIsIm91dGxldHMiLCJwb3BTdGF0ZUNhbGxiYWNrcyIsIl9tb2RhbE5hdmlnYXRpb25EZXB0aCIsImdldFN0YXRlIiwiY3VycmVudE91dGxldCIsImN1cnJlbnRVcmxUcmVlIiwic3RhdGUiLCJ0cmVlIiwiY2hhbmdlZE91dGxldCIsImdldFNlZ21lbnRHcm91cEJ5T3V0bGV0IiwiaXNSb290U2VnbWVudEdyb3VwIiwidXBkYXRlU2VnbWVudEdyb3VwIiwidXJsU2VyaWFsaXplciIsInF1ZXJ5UGFyYW1zIiwidXJsIiwic2VyaWFsaXplIiwicHJlcGFyZUV4dGVybmFsVXJsIiwiaW50ZXJuYWwiLCJwdXNoU3RhdGUiLCJ0aXRsZSIsInB1c2hTdGF0ZUludGVybmFsIiwicGFyc2UiLCJ1cmxUcmVlUm9vdCIsImdldE91dGxldEtleSIsImdldFNlZ21lbnRHcm91cEZ1bGxQYXRoIiwib3V0bGV0IiwiZmluZE91dGxldCIsInVwZGF0ZVN0YXRlcyIsInJvb3RPdXRsZXQiLCJjcmVhdGVPdXRsZXQiLCJxdWV1ZSIsImN1cnJlbnRUcmVlIiwib3V0bGV0TmFtZSIsImN1cnJlbnRTZWdtZW50R3JvdXAiLCJvdXRsZXRQYXRoIiwicGFyZW50T3V0bGV0TmFtZSIsInBhcmVudE91dGxldFBhdGgiLCJwYXJlbnRPdXRsZXRLZXkiLCJwYXJlbnRPdXRsZXQiLCJjb250YWluc0xhc3RTdGF0ZSIsInVwc2VydE1vZGFsT3V0bGV0Iiwic2hpZnQiLCJyZXBsYWNlU3RhdGUiLCJmb3J3YXJkIiwiYmFjayIsInBvcCIsImNvdW50IiwiaXNQYWdlTmF2aWdhdGlvbiIsImNhbGxQb3BTdGF0ZSIsInRvcG1vc3RGcmFtZSIsImdldE91dGxldEJ5RnJhbWUiLCJmcmFtZVRvQmFjayIsImdvQmFjayIsIm9uUG9wU3RhdGUiLCJnZXRCYXNlSHJlZiIsImNoYW5nZSIsIm91dGxldFN0YXRlcyIsIm91dGxldExvZyIsInJldmVyc2UiLCJjb25jYXQiLCJfYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24iLCJfZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uIiwiX2JlZ2luTW9kYWxOYXZpZ2F0aW9uIiwiX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uIiwiaXNTaG93aW5nTW9kYWwiLCJ0b3Btb3N0T3V0bGV0IiwiZmluZE91dGxldEJ5TW9kYWwiLCJfYmVnaW5QYWdlTmF2aWdhdGlvbiIsIm9wdGlvbnMiLCJuYXZPcHRpb25zIiwiX2dldE91dGxldHMiLCJ1cGRhdGVPdXRsZXRGcmFtZSIsImlzRW1wdHlPdXRsZXRGcmFtZSIsImNsZWFyT3V0bGV0IiwiaXNFcXVhbFRvQ3VycmVudCIsImZ1bGxQYXRoIiwiZ2V0Um91dGVGdWxsUGF0aCIsImN1cnJlbnRSb3V0ZSIsInVybHMiLCJnZXRQYXRoQnlPdXRsZXRzIiwidXJsU2VnbWVudEdyb3VwIiwicGF0aFRvT3V0bGV0IiwibGFzdFBhdGgiLCJhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IiwiZXF1YWxNb2RhbERlcHRoIiwibW9kYWxOYXZpZ2F0aW9uIiwiaXNOZXdQYWdlIiwiZXF1YWxTdGF0ZVVybHMiLCJsb2NhdGlvblN0YXRlIiwidXBkYXRlUGFyZW50c1N0YXRlcyIsIm5ld1NlZ21lbnRHcm91cCIsIm5ld091dGxldCIsInBhdGhMaXN0IiwiY3VycmVudFBhdGgiLCJjaGlsZHJlbkNvdW50Iiwib2xkU2VnbWVudEdyb3VwIiwic2VnbWVudGVkR3JvdXAiLCJjdXJyZW50TW9kYWxPdXRsZXQiLCJOU0xvY2F0aW9uU3RyYXRlZ3lfRmFjdG9yeSIsIk1vZGFsRGlhbG9nUGFyYW1zIiwiY2xvc2VDYWxsYmFjayIsIk1vZGFsRGlhbG9nU2VydmljZSIsInpvbmUiLCJkZWZhdWx0SW5qZWN0b3IiLCJjbG9zZWQkIiwiX2Nsb3NlZCQiLCJzaG93TW9kYWwiLCJwYXJlbnRWaWV3IiwiZ2V0Um9vdFZpZXciLCJfbmdEaWFsb2dSb290IiwiY29tcG9uZW50SW5qZWN0b3IiLCJtb2R1bGVSZWYiLCJyZWplY3QiLCJfc2hvd0RpYWxvZyIsImRvbmVDYWxsYmFjayIsImVyciIsIl90aGlzIiwiY29tcG9uZW50Vmlld1JlZiIsImRldGFjaGVkTG9hZGVyUmVmIiwicG9ydGFsT3V0bGV0IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJjbG9zZU1vZGFsIiwicGFyYW1zIiwib3BlbmVkTW9kYWxQYXJhbXMiLCJtb2RhbFBhcmFtcyIsImNoaWxkSW5qZWN0b3IiLCJ1c2VWYWx1ZSIsInRhcmdldFZpZXciLCJjaGFuZ2VEZXRlY3RvclJlZiIsInVzZUNvbnRleHRBc0NvbXBvbmVudFByb3BzIiwiTW9kYWxEaWFsb2dTZXJ2aWNlX0ZhY3RvcnkiLCJOYXRpdmVTY3JpcHROZ1NhZmVFdmVudCIsInJ1bkFmdGVyRXZlbnQiLCJldmVudCIsInByb3BlcnR5S2V5IiwiZ2V0TmdTYWZlIiwiZGVmYXVsdE5nU2FmZSIsImV2ZW50cyIsInJ1bkJlZm9yZSIsImRvbmUiLCJidWZmZXIiLCJvcmlnaW5hbERlbGVnYXRlIiwiYWx3YXlzUnVuQmVmb3JlIiwib2xkRm4iLCJzaG91bGRQdXNoIiwib25seUZpcnN0Iiwib25seUxhc3QiLCJUYWJWaWV3RGlyZWN0aXZlIiwic2VsZWN0ZWRJbmRleCIsIl9zZWxlY3RlZEluZGV4Iiwidmlld0luaXRpYWxpemVkIiwidGFiVmlldyIsIlRhYlZpZXdEaXJlY3RpdmVfRmFjdG9yeSIsIlRhYlZpZXdJdGVtRGlyZWN0aXZlIiwib3duZXIiLCJjb25maWciLCJfY29uZmlnIiwiaWNvblNvdXJjZSIsInRleHRUcmFuc2Zvcm0iLCJhcHBseUNvbmZpZyIsImFzc2lnbiIsImVuc3VyZUl0ZW0iLCJyZWFsVmlld3MiLCJuZXdJdGVtcyIsIlRhYlZpZXdJdGVtRGlyZWN0aXZlX0ZhY3RvcnkiLCJBbmRyb2lkRmlsdGVyQ29tcG9uZW50Iiwic2hvdyIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnRfRmFjdG9yeSIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnRfVGVtcGxhdGUiLCLJtcm1dGVtcGxhdGUiLCLJtcm1cHJvcGVydHkiLCJkZXBlbmRlbmNpZXMiLCJOZ0lmIiwiSU9TRmlsdGVyQ29tcG9uZW50IiwiSU9TRmlsdGVyQ29tcG9uZW50X0ZhY3RvcnkiLCJJT1NGaWx0ZXJDb21wb25lbnRfVGVtcGxhdGUiLCJWaXNpb25PU0ZpbHRlckNvbXBvbmVudCIsInZpc2lvbm9zIiwiVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRfRmFjdG9yeSIsIlZpc2lvbk9TRmlsdGVyQ29tcG9uZW50X1RlbXBsYXRlIiwiQ0RLX0NPTVBPTkVOVFMiLCJOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUiLCJOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVfRmFjdG9yeSIsImltcG9ydHMiLCJzY2hlbWFzIiwiZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3IiwicGFyZW50Um9vdFZpZXciLCJlcnJvckhhbmRsZXIiLCJnZW5lcmF0ZVJhbmRvbUlkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHIiLCJOQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMiLCJ1c2VDbGFzcyIsIm11bHRpIiwiTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMiLCJOYXRpdmVTY3JpcHRNb2R1bGUiLCJOYXRpdmVTY3JpcHRNb2R1bGVfRmFjdG9yeSIsImRpc2FibGVSb290Vmlld0hhbmRpbmciLCJfX2Rpc2FibGVfcm9vdF92aWV3X2hhbmRsaW5nIiwicHJlQW5ndWxhckRpc3Bvc2FsJCIsInBvc3RBbmd1bGFyQm9vdHN0cmFwJCIsIm9uQmVmb3JlTGl2ZXN5bmMiLCJtb2R1bGVUeXBlIiwicmVhc29uIiwicmVmZXJlbmNlIiwib25BZnRlckxpdmVzeW5jIiwiaW1wb3J0IiwiZGVjbGluZSIsIl9fb25MaXZlU3luY0NvcmUiLCJlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQiLCJkZXN0cm95UmVmIiwicnVuWm9uZVN5bmNUYXNrIiwiY3VycmVudCIsInRhc2siLCJzY2hlZHVsZUV2ZW50VGFzayIsImludm9rZSIsImNhbmNlbFRhc2siLCJab25lQ2FuV29ya1N5bmMiLCJjYW5SdW5TeW5jIiwidGhlbiIsIm5hdGl2ZVF1ZXVlQ2FuQmVEcmFpbmVkIiwibWFrZVRlc3REcmFpbiIsIl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSIsInJ1blN5bmNocm9ub3VzbHkiLCJxdWV1ZU1hY3JvdGFzayIsImNyZWF0ZVByb3ZpZGVyc0NvbmZpZyIsImFwcFByb3ZpZGVycyIsImJvb3RzdHJhcEFwcGxpY2F0aW9uIiwicm9vdENvbXBvbmVudCIsInJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAiLCJtYWluTW9kdWxlUmVmIiwibG9hZGluZ01vZHVsZVJlZiIsInBsYXRmb3JtUmVmIiwiYm9vdHN0cmFwSWQiLCJ1cGRhdGVQbGF0Zm9ybVJlZiIsIm5ld1BsYXRmb3JtUmVmIiwib25EZXN0cm95IiwibGF1bmNoRXZlbnREb25lIiwidGFyZ2V0Um9vdFZpZXciLCJzZXRSb290VmlldyIsIl9jbG9zZUFsbE1vZGFsVmlld3NJbnRlcm5hbCIsImVtYmVkZGVkIiwibmV3Um9vdCIsInNob3dFcnJvclVJIiwic3RhY2siLCJlcnJvclRleHRCb3giLCJjb2xvciIsImJvb3RzdHJhcFJvb3QiLCJjdXJyZW50Qm9vdHN0cmFwSWQiLCJib290c3RyYXBwZWQiLCJvbk1haW5Cb290c3RyYXAiLCJhcHBNb2R1bGVCb290c3RyYXAiLCJjb21wb25lbnRzIiwic3R5bGVUYWciLCJsb2FkaW5nTW9kdWxlIiwibG9hZGluZ1JlZiIsImxvYWRpbmdTZXJ2aWNlIiwic3Vic2NyaWJlIiwibGF1bmNoVmlldyIsInN0YXJ0QW5pbWF0aW9uIiwiY2xlYW51cCIsImNhdGNoIiwid2FybiIsImRpc3Bvc2VQbGF0Zm9ybSIsImRpc3Bvc2VMYXN0TW9kdWxlcyIsImxhdW5jaENhbGxiYWNrIiwiZXhpdENhbGxiYWNrIiwib2xkQWRkRXZlbnRMaXN0ZW5lciIsIk5hdGl2ZVNjcmlwdEdsb2JhbHMiLCJfX3N5bWJvbF9fIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxhdW5jaEV2ZW50IiwiZXhpdEV2ZW50Iiwic2hvdWxkRGlzcG9zZVBsYXRmb3JtIiwiaGFzTGF1bmNoZWQiLCJOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5IiwiYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSIsIm1vZHVsZUZhY3RvcnkiLCJib290c3RyYXBNb2R1bGUiLCJjb21waWxlck9wdGlvbnMiLCJkZXN0cm95ZWQiLCJkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciIsIk5hdGl2ZVNjcmlwdFNhbml0aXplciIsInNhbml0aXplIiwiX2NvbnRleHQiLCJOYXRpdmVTY3JpcHREb2N1bWVudCIsImJvZHkiLCJpc092ZXJyaWRlIiwiQ09NTU9OX1BST1ZJREVSUyIsInBsYXRmb3JtTmF0aXZlU2NyaXB0IiwicGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljIiwiZXh0cmFQcm92aWRlcnMiLCJuZ1Jvb3RWaWV3IiwiYXN5bmMiLCJSb290Vmlld1Byb3h5IiwicGFyZW50Um9vdExheW91dCIsIl9hZGRWaWV3IiwiYXRJbmRleCIsImdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5Iiwidmlld1Byb3h5IiwiUm9vdENvbXBvc2l0ZU1vZHVsZSIsIlJvb3RDb21wb3NpdGVNb2R1bGVfRmFjdG9yeSIsIk5hdGl2ZURpYWxvZ0NvbmZpZyIsImhhc0JhY2tkcm9wIiwiZGlzYWJsZUNsb3NlIiwiY2xvc2VPbk5hdmlnYXRpb24iLCJuYXRpdmVPcHRpb25zIiwidW5pcXVlSWQiLCJOYXRpdmVEaWFsb2dSZWYiLCJfbmF0aXZlTW9kYWxSZWYiLCJfYWZ0ZXJPcGVuZWQiLCJfYWZ0ZXJDbG9zZWQiLCJfYmVmb3JlQ2xvc2VkIiwiX3N0YXRlIiwiX2lkIiwic3RhdGVDaGFuZ2VkIiwiY2xlYXJUaW1lb3V0IiwiX2Nsb3NlRmFsbGJhY2tUaW1lb3V0IiwiX2ZpbmlzaERpYWxvZ0Nsb3NlIiwiX3Jlc3VsdCIsIm9uRGlzbWlzcyIsImNvbXBvbmVudEluc3RhbmNlIiwiY2xvc2UiLCJkaWFsb2dSZXN1bHQiLCJfc3RhcnRFeGl0QW5pbWF0aW9uIiwiYWZ0ZXJPcGVuZWQiLCJhZnRlckNsb3NlZCIsImJlZm9yZUNsb3NlZCIsImJhY2tkcm9wQ2xpY2siLCJhZGRQYW5lbENsYXNzIiwicmVtb3ZlUGFuZWxDbGFzcyIsIk5hdGl2ZU1vZGFsUmVmIiwiX2luamVjdG9yIiwiX3RoaXMyIiwiX2lzRGlzbWlzc2VkIiwiX21vZGFsIiwiX2Nsb3NlQ2FsbGJhY2siLCJtb2RhbFZpZXdSZWYiLCJfZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lciIsInZjUmVmIiwiZGV0YWNoZWRGYWN0b3J5IiwiX3RoaXMzIiwic3RhcnRNb2RhbE5hdmlnYXRpb24iLCJ1c2VyT3B0aW9ucyIsIl9yZWYzIiwiY2FuY2VsYWJsZSIsIl90aGlzNCIsIl9yZWY0IiwiTkFUSVZFX0RJQUxPR19EQVRBIiwiTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMiLCJfTmF0aXZlRGlhbG9nQmFzZSIsIm9wZW5EaWFsb2dzIiwiX3BhcmVudERpYWxvZyIsIl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsIiwiX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWwiLCJfZ2V0QWZ0ZXJBbGxDbG9zZWQiLCJfYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbCIsIl9kZWZhdWx0T3B0aW9ucyIsIl9kaWFsb2dSZWZDb25zdHJ1Y3RvciIsIl9uYXRpdmVNb2RhbFR5cGUiLCJfZGlhbG9nRGF0YVRva2VuIiwibG9jYXRpb25TdHJhdGVneSIsImFmdGVyQWxsQ2xvc2VkIiwib3BlbiIsImNvbXBvbmVudE9yVGVtcGxhdGVSZWYiLCJfYXBwbHlDb25maWdEZWZhdWx0cyIsImdldERpYWxvZ0J5SWQiLCJkaWFsb2dSZWYiLCJfYXR0YWNoRGlhbG9nQ29udGVudCIsIl9yZW1vdmVPcGVuRGlhbG9nIiwiY2xvc2VBbGwiLCJfY2xvc2VEaWFsb2dzIiwiZGlhbG9nIiwibmF0aXZlTW9kYWxSZWYiLCJfY3JlYXRlSW5qZWN0b3IiLCJjb250ZW50UmVmIiwidXNlckluamVjdG9yIiwiZGlhbG9ncyIsIl9OYXRpdmVEaWFsb2dCYXNlX0ZhY3RvcnkiLCJUeXBlIiwiTmF0aXZlRGlhbG9nU2VydmljZSIsImRlZmF1bHRPcHRpb25zIiwicGFyZW50RGlhbG9nIiwiTmF0aXZlRGlhbG9nU2VydmljZV9GYWN0b3J5IiwiTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUiLCJfZGlhbG9nIiwiZ2V0Q2xvc2VzdERpYWxvZyIsInByb3hpZWRDaGFuZ2UiLCJfb25CdXR0b25DbGljayIsIk5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlX0ZhY3RvcnkiLCJOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV9Ib3N0QmluZGluZ3MiLCJOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV90YXBfSG9zdEJpbmRpbmdIYW5kbGVyIiwiX21hdERpYWxvZ0Nsb3NlIiwiTmF0aXZlRGlhbG9nTW9kdWxlIiwiTmF0aXZlRGlhbG9nTW9kdWxlX0ZhY3RvcnkiLCJOU0ZpbGVTeXN0ZW0iLCJjdXJyZW50QXBwIiwiZmlsZUZyb21QYXRoIiwiZnJvbVBhdGgiLCJmaWxlRXhpc3RzIiwiZXhpc3RzIiwiTlNGaWxlU3lzdGVtX0ZhY3RvcnkiLCJnZW5lcmF0ZURldGFjaGVkTG9hZGVyIiwiZ2VuZXJhdGVOYXRpdmVTY3JpcHRWaWV3IiwidHlwZU9yVGVtcGxhdGUiLCJyZXVzaW5nRGV0YWNoZWRMb2FkZXIiLCJrZWVwTmF0aXZlVmlld0F0dGFjaGVkIiwiQmFzZVZhbHVlQWNjZXNzb3IiLCJwZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uIiwib25DaGFuZ2UiLCJvblRvdWNoZWQiLCJyZWdpc3Rlck9uQ2hhbmdlIiwiYXJnIiwicmVnaXN0ZXJPblRvdWNoZWQiLCJzZXREaXNhYmxlZFN0YXRlIiwiaXNEaXNhYmxlZCIsIndyaXRlVmFsdWUiLCJfIiwibm9ybWFsaXplVmFsdWUiLCJURVhUX1ZBTFVFX0FDQ0VTU09SIiwiVGV4dFZhbHVlQWNjZXNzb3IiLCJub3JtYWxpemVkIiwiVGV4dFZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIlRleHRWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIlRleHRWYWx1ZUFjY2Vzc29yX2JsdXJfSG9zdEJpbmRpbmdIYW5kbGVyIiwiVGV4dFZhbHVlQWNjZXNzb3JfdGV4dENoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJDSEVDS0VEX1ZBTFVFX0FDQ0VTU09SIiwiQ2hlY2tlZFZhbHVlQWNjZXNzb3IiLCJjaGVja2VkIiwiQ2hlY2tlZFZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIkNoZWNrZWRWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIkNoZWNrZWRWYWx1ZUFjY2Vzc29yX2NoZWNrZWRDaGFuZ2VfSG9zdEJpbmRpbmdIYW5kbGVyIiwiREFURV9WQUxVRV9BQ0NFU1NPUiIsIkRhdGVWYWx1ZUFjY2Vzc29yIiwiZGF0ZSIsIkRhdGVWYWx1ZUFjY2Vzc29yX0ZhY3RvcnkiLCJEYXRlVmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJEYXRlVmFsdWVBY2Nlc3Nvcl9kYXRlQ2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIlRJTUVfVkFMVUVfQUNDRVNTT1IiLCJUaW1lVmFsdWVBY2Nlc3NvciIsInRpbWUiLCJUaW1lVmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiVGltZVZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiVGltZVZhbHVlQWNjZXNzb3JfdGltZUNoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJOVU1CRVJfVkFMVUVfQUNDRVNTT1IiLCJOdW1iZXJWYWx1ZUFjY2Vzc29yIiwiTnVtYmVyVmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiTnVtYmVyVmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJOdW1iZXJWYWx1ZUFjY2Vzc29yX3ZhbHVlQ2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIlNFTEVDVEVEX0lOREVYX1ZBTFVFX0FDQ0VTU09SIiwiU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IiLCJTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3Jfc2VsZWN0ZWRJbmRleENoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSIsIk5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlX0ZhY3RvcnkiLCJEQVNIX0NBU0VfUkVHRVhQIiwiZGFzaENhc2VUb0NhbWVsQ2FzZSIsIm0iLCJ0b1VwcGVyQ2FzZSIsImNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uIiwiZHVyYXRpb24iLCJkZWxheSIsImVhc2luZyIsImluZm8iLCJjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbkluZm8iLCJrZXlmcmFtZUFuaW1hdGlvbkZyb21JbmZvIiwiaXNGb3J3YXJkcyIsImN1cnZlIiwiZ2V0Q3VydmUiLCJrZXlmcmFtZXMiLCJwYXJzZUFuaW1hdGlvbktleWZyYW1lIiwiZ2V0S2V5ZnJhbWVEdXJhdGlvbiIsImdldERlY2xhcmF0aW9ucyIsIm9mZnNldCIsInVucGFyc2VkRGVjbGFyYXRpb25zIiwiTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyIiwicGFyZW50UGxheWVyIiwiX3N0YXJ0U3Vic2NyaXB0aW9ucyIsIl9kb25lU3Vic2NyaXB0aW9ucyIsIl9maW5pc2hlZCIsIl9zdGFydGVkIiwiaW5pdEtleWZyYW1lQW5pbWF0aW9uIiwidG90YWxUaW1lIiwiaW5pdCIsImhhc1N0YXJ0ZWQiLCJvblN0YXJ0Iiwib25Eb25lIiwicGxheSIsImFuaW1hdGlvbiIsInBsYXlBbmltYXRpb24iLCJvblRhcmdldExvYWRlZCIsIm9uRmluaXNoIiwiX2UiLCJwYXVzZSIsImZpbmlzaCIsInJlc2V0IiwiaXNQbGF5aW5nIiwiY2FuY2VsIiwicmVzdGFydCIsInNldFBvc2l0aW9uIiwiX3AiLCJnZXRQb3NpdGlvbiIsIlNlbGVjdG9yIiwicmF3U2VsZWN0b3IiLCJtYXRjaCIsIm5zU2VsZWN0b3JNYXRjaCIsImNsYXNzU2VsZWN0b3JzTWF0Y2giLCJ0cmltIiwibnNTZWxlY3RvcnMiLCJjcmVhdGVTZWxlY3RvciIsImNsYXNzU2VsZWN0b3JzIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsInNvbWUiLCJoYXNDbGFzcyIsImNscyIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlciIsInZhbGlkUHJvcGVydGllcyIsIl9nZXRQcm9wZXJ0eU5hbWVzIiwiZ2V0UGFyZW50RWxlbWVudCIsInZhbGlkYXRlU3R5bGVQcm9wZXJ0eSIsIm1hdGNoZXNFbGVtZW50IiwibWFrZVNlbGVjdG9yIiwiY29udGFpbnNFbGVtZW50IiwiZWxtMSIsImVsbTIiLCJvcmlnaW5hbFZpZXciLCJ2aXNpdERlc2NlbmRhbnRzIiwidmlld01hdGNoZXMiLCJmb3VuZCIsInF1ZXJ5IiwicXVlcnlEZXNjZW5kYW50cyIsIm1hdGNoZXMiLCJjb21wdXRlU3R5bGUiLCJjYW1lbENhc2VQcm9wIiwiYW5pbWF0ZSIsImNiUGFyYW1zIiwiZWFjaENoaWxkIiwiSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSIsImRvYyIsImRyaXZlciIsIm5vcm1hbGl6ZXIiLCJJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lX0ZhY3RvcnkiLCJpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlciIsImluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5IiwiZW5naW5lIiwiaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyIiwiTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGVfRmFjdG9yeSIsImlzTG9jYWxSZXF1ZXN0IiwiZ2V0QWJzb2x1dGVQYXRoIiwibnNGaWxlU3lzdGVtIiwicHJvY2Vzc0xvY2FsRmlsZVJlcXVlc3QiLCJzdWNjZXNzUmVzcG9uc2UiLCJlcnJvclJlc3BvbnNlIiwib2JzZXJ2ZXIiLCJsb2NhbEZpbGUiLCJyZWFkVGV4dCIsImpzb24iLCJKU09OIiwiZXJyb3JSZXN1bHQiLCJOc0h0dHBCYWNrRW5kIiwieGhyRmFjdG9yeSIsImhhbmRsZSIsInJlcSIsImhhbmRsZUxvY2FsRmlsZVJlcXVlc3QiLCJjcmVhdGVTdWNjZXNzUmVzcG9uc2UiLCJjcmVhdGVFcnJvclJlc3BvbnNlIiwiTnNIdHRwQmFja0VuZF9GYWN0b3J5Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIk5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUiLCJOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlX0ZhY3RvcnkiLCJmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0IiwiYWN0aXZhdGVkUm91dGUiLCJwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sIiwibG9hZGVyUmVmU3ltYm9sIiwiZGVzdHJveUNvbXBvbmVudFJlZiIsImxvYWRlclJlZiIsImdldFNuYXBzaG90S2V5Iiwic25hcHNob3QiLCJwYXRoRnJvbVJvb3QiLCJEZXRhY2hlZFN0YXRlQ2FjaGUiLCJjYWNoZSIsImNhY2hlSXRlbSIsInBlZWsiLCJtYXJrQ3VycmVudEZvckNsZWFyIiwibWFya2VkRm9yRGVsZXRpb24iLCJjbGVhck1hcmtlZCIsImNsZWFyTW9kYWxDYWNoZSIsInJlbW92ZWRJdGVtc0NvdW50IiwiaGFzTW9kYWxQYWdlcyIsImlzTW9kYWwiLCJtb2RhbENhY2hlQ2xlYXJlZCIsIk5TUm91dGVSZXVzZVN0cmF0ZWd5IiwiY2FjaGVCeU91dGxldCIsInJvdXRlIiwiZmluZFZhbGlkT3V0bGV0QW5kS2V5IiwiaXNQYWdlQWN0aXZhdGVkIiwidG1wIiwidGFyZ2V0Um91dGUiLCJyb3V0ZU91dGxldEtleSIsImluY2x1ZGVzIiwic2hvdWxkQXR0YWNoIiwic3RvcmUiLCJ0b3BJdGVtIiwicmV0cmlldmUiLCJjYWNoZWRJdGVtIiwic2hvdWxkUmV1c2VSb3V0ZSIsImZ1dHVyZSIsImN1cnIiLCJzaG91bGRSZXVzZSIsInJvdXRlQ29uZmlnIiwiY2xlYXJDYWNoZSIsIm1hcmtDYWNoZUZvckNsZWFyIiwicG9wQ2FjaGUiLCJtYXJrQ2FjaGVGb3JQb3AiLCJjbGVhck1hcmtlZENhY2hlIiwiTlNSb3V0ZVJldXNlU3RyYXRlZ3lfRmFjdG9yeSIsIlJvdXRlckV4dGVuc2lvbnMiLCJyb3V0ZXIiLCJjb21tYW5kcyIsImV4dHJhcyIsIm5hdmlnYXRlQnlVcmwiLCJiYWNrTmF2aWdhdGlvbk9wdGlvbnMiLCJiYWNrT3V0bGV0cyIsIm91dGxldHNUb0JhY2siLCJmaW5kT3V0bGV0c1RvQmFjayIsIm91dGxldFRvQmFjayIsImJhY2tUb1ByZXZpb3VzUGFnZSIsImNhbkdvQmFja1RvUHJldmlvdXNQYWdlIiwicm9vdFJvdXRlIiwicm91dGVyU3RhdGUiLCJyZWxhdGl2ZVJvdXRlIiwicmVsYXRpdmVUbyIsInJlbGF0aXZlUm91dGVPdXRsZXQiLCJmaW5kT3V0bGV0QnlSb3V0ZSIsImZpbmRPdXRsZXRzUmVjdXJzaXZlIiwiY3VycmVudFJvdXRlU25hcHNob3AiLCJSb3V0ZXJFeHRlbnNpb25zX0ZhY3RvcnkiLCJSb3V0ZXIiLCJOU1JvdXRlckxpbmsiLCJuZ1pvbmUiLCJuYXZpZ2F0b3IiLCJwYWdlVHJhbnNpdGlvbiIsIm9uVGFwIiwic3RyaW5naWZ5IiwicGFnZVRyYW5zaXRpb25EdXJhdGlvbiIsImdldEV4dHJhcyIsImZyYWdtZW50IiwicXVlcnlQYXJhbXNIYW5kbGluZyIsInByZXNlcnZlRnJhZ21lbnQiLCJhdHRyQm9vbFZhbHVlIiwidHJhbnNpdGlvbiIsImdldFRyYW5zaXRpb24iLCJza2lwTG9jYXRpb25DaGFuZ2UiLCJyZXBsYWNlVXJsIiwiY29udmVydENsZWFySGlzdG9yeSIsInVybFRyZWUiLCJjcmVhdGVVcmxUcmVlIiwiaXNOYU4iLCJOU1JvdXRlckxpbmtfRmFjdG9yeSIsInByZXNlcnZlUXVlcnlQYXJhbXMiLCJjb250YWluc1RyZWUiLCJjb250YWluZXIiLCJjb250YWluZWUiLCJleGFjdCIsImVxdWFsU2VnbWVudEdyb3VwcyIsImNvbnRhaW5zU2VnbWVudEdyb3VwIiwiZXF1YWxQYXRoIiwic2VnbWVudHMiLCJudW1iZXJPZkNoaWxkcmVuIiwiY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIiLCJjb250YWluZWVQYXRocyIsImhhc0NoaWxkcmVuIiwiYSIsImIiLCJOU1JvdXRlckxpbmtBY3RpdmUiLCJhY3RpdmUiLCJuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zIiwic3Vic2NyaXB0aW9uIiwiaXNBY3RpdmUiLCJsaW5rcyIsIm5zUm91dGVyTGlua0FjdGl2ZSIsInVuc3Vic2NyaWJlIiwiaGFzQWN0aXZlTGlua3MiLCJwYXJzZVVybCIsImlzQWN0aXZlTGlua3MiLCJyZWR1Y2VMaXN0IiwicSIsInJlZHVjZSIsInJlcyIsImxpbmsiLCJpc0xpbmtBY3RpdmUiLCJOU1JvdXRlckxpbmtBY3RpdmVfRmFjdG9yeSIsIk5TUm91dGVyTGlua0FjdGl2ZV9Db250ZW50UXVlcmllcyIsIlBhZ2VSb3V0ZSIsInN0YXJ0Um91dGUiLCJpc0NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsImNhbGxhYmxlT25jZSIsImNhbGxlZCIsIkRlc3RydWN0aWJsZUluamVjdG9yIiwiZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzIiwicmVmcyIsIm5vdEZvdW5kVmFsdWUiLCJza2lwU2VsZiIsInJvdXRlVG9TdHJpbmciLCJQYWdlUm91dGVyT3V0bGV0IiwibG9jYXRpb25JbmplY3RvciIsImxvY2F0aW9uRmFjdG9yeVJlc29sdmVyIiwiaXNBY3RpdmF0ZWQiLCJhY3RpdmF0ZWQiLCJfYWN0aXZhdGVkUm91dGUiLCJhY3RpdmF0ZWRSb3V0ZURhdGEiLCJwYXJlbnRDb250ZXh0cyIsImFjdGlvbkJhclZpc2liaWxpdHkiLCJpc0VtcHR5T3V0bGV0IiwicGFnZUZhY3RvcnkiLCJyb3V0ZVJldXNlU3RyYXRlZ3kiLCJlbnZpcm9ubWVudEluamVjdG9yIiwiYXR0YWNoRXZlbnRzIiwiZGV0YWNoRXZlbnRzIiwiYWN0aXZhdGVFdmVudHMiLCJkZWFjdGl2YXRlRXZlbnRzIiwic2V0QWN0aW9uQmFyVmlzaWJpbGl0eSIsIm9uQ2hpbGRPdXRsZXRDcmVhdGVkIiwiZGV0YWNoZWRMb2FkZXJGYWN0b3J5IiwiZ2V0Q29udGV4dCIsIm9uQ2hpbGRPdXRsZXREZXN0cm95ZWQiLCJkZWFjdGl2YXRlIiwicG9zdE5hdkZ1bmN0aW9uIiwibWFya0FjdGl2YXRlZFJvdXRlIiwiaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQiLCJjaGlsZENvbnRleHQiLCJhY3RpdmF0ZVdpdGgiLCJnZXRPdXRsZXQiLCJhY3RpdmF0ZU9uR29Gb3J3YXJkIiwicmVzb2x2ZXJPckluamVjdG9yIiwiZ2V0Q29tcG9uZW50VHlwZSIsImlzTmF2aWdhdGlvbiIsImRlc3RydWN0aWJsZXMiLCJwYXJlbnRJbmplY3RvciIsImdldE9yQ3JlYXRlQ29udGV4dCIsImxvYWRDb21wb25lbnRJblBhZ2UiLCJuYXZpZ2F0aW9uQ29udGV4dCIsImNvbXBvbmVudFZpZXciLCJ0b3BBY3RpdmF0ZWRSb3V0ZSIsInRoaXNSb3V0ZUtleSIsIm5hdmlnYXRlZEZyb21DYWxsYmFjayIsIndyYXAiLCJpc0JhY2tOYXZpZ2F0aW9uIiwibmF2aWdhdGVkRnJvbUV2ZW50IiwiZ2V0Q3VycmVudE5hdmlnYXRpb24iLCJpc1JlcGxhY2UiLCJ3aXBlQ2FjaGUiLCJjbGVhckNhbGxiYWNrIiwibmF2aWdhdGVkVG9FdmVudCIsIm5hdmlnYXRpb25FbnRyeSIsImN1cnJlbnRQYWdlIiwicmVwbGFjZVBhZ2UiLCJjaGlsZFJvdXRlIiwiUGFnZVJvdXRlck91dGxldF9GYWN0b3J5IiwiybXJtWluamVjdEF0dHJpYnV0ZSIsIkVudmlyb25tZW50SW5qZWN0b3IiLCJOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIiwiZ2V0QmFzZUhyZWZGcm9tRE9NIiwib25IYXNoQ2hhbmdlIiwiX2ZuIiwic2VhcmNoIiwiaGFzaCIsInBhdGhuYW1lIiwiX25ld1BhdGgiLCJOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uX0ZhY3RvcnkiLCJOU0VtcHR5T3V0bGV0Q29tcG9uZW50IiwicGFnZVJvdXRlck91dGxldCIsIk5TRW1wdHlPdXRsZXRDb21wb25lbnRfRmFjdG9yeSIsIk5TRW1wdHlPdXRsZXRDb21wb25lbnRfUXVlcnkiLCJOU0VtcHR5T3V0bGV0Q29tcG9uZW50X1RlbXBsYXRlIiwicHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3kiLCJOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUiLCJmb3JSb290Iiwicm91dGVzIiwibmdNb2R1bGUiLCJmb3JDaGlsZCIsIk5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZV9GYWN0b3J5IiwiY3VycmVudFJhZklkIiwibm9vcCIsIk5hdGl2ZVNjcmlwdE5nWm9uZSIsImVuYWJsZUxvbmdTdGFja1RyYWNlIiwic2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiIsInNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIiwiaGFzUGVuZGluZ01hY3JvdGFza3MiLCJoYXNQZW5kaW5nTWljcm90YXNrcyIsImlzU3RhYmxlIiwib25VbnN0YWJsZSIsIm9uTWljcm90YXNrRW1wdHkiLCJvblN0YWJsZSIsIm9uRXJyb3IiLCJhc3NlcnRab25lUGF0Y2hlZCIsInNlbGYiLCJfbmVzdGluZyIsIl9vdXRlciIsIl9pbm5lciIsImZvcmsiLCJsYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQiLCJuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJuYXRpdmVEaXNwYXRjaFRvTWFpblRocmVhZCIsImRpc3BhdGNoVG9NYWluVGhyZWFkIiwiZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3IiLCJpc0luQW5ndWxhclpvbmUiLCJhc3NlcnRJbkFuZ3VsYXJab25lIiwiYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSIsImFwcGx5VGhpcyIsImFwcGx5QXJncyIsInJ1blRhc2siLCJFTVBUWV9QQVlMT0FEIiwicnVuR3VhcmRlZCIsInJ1bk91dHNpZGVBbmd1bGFyIiwiY2hlY2tTdGFibGUiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyIsImlzQ2hlY2tTdGFibGVSdW5uaW5nIiwiZmFrZVRvcEV2ZW50VGFzayIsInVwZGF0ZU1pY3JvVGFza1N0YXR1cyIsImRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUiLCJpc0FuZ3VsYXJab25lIiwib25JbnZva2VUYXNrIiwiZGVsZWdhdGUiLCJvbkVudGVyIiwiaW52b2tlVGFzayIsImlzTWFpblRocmVhZCIsIm9uTGVhdmUiLCJvbkludm9rZSIsInNvdXJjZSIsIm9uSGFzVGFzayIsImhhc1Rhc2tTdGF0ZSIsImhhc1Rhc2siLCJfaGFzUGVuZGluZ01pY3JvdGFza3MiLCJtaWNyb1Rhc2siLCJtYWNyb1Rhc2siLCJvbkhhbmRsZUVycm9yIiwiaGFuZGxlRXJyb3IiLCLJtUNPTVBPTkVOVF9WQVJJQUJMRSIsIsm1Q09OVEVOVF9BVFRSIiwiybVIT1NUX0FUVFIiLCLJtU5hdGl2ZVNjcmlwdEFuZ3VsYXJEZWJ1ZyIsIsm1Vmlld1V0aWwiLCLJtWFjdGlvbkJhck1ldGEiLCLJtWVsZW1lbnRNYXAiLCLJtWlzQWN0aW9uSXRlbSIsIsm1aXNOYXZpZ2F0aW9uQnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==