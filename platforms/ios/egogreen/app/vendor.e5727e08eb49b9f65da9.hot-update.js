"use strict";
exports.id = "vendor";
exports.ids = null;
exports.modules = {

/***/ "./node_modules/@nativescript/angular/fesm2022/nativescript-angular.mjs":
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   APP_ROOT_VIEW: () => (/* binding */ APP_ROOT_VIEW),
/* harmony export */   ActionBarComponent: () => (/* binding */ ActionBarComponent),
/* harmony export */   ActionBarScope: () => (/* binding */ ActionBarScope),
/* harmony export */   ActionItemDirective: () => (/* binding */ ActionItemDirective),
/* harmony export */   AndroidFilterComponent: () => (/* binding */ AndroidFilterComponent),
/* harmony export */   AppHostAsyncView: () => (/* binding */ AppHostAsyncView),
/* harmony export */   AppHostView: () => (/* binding */ AppHostView),
/* harmony export */   BasePortalOutlet: () => (/* binding */ BasePortalOutlet),
/* harmony export */   BaseValueAccessor: () => (/* binding */ BaseValueAccessor),
/* harmony export */   COMMON_PROVIDERS: () => (/* binding */ COMMON_PROVIDERS),
/* harmony export */   CdkPortal: () => (/* binding */ CdkPortal),
/* harmony export */   CdkPortalOutlet: () => (/* binding */ CdkPortalOutlet),
/* harmony export */   CheckedValueAccessor: () => (/* binding */ CheckedValueAccessor),
/* harmony export */   CommentNode: () => (/* binding */ CommentNode),
/* harmony export */   ComponentPortal: () => (/* binding */ ComponentPortal),
/* harmony export */   DEVICE: () => (/* binding */ DEVICE),
/* harmony export */   DISABLE_ROOT_VIEW_HANDLING: () => (/* binding */ DISABLE_ROOT_VIEW_HANDLING),
/* harmony export */   DateValueAccessor: () => (/* binding */ DateValueAccessor),
/* harmony export */   DetachedLoader: () => (/* binding */ DetachedLoader),
/* harmony export */   DomPortal: () => (/* binding */ DomPortal),
/* harmony export */   ENABLE_REUSABE_VIEWS: () => (/* binding */ ENABLE_REUSABE_VIEWS),
/* harmony export */   EmulatedRenderer: () => (/* binding */ EmulatedRenderer),
/* harmony export */   FrameDirective: () => (/* binding */ FrameDirective),
/* harmony export */   FramePageComponent: () => (/* binding */ FramePageComponent),
/* harmony export */   FramePageModule: () => (/* binding */ FramePageModule),
/* harmony export */   FrameService: () => (/* binding */ FrameService),
/* harmony export */   IOSFilterComponent: () => (/* binding */ IOSFilterComponent),
/* harmony export */   InjectableAnimationEngine: () => (/* binding */ InjectableAnimationEngine),
/* harmony export */   InvisibleNode: () => (/* binding */ InvisibleNode),
/* harmony export */   ItemContext: () => (/* binding */ ItemContext),
/* harmony export */   ListViewComponent: () => (/* binding */ ListViewComponent),
/* harmony export */   ModalDialogParams: () => (/* binding */ ModalDialogParams),
/* harmony export */   ModalDialogService: () => (/* binding */ ModalDialogService),
/* harmony export */   NAMESPACE_FILTERS: () => (/* binding */ NAMESPACE_FILTERS),
/* harmony export */   NATIVESCRIPT_MODULE_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_PROVIDERS),
/* harmony export */   NATIVESCRIPT_MODULE_STATIC_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_STATIC_PROVIDERS),
/* harmony export */   NATIVESCRIPT_ROOT_MODULE_ID: () => (/* binding */ NATIVESCRIPT_ROOT_MODULE_ID),
/* harmony export */   NATIVE_DIALOG_DATA: () => (/* binding */ NATIVE_DIALOG_DATA),
/* harmony export */   NATIVE_DIALOG_DEFAULT_OPTIONS: () => (/* binding */ NATIVE_DIALOG_DEFAULT_OPTIONS),
/* harmony export */   NSEmptyOutletComponent: () => (/* binding */ NSEmptyOutletComponent),
/* harmony export */   NSFileSystem: () => (/* binding */ NSFileSystem),
/* harmony export */   NSLocationStrategy: () => (/* binding */ NSLocationStrategy),
/* harmony export */   NSRouteReuseStrategy: () => (/* binding */ NSRouteReuseStrategy),
/* harmony export */   NSRouterLink: () => (/* binding */ NSRouterLink),
/* harmony export */   NSRouterLinkActive: () => (/* binding */ NSRouterLinkActive),
/* harmony export */   NativeDialogCloseDirective: () => (/* binding */ NativeDialogCloseDirective),
/* harmony export */   NativeDialogConfig: () => (/* binding */ NativeDialogConfig),
/* harmony export */   NativeDialogModule: () => (/* binding */ NativeDialogModule),
/* harmony export */   NativeDialogRef: () => (/* binding */ NativeDialogRef),
/* harmony export */   NativeDialogService: () => (/* binding */ NativeDialogService),
/* harmony export */   NativeModalRef: () => (/* binding */ NativeModalRef),
/* harmony export */   NativeScriptAnimationDriver: () => (/* binding */ NativeScriptAnimationDriver),
/* harmony export */   NativeScriptAnimationPlayer: () => (/* binding */ NativeScriptAnimationPlayer),
/* harmony export */   NativeScriptAnimationsModule: () => (/* binding */ NativeScriptAnimationsModule),
/* harmony export */   NativeScriptCommonModule: () => (/* binding */ NativeScriptCommonModule),
/* harmony export */   NativeScriptDocument: () => (/* binding */ NativeScriptDocument),
/* harmony export */   NativeScriptDomPortalOutlet: () => (/* binding */ NativeScriptDomPortalOutlet),
/* harmony export */   NativeScriptFormsModule: () => (/* binding */ NativeScriptFormsModule),
/* harmony export */   NativeScriptHttpClientModule: () => (/* binding */ NativeScriptHttpClientModule),
/* harmony export */   NativeScriptLoadingService: () => (/* binding */ NativeScriptLoadingService),
/* harmony export */   NativeScriptModule: () => (/* binding */ NativeScriptModule),
/* harmony export */   NativeScriptNgSafeEvent: () => (/* binding */ NativeScriptNgSafeEvent),
/* harmony export */   NativeScriptNgZone: () => (/* binding */ NativeScriptNgZone),
/* harmony export */   NativeScriptRendererFactory: () => (/* binding */ NativeScriptRendererFactory),
/* harmony export */   NativeScriptRouterModule: () => (/* binding */ NativeScriptRouterModule),
/* harmony export */   NativeScriptSanitizer: () => (/* binding */ NativeScriptSanitizer),
/* harmony export */   NativescriptXhrFactory: () => (/* binding */ NativescriptXhrFactory),
/* harmony export */   NavigationButtonDirective: () => (/* binding */ NavigationButtonDirective),
/* harmony export */   NgViewRef: () => (/* binding */ NgViewRef),
/* harmony export */   NsHttpBackEnd: () => (/* binding */ NsHttpBackEnd),
/* harmony export */   NsTemplatedItem: () => (/* binding */ NsTemplatedItem),
/* harmony export */   NumberValueAccessor: () => (/* binding */ NumberValueAccessor),
/* harmony export */   Outlet: () => (/* binding */ Outlet),
/* harmony export */   PAGE_FACTORY: () => (/* binding */ PAGE_FACTORY),
/* harmony export */   PageDirective: () => (/* binding */ PageDirective),
/* harmony export */   PageRoute: () => (/* binding */ PageRoute),
/* harmony export */   PageRouterOutlet: () => (/* binding */ PageRouterOutlet),
/* harmony export */   PageService: () => (/* binding */ PageService),
/* harmony export */   PlatformNamespaceFilter: () => (/* binding */ PlatformNamespaceFilter),
/* harmony export */   Portal: () => (/* binding */ Portal),
/* harmony export */   PortalModule: () => (/* binding */ PortalModule),
/* harmony export */   RootCompositeModule: () => (/* binding */ RootCompositeModule),
/* harmony export */   RootViewProxy: () => (/* binding */ RootViewProxy),
/* harmony export */   RouterExtensions: () => (/* binding */ RouterExtensions),
/* harmony export */   START_PATH: () => (/* binding */ START_PATH),
/* harmony export */   SelectedIndexValueAccessor: () => (/* binding */ SelectedIndexValueAccessor),
/* harmony export */   TEMPLATED_ITEMS_COMPONENT: () => (/* binding */ TEMPLATED_ITEMS_COMPONENT),
/* harmony export */   TabViewDirective: () => (/* binding */ TabViewDirective),
/* harmony export */   TabViewItemDirective: () => (/* binding */ TabViewItemDirective),
/* harmony export */   TemplateKeyDirective: () => (/* binding */ TemplateKeyDirective),
/* harmony export */   TemplatePortal: () => (/* binding */ TemplatePortal),
/* harmony export */   TextNode: () => (/* binding */ TextNode),
/* harmony export */   TextValueAccessor: () => (/* binding */ TextValueAccessor),
/* harmony export */   TimeValueAccessor: () => (/* binding */ TimeValueAccessor),
/* harmony export */   VisionOSFilterComponent: () => (/* binding */ VisionOSFilterComponent),
/* harmony export */   _NativeDialogBase: () => (/* binding */ _NativeDialogBase),
/* harmony export */   bootstrapApplication: () => (/* binding */ bootstrapApplication),
/* harmony export */   createKeyframeAnimation: () => (/* binding */ createKeyframeAnimation),
/* harmony export */   customFrameComponentFactory: () => (/* binding */ customFrameComponentFactory),
/* harmony export */   customFrameDirectiveFactory: () => (/* binding */ customFrameDirectiveFactory),
/* harmony export */   customPageFactory: () => (/* binding */ customPageFactory),
/* harmony export */   customPageFactoryFromFrame: () => (/* binding */ customPageFactoryFromFrame),
/* harmony export */   dashCaseToCamelCase: () => (/* binding */ dashCaseToCamelCase),
/* harmony export */   defaultNavOptions: () => (/* binding */ defaultNavOptions),
/* harmony export */   defaultPageFactory: () => (/* binding */ defaultPageFactory),
/* harmony export */   defaultPageFactoryProvider: () => (/* binding */ defaultPageFactoryProvider),
/* harmony export */   detachViewFromParent: () => (/* binding */ detachViewFromParent),
/* harmony export */   disableRootViewHanding: () => (/* binding */ disableRootViewHanding),
/* harmony export */   errorHandler: () => (/* binding */ errorHandler),
/* harmony export */   extractSingleViewRecursive: () => (/* binding */ extractSingleViewRecursive),
/* harmony export */   frameMeta: () => (/* binding */ frameMeta),
/* harmony export */   generateDetachedLoader: () => (/* binding */ generateDetachedLoader),
/* harmony export */   generateFallbackRootView: () => (/* binding */ generateFallbackRootView),
/* harmony export */   generateNativeScriptView: () => (/* binding */ generateNativeScriptView),
/* harmony export */   generateRandomId: () => (/* binding */ generateRandomId),
/* harmony export */   generateRootLayoutAndProxy: () => (/* binding */ generateRootLayoutAndProxy),
/* harmony export */   getFirstNativeLikeView: () => (/* binding */ getFirstNativeLikeView),
/* harmony export */   getItemViewRoot: () => (/* binding */ getItemViewRoot),
/* harmony export */   getSingleViewRecursive: () => (/* binding */ getSingleViewRecursive),
/* harmony export */   getViewClass: () => (/* binding */ getViewClass),
/* harmony export */   getViewMeta: () => (/* binding */ getViewMeta),
/* harmony export */   instantiateDefaultStyleNormalizer: () => (/* binding */ instantiateDefaultStyleNormalizer),
/* harmony export */   instantiateRendererFactory: () => (/* binding */ instantiateRendererFactory),
/* harmony export */   instantiateSupportedAnimationDriver: () => (/* binding */ instantiateSupportedAnimationDriver),
/* harmony export */   isBlank: () => (/* binding */ isBlank),
/* harmony export */   isContentView: () => (/* binding */ isContentView),
/* harmony export */   isDetachedElement: () => (/* binding */ isDetachedElement),
/* harmony export */   isInvisibleNode: () => (/* binding */ isInvisibleNode),
/* harmony export */   isJsObject: () => (/* binding */ isJsObject),
/* harmony export */   isKnownView: () => (/* binding */ isKnownView),
/* harmony export */   isLayout: () => (/* binding */ isLayout),
/* harmony export */   isListLikeIterable: () => (/* binding */ isListLikeIterable),
/* harmony export */   isPresent: () => (/* binding */ isPresent),
/* harmony export */   isView: () => (/* binding */ isView),
/* harmony export */   onAfterLivesync: () => (/* binding */ onAfterLivesync),
/* harmony export */   onBeforeLivesync: () => (/* binding */ onBeforeLivesync),
/* harmony export */   once: () => (/* binding */ once),
/* harmony export */   platformNativeScript: () => (/* binding */ platformNativeScript),
/* harmony export */   platformNativeScriptDynamic: () => (/* binding */ platformNativeScriptDynamic),
/* harmony export */   postAngularBootstrap$: () => (/* binding */ postAngularBootstrap$),
/* harmony export */   preAngularDisposal$: () => (/* binding */ preAngularDisposal$),
/* harmony export */   provideLocationStrategy: () => (/* binding */ provideLocationStrategy),
/* harmony export */   registerElement: () => (/* binding */ registerElement),
/* harmony export */   registerNativeScriptViewComponents: () => (/* binding */ registerNativeScriptViewComponents),
/* harmony export */   runNativeScriptAngularApp: () => (/* binding */ runNativeScriptAngularApp),
/* harmony export */   throwIfAlreadyLoaded: () => (/* binding */ throwIfAlreadyLoaded),
/* harmony export */   throwNoPortalAttachedError: () => (/* binding */ throwNoPortalAttachedError),
/* harmony export */   throwNullPortalError: () => (/* binding */ throwNullPortalError),
/* harmony export */   throwNullPortalOutletError: () => (/* binding */ throwNullPortalOutletError),
/* harmony export */   throwPortalAlreadyAttachedError: () => (/* binding */ throwPortalAlreadyAttachedError),
/* harmony export */   throwPortalOutletAlreadyDisposedError: () => (/* binding */ throwPortalOutletAlreadyDisposedError),
/* harmony export */   throwUnknownPortalTypeError: () => (/* binding */ throwUnknownPortalTypeError),
/* harmony export */   "ɵCOMPONENT_VARIABLE": () => (/* binding */ COMPONENT_VARIABLE),
/* harmony export */   "ɵCONTENT_ATTR": () => (/* binding */ CONTENT_ATTR),
/* harmony export */   "ɵHOST_ATTR": () => (/* binding */ HOST_ATTR),
/* harmony export */   "ɵNativeScriptAngularDebug": () => (/* binding */ NativeScriptDebug),
/* harmony export */   "ɵViewUtil": () => (/* binding */ viewUtil),
/* harmony export */   "ɵactionBarMeta": () => (/* binding */ actionBarMeta),
/* harmony export */   "ɵelementMap": () => (/* binding */ elementMap),
/* harmony export */   "ɵisActionItem": () => (/* binding */ isActionItem),
/* harmony export */   "ɵisNavigationButton": () => (/* binding */ isNavigationButton)
/* harmony export */ });
/* harmony import */ var _Users_baonhivu_Dropbox_My_Mac_Bao_Nhi_s_MacBook_Pro_Desktop_COMP_comp523_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/@nativescript/core/ui/page/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view-base/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/layout-base.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/@nativescript/core/ui/content-view/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/@nativescript/core/ui/proxy-view-container/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/@nativescript/core/platform/common.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/grid-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/@nativescript/core/application/application.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/@nativescript/core/trace/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/formatted-string.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/span.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/absolute-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/@nativescript/core/ui/activity-indicator/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/@nativescript/core/ui/button/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/@nativescript/core/ui/date-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/dock-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/@nativescript/core/ui/frame/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/@nativescript/core/ui/html-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/@nativescript/core/ui/image/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./node_modules/@nativescript/core/ui/label/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./node_modules/@nativescript/core/ui/placeholder/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./node_modules/@nativescript/core/ui/progress/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./node_modules/@nativescript/core/ui/repeater/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/root-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./node_modules/@nativescript/core/ui/scroll-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./node_modules/@nativescript/core/ui/search-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./node_modules/@nativescript/core/ui/segmented-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./node_modules/@nativescript/core/ui/slider/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/stack-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/flexbox-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./node_modules/@nativescript/core/ui/switch/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./node_modules/@nativescript/core/ui/tab-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-field/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__("./node_modules/@nativescript/core/ui/time-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__("./node_modules/@nativescript/core/ui/web-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/wrap-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/properties/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__("./node_modules/@nativescript/core/profiling/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/style-scope.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__("./node_modules/@nativescript/core/data/observable/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__("./node_modules/@nativescript/core/ui/action-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__("./node_modules/@nativescript/core/data/observable-array/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__("./node_modules/@nativescript/core/color/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__("./node_modules/@nativescript/core/platform/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__("./node_modules/@nativescript/core/utils/macrotask-scheduler.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__("./node_modules/@nativescript/core/file-system/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__("./node_modules/@nativescript/core/ui/animation/keyframe-animation.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/converters.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-animation-parser.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-selector.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__("./node_modules/@nativescript/core/utils/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__("./node_modules/@nativescript/core/utils/mainthread-helper.ios.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/rxjs/dist/cjs/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/rxjs/dist/cjs/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__("./node_modules/@angular/animations/fesm2022/animations.mjs");
/* harmony import */ var _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__("./node_modules/@angular/animations/fesm2022/browser.mjs");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs");


















const _c0 = ["vc"];
const _c1 = ["*"];
const _c2 = ["loader"];
function AndroidFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function IOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function VisionOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
const getClassName = instance => instance.constructor.name;
class InvisibleNode extends _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(name = '') {
    super();
    this.name = name;
    this.nodeType = 1;
    this.nodeName = getClassName(this);
  }
  toString() {
    return `${this.nodeName}(${this.id})-${this.name}`;
  }
}
class CommentNode extends InvisibleNode {
  static {
    this.id = 0;
  }
  constructor(value) {
    super(value);
    this.meta = {
      skipAddToDom: true
    };
    this.id = CommentNode.id.toString();
    CommentNode.id += 1;
  }
}
class TextNode extends InvisibleNode {
  static {
    this.textChangeEvent = 'textChange';
  }
  static {
    this.id = 0;
  }
  get text() {
    return this._text;
  }
  set text(t) {
    this._text = t;
    this.notify({
      eventName: TextNode.textChangeEvent,
      object: this,
      value: t
    });
  }
  constructor(value) {
    super(value);
    this._text = '';
    this.callbackMap = new Map();
    this._text = value;
    this.meta = {
      skipAddToDom: true
    };
    this.id = TextNode.id.toString();
    TextNode.id += 1;
  }
  registerTextChange(callback, id) {
    const cb = evt => callback(evt.value);
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.push(cb);
    this.callbackMap.set(id, cbArr);
    this.on('textChange', cb);
  }
  unregisterTextChange(id) {
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.forEach(cb => this.off('textChange', cb));
    this.callbackMap.delete(id);
  }
}
function isDetachedElement(element) {
  return element && element.meta && element.meta.skipAddToDom;
}
function isView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View;
}
function isInvisibleNode(view) {
  return view instanceof InvisibleNode;
}
function isLayout(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase;
}
function isContentView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView;
}
function getFirstNativeLikeView(view, extractFromNSParent = false) {
  if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    if (view.getChildrenCount() === 0) {
      return null;
    }
    return getFirstNativeLikeView(view.getChildAt(0));
  }
  if (extractFromNSParent) {
    const node = view.parentNode;
    detachViewFromParent(view);
    view.parentNode = node;
  }
  return view;
}
function detachViewFromParent(view) {
  const parent = view?.parent;
  if (!parent) {
    return;
  }
  if (parent.meta && parent.meta.removeChild) {
    parent.meta.removeChild(parent, view);
  } else if (isLayout(parent)) {
    parent.removeChild(view);
  } else if (isContentView(parent) && parent.content === view) {
    parent.content = null;
  } else if (isView(parent)) {
    parent._removeView(view);
  }
}
const APP_ROOT_VIEW = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptAppRootView');
const NATIVESCRIPT_ROOT_MODULE_ID = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptRootModuleId');
const START_PATH = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptStartPath');
const ENABLE_REUSABE_VIEWS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptEnableReusableViews');
const DISABLE_ROOT_VIEW_HANDLING = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDisableRootViewHandling');
const DEVICE = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDevice');
const PAGE_FACTORY = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptPageFactory');
const defaultPageFactory = function (_opts) {
  return new _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page();
};
let PlatformNamespaceFilter = class PlatformNamespaceFilter {
  constructor(device) {
    this.device = device;
  }
  runsIn(namespace, next) {
    if (namespace === 'android') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
    }
    if (namespace === 'ios') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
    }
    return next(namespace);
  }
};
PlatformNamespaceFilter = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(DEVICE)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object])], PlatformNamespaceFilter);
const NAMESPACE_FILTERS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptNamespaceFilter');
class NgViewRef {
  constructor(ref) {
    this.ref = ref;
    this.view = ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef ? ref.location.nativeElement : ref.rootNodes.find(v => !(v instanceof InvisibleNode));
    this.firstNativeLikeView = getFirstNativeLikeView(this.view);
  }
  detachNativeLikeView() {
    detachViewFromParent(this.firstNativeLikeView);
  }
}
class AppHostView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(backgroundColor) {
    super();
    this.timeout = -1;
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this._ngAppRoot;
  }
  set ngAppRoot(value) {
    this._ngAppRoot = value;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  //@ts-ignore
  get content() {
    return this._content;
  }
  set content(value) {
    if (this._content) {
      this._content.parentNode = undefined;
    }
    this._content = value;
    if (value) {
      this._content.parentNode = this;
    }
    this.ngAppRoot = value;
    if (this._content instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
      const grid = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
      grid.backgroundColor = this.backgroundColor;
      grid.addChild(this._content);
      this.ngAppRoot = grid;
    }
    if (this.ngAppRoot) {
      // maybe use this approach
      // this.scheduleRootChange();
    }
  }
  scheduleRootChange() {
    if (this.timeout === -1) {
      this.timeout = setTimeout(() => {
        //console.log(this.ngAppRoot);
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => this.content
        });
        this.timeout = -1;
      }, 0);
    }
  }
}
class AppHostAsyncView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout {
  constructor(backgroundColor) {
    super();
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this;
  }
  set ngAppRoot(value) {
    // ignored
  }
}
class NativeScriptLoadingService {
  constructor() {
    this.mainModuleReady$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(false);
    this.readyToDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(true);
    this.onMainModuleReady$ = this.mainModuleReady$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready));
  }
  /**
   * delays destroying this module until `notifyReadyToDestroy()`.
   * remember to call `notifyReadyToDestroy()` when done!
   */
  waitUntilNotified() {
    this.readyToDestroy$.next(false);
  }
  /**
   * notifies this module is ready to be destroyed
   */
  notifyReadyToDestroy() {
    this.readyToDestroy$.next(true);
  }
  isMainModuleReady() {
    return this.mainModuleReady$.value;
  }
  ngOnDestroy() {
    this.readyToDestroy$.complete();
    this.mainModuleReady$.complete();
  }
  /**
   * This funcion is called by the bootstrap code when the app is ready
   * @internal
   */
  _notifyMainModuleReady() {
    this.mainModuleReady$.next(true);
  }
  static {
    this.ɵfac = function NativeScriptLoadingService_Factory(t) {
      return new (t || NativeScriptLoadingService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeScriptLoadingService,
      factory: NativeScriptLoadingService.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptLoadingService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NativeScriptDebug {
  static {
    this.animationsTraceCategory = 'ns-animations';
  }
  static {
    this.rendererTraceCategory = 'ns-renderer';
  }
  static {
    this.viewUtilCategory = 'ns-view-util';
  }
  static {
    this.routerTraceCategory = 'ns-router';
  }
  static {
    this.routeReuseStrategyTraceCategory = 'ns-route-reuse-strategy';
  }
  static {
    this.listViewTraceCategory = 'ns-list-view';
  }
  static {
    this.bootstrapCategory = 'bootstrap';
  }
  // TODO: migrate all usage to this - avoids extraneous method executions
  static {
    this.enabled = _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static isLogEnabled() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static animationsLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.animationsTraceCategory);
  }
  static rendererLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.rendererTraceCategory);
  }
  static rendererError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.rendererTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static viewUtilLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.viewUtilCategory);
  }
  static routerLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory);
  }
  static routerError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static routeReuseStrategyLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routeReuseStrategyTraceCategory);
  }
  static styleError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.categories.Style, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static listViewLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory);
  }
  static listViewError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static bootstrapLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory);
  }
  static bootstrapLogError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
}
class NativescriptXhrFactory extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory {
  build() {
    return new XMLHttpRequest();
  }
  static {
    this.ɵfac = /* @__PURE__ */function () {
      let ɵNativescriptXhrFactory_BaseFactory;
      return function NativescriptXhrFactory_Factory(t) {
        return (ɵNativescriptXhrFactory_BaseFactory || (ɵNativescriptXhrFactory_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetInheritedFactory"](NativescriptXhrFactory)))(t || NativescriptXhrFactory);
      };
    }();
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptXhrFactory,
      factory: NativescriptXhrFactory.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptXhrFactory, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();
const frameMeta = {
  insertChild: (parent, child) => {
    // Page cannot be added to Frame with _addChildFromBuilder (thwos "use defaultPage" error)
    if (isInvisibleNode(child)) {
      return;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      parent.navigate({
        create: () => child
      });
    } else {
      throw new Error('Only a Page can be a child of Frame');
    }
  }
};
const formattedStringMeta = {
  insertChild(parent, child, next) {
    const index = parent.spans.indexOf(next);
    if (index > -1) {
      parent.spans.splice(index, 0, child);
    } else {
      parent.spans.push(child);
    }
  },
  removeChild(parent, child) {
    const index = parent.spans.indexOf(child);
    if (index > -1) {
      parent.spans.splice(index, 1);
    }
  }
};
const textBaseMeta = {
  insertChild(parent, child, next) {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      parent.formattedText = child;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      parent.formattedText ??= new _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString();
      formattedStringMeta.insertChild(parent.formattedText, child, next);
    }
  },
  removeChild(parent, child) {
    if (!parent.formattedText) return;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      if (parent.formattedText === child) {
        parent.formattedText = null;
      }
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      formattedStringMeta.removeChild(parent.formattedText, child);
    }
  }
};
const elementMap = new Map();
const camelCaseSplit = /([a-z0-9])([A-Z])/g;
const defaultViewMeta = {
  skipAddToDom: false
};
function registerElement(elementName, resolver, meta) {
  const entry = {
    resolver,
    meta
  };
  elementMap.set(elementName, entry);
  elementMap.set(elementName.toLowerCase(), entry);
  elementMap.set(elementName.replace(camelCaseSplit, '$1-$2').toLowerCase(), entry);
}
function getViewClass(elementName) {
  const entry = elementMap.get(elementName) || elementMap.get(elementName.toLowerCase());
  if (!entry) {
    throw new TypeError(`No known component for element ${elementName}.`);
  }
  try {
    return entry.resolver();
  } catch (e) {
    throw new TypeError(`Could not load view for: ${elementName}.${e}`);
  }
}
function getViewMeta(nodeName) {
  const entry = elementMap.get(nodeName) || elementMap.get(nodeName.toLowerCase());
  return entry && entry.meta || defaultViewMeta;
}
function isKnownView(elementName) {
  return elementMap.has(elementName) || elementMap.has(elementName.toLowerCase());
}
function extractSingleViewRecursive(nodes, nestLevel) {
  const actualNodes = nodes.filter(node => !(node instanceof InvisibleNode));
  if (actualNodes.length === 0) {
    throw new Error(`No suitable views found in list template! ` + `Nesting level: ${nestLevel}`);
  } else if (actualNodes.length > 1) {
    throw new Error(`More than one view found in list template!` + `Nesting level: ${nestLevel}`);
  }
  const rootLayout = actualNodes[0];
  if (!rootLayout) {
    return extractSingleViewRecursive(rootLayout.children, nestLevel + 1);
  }
  const parentLayout = rootLayout.parent;
  if (parentLayout instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase) {
    const node = rootLayout.parentNode;
    parentLayout.removeChild(rootLayout);
    rootLayout.parentNode = node;
  }
  return rootLayout;
}
/**
 * @deprecated getSingleViewRecursive is deprecated, use extractSingleViewRecursive
 */
function getSingleViewRecursive(nodes, nestLevel) {
  return extractSingleViewRecursive(nodes, nestLevel);
}

// Register default NativeScript components
// Note: ActionBar related components are registerd together with action-bar directives.
function registerNativeScriptViewComponents() {
  if (!global.__ngRegisteredViews) {
    global.__ngRegisteredViews = true;
    registerElement('AbsoluteLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_17__.AbsoluteLayout);
    registerElement('ActivityIndicator', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_18__.ActivityIndicator);
    registerElement('Button', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_19__.Button, textBaseMeta);
    registerElement('ContentView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView);
    registerElement('DatePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_20__.DatePicker);
    registerElement('DockLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.DockLayout);
    registerElement('Frame', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, frameMeta);
    registerElement('GridLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout);
    registerElement('HtmlView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.HtmlView);
    registerElement('Image', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    // Parse5 changes <Image> tags to <img>. WTF!
    registerElement('img', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    registerElement('Label', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_25__.Label, textBaseMeta);
    registerElement('ListPicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_26__.ListPicker);
    registerElement('ListView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_27__.ListView);
    registerElement('Page', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page);
    registerElement('Placeholder', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_28__.Placeholder);
    registerElement('Progress', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_29__.Progress);
    registerElement('ProxyViewContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer);
    registerElement('Repeater', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.Repeater);
    registerElement('RootLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout);
    registerElement('ScrollView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_32__.ScrollView);
    registerElement('SearchBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SearchBar);
    registerElement('SegmentedBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBar);
    registerElement('SegmentedBarItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBarItem);
    registerElement('Slider', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_35__.Slider);
    registerElement('StackLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_36__.StackLayout);
    registerElement('FlexboxLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_37__.FlexboxLayout);
    registerElement('Switch', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.Switch);
    registerElement('TabView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabView);
    registerElement('TextField', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextField, textBaseMeta);
    registerElement('TextView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView, textBaseMeta);
    registerElement('TimePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_42__.TimePicker);
    registerElement('WebView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_43__.WebView);
    registerElement('WrapLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.WrapLayout);
    registerElement('FormattedString', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString, formattedStringMeta);
    registerElement('Span', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span);
  }
}

// Note: this utility exists from deep core import however results in
// Module not found: Error: Can't resolve '@nativescript/core/ui/core/properties'
function isCssVariable(property) {
  return /^--[^,\s]+?$/.test(property);
}
const ELEMENT_NODE_TYPE = 1;
const XML_ATTRIBUTES = Object.freeze(['style', 'rows', 'columns', 'fontAttributes']);
const whiteSpaceSplitter = /\s+/;
function printNgTree(view) {
  let parent = view;
  while (parent.parent && parent.parent.firstChild) {
    parent = parent.parent;
  }
  printChildrenRecurse(parent);
}
function printChildrenRecurse(parent) {
  const children = parent.firstChild ? [parent.firstChild, ...getChildrenSiblings(parent.firstChild).nextSiblings] : [];
  console.log(`parent: ${parent}, firstChild: ${parent.firstChild}, lastChild: ${parent.lastChild} children: ${children}`);
  if (parent.firstChild) {
    console.log(`----- start ${parent}`);
  }
  children.forEach(c => printChildrenRecurse(c));
  if (parent.firstChild) {
    console.log(`----- end ${parent}`);
  }
}
function getChildrenSiblings(view) {
  const nextSiblings = [];
  const previousSiblings = [];
  let sibling = view.nextSibling;
  while (sibling) {
    nextSiblings.push(sibling);
    sibling = sibling.nextSibling;
  }
  sibling = view.previousSibling;
  while (sibling) {
    previousSiblings.push(sibling);
    sibling = sibling.previousSibling;
  }
  return {
    previousSiblings,
    nextSiblings
  };
}
function printSiblingsTree(view) {
  const {
    previousSiblings,
    nextSiblings
  } = getChildrenSiblings(view);
  console.log(`${view} previousSiblings: ${previousSiblings} nextSiblings: ${nextSiblings}`);
}
// eslint-disable-next-line @typescript-eslint/ban-types
const propertyMaps = new Map();
class ViewUtil {
  constructor(namespaceFilters, reuseViews) {
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
  }
  /**
   * Inserts a child into a parrent, preferably before next.
   * @param parent parent view
   * @param child child view to be added
   * @param previous previous element. If present, insert after this.
   * @param next next element. If present, insert before this (previous is ignored).
   */
  insertChild(parent, child, previous, next) {
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    // this should never enter, as angular is supposed to remove the child from the previous parent before calling this
    // but when angular animations are enabled, the removal might be delayed, so we need to ensure this view is not anywhere
    // this seems to only happens to CommentNodes
    if (extendedChild.parentNode) {
      this.removeChild(extendedChild.parentNode, extendedChild);
    }
    // if there's a next child, previous is the previousSibling of it
    if (next) {
      previous = next.previousSibling;
    } else if (previous) {
      // if there's a previous, next is the nextSibling of it
      next = previous.nextSibling;
    } else {
      // no previous or next, append to the parent
      previous = extendedParent.lastChild; // this can still be undefined if the parent has no children!
    }

    this.insertInList(extendedParent, extendedChild, previous, next);
    if (isDetachedElement(child) || isInvisibleNode(child)) {
      extendedChild.parentNode = extendedParent;
    }
    if (!isDetachedElement(child)) {
      const nextVisual = this.findNextVisual(next);
      this.addToVisualTree(extendedParent, extendedChild, nextVisual);
    } else if (isInvisibleNode(extendedChild)) {
      const nextVisual = this.findNextVisual(next);
      this.addInvisibleNode(extendedParent, extendedChild, nextVisual);
    }
    // printNgTree(extendedChild);
  }

  insertBefore(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, undefined, extendedRef);
  }
  insertAfter(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, extendedRef);
  }
  appendChild(parent, child) {
    this.insertChild(parent, child);
  }
  /**
   * Inserts a view into the parent/sibling linked list
   * !WARNING: this method makes no checks to validate the integrity of previous/next children
   * @param parent parent view
   * @param child child view
   * @param previous previous element. null/undefined for first element
   * @param next next element. null/undefined for last element
   */
  insertInList(parent, child, previous, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.insertInList parent: ${parent}, view: ${child}, ` + `previous: ${previous}, next: ${next}`);
    }
    if (previous) {
      previous.nextSibling = child;
      child.previousSibling = previous;
    } else {
      parent.firstChild = child;
    }
    if (next) {
      child.nextSibling = next;
      next.previousSibling = child;
    } else {
      parent.lastChild = child;
    }
  }
  addToVisualTree(parent, child, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.addToVisualTree parent: ${parent}, view: ${child}, next: ${next}`);
    }
    if (parent.meta && parent.meta.insertChild) {
      parent.meta.insertChild(parent, child, next);
    } else if (isLayout(parent)) {
      this.insertToLayout(parent, child, next);
    } else if (isContentView(parent)) {
      parent.content = child;
    } else if (parent && parent._addChildFromBuilder) {
      parent._addChildFromBuilder(child.nodeName, child);
    }
  }
  addInvisibleNode(parent, child, next) {
    if (parent.meta?.insertInvisibleNode) {
      parent.meta.insertInvisibleNode(parent, child, next);
    } else {
      if (child instanceof TextNode) {
        parent.text = child.text;
        child.registerTextChange(t => parent.text = t, parent);
      }
    }
  }
  insertToLayout(parent, child, next) {
    if (child.parent === parent) {
      this.removeLayoutChild(parent, child);
    }
    const nextVisual = this.findNextVisual(next);
    if (nextVisual) {
      const index = parent.getChildIndex(nextVisual);
      parent.insertChild(child, index);
    } else {
      parent.addChild(child);
    }
    // parent.eachChild((c) => {console.log(c); return true});
  }

  findNextVisual(view) {
    let next = view;
    while (next && isDetachedElement(next)) {
      next = next.nextSibling;
    }
    return next;
  }
  removeChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeChild parent: ${parent} child: ${child}`);
    }
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    extendedChild.parentNode = null;
    this.removeFromList(extendedParent, extendedChild);
    if (!isDetachedElement(extendedChild)) {
      this.removeFromVisualTree(extendedParent, extendedChild);
    } else if (isInvisibleNode(extendedChild)) {
      this.removeInvisibleNode(extendedParent, extendedChild);
    }
  }
  removeFromList(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromList parent: ${parent} child: ${child}`);
    }
    // only child. null everything
    if (parent.firstChild === child && parent.lastChild === child) {
      parent.firstChild = null;
      parent.lastChild = null;
      child.nextSibling = null;
      child.previousSibling = null;
      return;
    }
    const previous = child.previousSibling;
    const next = child.nextSibling;
    // is first child, make the next sibling the first child (can be null)
    if (parent.firstChild === child) {
      parent.firstChild = next;
    }
    // is last child, make the previous sibling the last child (can be null)
    if (parent.lastChild === child) {
      parent.lastChild = previous;
    }
    // we have a previous sibling, make it point to the next sibling
    if (previous) {
      previous.nextSibling = next;
    }
    // we have a next sibling, make it point to the previous
    if (next) {
      next.previousSibling = previous;
    }
    // finally, null the siblings
    child.nextSibling = null;
    child.previousSibling = null;
  }
  // NOTE: This one is O(n) - use carefully
  findPreviousElement(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.findPreviousElement parent: ${parent} child: ${child}`);
    }
    let previousVisual;
    if (isLayout(parent)) {
      previousVisual = this.getPreviousVisualElement(parent, child);
    }
    let previous = previousVisual || parent.firstChild;
    // since detached elements are not added to the visual tree,
    // we need to find the actual previous sibling of the view,
    // which may as well be an invisible node
    while (previous && previous !== child && previous.nextSibling !== child) {
      previous = previous.nextSibling;
    }
    return previous;
  }
  getPreviousVisualElement(parent, child) {
    const elementIndex = parent.getChildIndex(child);
    if (elementIndex > 0) {
      return parent.getChildAt(elementIndex - 1);
    }
  }
  // NOTE: This one is O(n) - use carefully
  getChildIndex(parent, child) {
    if (isLayout(parent)) {
      return parent.getChildIndex(child);
    } else if (isContentView(parent)) {
      return child === parent.content ? 0 : -1;
    }
  }
  removeFromVisualTree(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromVisualTree parent: ${parent} child: ${child}`);
    }
    if (parent.meta && parent.meta.removeChild) {
      parent.meta.removeChild(parent, child);
    } else if (isLayout(parent)) {
      this.removeLayoutChild(parent, child);
    } else if (isContentView(parent) && parent.content === child) {
      parent.content = null;
    } else if (isView(parent)) {
      parent._removeView(child);
    }
  }
  removeInvisibleNode(parent, child) {
    if (parent.meta?.removeInvisibleNode) {
      parent.meta.removeInvisibleNode(parent, child);
    } else {
      if (child instanceof TextNode) {
        child.unregisterTextChange(parent);
      }
    }
  }
  removeLayoutChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeLayoutChild parent: ${parent} child: ${child}`);
    }
    const index = parent.getChildIndex(child);
    if (index !== -1) {
      parent.removeChild(child);
    }
  }
  createComment(value) {
    return new CommentNode(value);
  }
  createText(value) {
    return new TextNode(value);
  }
  createView(name) {
    const originalName = name;
    if (!isKnownView(name)) {
      name = 'ProxyViewContainer';
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Creating view: ${originalName} ${name}`);
    }
    const viewClass = getViewClass(name);
    const view = new viewClass();
    const ngView = this.setNgViewExtensions(view, name);
    ngView.reusable = !!this.reuseViews;
    return ngView;
  }
  ensureNgViewExtensions(view) {
    if (Object.hasOwnProperty.call(view, 'meta')) {
      return view;
    } else {
      const name = view.cssType || view.typeName;
      const ngView = this.setNgViewExtensions(view, name);
      return ngView;
    }
  }
  setNgViewExtensions(view, name) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Make into a NgView view: ${view} name: "${name}"`);
    }
    const ngView = view;
    ngView.nodeName = name;
    ngView.meta = getViewMeta(name);
    // we're setting the node type of the view
    // to 'element' because of checks done in the
    // dom animation engine
    ngView.nodeType = ELEMENT_NODE_TYPE;
    return ngView;
  }
  setProperty(view, attributeName, value, namespace) {
    if (!view || namespace && !this.runsIn(namespace)) {
      return;
    }
    if (attributeName.indexOf('.') !== -1) {
      // Handle nested properties
      const properties = attributeName.split('.');
      attributeName = properties[properties.length - 1];
      let propMap = this.getProperties(view);
      let i = 0;
      while (i < properties.length - 1 && typeof view !== 'undefined') {
        let prop = properties[i];
        if (propMap.has(prop)) {
          prop = propMap.get(prop);
        }
        view = view[prop];
        propMap = this.getProperties(view);
        i++;
      }
    }
    if (typeof view !== 'undefined') {
      this.setPropertyInternal(view, attributeName, value);
    }
  }
  runsIn(platform) {
    let runs = true;
    const last = () => true;
    if (this.namespaceFilters) {
      let chain = p => true;
      for (let i = this.namespaceFilters.length - 1; i >= 0; i--) {
        const currentChain = chain;
        chain = p => this.namespaceFilters[i].runsIn(p, currentChain);
      }
      runs = chain(platform);
      runs = runs !== false ? true : false; // undefined means true
      // this.namespaceFilters.some((filter) => {
      // 	const runsInFilter = filter.runsIn(platform);
      // 	if (runsInFilter !== undefined) {
      // 		runs = runsInFilter;
      // 		return true;
      // 	}
      // });
    }

    return runs;
  }
  setPropertyInternal(view, attributeName, value) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Setting attribute: ${attributeName}=${value} to ${view}`);
    }
    if (attributeName === 'class') {
      this.setClasses(view, value);
      return;
    }
    if (XML_ATTRIBUTES.indexOf(attributeName) !== -1) {
      view[attributeName] = value;
      return;
    }
    const propMap = this.getProperties(view);
    const propertyName = propMap.get(attributeName);
    // Ensure the children of a collection currently have no parent set.
    if (Array.isArray(value)) {
      this.removeParentReferencesFromItems(value);
    }
    if (propertyName) {
      // We have a lower-upper case mapped property.
      view[propertyName] = value;
      return;
    }
    // Unknown attribute value -- just set it to our object as is.
    view[attributeName] = value;
  }
  removeParentReferencesFromItems(items) {
    for (const item of items) {
      if (item.parent && item.parentNode) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.viewUtilLog(`Unassigning parent ${item.parentNode} on value: ${item}`);
        }
        item.parent = undefined;
        item.parentNode = undefined;
      }
    }
  }
  getProperties(instance) {
    const type = instance && instance.constructor;
    if (!type) {
      return new Map();
    }
    if (!propertyMaps.has(type)) {
      const propMap = new Map();
      for (const propName in instance) {
        // tslint:disable:forin
        propMap.set(propName.toLowerCase(), propName);
      }
      propertyMaps.set(type, propMap);
    }
    return propertyMaps.get(type);
  }
  cssClasses(view) {
    if (!view.ngCssClasses) {
      view.ngCssClasses = new Map();
    }
    return view.ngCssClasses;
  }
  addClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).set(className, true);
    this.syncClasses(extendedView);
  }
  removeClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).delete(className);
    this.syncClasses(extendedView);
  }
  setClasses(view, classesValue) {
    const classes = classesValue.split(whiteSpaceSplitter);
    this.cssClasses(view).clear();
    classes.forEach(className => this.cssClasses(view).set(className, true));
    this.syncClasses(view);
  }
  syncClasses(view) {
    const classValue = Array.from(this.cssClasses(view).keys()).join(' ');
    view.className = classValue;
  }
  setStyle(view, styleName, value) {
    if (isCssVariable(styleName)) {
      view.style.setUnscopedCssVariable(styleName, value);
      view._onCssStateChange();
    } else {
      view.style[styleName] = value;
    }
  }
  removeStyle(view, styleName) {
    if (isCssVariable(styleName)) {
      // TODO: expose this on core
      view.style.unscopedCssVariables.delete(styleName);
      view._onCssStateChange();
    } else {
      view.style[styleName] = _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue;
    }
  }
}
var viewUtil = /*#__PURE__*/Object.freeze({
  __proto__: null,
  ViewUtil: ViewUtil
});
const addStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('"renderer".addStyleToCss', function addStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
function runInRootZone(fn) {
  if (typeof Zone === 'undefined') {
    return fn();
  }
  return Zone.root.run(fn);
}
function inRootZone() {
  return function (target, key, descriptor) {
    const childFunction = descriptor.value;
    descriptor.value = function (...args) {
      const fn = childFunction.bind(this);
      return runInRootZone(() => fn(...args));
    };
    return descriptor;
  };
}
let NativeScriptRendererFactory = class NativeScriptRendererFactory {
  constructor(rootView, namespaceFilters, rootModuleID, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.rootModuleID = rootModuleID;
    this.reuseViews = reuseViews;
    this.componentRenderers = new Map();
    // backwards compatibility with RadListView
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    if (typeof this.reuseViews !== 'boolean') {
      this.reuseViews = false; // default to false
    }

    this.defaultRenderer = new NativeScriptRenderer(rootView, namespaceFilters, this.reuseViews);
  }
  createRenderer(hostElement, type) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRendererFactory.createRenderer ${hostElement}. type.id: ${type.id} type.encapsulation: ${type.encapsulation}`);
    }
    if (!hostElement || !type) {
      return this.defaultRenderer;
    }
    let renderer = this.componentRenderers.get(type.id);
    /**
     *! WARNING
     *! We're reusing the renderer for the components
     *! this might cause unexpected behavior as the "rootView" is an arbitrary hostElement
     *! also, the renderer has it's .destroy() called!
     *! might be useful to create a BaseEmulatedRender and a ProxyEmulatedRender
     *! every component type gets a BaseEmulatedRender (singleton) which is passed to ProxyEmulatedRender
     *! ProxyEmulatedRenderer registers with BaseEmulatedRender so we can clean up things like CSS when it's not needed
     *! this might be useful if we find a way to HMR component styling without a full rebootstrap
     */
    if (renderer) {
      if (renderer instanceof EmulatedRenderer) {
        renderer.applyToHost(hostElement);
      }
      return renderer;
    }
    if (type.encapsulation === _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.None) {
      type.styles.map(s => s.toString()).forEach(v => addStyleToCss(v, this.rootModuleID));
      renderer = this.defaultRenderer;
    } else {
      renderer = new EmulatedRenderer(type, hostElement, this.namespaceFilters, this.rootModuleID, this.reuseViews);
      renderer.applyToHost(hostElement);
    }
    this.componentRenderers.set(type.id, renderer);
    return renderer;
  }
  // begin?(): void {
  //     throw new Error("Method not implemented.");
  // }
  // end?(): void {
  //     throw new Error("Method not implemented.");
  // }
  whenRenderingDone() {
    if (!this.rootView) {
      return Promise.resolve();
    }
    return new Promise(resolve => {
      let interval = 0;
      function scheduleResolve() {
        // iOS really hates synchronous things...
        // Utils.queueMacrotask(resolve);
        setTimeout(resolve, 15);
      }
      function fireWhenLoaded() {
        const view = rootFactory();
        if (view.isLoaded) {
          scheduleResolve();
        } else {
          view.once('loaded', scheduleResolve);
        }
      }
      const rootFactory = () => this.rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView ? this.rootView.content : this.rootView;
      if (!rootFactory()) {
        interval = setInterval(() => {
          if (rootFactory()) {
            clearInterval(interval);
            fireWhenLoaded();
          }
        }, 10);
      } else {
        fireWhenLoaded();
      }
    });
    // throw new Error("Method not implemented.");
  }
};

NativeScriptRendererFactory = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(APP_ROOT_VIEW)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(1, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NAMESPACE_FILTERS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NATIVESCRIPT_ROOT_MODULE_ID)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(ENABLE_REUSABE_VIEWS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, Array, Object, Object])], NativeScriptRendererFactory);
class NativeScriptRenderer {
  constructor(rootView, namespaceFilters, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    this.destroyNode = node => runInRootZone(() => {
      if (NativeScriptDebug.enabled) {
        NativeScriptDebug.rendererLog(`NativeScriptRenderer.destroyNode node: ${node}`);
      }
      if (node?.destroyNode) {
        node?.destroyNode();
      }
    });
  }
  get data() {
    throw new Error('Method not implemented.');
  }
  destroy() {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.destroy');
    }
  }
  createElement(name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createElement: ${name}`);
    }
    let oldName;
    if (!isKnownView(name)) {
      oldName = name;
      name = 'ProxyViewContainer';
    }
    const view = this.viewUtil.createView(name);
    if (oldName) {
      view.customCSSName = oldName;
    }
    return view;
  }
  createComment(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createComment ${value}`);
    }
    return this.viewUtil.createComment(value);
  }
  createText(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createText ${value}`);
    }
    return this.viewUtil.createText(value);
  }
  appendChild(parent, newChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.appendChild child: ${newChild} parent: ${parent}`);
    }
    this.viewUtil.appendChild(parent, newChild);
  }
  insertBefore(parent, newChild, refChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.insertBefore child: ${newChild} ` + `parent: ${parent} refChild: ${refChild}`);
    }
    this.viewUtil.insertBefore(parent, newChild, refChild);
  }
  removeChild(parent, oldChild, isHostElement) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeChild child: ${oldChild} parent: ${parent}`);
    }
    this.viewUtil.removeChild(parent, oldChild);
  }
  selectRootElement(selectorOrNode, preserveContent) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.selectRootElement: ${selectorOrNode}`);
    }
    if (selectorOrNode instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      return selectorOrNode;
    }
    if (selectorOrNode && selectorOrNode[0] === '#') {
      const result = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.getViewById)(this.rootView, selectorOrNode.slice(1));
      return result || this.rootView;
    }
    if (typeof selectorOrNode === 'string') {
      const view = this.viewUtil.createView(selectorOrNode);
      if (getFirstNativeLikeView(view) === view) {
        // view is nativelike!
        this.appendChild(this.rootView, view);
        return view;
      }
    }
    return this.rootView;
  }
  parentNode(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.parentNode for node: ${node} is ${node.parentNode}`);
    }
    return node.parentNode;
  }
  nextSibling(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.nextSibling of ${node} is ${node.nextSibling}`);
    }
    return node.nextSibling;
  }
  setAttribute(el, name, value, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setAttribute ${namespace ? namespace + ':' : ''}${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value, namespace);
  }
  removeAttribute(el, name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeAttribute ${namespace ? namespace + ':' : ''}${el}.${name}`);
    }
  }
  addClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.addClass ${name}`);
    }
    this.viewUtil.addClass(el, name);
  }
  removeClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeClass ${name}`);
    }
    this.viewUtil.removeClass(el, name);
  }
  setStyle(el, style, value, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setStyle: ${el}, ${style} = ${value}`);
    }
    this.viewUtil.setStyle(el, style, value);
  }
  removeStyle(el, style, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.removeStyle: ${styleName}');
    }
    this.viewUtil.removeStyle(el, style);
  }
  setProperty(el, name, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setProperty ${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value);
  }
  setValue(node, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setValue renderNode: ${node}, value: ${value}`);
    }
    if (node instanceof TextNode) {
      node.text = value;
    }
    // throw new Error("Method not implemented.");
  }

  listen(target, eventName, callback) {
    // throw new Error("Method not implemented.");
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.listen: ${eventName}`);
    }
    target.on(eventName, callback);
    if (eventName === _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent && target.isLoaded) {
      // we must create a new obervable here to ensure that the event goes through whatever zone patches are applied
      const obs = new _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.Observable();
      obs.once(eventName, callback);
      obs.notify({
        eventName,
        object: target
      });
    }
    return () => target.off(eventName, callback);
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createElement", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createComment", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createText", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "appendChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "insertBefore", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Boolean]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setAttribute", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "addClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setProperty", null);
// CONTENT_ATTR not exported from nativescript-renderer - we need it for styles application.
const COMPONENT_REGEX = /%COMP%/g;
const ATTR_SANITIZER = /-/g;
const COMPONENT_VARIABLE = '%COMP%';
const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;
const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;
const replaceNgAttribute = function (input, componentId) {
  return input.replace(COMPONENT_REGEX, componentId);
};
const addScopedStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)(`"renderer".addScopedStyleToCss`, function addScopedStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
class EmulatedRenderer extends NativeScriptRenderer {
  constructor(component, rootView, namespaceFilters, rootModuleId, reuseViews) {
    super(rootView, namespaceFilters, reuseViews);
    this.rootModuleId = rootModuleId;
    const componentId = component.id.replace(ATTR_SANITIZER, '_');
    this.contentAttr = replaceNgAttribute(CONTENT_ATTR, componentId);
    this.hostAttr = replaceNgAttribute(HOST_ATTR, componentId);
    this.addStyles(component.styles, componentId);
  }
  applyToHost(view) {
    super.setAttribute(view, this.hostAttr, '');
  }
  appendChild(parent, newChild) {
    super.appendChild(parent, newChild);
  }
  createElement(parent, name) {
    const view = super.createElement(parent, name);
    // Set an attribute to the view to scope component-specific css.
    // The property name is pre-generated by Angular.
    super.setAttribute(view, this.contentAttr, '');
    return view;
  }
  addStyles(styles, componentId) {
    styles.map(s => s.toString()).map(s => replaceNgAttribute(s, componentId)).forEach(s => addScopedStyleToCss(s, this.rootModuleId));
  }
  static {
    this.ɵfac = function EmulatedRenderer_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: EmulatedRenderer,
      factory: EmulatedRenderer.ɵfac
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Array, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], EmulatedRenderer.prototype, "addStyles", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EmulatedRenderer, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: undefined
    }];
  }, {
    addStyles: []
  });
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Throws an exception when attempting to attach a null portal to a host.
 * @docs-private
 */
function throwNullPortalError() {
  throw Error('Must provide a portal to attach');
}
/**
 * Throws an exception when attempting to attach a portal to a host that is already attached.
 * @docs-private
 */
function throwPortalAlreadyAttachedError() {
  throw Error('Host already has a portal attached');
}
/**
 * Throws an exception when attempting to attach a portal to an already-disposed host.
 * @docs-private
 */
function throwPortalOutletAlreadyDisposedError() {
  throw Error('This PortalOutlet has already been disposed');
}
/**
 * Throws an exception when attempting to attach an unknown portal type.
 * @docs-private
 */
function throwUnknownPortalTypeError() {
  throw Error('Attempting to attach an unknown Portal type. BasePortalOutlet accepts either ' + 'a ComponentPortal or a TemplatePortal.');
}
/**
 * Throws an exception when attempting to attach a portal to a null host.
 * @docs-private
 */
function throwNullPortalOutletError() {
  throw Error('Attempting to attach a portal to a null PortalOutlet');
}
/**
 * Throws an exception when attempting to detach a portal that is not attached.
 * @docs-private
 */
function throwNoPortalAttachedError() {
  throw Error('Attempting to detach a portal that is not attached to a host');
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A `Portal` is something that you want to render somewhere else.
 * It can be attach to / detached from a `PortalOutlet`.
 */
class Portal {
  /** Attach this portal to a host. */
  attach(host) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (host == null) {
        throwNullPortalOutletError();
      }
      if (host.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
    }
    this._attachedHost = host;
    return host.attach(this);
  }
  /** Detach this portal from its host */
  detach() {
    const host = this._attachedHost;
    if (host != null) {
      this._attachedHost = null;
      host.detach();
    } else if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwNoPortalAttachedError();
    }
  }
  /** Whether this portal is attached to a host. */
  get isAttached() {
    return this._attachedHost != null;
  }
  /**
   * Sets the PortalOutlet reference without performing `attach()`. This is used directly by
   * the PortalOutlet when it is performing an `attach()` or `detach()`.
   */
  setAttachedHost(host) {
    this._attachedHost = host;
  }
}
/**
 * A `ComponentPortal` is a portal that instantiates some Component upon attachment.
 */
class ComponentPortal extends Portal {
  constructor(component, viewContainerRef, injector, componentFactoryResolver) {
    super();
    this.component = component;
    this.viewContainerRef = viewContainerRef;
    this.injector = injector;
    this.componentFactoryResolver = componentFactoryResolver;
  }
}
/**
 * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).
 */
class TemplatePortal extends Portal {
  constructor(template, viewContainerRef, context) {
    super();
    this.templateRef = template;
    this.viewContainerRef = viewContainerRef;
    this.context = context;
  }
  get origin() {
    return this.templateRef.elementRef;
  }
  /**
   * Attach the portal to the provided `PortalOutlet`.
   * When a context is provided it will override the `context` property of the `TemplatePortal`
   * instance.
   */
  attach(host, context = this.context) {
    this.context = context;
    return super.attach(host);
  }
  detach() {
    this.context = undefined;
    return super.detach();
  }
}
/**
 * A `DomPortal` is a portal whose DOM element will be taken from its current position
 * in the DOM and moved into a portal outlet, when it is attached. On detach, the content
 * will be restored to its original position.
 */
class DomPortal extends Portal {
  constructor(element) {
    super();
    this.element = element instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef ? element.nativeElement : element;
  }
}
/**
 * Partial implementation of PortalOutlet that handles attaching
 * ComponentPortal and TemplatePortal.
 */
class BasePortalOutlet {
  constructor() {
    /** Whether this host has already been permanently disposed. */
    this._isDisposed = false;
    // @breaking-change 10.0.0 `attachDomPortal` to become a required abstract method.
    // eslint-disable-next-line @typescript-eslint/member-ordering
    this.attachDomPortal = null;
  }
  /** Whether this host has an attached portal. */
  hasAttached() {
    return !!this._attachedPortal;
  }
  /** Attaches a portal. */
  attach(portal) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (!portal) {
        throwNullPortalError();
      }
      if (this.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
      if (this._isDisposed) {
        throwPortalOutletAlreadyDisposedError();
      }
    }
    if (portal instanceof ComponentPortal) {
      this._attachedPortal = portal;
      return this.attachComponentPortal(portal);
    } else if (portal instanceof TemplatePortal) {
      this._attachedPortal = portal;
      return this.attachTemplatePortal(portal);
      // @breaking-change 10.0.0 remove null check for `this.attachDomPortal`.
    } else if (this.attachDomPortal && portal instanceof DomPortal) {
      this._attachedPortal = portal;
      return this.attachDomPortal(portal);
    }
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwUnknownPortalTypeError();
    }
  }
  /** Detaches a previously attached portal. */
  detach() {
    if (this._attachedPortal) {
      this._attachedPortal.setAttachedHost(null);
      this._attachedPortal = null;
    }
    this._invokeDisposeFn();
  }
  /** Permanently dispose of this portal host. */
  dispose() {
    if (this.hasAttached()) {
      this.detach();
    }
    this._invokeDisposeFn();
    this._isDisposed = true;
  }
  /** @docs-private */
  setDisposeFn(fn) {
    this._disposeFn = fn;
  }
  _invokeDisposeFn() {
    if (this._disposeFn) {
      this._disposeFn();
      this._disposeFn = null;
    }
  }
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,
 * the directive instance itself can be attached to a host, enabling declarative use of portals.
 */
class CdkPortal extends TemplatePortal {
  constructor(templateRef, viewContainerRef) {
    super(templateRef, viewContainerRef);
  }
  static {
    this.ɵfac = function CdkPortal_Factory(t) {
      return new (t || CdkPortal)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortal,
      selectors: [["", "cdkPortal", ""]],
      exportAs: ["cdkPortal"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortal, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortal]',
      exportAs: 'cdkPortal'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }];
  }, null);
})();
/**
 * Directive version of a PortalOutlet. Because the directive *is* a PortalOutlet, portals can be
 * directly attached to it, enabling declarative use.
 *
 * Usage:
 * `<ng-template [cdkPortalOutlet]="greeting"></ng-template>`
 */
class CdkPortalOutlet extends BasePortalOutlet {
  constructor(_componentFactoryResolver, _viewContainerRef, renderer) {
    super();
    this._componentFactoryResolver = _componentFactoryResolver;
    this._viewContainerRef = _viewContainerRef;
    this.renderer = renderer;
    /** Whether the portal component is initialized. */
    this._isInitialized = false;
    /** Emits when a portal is attached to the outlet. */
    this.attached = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    /**
     * Attaches the given DomPortal to this PortalHost by moving all of the portal content into it.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this.renderer.createComment('dom-portal');
      portal.setAttachedHost(this);
      this.renderer.insertBefore(element.parentNode, anchorNode, element);
      this.renderer.appendChild(this._getRootNode(), element);
      super.setDisposeFn(() => {
        if (anchorNode.parentNode) {
          this.renderer.insertBefore(anchorNode.parentNode, element, anchorNode);
          this.renderer.removeChild(anchorNode.parentNode, anchorNode);
          // anchorNode.parentNode!.replaceChild(element, anchorNode);
        }
      });
    };
  }
  /** Portal associated with the Portal outlet. */
  get portal() {
    return this._attachedPortal;
  }
  set portal(portal) {
    // Ignore the cases where the `portal` is set to a falsy value before the lifecycle hooks have
    // run. This handles the cases where the user might do something like `<div cdkPortalOutlet>`
    // and attach a portal programmatically in the parent component. When Angular does the first CD
    // round, it will fire the setter with empty string, causing the user's content to be cleared.
    if (this.hasAttached() && !portal && !this._isInitialized) {
      return;
    }
    if (this.hasAttached()) {
      super.detach();
    }
    if (portal) {
      super.attach(portal);
    }
    this._attachedPortal = portal;
  }
  /** Component or view reference that is attached to the portal. */
  get attachedRef() {
    return this._attachedRef;
  }
  ngOnInit() {
    this._isInitialized = true;
  }
  ngOnDestroy() {
    super.dispose();
    this._attachedPortal = null;
    this._attachedRef = null;
  }
  /**
   * Attach the given ComponentPortal to this PortalOutlet using the ComponentFactoryResolver.
   *
   * @param portal Portal to be attached to the portal outlet.
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    portal.setAttachedHost(this);
    // If the portal specifies an origin, use that as the logical location of the component
    // in the application tree. Otherwise use the location of this PortalOutlet.
    const viewContainerRef = portal.viewContainerRef != null ? portal.viewContainerRef : this._viewContainerRef;
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    const ref = viewContainerRef.createComponent(componentFactory, viewContainerRef.length, portal.injector || viewContainerRef.injector);
    // If we're using a view container that's different from the injected one (e.g. when the portal
    // specifies its own) we need to move the component into the outlet, otherwise it'll be rendered
    // inside of the alternate view container.
    if (viewContainerRef !== this._viewContainerRef) {
      this.renderer.appendChild(this._getRootNode(), ref.hostView.rootNodes[0]);
    }
    super.setDisposeFn(() => ref.destroy());
    this._attachedPortal = portal;
    this._attachedRef = ref;
    this.attached.emit(ref);
    return ref;
  }
  /**
   * Attach the given TemplatePortal to this PortalHost as an embedded View.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    portal.setAttachedHost(this);
    const viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);
    super.setDisposeFn(() => this._viewContainerRef.clear());
    this._attachedPortal = portal;
    this._attachedRef = viewRef;
    this.attached.emit(viewRef);
    return viewRef;
  }
  /** Gets the root node of the portal outlet. */
  _getRootNode() {
    const nativeElement = this._viewContainerRef.element.nativeElement;
    // The directive could be set on a template which will result in a comment
    // node being the root. Use the comment's parent node if that is the case.
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    return !(nativeElement instanceof CommentNode) ? nativeElement : nativeElement.parentNode;
  }
  static {
    this.ɵfac = function CdkPortalOutlet_Factory(t) {
      return new (t || CdkPortalOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortalOutlet,
      selectors: [["", "cdkPortalOutlet", ""]],
      inputs: {
        portal: ["cdkPortalOutlet", "portal"]
      },
      outputs: {
        attached: "attached"
      },
      exportAs: ["cdkPortalOutlet"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortalOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortalOutlet]',
      exportAs: 'cdkPortalOutlet',
      // eslint-disable-next-line @angular-eslint/no-inputs-metadata-property
      inputs: ['portal: cdkPortalOutlet']
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    attached: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class PortalModule {
  static {
    this.ɵfac = function PortalModule_Factory(t) {
      return new (t || PortalModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: PortalModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PortalModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      exports: [CdkPortal, CdkPortalOutlet],
      declarations: [CdkPortal, CdkPortalOutlet]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A PortalOutlet for attaching portals to an arbitrary DOM element outside of the Angular
 * application context.
 */
let NativeScriptDomPortalOutlet = class NativeScriptDomPortalOutlet extends BasePortalOutlet {
  constructor( /** Element into which the content is projected. */
  outletElement, _componentFactoryResolver, _appRef, _defaultInjector, viewUtil) {
    super();
    this.outletElement = outletElement;
    this._componentFactoryResolver = _componentFactoryResolver;
    this._appRef = _appRef;
    this._defaultInjector = _defaultInjector;
    /**
     * Attaches a DOM portal by transferring its content into the outlet.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this._viewUtil.createComment('dom-portal');
      this._viewUtil.insertBefore(element.parentNode, anchorNode, element);
      this._viewUtil.appendChild(this.outletElement, element);
      super.setDisposeFn(() => {
        // We can't use `replaceWith` here because IE doesn't support it.
        if (anchorNode.parentNode) {
          this._viewUtil.insertBefore(anchorNode.parentNode, element, anchorNode);
          this._viewUtil.removeChild(anchorNode.parentNode, anchorNode);
          //anchorNode.parentNode.replaceChild(element, anchorNode);
        }
      });
    };

    this._viewUtil = viewUtil || this._defaultInjector.get(ViewUtil);
  }
  /**
   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.
   * @param portal Portal to be attached
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    let componentRef;
    // If the portal specifies a ViewContainerRef, we will use that as the attachment point
    // for the component (in terms of Angular's component tree, not rendering).
    // When the ViewContainerRef is missing, we use the factory to create the component directly
    // and then manually attach the view to the application.
    if (portal.viewContainerRef) {
      componentRef = portal.viewContainerRef.createComponent(componentFactory, portal.viewContainerRef.length, portal.injector || portal.viewContainerRef.injector);
      this.setDisposeFn(() => componentRef.destroy());
    } else {
      componentRef = componentFactory.create(portal.injector || this._defaultInjector);
      this._appRef.attachView(componentRef.hostView);
      this.setDisposeFn(() => {
        this._appRef.detachView(componentRef.hostView);
        componentRef.destroy();
      });
    }
    // At this point the component has been instantiated, so we move it to the location in the DOM
    // where we want it to be rendered.
    const rootNode = this._getComponentRootNode(componentRef);
    if (rootNode.parent) {
      this._viewUtil.removeChild(rootNode.parent, rootNode);
    }
    this._viewUtil.appendChild(this.outletElement, this._getComponentRootNode(componentRef));
    return componentRef;
  }
  /**
   * Attaches a template portal to the DOM as an embedded view.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    const viewContainer = portal.viewContainerRef;
    const viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);
    // The method `createEmbeddedView` will add the view as a child of the viewContainer.
    // But for the DomPortalOutlet the view can be added everywhere in the DOM
    // (e.g Overlay Container) To move the view to the specified host element. We just
    // re-append the existing root nodes.
    viewRef.rootNodes.forEach(rootNode => {
      if (rootNode.parent) {
        this._viewUtil.removeChild(rootNode.parent, rootNode);
      }
      this._viewUtil.appendChild(this.outletElement, rootNode);
    });
    // Note that we want to detect changes after the nodes have been moved so that
    // any directives inside the portal that are looking at the DOM inside a lifecycle
    // hook won't be invoked too early.
    viewRef.detectChanges();
    this.setDisposeFn(() => {
      const index = viewContainer.indexOf(viewRef);
      if (index !== -1) {
        viewContainer.remove(index);
      }
    });
    // TODO(jelbourn): Return locals from view.
    return viewRef;
  }
  /**
   * Clears out a portal from the DOM.
   */
  dispose() {
    super.dispose();
    if (this.outletElement.parentNode != null) {
      this._viewUtil.removeChild(this.outletElement.parentNode, this.outletElement);
    }
  }
  /** Gets the root HTMLElement for an instantiated component. */
  _getComponentRootNode(componentRef) {
    return componentRef.hostView.rootNodes[0];
  }
};
NativeScriptDomPortalOutlet = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(4, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, ViewUtil])], NativeScriptDomPortalOutlet);
registerElement('DetachedContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer, {
  skipAddToDom: true
});
/**
 * Wrapper component used for loading components when navigating
 * It uses DetachedContainer as selector so that it is containerRef is not attached to
 * the visual tree.
 */
class DetachedLoader {
  // tslint:disable-line:component-class-suffix
  constructor(resolver, changeDetector, containerRef, appRef) {
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.containerRef = containerRef;
    this.appRef = appRef;
    this.disposeFunctions = [];
  }
  createComponentPortal(componentType, customInjector) {
    return new ComponentPortal(componentType, this.vc, customInjector || this.vc.injector);
  }
  createTemplatePortal(templateRef, context) {
    return new TemplatePortal(templateRef, this.vc, context);
  }
  loadInAppRef(componentType) {
    const factory = this.resolver.resolveComponentFactory(componentType);
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    // Component is created, built may not be checked if we are loading
    // inside component with OnPush CD strategy. Mark us for check to be sure CD will reach us.
    // We are inside a promise here so no need for setTimeout - CD should trigger
    // after the promise.
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadInLocation component loaded -> markForCheck', 'detached-loader');
    return componentRef;
  }
  loadInLocation(componentType) {
    return this.vc.createComponent(componentType);
  }
  ngOnDestroy() {
    this.disposeFunctions.forEach(fn => fn());
  }
  detectChanges() {
    this.changeDetector.markForCheck();
  }
  /**
   * @deprecated use Portals
   */
  loadComponent(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponent', 'detached-loader');
    return Promise.resolve(this.loadInAppRef(componentType));
  }
  /**
   * @deprecated use Portals
   */
  loadComponentSync(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentSync', 'detached-loader');
    return this.loadInAppRef(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadComponentInLocation(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentInLocation', 'detached-loader');
    return this.loadInLocation(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactory(factory) {
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    return componentRef;
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactoryInLocation(factory) {
    return this.vc.createComponent(factory);
  }
  static {
    this.ɵfac = function DetachedLoader_Factory(t) {
      return new (t || DetachedLoader)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: DetachedLoader,
      selectors: [["DetachedContainer"]],
      viewQuery: function DetachedLoader_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vc = _t.first);
        }
      },
      ngContentSelectors: _c1,
      decls: 5,
      vars: 0,
      consts: [["loader", ""], ["vc", ""]],
      template: function DetachedLoader_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "Placeholder", null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](2, null, 1);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](4);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DetachedLoader, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'DetachedContainer',
      template: `<Placeholder #loader></Placeholder>
    <ng-container #vc></ng-container>
    <ng-content></ng-content>`
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
    }];
  }, {
    vc: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['vc', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }]
  });
})();
class PageService {
  get inPage() {
    return this._inPage$.value;
  }
  get inPage$() {
    return this._inPage$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.distinctUntilChanged)());
  }
  get pageEvents$() {
    return this._pageEvents$.asObservable();
  }
  constructor(page, elRef, view) {
    this._pageEvents$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    if (page) {
      this.page = page;
    } else {
      view = view || elRef.nativeElement;
      while (view) {
        if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
          this.page = view;
          break;
        }
        view = view.parent;
      }
    }
    this._inPage$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!!this.page?.isLoaded);
    if (this.page) {
      this.page.on('navigatedFrom', this.pageEvent, this);
      this.page.on('navigatedTo', this.pageEvent, this);
      this.page.on('navigatingFrom', this.pageEvent, this);
      this.page.on('navigatingTo', this.pageEvent, this);
    }
  }
  ngOnDestroy() {
    if (this.page) {
      this.page.off('navigatedFrom', this.pageEvent, this);
      this.page.off('navigatedTo', this.pageEvent, this);
      this.page.off('navigatingFrom', this.pageEvent, this);
      this.page.off('navigatingTo', this.pageEvent, this);
    }
    this._inPage$.complete();
    this._pageEvents$.complete();
  }
  pageEvent(evt) {
    this._pageEvents$.next(evt);
    switch (evt.eventName) {
      case 'navigatedTo':
        this._inPage$.next(true);
        break;
      case 'navigatedFrom':
        this._inPage$.next(false);
        break;
      default:
    }
  }
  static {
    this.ɵfac = function PageService_Factory(t) {
      return new (t || PageService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: PageService,
      factory: PageService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
function customFrameComponentFactory(v) {
  return v.element.nativeElement;
}
function customPageFactoryFromFrame(v) {
  return v.page;
}
registerElement('FramePage', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, {
  insertChild: (parent, child) => {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      frameMeta.insertChild(parent, child);
      return;
    }
    parent['__ng_page__'].content = child;
  }
});
class FramePageComponent {
  constructor(element, renderer) {
    this.element = element;
    this.actionBarHidden = false;
    this.page = renderer.createElement('Page');
    element.nativeElement['__ng_page__'] = this.page;
    renderer.appendChild(element.nativeElement, this.page);
  }
  ngOnChanges(changes) {
    if (changes.actionBarHidden && changes.actionBarHidden.previousValue !== changes.actionBarHidden.currentValue) {
      if (this.page) {
        this.page.actionBarHidden = !!this.actionBarHidden;
      }
    }
  }
  ngAfterViewInit() {
    if (this.page) {
      this.page.actionBarHidden = !!this.actionBarHidden;
    }
  }
  static {
    this.ɵfac = function FramePageComponent_Factory(t) {
      return new (t || FramePageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: FramePageComponent,
      selectors: [["FramePage"]],
      inputs: {
        actionBarHidden: "actionBarHidden"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function FramePageComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'FramePage',
      template: `<ng-content></ng-content>`,
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    actionBarHidden: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
function customFrameDirectiveFactory(v) {
  return v.element.nativeElement;
}
class FrameDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function FrameDirective_Factory(t) {
      return new (t || FrameDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: FrameDirective,
      selectors: [["Frame"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }])]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Frame',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
function customPageFactory(v) {
  return v.element.nativeElement;
}
class PageDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function PageDirective_Factory(t) {
      return new (t || PageDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageDirective,
      selectors: [["Page"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService])]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Page',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
class FramePageModule {
  static {
    this.ɵfac = function FramePageModule_Factory(t) {
      return new (t || FramePageModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: FramePageModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [FrameDirective, PageDirective, FramePageComponent],
      exports: [FrameDirective, PageDirective, FramePageComponent]
    }]
  }], null, null);
})();
function isPresent(obj) {
  return obj !== undefined && obj !== null;
}
function isBlank(obj) {
  return obj === undefined || obj === null;
}
function isActionItem(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem;
}
function isNavigationButton(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton;
}
const actionBarMeta = {
  skipAddToDom: true,
  insertChild: (parent, child, next) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      parent.navigationButton = child;
      child.parentNode = parent;
    } else if (isActionItem(child)) {
      addActionItem(parent, child, next);
      child.parentNode = parent;
    } else if (isView(child)) {
      parent.titleView = child;
    }
  },
  removeChild: (parent, child) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      if (parent.navigationButton === child) {
        parent.navigationButton = null;
      }
      child.parentNode = null;
    } else if (isActionItem(child)) {
      parent.actionItems.removeItem(child);
      child.parentNode = null;
    } else if (isView(child) && parent.titleView && parent.titleView === child) {
      parent.titleView = null;
    }
  }
};
registerElement('ActionBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionBar, actionBarMeta);
registerElement('ActionItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem);
registerElement('NavigationButton', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton);
const addActionItem = (bar, item, next) => {
  if (next) {
    insertActionItemBefore(bar, item, next);
  } else {
    appendActionItem(bar, item);
  }
};
const insertActionItemBefore = (bar, item, next) => {
  const actionItems = bar.actionItems;
  const actionItemsCollection = actionItems.getItems();
  const indexToInsert = actionItemsCollection.indexOf(next);
  actionItemsCollection.splice(indexToInsert, 0, item);
  actionItems.setItems(actionItemsCollection);
};
const appendActionItem = (bar, item) => {
  bar.actionItems.addItem(item);
};
class ActionBarComponent {
  constructor(element, page) {
    this.element = element;
    this.page = page;
    if (!this.page) {
      throw new Error('No Page found in ActionBarComponent.\n' + 'Only a Page can contain an ActionBar, so please ensure ActionBar is only used inside a Component that is routed via page-router-outlet or is contained in a Page.\n' + 'Example for root action bars in AppComponent: <Frame><Page><ActionBar>....</ActionBar></Page></Frame>');
    }
    if (isBlank(this.page.actionBarHidden)) {
      this.page.actionBarHidden = false;
    }
    this.page.actionBar = this.element.nativeElement;
    this.page.actionBar.update();
  }
  static {
    this.ɵfac = function ActionBarComponent_Factory(t) {
      return new (t || ActionBarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarComponent,
      selectors: [["ActionBar"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function ActionBarComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBar',
      template: '<ng-content></ng-content>'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ActionBarScope {
  // tslint:disable-line:component-class-suffix
  constructor(page) {
    this.page = page;
    if (!this.page) {
      throw new Error('Inside ActionBarExtension but no ActionBar found to extend.');
    }
  }
  onNavButtonInit(navBtn) {
    this.page.actionBar.navigationButton = navBtn.element.nativeElement;
  }
  onNavButtonDestroy(navBtn) {
    const nav = navBtn.element.nativeElement;
    if (nav && this.page.actionBar.navigationButton === nav) {
      this.page.actionBar.navigationButton = null;
    }
  }
  onActionInit(item) {
    this.page.actionBar.actionItems.addItem(item.element.nativeElement);
  }
  onActionDestroy(item) {
    if (item.element.nativeElement.actionBar) {
      this.page.actionBar.actionItems.removeItem(item.element.nativeElement);
    }
  }
  static {
    this.ɵfac = function ActionBarScope_Factory(t) {
      return new (t || ActionBarScope)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarScope,
      selectors: [["ActionBarExtension"]],
      decls: 0,
      vars: 0,
      template: function ActionBarScope_Template(rf, ctx) {},
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarScope, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBarExtension',
      template: ''
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ActionItemDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onActionInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onActionDestroy(this);
    }
  }
  static {
    this.ɵfac = function ActionItemDirective_Factory(t) {
      return new (t || ActionItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: ActionItemDirective,
      selectors: [["ActionItem"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'ActionItem' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class NavigationButtonDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onNavButtonInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onNavButtonDestroy(this);
    }
  }
  static {
    this.ɵfac = function NavigationButtonDirective_Factory(t) {
      return new (t || NavigationButtonDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NavigationButtonDirective,
      selectors: [["NavigationButton"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NavigationButtonDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'NavigationButton' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();

/**
 * Utility method to ensure a NgModule is only imported once in a codebase, otherwise will throw to help prevent accidental double importing
 * @param parentModule Parent module name
 * @param moduleName The module name
 */
function throwIfAlreadyLoaded(parentModule, moduleName) {
  if (parentModule) {
    throw new Error(`${moduleName} has already been loaded. Import ${moduleName} in the AppModule only.`);
  }
}
/**
 * Utility method which will only fire the callback once ever
 * @param fn callback to call only once
 */
// eslint-disable-next-line @typescript-eslint/ban-types
function once(fn) {
  let wasCalled = false;
  return function wrapper() {
    if (wasCalled) {
      return;
    }
    wasCalled = true;
    // eslint-disable-next-line prefer-spread, prefer-rest-params
    fn.apply(null, arguments);
  };
}
function isListLikeIterable(obj) {
  if (!isJsObject(obj)) return false;
  return Array.isArray(obj) || !(obj instanceof Map) &&
  // JS Map are iterables but return entries as [k, v]
  Symbol.iterator in obj; // JS Iterable have a Symbol.iterator prop
}

function isJsObject(o) {
  return o !== null && (typeof o === 'function' || typeof o === 'object');
}
const NG_VIEW = '_ngViewRef';
const TEMPLATED_ITEMS_COMPONENT = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('TemplatedItemsComponent');
class ItemContext {
  constructor($implicit, item, index, even, odd) {
    this.$implicit = $implicit;
    this.item = item;
    this.index = index;
    this.even = even;
    this.odd = odd;
  }
}
class NsTemplatedItem {
  constructor(template, location, onCreate) {
    this.template = template;
    this.location = location;
    this.onCreate = onCreate;
  }
  create(context) {
    const viewRef = this.location.createEmbeddedView(this.template, context ? this.setupItemContext(context) : new ItemContext());
    viewRef.detach(); // create detached, just beware this doesn't always work and the view might run the first CD anyway.
    const resultView = getItemViewRoot(viewRef);
    resultView[NG_VIEW] = viewRef;
    if (this.onCreate) {
      this.onCreate(resultView);
    }
    return resultView;
  }
  update(view, context) {
    const viewRef = this.getEmbeddedViewRef(view);
    this.setupItemContext(context, viewRef);
    viewRef?.detectChanges();
  }
  attach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.reattach();
    viewRef?.detectChanges();
  }
  detach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.detach();
  }
  dispose(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.destroy();
  }
  getEmbeddedViewRef(view) {
    let viewRef = view[NG_VIEW];
    // Getting angular view from original element (in cases when ProxyViewContainer
    // is used NativeScript internally wraps it in a StackLayout)
    if (!viewRef && view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && view.getChildrenCount() > 0) {
      viewRef = view.getChildAt(0)[NG_VIEW];
    }
    return viewRef;
  }
  isValid(view) {
    return !!this.getEmbeddedViewRef(view);
  }
  setupItemContext({
    index,
    data
  }, oldView) {
    const context = oldView ? oldView.context : new ItemContext();
    context.$implicit = data;
    context.item = data;
    context.index = index;
    context.even = index % 2 === 0;
    context.odd = !context.even;
    return context;
  }
}
class ListViewComponent {
  get nativeElement() {
    return this.templatedItemsView;
  }
  get items() {
    return this._items;
  }
  set items(value) {
    this._items = value;
    let needDiffer = true;
    if (value instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_51__.ObservableArray) {
      needDiffer = false;
    }
    if (needDiffer && !this._differ && isListLikeIterable(value)) {
      this._differ = this._iterableDiffers.find(this._items).create((_index, item) => {
        return item;
      });
    }
    this.templatedItemsView.items = this._items;
  }
  // this elementRef is only here for backwards compatibility reasons
  constructor(_elementRef) {
    this._iterableDiffers = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.IterableDiffers);
    this._changeDetectorRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef);
    this._elementRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef);
    // I believe this only exists so this can be inherited and people can override it.
    this.templatedItemsView = this._elementRef.nativeElement;
    this._viewToTemplate = new WeakMap();
    this.setupItemView = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    if (_elementRef) {
      this.templatedItemsView = _elementRef.nativeElement;
    }
  }
  ngAfterContentInit() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog('TemplatedItemsView.ngAfterContentInit()');
    }
    this.setItemTemplates();
  }
  ngOnDestroy() {
    this.templatedItemsView = null;
    if (this._templateMap) {
      this._templateMap.clear();
    }
  }
  setItemTemplates() {
    // The itemTemplateQuery may be changed after list items are added that contain <template> inside,
    // so cache and use only the original template to avoid errors.
    this.fallbackItemTemplate = this.itemTemplateQuery;
    if (this.fallbackItemTemplate && !this._templateMap?.has('default')) {
      // apparently you can create a Core ListView without a template...
      // we also add a fallback default for when the user sets multiple templates but no templateSelector
      this.registerTemplate('default', this.fallbackItemTemplate);
    }
    if (this._templateMap) {
      // sometimes templates are registered before loader is ready, so we update here
      this._templateMap.forEach(t => t.location = this.loader);
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('Setting templates');
      }
      const templates = [];
      this._templateMap.forEach((value, key) => {
        templates.push({
          createView: () => null,
          key
        });
      });
      this.templatedItemsView.itemTemplates = templates;
    }
  }
  registerTemplate(key, template) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog(`registerTemplate for key: ${key}, ${this.loader}`);
    }
    if (!this._templateMap) {
      this._templateMap = new Map();
    }
    this._templateMap.set(key, new NsTemplatedItem(template, this.loader, v => this._viewToTemplate.set(v, key)));
  }
  onItemLoading(args) {
    if (!this._templateMap) {
      return;
    }
    const index = args.index;
    const lview = args.object;
    const items = lview.items;
    const currentItem = 'getItem' in items && typeof items.getItem === 'function' ? items.getItem(index) : items[index];
    let template;
    if (args.view) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog(`onItemLoading: ${index} - Reusing existing view`);
      }
      let templateKey = this._viewToTemplate.get(args.view);
      if (!templateKey && args.view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && args.view.getChildrenCount() > 0) {
        templateKey = this._viewToTemplate.get(args.view.getChildAt(0));
      }
      if (!templateKey) {
        // this template was not created by us
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`ViewReference not found for item ${index}. View recycling is not working`);
        }
        return;
      }
      template = this._templateMap.get(templateKey);
      template.update(args.view, {
        index,
        data: currentItem
      });
    } else {
      // this should never enter if it creates the view
      const templateKey = typeof lview.itemTemplateSelector === 'function' ? lview.itemTemplateSelector(currentItem, index, items) : 'default';
      template = this._templateMap.get(templateKey);
      if (!template) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`Template for key '${templateKey}' not found.`);
        }
        return;
      }
      args.view = template.create({
        index,
        data: currentItem
      });
    }
    this.setupViewRef(template.getEmbeddedViewRef(args.view), currentItem, index, args.view);
    template.attach(args.view);
    this._changeDetectorRef.detectChanges();
  }
  setupViewRef(viewRef, data, index, nativeElement) {
    const context = viewRef.context;
    this.setupItemView.next({
      view: viewRef,
      nativeElement,
      data: data,
      index: index,
      context: context
    });
  }
  ngDoCheck() {
    if (this._differ) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('ngDoCheck() - execute differ');
      }
      const changes = this._differ.diff(this._items);
      if (changes) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewLog('ngDoCheck() - refresh');
        }
        this.templatedItemsView.refresh();
      }
    }
  }
  static {
    this.ɵfac = function ListViewComponent_Factory(t) {
      return new (t || ListViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ListViewComponent,
      selectors: [["ListView"]],
      contentQueries: function ListViewComponent_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, 5, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.itemTemplateQuery = _t.first);
        }
      },
      viewQuery: function ListViewComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.loader = _t.first);
        }
      },
      hostBindings: function ListViewComponent_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("itemLoading", function ListViewComponent_itemLoading_HostBindingHandler($event) {
            return ctx.onItemLoading($event);
          });
        }
      },
      inputs: {
        items: "items"
      },
      outputs: {
        setupItemView: "setupItemView"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }])],
      decls: 3,
      vars: 0,
      consts: [["loader", ""]],
      template: function ListViewComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "DetachedContainer");
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](1, null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        }
      },
      encapsulation: 2,
      changeDetection: 0
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], ListViewComponent.prototype, "onItemLoading", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ListViewComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'ListView',
      template: `<DetachedContainer>
    <ng-container #loader></ng-container>
  </DetachedContainer>`,
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,
      providers: [{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    loader: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['loader', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }],
    setupItemView: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    itemTemplateQuery: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChild,
      args: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef,
        static: false
      }]
    }],
    items: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    onItemLoading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['itemLoading', ['$event']]
    }]
  });
})();
function getItemViewRoot(viewRef, rootLocator = extractSingleViewRecursive) {
  const rootView = rootLocator(viewRef.rootNodes, 0);
  return rootView;
}
// eslint-disable-next-line @angular-eslint/directive-selector
class TemplateKeyDirective {
  constructor(templateRef, comp) {
    this.templateRef = templateRef;
    this.comp = comp;
  }
  set nsTemplateKey(value) {
    if (this.comp && this.templateRef) {
      this.comp.registerTemplate(value, this.templateRef);
    }
  }
  set nsTemplateKeys(values) {
    // single template with multiple keys
    if (this.comp && this.templateRef && values) {
      values.forEach(value => this.comp.registerTemplate(value, this.templateRef));
    }
  }
  static {
    this.ɵfac = function TemplateKeyDirective_Factory(t) {
      return new (t || TemplateKeyDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TEMPLATED_ITEMS_COMPONENT, 1));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TemplateKeyDirective,
      selectors: [["", "nsTemplateKey", ""], ["", "nsTemplateKeys", ""]],
      inputs: {
        nsTemplateKey: "nsTemplateKey",
        nsTemplateKeys: "nsTemplateKeys"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TemplateKeyDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsTemplateKey],[nsTemplateKeys]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Host
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [TEMPLATED_ITEMS_COMPONENT]
      }]
    }];
  }, {
    nsTemplateKey: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsTemplateKeys: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class FrameService {
  // TODO: Add any methods that are needed to handle frame/page navigation
  getFrame() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
  }
  static {
    this.ɵfac = function FrameService_Factory(t) {
      return new (t || FrameService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: FrameService,
      factory: FrameService.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class Outlet {
  get isPageNavigationBack() {
    return this._navigatingBackOutlets.size > 0;
  }
  set isPageNavigationBack(isBack) {
    if (!isBack) {
      if (this._navigatingBackOutlets.size > 0) {
        this._navigatingBackOutlets.delete(this._navigatingBackOutlets.values().next().value);
      }
    } else {
      for (const key of this.outletKeys) {
        this._navigatingBackOutlets.add(key);
      }
    }
  }
  constructor(outletKey, path, pathByOutlets, modalNavigationDepth) {
    this._navigatingBackOutlets = new Set();
    // More than one frame available when using NSEmptyOutletComponent component
    // in module that lazy loads children (loadChildren) and has outlet name.
    this.frames = [];
    this.states = [];
    // Used in reuse-strategy by its children to determine if they should be detached too.
    this.shouldDetach = true;
    this.outletKeys = [outletKey];
    this.isPageNavigationBack = false;
    this.showingModal = false;
    this.modalNavigationDepth = modalNavigationDepth || 0;
    this.pathByOutlets = pathByOutlets;
    this.path = path;
  }
  setOutletKeyNavigatingBack(key) {
    const nests = key.split('/');
    this.outletKeys.filter(k => k.split('/').length >= nests.length).forEach(k => {
      this._navigatingBackOutlets.add(k);
    });
  }
  containsFrame(frame) {
    return this.frames.indexOf(frame) > -1;
  }
  peekState() {
    if (this.states.length > 0) {
      return this.states[this.states.length - 1];
    }
    return null;
  }
  containsTopState(stateUrl) {
    const lastState = this.peekState();
    return lastState && lastState.segmentGroup.toString() === stateUrl;
  }
  // Search for frame that can go back.
  // Nested 'primary' outlets could result in Outlet with multiple navigatable frames.
  getFrameToBack() {
    let frame = this.frames[this.frames.length - 1];
    if (!this.isNSEmptyOutlet) {
      for (let index = this.frames.length - 1; index >= 0; index--) {
        const currentFrame = this.frames[index];
        if (currentFrame.canGoBack()) {
          frame = currentFrame;
          break;
        }
      }
    }
    return frame;
  }
}
const defaultNavOptions = {
  clearHistory: false,
  animated: true
};
class NSLocationStrategy extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy {
  constructor(frameService, startPath) {
    super();
    this.frameService = frameService;
    this.startPath = startPath;
    this.outlets = [];
    this.popStateCallbacks = new Array();
    this._modalNavigationDepth = 0;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.constructor()');
    }
  }
  getState() {
    return this.currentOutlet && this.currentOutlet.peekState();
  }
  path() {
    if (!this.currentUrlTree) {
      return this.startPath || '/';
    }
    const state = this.currentOutlet && this.currentOutlet.peekState();
    if (!state) {
      return '/';
    }
    const tree = this.currentUrlTree;
    const changedOutlet = this.getSegmentGroupByOutlet(this.currentOutlet);
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (state.isRootSegmentGroup) {
      tree.root = state.segmentGroup;
    } else if (changedOutlet) {
      this.updateSegmentGroup(tree.root, changedOutlet, state.segmentGroup);
    }
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    tree.queryParams = state.queryParams;
    const url = urlSerializer.serialize(tree);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.path(): ' + url);
    }
    return url;
  }
  prepareExternalUrl(internal) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.prepareExternalUrl() internal: ' + internal);
    }
    return internal;
  }
  pushState(state, title, url, queryParams) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.pushState state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
    }
    this.pushStateInternal(state, title, url, queryParams);
  }
  pushStateInternal(state, title, url, queryParams, replace = false) {
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    this.currentUrlTree = urlSerializer.parse(url);
    const urlTreeRoot = this.currentUrlTree.root;
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (!Object.keys(urlTreeRoot.children).length) {
      const segmentGroup = this.currentUrlTree && this.currentUrlTree.root;
      const outletKey = this.getOutletKey(this.getSegmentGroupFullPath(segmentGroup), 'primary');
      const outlet = this.findOutlet(outletKey);
      if (outlet && this.updateStates(outlet, segmentGroup, this.currentUrlTree.queryParams, replace)) {
        this.currentOutlet = outlet; // If states updated
      } else if (!outlet) {
        // tslint:disable-next-line:max-line-length
        const rootOutlet = this.createOutlet('primary', null, segmentGroup, null, null, this.currentUrlTree.queryParams);
        this.currentOutlet = rootOutlet;
      }
      this.currentOutlet.peekState().isRootSegmentGroup = true;
      return;
    }
    const queue = [];
    let currentTree = urlTreeRoot;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        const currentSegmentGroup = currentTree.children[outletName];
        currentSegmentGroup.outlet = outletName;
        currentSegmentGroup.root = urlTreeRoot;
        const outletPath = this.getSegmentGroupFullPath(currentTree);
        const outletKey = this.getOutletKey(outletPath, outletName);
        let outlet = this.findOutlet(outletKey);
        const parentOutletName = currentTree.outlet || '';
        const parentOutletPath = this.getSegmentGroupFullPath(currentTree.parent);
        const parentOutletKey = this.getOutletKey(parentOutletPath, parentOutletName);
        const parentOutlet = this.findOutlet(parentOutletKey);
        const containsLastState = outlet && outlet.containsTopState(currentSegmentGroup.toString());
        if (!outlet) {
          // tslint:disable-next-line:max-line-length
          outlet = this.createOutlet(outletKey, outletPath, currentSegmentGroup, parentOutlet, this._modalNavigationDepth, this.currentUrlTree.queryParams);
          this.currentOutlet = outlet;
        } else if (this._modalNavigationDepth > 0 && outlet.showingModal && !containsLastState) {
          // Navigation inside modal view.
          this.upsertModalOutlet(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace);
        } else {
          outlet.parent = parentOutlet;
          if (this.updateStates(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace)) {
            this.currentOutlet = outlet; // If states updated
          }
        }

        queue.push(currentSegmentGroup);
      });
      currentTree = queue.shift();
    }
  }
  replaceState(state, title, url, queryParams) {
    const states = this.currentOutlet && this.currentOutlet.states;
    if (states && states.length > 0) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState changing existing state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams, true);
    } else {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState pushing new state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams);
    }
  }
  forward() {
    throw new Error('NSLocationStrategy.forward() - not implemented');
  }
  back(outlet, frame) {
    this.currentOutlet = outlet || this.currentOutlet;
    if (this.currentOutlet.isPageNavigationBack) {
      const states = this.currentOutlet.states;
      // We are navigating to the previous page
      // clear the stack until we get to a page navigation state
      let state = states.pop();
      let count = 1;
      if (frame) {
        while (state.frame && state.frame !== frame) {
          state = states.pop();
          count++;
        }
      }
      while (!state.isPageNavigation) {
        state = states.pop();
        count++;
      }
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog(`NSLocationStrategy.back() while navigating back. States popped: ${count}`);
      }
      this.callPopState(state, true);
    } else {
      const state = this.currentOutlet.peekState();
      if (state && state.isPageNavigation) {
        // This was a page navigation - so navigate through frame.
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is page - will call frame.goBack()');
        }
        if (!outlet) {
          const topmostFrame = this.frameService.getFrame();
          this.currentOutlet = this.getOutletByFrame(topmostFrame) || this.currentOutlet;
        }
        const frameToBack = this.currentOutlet.getFrameToBack();
        if (frameToBack) {
          frameToBack.goBack();
        }
      } else {
        // Nested navigation - just pop the state
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is not page - just pop');
        }
        this.callPopState(this.currentOutlet.states.pop(), true);
      }
    }
  }
  canGoBack(outlet) {
    outlet = outlet || this.currentOutlet;
    return outlet.states.length > 1;
  }
  onPopState(fn) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.onPopState');
    }
    this.popStateCallbacks.push(fn);
  }
  getBaseHref() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.getBaseHref()');
    }
    return '';
  }
  callPopState(state, pop = true, outlet) {
    outlet = outlet || this.currentOutlet;
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    const changedOutlet = this.getSegmentGroupByOutlet(outlet);
    if (state && changedOutlet) {
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, state.segmentGroup);
    } else if (changedOutlet) {
      // when closing modal view there are scenarios (e.g. root viewContainerRef) when we need
      // to clean up the named page router outlet to make sure we will open the modal properly again if needed.
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, null);
    }
    const url = urlSerializer.serialize(this.currentUrlTree);
    const change = {
      state,
      type: 'popstate'
    };
    for (const fn of this.popStateCallbacks) {
      fn(change);
    }
  }
  toString() {
    let result = [];
    this.outlets.forEach(outlet => {
      const outletStates = outlet.states;
      const outletLog = outletStates
      // tslint:disable-next-line:max-line-length
      .map((v, i) => `${outlet.outletKeys}.${i}.[${v.isPageNavigation ? 'PAGE' : 'INTERNAL'}].[${outlet.modalNavigationDepth ? 'MODAL' : 'BASE'}] "${v.segmentGroup.toString()}"`).reverse();
      result = result.concat(outletLog);
    });
    return result.join('\n');
  }
  // Methods for syncing with page navigation in PageRouterOutlet
  _beginBackPageNavigation(frame, outletKey) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call startGoBack while going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.startGoBack()');
    }
    outlet.setOutletKeyNavigatingBack(outletKey);
    // outlet.isPageNavigationBack = true;
    // we find all the children and also set their isPageNavigationBack
    this.outlets.filter(o => {
      let parent = o.parent;
      while (parent) {
        if (parent === outlet) {
          return true;
        }
        parent = parent.parent;
      }
      return false;
    }).forEach(o => o.isPageNavigationBack = true);
    this.currentOutlet = outlet;
  }
  _finishBackPageNavigation(frame) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || !outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call endGoBack while not going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.finishBackPageNavigation()');
    }
    outlet.isPageNavigationBack = false;
  }
  _beginModalNavigation(frame) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginModalNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    // It is possible to have frame, but not corresponding Outlet, if
    // showing modal dialog on app.component.ts ngOnInit() e.g. In that case
    // the modal is treated as none modal navigation.
    if (this.currentOutlet) {
      this.currentOutlet.showingModal = true;
      this._modalNavigationDepth++;
    }
  }
  _closeModalNavigation() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.closeModalNavigation()');
    }
    const isShowingModal = this._modalNavigationDepth > 0;
    if (isShowingModal) {
      this._modalNavigationDepth--;
    }
    // currentOutlet should be the one that corresponds to the topmost frame
    const topmostOutlet = this.getOutletByFrame(this.frameService.getFrame());
    const outlet = this.findOutletByModal(this._modalNavigationDepth, isShowingModal) || topmostOutlet;
    if (outlet) {
      this.currentOutlet = outlet;
      this.currentOutlet.showingModal = false;
      this.callPopState(this.currentOutlet.peekState(), false);
      // this is needed because angular does a setTimeout on onPopState, so if we don't do this we might end up with inconsistent state
      return new Promise(resolve => setTimeout(resolve, 0));
    }
  }
  _beginPageNavigation(frame, options) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    const lastState = this.currentOutlet.peekState();
    if (lastState) {
      lastState.isPageNavigation = true;
    }
    const navOptions = options || defaultNavOptions;
    if (navOptions.clearHistory) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation clearing states history');
      }
      this.currentOutlet.states = [lastState];
    }
    return navOptions;
  }
  _getOutlets() {
    return this.outlets;
  }
  updateOutletFrame(outlet, frame, isEmptyOutletFrame) {
    const lastState = outlet.peekState();
    if (lastState && !lastState.frame && !isEmptyOutletFrame) {
      lastState.frame = frame;
    }
    if (!outlet.containsFrame(frame)) {
      outlet.frames.push(frame);
    }
    this.currentOutlet = outlet;
  }
  clearOutlet(frame) {
    this.outlets = this.outlets.filter(currentOutlet => {
      let isEqualToCurrent;
      if (this.currentOutlet) {
        isEqualToCurrent = currentOutlet.pathByOutlets === this.currentOutlet.pathByOutlets;
      }
      // Remove outlet from the url tree.
      if (currentOutlet.containsFrame(frame) && !isEqualToCurrent) {
        this.callPopState(null, true, currentOutlet);
      }
      // Skip frames filtering since currentOutlet is <router-outlet> when no frames available.
      if (currentOutlet.frames.length && !currentOutlet.isNSEmptyOutlet) {
        currentOutlet.frames = currentOutlet.frames.filter(currentFrame => currentFrame !== frame);
        return currentOutlet.frames.length;
      }
      return !currentOutlet.containsFrame(frame);
    });
  }
  getSegmentGroupFullPath(segmentGroup) {
    let fullPath = '';
    while (segmentGroup) {
      const url = segmentGroup.toString();
      if (fullPath) {
        fullPath = (url ? url + '/' : '') + fullPath;
      } else {
        fullPath = url;
      }
      segmentGroup = segmentGroup.parent;
    }
    return fullPath;
  }
  getRouteFullPath(currentRoute) {
    const outletName = currentRoute.outlet;
    let fullPath;
    currentRoute = currentRoute.parent;
    while (currentRoute) {
      const urls = currentRoute.url.value || currentRoute.url;
      let url = urls;
      if (Array.isArray(urls)) {
        url = url.join('/');
      }
      fullPath = fullPath ? (url ? url + '/' : url) + fullPath : url;
      currentRoute = currentRoute.parent;
    }
    return fullPath ? fullPath + '-' + outletName : outletName;
  }
  getPathByOutlets(urlSegmentGroup) {
    if (!urlSegmentGroup) {
      return '';
    }
    let pathToOutlet;
    let lastPath = urlSegmentGroup.outlet || 'primary';
    let parent = urlSegmentGroup.parent;
    while (parent && urlSegmentGroup.root !== parent) {
      if (parent && parent.outlet !== lastPath) {
        if (lastPath === 'primary') {
          lastPath = parent.outlet;
        } else {
          lastPath = parent.outlet;
          pathToOutlet = lastPath + '-' + (pathToOutlet || urlSegmentGroup.outlet);
        }
      }
      parent = parent.parent;
    }
    return pathToOutlet || lastPath;
  }
  findOutlet(outletKey, activatedRouteSnapshot) {
    let outlet = this.outlets.find(currentOutlet => {
      const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
      return equalModalDepth && currentOutlet.outletKeys.indexOf(outletKey) > -1;
    });
    // No Outlet with the given outletKey could happen when using nested unnamed p-r-o
    // primary -> primary -> prymary
    if (!outlet && activatedRouteSnapshot) {
      const pathByOutlets = this.getPathByOutlets(activatedRouteSnapshot);
      outlet = this.outlets.find(currentOutlet => {
        const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
        return equalModalDepth && currentOutlet.pathByOutlets === pathByOutlets;
      });
    }
    return outlet;
  }
  findOutletByModal(modalNavigation, isShowingModal) {
    return this.outlets.find(outlet => {
      const equalModalDepth = outlet.modalNavigationDepth === modalNavigation;
      return isShowingModal ? equalModalDepth && outlet.showingModal : equalModalDepth;
    });
  }
  getOutletByFrame(frame) {
    let outlet;
    for (let index = 0; index < this.outlets.length; index++) {
      const currentOutlet = this.outlets[index];
      if (currentOutlet.containsFrame(frame)) {
        outlet = currentOutlet;
        break;
      }
    }
    return outlet;
  }
  updateStates(outlet, currentSegmentGroup, queryParams, replace = false) {
    const isNewPage = outlet.states.length === 0;
    const lastState = outlet.states[outlet.states.length - 1];
    const equalStateUrls = outlet.containsTopState(currentSegmentGroup.toString());
    const locationState = {
      segmentGroup: currentSegmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: isNewPage,
      queryParams: {
        ...queryParams
      }
    };
    if (!lastState || !equalStateUrls) {
      if (replace) {
        outlet.states.pop();
      }
      outlet.states.push(locationState);
      // Update last state segmentGroup of parent Outlet.
      if (this._modalNavigationDepth === 0 && !outlet.showingModal) {
        this.updateParentsStates(outlet, currentSegmentGroup.parent);
      }
      return true;
    } else {
      if (lastState && equalStateUrls) {
        // update query params for last state
        lastState.queryParams = {
          ...queryParams
        };
      }
    }
    return false;
  }
  updateParentsStates(outlet, newSegmentGroup) {
    let parentOutlet = outlet.parent;
    // Update parents lastState segmentGroups
    while (parentOutlet && newSegmentGroup) {
      const state = parentOutlet.peekState();
      if (state) {
        state.segmentGroup = newSegmentGroup;
        newSegmentGroup = newSegmentGroup.parent;
        parentOutlet = parentOutlet.parent;
      }
    }
  }
  // tslint:disable-next-line:max-line-length
  createOutlet(outletKey, path, segmentGroup, parent, modalNavigation, queryParams = {}) {
    const pathByOutlets = this.getPathByOutlets(segmentGroup);
    const newOutlet = new Outlet(outletKey, path, pathByOutlets, modalNavigation);
    const locationState = {
      segmentGroup: segmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: true,
      queryParams: {
        ...queryParams
      }
    };
    newOutlet.states = [locationState];
    newOutlet.parent = parent;
    this.outlets.push(newOutlet);
    // Update last state segmentGroup of parent Outlet.
    if (this._modalNavigationDepth === 0 && !newOutlet.showingModal) {
      this.updateParentsStates(newOutlet, segmentGroup.parent);
    }
    return newOutlet;
  }
  getSegmentGroupByOutlet(outlet) {
    const pathList = outlet.pathByOutlets.split('-');
    let segmentGroup = this.currentUrlTree.root;
    let pathToOutlet;
    for (let index = 0; index < pathList.length; index++) {
      const currentPath = pathList[index];
      const childrenCount = Object.keys(segmentGroup.children).length;
      if (childrenCount && segmentGroup.children[currentPath]) {
        const url = segmentGroup.toString();
        pathToOutlet = pathToOutlet ? pathToOutlet + '/' + url : url;
        segmentGroup = segmentGroup.children[currentPath];
      } else {
        // If no child outlet found with the given name - forget about all previously found outlets.
        // example: seaching for 'primary-second-primary' shouldn't return 'primary-second'
        // if no 'primary' child available on 'second'.
        segmentGroup = null;
        break;
      }
    }
    // Paths should also match since there could be another Outlet
    // with the same pathByOutlets but different url path.
    if (segmentGroup && outlet.path && pathToOutlet && outlet.path !== pathToOutlet) {
      segmentGroup = null;
    }
    return segmentGroup;
  }
  // Traversal and replacement of segmentGroup.
  updateSegmentGroup(rootNode, oldSegmentGroup, newSegmentGroup) {
    const queue = [];
    let currentTree = rootNode;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        if (currentTree.children[outletName] === oldSegmentGroup) {
          if (newSegmentGroup) {
            currentTree.children[outletName] = newSegmentGroup;
          } else {
            delete currentTree.children[outletName];
          }
        }
        queue.push(currentTree.children[outletName]);
      });
      currentTree = queue.shift();
    }
  }
  upsertModalOutlet(parentOutlet, segmentedGroup, queryParams, replace = false) {
    let currentModalOutlet = this.findOutletByModal(this._modalNavigationDepth);
    // We want to treat every p-r-o as a standalone Outlet.
    if (!currentModalOutlet) {
      if (this._modalNavigationDepth > 1) {
        // The parent of the current Outlet should be the previous opened modal (if any).
        parentOutlet = this.findOutletByModal(this._modalNavigationDepth - 1);
      }
      // No currentModalOutlet available when opening 'primary' p-r-o.
      const outletName = 'primary';
      const outletPath = parentOutlet.peekState().segmentGroup.toString();
      const outletKey = this.getOutletKey(outletPath, outletName);
      // tslint:disable-next-line:max-line-length
      currentModalOutlet = this.createOutlet(outletKey, outletPath, segmentedGroup, parentOutlet, this._modalNavigationDepth, queryParams);
      this.currentOutlet = currentModalOutlet;
    } else if (this.updateStates(currentModalOutlet, segmentedGroup, queryParams, replace)) {
      this.currentOutlet = currentModalOutlet; // If states updated
    }
  }

  getOutletKey(path, outletName) {
    return path ? path + '-' + outletName : outletName;
  }
  ngOnDestroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.ngOnDestroy()');
    }
    this.outlets = [];
    this.currentOutlet = null;
  }
  static {
    this.ɵfac = function NSLocationStrategy_Factory(t) {
      return new (t || NSLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](START_PATH, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSLocationStrategy,
      factory: NSLocationStrategy.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSLocationStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: FrameService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [START_PATH]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ModalDialogParams {
  constructor(context = {}, closeCallback) {
    this.context = context;
    this.closeCallback = closeCallback;
  }
}
class ModalDialogService {
  constructor(location, zone, appRef, defaultInjector) {
    this.location = location;
    this.zone = zone;
    this.appRef = appRef;
    this.defaultInjector = defaultInjector;
  }
  /**
   * Emits anytime a modal is closed with the ModalDialogParams which were injected into the component which is now closing.
   * For example, can be used to wire up Rx flows outside the scope of just the component being handled.
   */
  get closed$() {
    if (!this._closed$) {
      this._closed$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    }
    return this._closed$;
  }
  showModal(type, options = {}) {
    // if (!options.viewContainerRef) {
    //   throw new Error('No viewContainerRef: ' + 'Make sure you pass viewContainerRef in ModalDialogOptions.');
    // }
    let parentView = options.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if (options.target) {
      parentView = options.target;
    }
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    if (parentView._ngDialogRoot) {
      parentView = parentView._ngDialogRoot;
    }
    // resolve from particular module (moduleRef)
    // or from same module as parentView (viewContainerRef)
    const componentInjector = options.moduleRef?.injector || options.viewContainerRef?.injector || this.defaultInjector;
    const resolver = componentInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
    let frame = parentView;
    if (!(parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame)) {
      frame = parentView.page && parentView.page.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    }
    this.location?._beginModalNavigation(frame);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        try {
          this._showDialog({
            ...options,
            containerRef: options.viewContainerRef,
            injector: componentInjector,
            context: options.context,
            doneCallback: resolve,
            parentView,
            resolver,
            type
          });
        } catch (err) {
          reject(err);
        }
      }, 10);
    });
  }
  _showDialog(options) {
    var _this = this;
    let componentViewRef;
    let detachedLoaderRef;
    let portalOutlet;
    const closeCallback = once( /*#__PURE__*/(0,_Users_baonhivu_Dropbox_My_Mac_Bao_Nhi_s_MacBook_Pro_Desktop_COMP_comp523_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (...args) {
      options.doneCallback.apply(undefined, args);
      if (componentViewRef) {
        componentViewRef.firstNativeLikeView.closeModal();
        const params = _this.openedModalParams.pop();
        if (_this._closed$) {
          _this._closed$.next(params);
        }
        yield _this.location._closeModalNavigation();
        if (detachedLoaderRef || portalOutlet) {
          _this.zone.run(() => {
            portalOutlet?.dispose();
            detachedLoaderRef?.instance.detectChanges();
            detachedLoaderRef?.destroy();
          });
        }
      }
    }));
    const modalParams = new ModalDialogParams(options.context, closeCallback);
    if (!this.openedModalParams) {
      this.openedModalParams = [];
    }
    this.openedModalParams.push(modalParams);
    const childInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: ModalDialogParams,
        useValue: modalParams
      }],
      parent: options.injector
    });
    this.zone.run(() => {
      // if we ever support templates in the old API
      // if(options.templateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      // }
      const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
      const portal = new ComponentPortal(options.type);
      portalOutlet = new NativeScriptDomPortalOutlet(targetView, options.resolver, this.appRef, childInjector);
      const componentRef = portalOutlet.attach(portal);
      componentRef.changeDetectorRef.detectChanges();
      componentViewRef = new NgViewRef(componentRef);
      if (options.useContextAsComponentProps && options.context) {
        for (const key in options.context) {
          componentViewRef.ref.instance[key] = options.context[key];
        }
      }
      if (componentViewRef !== componentRef.location.nativeElement) {
        componentRef.location.nativeElement._ngDialogRoot = componentViewRef.firstNativeLikeView;
      }
      // if we don't detach the view from its parent, ios gets mad
      componentViewRef.detachNativeLikeView();
      options.parentView.showModal(componentViewRef.firstNativeLikeView, {
        ...options,
        closeCallback
      });
    });
  }
  static {
    this.ɵfac = function ModalDialogService_Factory(t) {
      return new (t || ModalDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: ModalDialogService,
      factory: ModalDialogService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ModalDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }];
  }, null);
})();

/**
 * This decorator delays a potentially unsafe event (like loaded/unloaded that will sometimes be called before ngOnInit) to be handled safely by ensuring it's called after a lifecycle hook.
 * @param runAfterEvent event/function call to wait until the event can be fired ('ngOnInit', 'ngAfterViewInit', ...)
 * @param options Optional event handling params
 * @returns decorator
 */
function NativeScriptNgSafeEvent(runAfterEvent, options = {}) {
  const event = runAfterEvent;
  return function (target, propertyKey, descriptor) {
    function getNgSafe() {
      return target['__ng_safe__'];
    }
    if (!target['__ng_safe__']) {
      const defaultNgSafe = {
        events: {},
        runBefore: {}
      };
      target['__ng_safe__'] = defaultNgSafe;
    }
    if (!getNgSafe().events[event]) {
      getNgSafe().events[event] = {
        done: false,
        buffer: [],
        originalDelegate: target[event]
      };
      target[event] = function (...args) {
        try {
          if (getNgSafe().events[event].originalDelegate) {
            return getNgSafe().events[event].originalDelegate.apply(this, args);
          }
        } finally {
          getNgSafe().events[event].done = true;
          getNgSafe().events[event].buffer.forEach(fn => fn.fn());
          getNgSafe().events[event].buffer = [];
        }
      };
    }
    if (options.alwaysRunBefore) {
      getNgSafe().runBefore[propertyKey] = target[options.alwaysRunBefore];
      target[`${options.alwaysRunBefore}`] = function (...args) {
        getNgSafe().events[event].buffer.filter(v => v.key === propertyKey).forEach(fn => fn.fn());
        getNgSafe().events[event].buffer = getNgSafe().events[event].buffer.filter(v => v.key !== propertyKey);
        getNgSafe().runBefore[propertyKey];
        if (getNgSafe().runBefore[propertyKey]) {
          return getNgSafe().runBefore[propertyKey].apply(this, args);
        }
      };
    }
    const oldFn = descriptor.value;
    descriptor.value = function (...args) {
      if (getNgSafe().events[event].done) {
        return oldFn.apply(this, args);
      }
      let shouldPush = true;
      if (options.onlyFirst || options.onlyLast) {
        for (let i = 0; i < getNgSafe().events[event].buffer.length; i++) {
          if (getNgSafe().events[event].buffer[i].key === propertyKey) {
            if (options.onlyFirst) {
              shouldPush = false;
              break;
            }
            if (options.onlyLast) {
              getNgSafe().events[event].buffer.splice(i, 1);
              break;
            }
          }
        }
      }
      if (shouldPush) {
        getNgSafe().events[event].buffer.push({
          key: propertyKey,
          fn: oldFn.bind(this, args)
        });
      }
    };
  };
}
class TabViewDirective {
  get selectedIndex() {
    return this._selectedIndex;
  }
  set selectedIndex(value) {
    this._selectedIndex = value;
    if (this.viewInitialized) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  constructor(element) {
    this.tabView = element.nativeElement;
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.rendererLog('this._selectedIndex: ' + this._selectedIndex);
    }
    if (!isBlank(this._selectedIndex)) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  static {
    this.ɵfac = function TabViewDirective_Factory(t) {
      return new (t || TabViewDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewDirective,
      selectors: [["TabView"]],
      inputs: {
        selectedIndex: "selectedIndex"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TabView' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    selectedIndex: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class TabViewItemDirective {
  constructor(owner, templateRef, viewContainer) {
    this.owner = owner;
    this.templateRef = templateRef;
    this.viewContainer = viewContainer;
  }
  set config(config) {
    if (!this._config || this._config.iconSource !== config.iconSource || this._config.title !== config.title || this._config.textTransform !== config.textTransform) {
      this._config = config;
      this.applyConfig();
    }
  }
  get config() {
    // tslint:disable-line:no-input-rename
    return this._config || {};
  }
  set title(title) {
    this.config = Object.assign(this.config, {
      title
    });
  }
  get title() {
    return this.config.title;
  }
  set iconSource(iconSource) {
    this.config = Object.assign(this.config, {
      iconSource
    });
  }
  get iconSource() {
    return this.config.iconSource;
  }
  set textTransform(textTransform) {
    this.config = Object.assign(this.config, {
      textTransform
    });
  }
  get textTransform() {
    return this.config.textTransform;
  }
  ensureItem() {
    if (!this.item) {
      this.item = new _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabViewItem();
    }
  }
  applyConfig() {
    this.ensureItem();
    if (this.config.title) {
      this.item.title = this.config.title;
    }
    if (this.config.iconSource) {
      this.item.iconSource = this.config.iconSource;
    }
    //  TabViewItem textTransform has a default value for Android that kick in
    // only if no value (even a null value) is set.
    if (this.config.textTransform) {
      this.item.textTransform = this.config.textTransform;
    }
  }
  ngOnInit() {
    this.applyConfig();
    const viewRef = this.viewContainer.createEmbeddedView(this.templateRef);
    // Filter out text nodes and comments
    const realViews = viewRef.rootNodes.filter(node => !(node instanceof InvisibleNode));
    if (realViews.length > 0) {
      this.item.view = realViews[0];
      const newItems = (this.owner.tabView.items || []).concat([this.item]);
      this.owner.tabView.items = newItems;
    }
  }
  static {
    this.ɵfac = function TabViewItemDirective_Factory(t) {
      return new (t || TabViewItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TabViewDirective), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewItemDirective,
      selectors: [["", "tabItem", ""]],
      inputs: {
        config: ["tabItem", "config"],
        title: "title",
        iconSource: "iconSource",
        textTransform: "textTransform"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[tabItem]' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: TabViewDirective
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }];
  }, {
    config: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['tabItem']
    }],
    title: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    iconSource: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    textTransform: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();

/* eslint-disable @angular-eslint/component-selector */
class AndroidFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
  }
  static {
    this.ɵfac = function AndroidFilterComponent_Factory(t) {
      return new (t || AndroidFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: AndroidFilterComponent,
      selectors: [["android"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function AndroidFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, AndroidFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AndroidFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'android',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class IOSFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
  }
  static {
    this.ɵfac = function IOSFilterComponent_Factory(t) {
      return new (t || IOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: IOSFilterComponent,
      selectors: [["ios"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function IOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, IOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](IOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ios',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class VisionOSFilterComponent {
  constructor(device) {
    // Note: casting any to be backwards compatible
    // Available in 8.6+ only
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.visionos;
  }
  static {
    this.ɵfac = function VisionOSFilterComponent_Factory(t) {
      return new (t || VisionOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: VisionOSFilterComponent,
      selectors: [["visionos"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function VisionOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, VisionOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VisionOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'visionos',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();
const CDK_COMPONENTS = [ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, AndroidFilterComponent, IOSFilterComponent, VisionOSFilterComponent];
registerNativeScriptViewComponents();
class NativeScriptCommonModule {
  static {
    this.ɵfac = function NativeScriptCommonModule_Factory(t) {
      return new (t || NativeScriptCommonModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptCommonModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [ModalDialogService],
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, _angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptCommonModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule],
      declarations: [...CDK_COMPONENTS],
      exports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, ...CDK_COMPONENTS],
      providers: [ModalDialogService],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();
function generateFallbackRootView(parentRootView) {
  if (parentRootView) {
    return parentRootView;
  }
  return new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('white'));
}
function errorHandler() {
  return new _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler();
}
function generateRandomId() {
  return `${Date.now()}` + '_' + Math.random().toString(36).substr(2, 9);
}
const NATIVESCRIPT_MODULE_STATIC_PROVIDERS = [{
  provide: APP_ROOT_VIEW,
  useFactory: generateFallbackRootView,
  deps: [[new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf(), APP_ROOT_VIEW]]
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵINJECTOR_SCOPE"],
  useValue: 'root'
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler,
  useFactory: errorHandler,
  deps: []
}, {
  provide: ViewUtil,
  useClass: ViewUtil,
  deps: [NAMESPACE_FILTERS, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NativeScriptRendererFactory,
  useClass: NativeScriptRendererFactory,
  deps: [APP_ROOT_VIEW, NAMESPACE_FILTERS, NATIVESCRIPT_ROOT_MODULE_ID, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NATIVESCRIPT_ROOT_MODULE_ID,
  useFactory: generateRandomId
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
  useExisting: NativeScriptRendererFactory
}, {
  provide: NAMESPACE_FILTERS,
  useClass: PlatformNamespaceFilter,
  deps: [DEVICE],
  multi: true
}, {
  provide: DEVICE,
  useValue: _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.Device
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory,
  useClass: NativescriptXhrFactory,
  deps: []
}];
const NATIVESCRIPT_MODULE_PROVIDERS = [{
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.ViewportScroller,
  useClass: _angular_common__WEBPACK_IMPORTED_MODULE_14__["ɵNullViewportScroller"]
}];
class NativeScriptModule {
  constructor(parentModule) {
    if (parentModule) {
      throw new Error(`NativeScriptModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);
    }
  }
  static {
    this.ɵfac = function NativeScriptModule_Factory(t) {
      return new (t || NativeScriptModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule],
      declarations: [DetachedLoader],
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      exports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, DetachedLoader, NativeScriptCommonModule],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], function () {
    return [{
      type: NativeScriptModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [NativeScriptModule]
      }]
    }];
  }, null);
})();
function disableRootViewHanding(view) {
  view.__disable_root_view_handling = true;
}
const preAngularDisposal$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
const postAngularBootstrap$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
/**
 * @deprecated
 */
const onBeforeLivesync = preAngularDisposal$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main' && v.reason === 'hotreload'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => v.reference));
/**
 * @deprecated
 */
const onAfterLivesync = postAngularBootstrap$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => ({
  moduleRef: v.reference
})));
if (true) {
  __webpack_module__.hot.decline();
  global.__onLiveSyncCore = () => {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._onCssStateChange();
    // all other changes are applied by runNativeScriptAngularApp
  };
}

function emitModuleBootstrapEvent(ref, name, reason) {
  postAngularBootstrap$.next({
    moduleType: name,
    reference: ref,
    reason
  });
}
function destroyRef(ref, name, reason) {
  if (ref) {
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef) {
      preAngularDisposal$.next({
        moduleType: 'platform',
        reference: ref,
        reason: name
      });
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      preAngularDisposal$.next({
        moduleType: name,
        reference: ref,
        reason
      });
    }
    ref.destroy();
  }
}
function runZoneSyncTask(fn) {
  if (typeof Zone === 'undefined') {
    return;
  }
  const zone = Zone.current;
  const task = zone.scheduleEventTask('sync_function', fn, {}, () => {
    //
  }, () => {
    //
  });
  try {
    // console.log(task.state);
    task.invoke();
    // zone.runTask(task);
    // console.log(task.state);
  } finally {
    zone.cancelTask(task);
  }
}
function ZoneCanWorkSync() {
  let canRunSync = false;
  runZoneSyncTask(() => {
    Promise.resolve().then(() => canRunSync = true);
  });
  return canRunSync;
}
/**
 * Tests if global.__drainMicrotaskQueue can be used to drain microtasks
 * Because of Zone.js, even though the native queue might be drained, zone microtasks might not be
 * @param makeTestDrain should it drain the current microtask queue to ensure the queue can be drained
 * @returns if global.__drainMicrotaskQueue can be called
 */
function nativeQueueCanBeDrained(makeTestDrain) {
  if (typeof global.__drainMicrotaskQueue !== 'function') {
    return false;
  }
  if (!makeTestDrain) {
    return true;
  }
  let canRunSync = false;
  Promise.resolve().then(() => canRunSync = true);
  global.__drainMicrotaskQueue();
  return canRunSync;
}
/**
 * Runs a function in the most synchronous way possible
 * @param fn function to run
 * @param done function to chain after done
 */
function runSynchronously(fn, done) {
  if (typeof Zone !== 'undefined' && ZoneCanWorkSync()) {
    runZoneSyncTask(fn);
    done?.();
    return;
  }
  if (nativeQueueCanBeDrained(true)) {
    fn();
    global.__drainMicrotaskQueue();
    done?.();
    return;
  }
  fn();
  if (done) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(done);
  }
}
function createProvidersConfig(options) {
  return {
    appProviders: [...NATIVESCRIPT_MODULE_PROVIDERS, ...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...(options?.providers ?? [])]
    // platformProviders: INTERNAL_BROWSER_PLATFORM_PROVIDERS
  };
}

function bootstrapApplication(rootComponent, options) {
  return (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵinternalCreateApplication"])({
    rootComponent,
    ...createProvidersConfig(options)
  });
}
function runNativeScriptAngularApp(options) {
  let mainModuleRef = null;
  let loadingModuleRef;
  let platformRef = null;
  let bootstrapId = -1;
  const updatePlatformRef = (moduleRef, reason) => {
    const newPlatformRef = moduleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef);
    if (newPlatformRef === platformRef) {
      return;
    }
    destroyRef(platformRef, reason);
    platformRef = newPlatformRef;
    platformRef.onDestroy(() => platformRef = platformRef === newPlatformRef ? null : platformRef);
  };
  let launchEventDone = true;
  let targetRootView = null;
  const setRootView = ref => {
    if (bootstrapId === -1) {
      // treat edge cases
      return;
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      if (ref.injector.get(DISABLE_ROOT_VIEW_HANDLING, false)) {
        return;
      }
    } else {
      if (ref['__disable_root_view_handling']) {
        return;
      }
    }
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._closeAllModalViewsInternal(); // cleanup old rootview
    NativeScriptDebug.bootstrapLog(`Setting RootView ${launchEventDone ? 'outside of' : 'during'} launch event`);
    // TODO: check for leaks when root view isn't properly destroyed
    if (ref instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.bootstrapLog(`Setting RootView to ${ref}`);
      }
      if (options.embedded) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
          create: () => ref
        });
      } else if (launchEventDone) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => ref
        });
      } else {
        targetRootView = ref;
      }
      return;
    }
    const view = ref.injector.get(APP_ROOT_VIEW);
    const newRoot = view instanceof AppHostView ? view.content : view;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.bootstrapLog(`Setting RootView to ${newRoot}`);
    }
    if (options.embedded) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
        create: () => newRoot
      });
    } else if (launchEventDone) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
        create: () => newRoot
      });
    } else {
      targetRootView = newRoot;
    }
  };
  const showErrorUI = error => {
    const message = error.message + '\n\n' + error.stack;
    const errorTextBox = new _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView();
    errorTextBox.text = message;
    errorTextBox.color = new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('red');
    setRootView(errorTextBox);
  };
  const bootstrapRoot = reason => {
    try {
      bootstrapId = Date.now();
      const currentBootstrapId = bootstrapId;
      let bootstrapped = false;
      let onMainBootstrap = () => {
        setRootView(mainModuleRef);
      };
      runSynchronously(() => options.appModuleBootstrap(reason).then(ref => {
        if (currentBootstrapId !== bootstrapId) {
          // this module is old and not needed anymore
          // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
          ref.destroy();
          return;
        }
        mainModuleRef = ref;
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => mainModuleRef = mainModuleRef === ref ? null : mainModuleRef);
        updatePlatformRef(ref, reason);
        const styleTag = ref.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => {
          (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
        });
        bootstrapped = true;
        onMainBootstrap();
        emitModuleBootstrapEvent(ref, 'main', reason);
        // bootstrapped component: (ref as any)._bootstrapComponents[0];
      }, err => {
        bootstrapped = true;
        NativeScriptDebug.bootstrapLogError(`Error bootstrapping app module:\n${err.message}\n\n${err.stack}`);
        showErrorUI(err);
        throw err;
      }), () => {
        if (currentBootstrapId !== bootstrapId) {
          return;
        }
        if (!bootstrapped) {
          if (options.loadingModule) {
            runSynchronously(() => options.loadingModule(reason).then(loadingRef => {
              if (currentBootstrapId !== bootstrapId) {
                // this module is old and not needed anymore
                // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
                loadingRef.destroy();
                return;
              }
              loadingModuleRef = loadingRef;
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => loadingModuleRef = loadingModuleRef === loadingRef ? null : loadingModuleRef);
              updatePlatformRef(loadingRef, reason);
              const styleTag = loadingModuleRef.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => {
                (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
              });
              setRootView(loadingRef);
              onMainBootstrap = () => {
                // delay showing the new rootview to avoid flashes
                _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                  const loadingService = loadingModuleRef.injector.get(NativeScriptLoadingService);
                  loadingModuleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone).run(() => {
                    loadingService._notifyMainModuleReady();
                  });
                  loadingService.readyToDestroy$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
                    destroyRef(loadingModuleRef, 'loading', reason);
                    loadingModuleRef = null;
                    setRootView(mainModuleRef);
                  });
                });
              };
              emitModuleBootstrapEvent(loadingModuleRef, 'loading', reason);
            }, err => {
              NativeScriptDebug.bootstrapLogError(`Error bootstrapping loading module:\n${err.message}\n\n${err.stack}`);
              showErrorUI(err);
              throw err;
            }));
          } else if (options.launchView) {
            let launchView = options.launchView(reason);
            setRootView(launchView);
            if (launchView.startAnimation) {
              setTimeout(() => {
                // ensure launch animation is executed after launchView added to view stack
                launchView.startAnimation();
              });
            }
            onMainBootstrap = () => {
              // delay showing the new rootview to avoid flashes
              _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                if (launchView.cleanup) {
                  launchView.cleanup().catch().then(() => {
                    launchView = null;
                    setRootView(mainModuleRef);
                  });
                } else {
                  launchView = null;
                  setRootView(mainModuleRef);
                }
              });
            };
          } else {
            console.warn('App is bootstrapping asynchronously (likely APP_INITIALIZER) but did not provide a launchView or LoadingModule.');
          }
        }
      });
    } catch (err) {
      NativeScriptDebug.bootstrapLogError(`Error in Bootstrap Function:\n${err.message}\n\n${err.stack}`);
    }
  };
  const disposePlatform = reason => {
    destroyRef(platformRef, reason);
    platformRef = null;
  };
  const disposeLastModules = reason => {
    // reset bootstrap ID to make sure any modules bootstrapped after this are discarded
    bootstrapId = -1;
    destroyRef(loadingModuleRef, 'loading', reason);
    loadingModuleRef = null;
    destroyRef(mainModuleRef, 'main', reason);
    mainModuleRef = null;
  };
  const launchCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.launchCallback', args => {
    launchEventDone = false;
    bootstrapRoot('applaunch');
    launchEventDone = true;
    args.root = targetRootView || null;
  });
  const exitCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.exitCallback', args => {
    disposeLastModules('appexit');
  });
  let oldAddEventListener;
  if (typeof Zone !== 'undefined' && global.NativeScriptGlobals?.events?.[Zone.__symbol__('addEventListener')]) {
    oldAddEventListener = global.NativeScriptGlobals.events.addEventListener;
    global.NativeScriptGlobals.events.addEventListener = global.NativeScriptGlobals.events[Zone.__symbol__('addEventListener')];
  }
  if (!options.embedded) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
  }
  _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
  if (oldAddEventListener) {
    global.NativeScriptGlobals.events.addEventListener = oldAddEventListener;
  }
  if (true) {
    // handle HMR Application.run
    global['__dispose_app_ng_platform__'] = () => {
      disposePlatform('hotreload');
    };
    global['__dispose_app_ng_modules__'] = () => {
      disposeLastModules('hotreload');
    };
    global['__bootstrap_app_ng_modules__'] = () => {
      bootstrapRoot('hotreload');
    };
    global['__cleanup_ng_hot__'] = () => {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
      disposeLastModules('hotreload');
      disposePlatform('hotreload');
    };
    global['__reboot_ng_modules__'] = (shouldDisposePlatform = false) => {
      disposeLastModules('hotreload');
      if (shouldDisposePlatform) {
        disposePlatform('hotreload');
      }
      bootstrapRoot('hotreload');
    };
    if (!_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.hasLaunched()) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
      return;
    }
    bootstrapRoot('hotreload');
    return;
  }
  if (options.embedded) {
    bootstrapRoot('applaunch');
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
  }
}
class NativeScriptPlatformRefProxy extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef {
  constructor(platform, launchView) {
    super();
    this.platform = platform;
    this.launchView = launchView;
  }
  bootstrapModuleFactory(moduleFactory) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModuleFactory(moduleFactory),
      launchView: () => this.launchView
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  bootstrapModule(moduleType, compilerOptions) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModule(moduleType, compilerOptions)
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  onDestroy(callback) {
    this.platform.onDestroy(callback);
  }
  get injector() {
    return this.platform.injector;
  }
  destroy() {
    this.platform.destroy();
  }
  get destroyed() {
    return this.platform.destroyed;
  }
}
const defaultPageFactoryProvider = {
  provide: PAGE_FACTORY,
  useValue: defaultPageFactory
};
class NativeScriptSanitizer extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer {
  sanitize(_context, value) {
    return value;
  }
}
// TODO: when angular finally exports their scheduler token for ivy CD, provide our own with queueMacroTask
// export function schedulerFactory() {
//   return (fn: any) => {
//     console.log('SCHEDULER');
//     setTimeout(fn, 0);
//   };
// }
class NativeScriptDocument {
  constructor() {
    // Required by the AnimationDriver
    this.body = {
      isOverride: true
    };
  }
  createElement(tag) {
    throw new Error('NativeScriptDocument is not DOM Document. There is no createElement() method.');
  }
}
const COMMON_PROVIDERS = [defaultPageFactoryProvider, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer,
  useClass: NativeScriptSanitizer,
  deps: []
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT,
  useClass: NativeScriptDocument,
  deps: []
}];
const platformNativeScript = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.platformCore, 'nativescriptDynamic', COMMON_PROVIDERS);
/**
 * @deprecated use runNativeScriptAngularApp instead
 */
const platformNativeScriptDynamic = function (options, extraProviders) {
  console.log('platformNativeScriptDynamic is deprecated, use runNativeScriptAngularApp instead');
  options = options || {};
  extraProviders = extraProviders || [];
  const ngRootView = new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color(options.backgroundColor || 'white'));
  let launchView = options.launchView;
  if (!launchView && options.async) {
    launchView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
    launchView.backgroundColor = options.backgroundColor || 'white';
  }
  return new NativeScriptPlatformRefProxy(platformNativeScript([...extraProviders]), launchView);
};
class RootViewProxy extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(parentRootLayout) {
    super();
    this.parentRootLayout = parentRootLayout;
  }
  _addView(view, atIndex) {
    super._addView(view, atIndex);
    if (this.parentRootLayout.getChildIndex(this) < 0) {
      this.parentRootLayout.insertChild(this, 0);
    }
  }
  _removeView(view) {
    super._removeView(view);
    this.parentRootLayout.removeChild(this);
  }
}
/**
 * This generates a RootLayout and returns a RootViewProxy.
 * Setting RootViewProxy.content will add the view to the bottom of the RootLayout
 * Setting RootViewProxy.content = null will remove the view from the RootLayout
 * @returns RootViewProxy that will insert content into the start of the RootLayout
 */
function generateRootLayoutAndProxy() {
  let rootView = _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
  if (!rootView || !(rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout)) {
    rootView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout();
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
      create: () => rootView
    });
  }
  const viewProxy = new RootViewProxy(rootView);
  // (rootView as RootLayout).insertChild(viewProxy, 0);
  return viewProxy;
}
class RootCompositeModule {
  static {
    this.ɵfac = function RootCompositeModule_Factory(t) {
      return new (t || RootCompositeModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: RootCompositeModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RootCompositeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Configuration for opening a modal dialog with the MatDialog service.
 */
class NativeDialogConfig {
  constructor() {
    /** Whether the dialog has a backdrop. */
    this.hasBackdrop = true;
    /** Whether the user can use escape or clicking on the backdrop to close the modal. */
    this.disableClose = false;
    /** Data being injected into the child component. */
    this.data = null;
    /**
     * Whether the dialog should close when the user goes backwards/forwards in history.
     * Note that this usually doesn't include clicking on links (unless the user is using
     * the `HashLocationStrategy`).
     */
    this.closeOnNavigation = true;
    this.nativeOptions = {};
    // TODO(jelbourn): add configuration for lifecycle hooks, ARIA labelling.
  }
}

// Counter for unique dialog ids.
let uniqueId = 0;
class NativeDialogRef {
  constructor(_nativeModalRef, id = `native-dialog-${uniqueId++}`) {
    this._nativeModalRef = _nativeModalRef;
    this.id = id;
    /** Subject for notifying the user that the dialog has finished opening. */
    this._afterOpened = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has finished closing. */
    this._afterClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has started closing. */
    this._beforeClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Current state of the dialog. */
    this._state = 0 /* NativeDialogState.OPEN */;
    // Pass the id along to the container.
    _nativeModalRef._id = id;
    // Emit when opening animation completes
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'opened'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      this._afterOpened.next();
      this._afterOpened.complete();
    });
    // Dispose overlay when closing animation is complete
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closed'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      clearTimeout(this._closeFallbackTimeout);
      this._finishDialogClose();
      this._afterClosed.next(this._result);
      this._afterClosed.complete();
    });
    _nativeModalRef.onDismiss.subscribe(() => {
      this._beforeClosed.next(this._result);
      this._beforeClosed.complete();
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.componentInstance = null;
      _nativeModalRef.dispose();
    });
  }
  /**
   * Close the dialog.
   * @param dialogResult Optional result to return to the dialog opener.
   */
  close(dialogResult) {
    this._result = dialogResult;
    // Transition the backdrop in parallel to the dialog.
    this._nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closing'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(event => {
      this._beforeClosed.next(dialogResult);
      this._beforeClosed.complete();
      this._nativeModalRef.dispose();
      // this._overlayRef.detachBackdrop();
      // The logic that disposes of the overlay depends on the exit animation completing, however
      // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback
      // timeout which will clean everything up if the animation hasn't fired within the specified
      // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the
      // vast majority of cases the timeout will have been cleared before it has the chance to fire.
      this._closeFallbackTimeout = setTimeout(() => {
        this._finishDialogClose();
        this._afterClosed.next(this._result);
        this._afterClosed.complete();
      },
      //event.totalTime + 100);
      100);
    });
    this._state = 1 /* NativeDialogState.CLOSING */;
    this._nativeModalRef._startExitAnimation();
  }
  /**
   * Gets an observable that is notified when the dialog is finished opening.
   */
  afterOpened() {
    return this._afterOpened;
  }
  /**
   * Gets an observable that is notified when the dialog is finished closing.
   */
  afterClosed() {
    return this._afterClosed;
  }
  /**
   * Gets an observable that is notified when the dialog has started closing.
   */
  beforeClosed() {
    return this._beforeClosed;
  }
  /**
   * Gets an observable that emits when the overlay's backdrop has been clicked.
   */
  backdropClick() {
    throw new Error('Method not implemented');
  }
  /** Add a CSS class or an array of classes to the overlay pane. */
  addPanelClass(classes) {
    // this._overlayRef.addPanelClass(classes);
    return this;
  }
  /** Remove a CSS class or an array of classes from the overlay pane. */
  removePanelClass(classes) {
    // this._overlayRef.removePanelClass(classes);
    return this;
  }
  /** Gets the current state of the dialog's lifecycle. */
  getState() {
    return this._state;
  }
  /**
   * Finishes the dialog close by updating the state of the dialog
   * and disposing the overlay.
   */
  _finishDialogClose() {
    this._state = 2 /* NativeDialogState.CLOSED */;
    this._nativeModalRef.dispose();
  }
}
let NativeModalRef = class NativeModalRef {
  constructor(_config, _injector, location) {
    var _this2 = this;
    this._config = _config;
    this._injector = _injector;
    this.location = location;
    this.stateChanged = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this.onDismiss = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._isDismissed = false;
    let parentView = this._config.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    while (parentView._modal || parentView._ngDialogRoot) {
      parentView = parentView._modal || parentView._ngDialogRoot;
    }
    this.parentView = parentView;
    this._closeCallback = once( /*#__PURE__*/(0,_Users_baonhivu_Dropbox_My_Mac_Bao_Nhi_s_MacBook_Pro_Desktop_COMP_comp523_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.stateChanged.next({
        state: 'closing'
      });
      if (!_this2._isDismissed) {
        _this2.modalViewRef.firstNativeLikeView?.closeModal();
      }
      yield _this2.location?._closeModalNavigation();
      // this.detachedLoaderRef?.destroy();
      if (_this2.modalViewRef?.firstNativeLikeView.isLoaded) {
        (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.fromEvent)(_this2.modalViewRef.firstNativeLikeView, 'unloaded').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => _this2.stateChanged.next({
          state: 'closed'
        }));
      } else {
        _this2.stateChanged.next({
          state: 'closed'
        });
      }
    }));
  }
  _generateDetachedContainer(vcRef) {
    const detachedFactory = (this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver)).resolveComponentFactory(DetachedLoader);
    if (vcRef) {
      this.detachedLoaderRef = vcRef.createComponent(detachedFactory);
    } else {
      this.detachedLoaderRef = detachedFactory.create(this._config.viewContainerRef?.injector || this._injector);
      this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(this.detachedLoaderRef.hostView);
    }
    this.detachedLoaderRef.changeDetectorRef.detectChanges();
  }
  attachTemplatePortal(portal) {
    var _this3 = this;
    this.startModalNavigation();
    const vcRef = portal.viewContainerRef || this._config.viewContainerRef;
    this._generateDetachedContainer(vcRef);
    portal.viewContainerRef = this.detachedLoaderRef.instance.vc;
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const templateRef = this.portalOutlet.attach(portal);
    this.modalViewRef = new NgViewRef(templateRef);
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref3 = (0,_Users_baonhivu_Dropbox_My_Mac_Bao_Nhi_s_MacBook_Pro_Desktop_COMP_comp523_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          yield _this3.location?._closeModalNavigation();
          _this3.onDismiss.next();
          _this3.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref3.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    //   if (this.modalView !== templateRef.rootNodes[0]) {
    //     componentRef.location.nativeElement._ngDialogRoot = this.modalView;
    //   }
    return templateRef;
  }
  attachComponentPortal(portal) {
    var _this4 = this;
    this.startModalNavigation();
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const componentRef = this.portalOutlet.attach(portal);
    componentRef.changeDetectorRef.detectChanges();
    this.modalViewRef = new NgViewRef(componentRef);
    if (this.modalViewRef.firstNativeLikeView !== this.modalViewRef.view) {
      this.modalViewRef.view._ngDialogRoot = this.modalViewRef.firstNativeLikeView;
    }
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref4 = (0,_Users_baonhivu_Dropbox_My_Mac_Bao_Nhi_s_MacBook_Pro_Desktop_COMP_comp523_egogreen_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          _this4._isDismissed = true;
          _this4._closeCallback(); // close callback can only be called once, so we call it here to setup the exit events
          _this4.onDismiss.next();
          _this4.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref4.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    return componentRef;
  }
  _startExitAnimation() {
    this._closeCallback();
  }
  dispose() {
    this.portalOutlet.dispose();
  }
  startModalNavigation() {
    const frame = this.parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame ? this.parentView : this.parentView?.page?.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    this.location?._beginModalNavigation(frame);
  }
};
NativeModalRef = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [NativeDialogConfig, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, NSLocationStrategy])], NativeModalRef);

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/** Injection token that can be used to access the data that was passed in to a dialog. */
const NATIVE_DIALOG_DATA = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeDialogData');
/** Injection token that can be used to specify default dialog options. */
const NATIVE_DIALOG_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('native-dialog-default-options');
/**
 * Base class for dialog services. The base dialog service allows
 * for arbitrary dialog refs and dialog container components.
 */
class _NativeDialogBase {
  /** Keeps track of the currently-open dialogs. */
  get openDialogs() {
    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;
  }
  /** Stream that emits when a dialog has been opened. */
  get afterOpened() {
    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;
  }
  _getAfterAllClosed() {
    const parent = this._parentDialog;
    return parent ? parent._getAfterAllClosed() : this._afterAllClosedAtThisLevel;
  }
  constructor(_injector, _defaultOptions, _parentDialog, _dialogRefConstructor, _nativeModalType, _dialogDataToken, locationStrategy) {
    this._injector = _injector;
    this._defaultOptions = _defaultOptions;
    this._parentDialog = _parentDialog;
    this._dialogRefConstructor = _dialogRefConstructor;
    this._nativeModalType = _nativeModalType;
    this._dialogDataToken = _dialogDataToken;
    this.locationStrategy = locationStrategy;
    this._openDialogsAtThisLevel = [];
    this._afterAllClosedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._afterOpenedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    // TODO (jelbourn): tighten the typing right-hand side of this expression.
    /**
     * Stream that emits when all open dialog have finished closing.
     * Will emit on subscribe if there are no open dialogs to begin with.
     */
    this.afterAllClosed = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.defer)(() => this.openDialogs.length ? this._getAfterAllClosed() : this._getAfterAllClosed().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.startWith)(undefined)));
  }
  open(componentOrTemplateRef, config) {
    config = _applyConfigDefaults(config, this._defaultOptions || new NativeDialogConfig());
    if (config.id && this.getDialogById(config.id) && (typeof ngDevMode === 'undefined' || ngDevMode)) {
      throw Error(`Dialog with id "${config.id}" exists already. The dialog id must be unique.`);
    }
    const dialogRef = this._attachDialogContent(componentOrTemplateRef, config);
    this.openDialogs.push(dialogRef);
    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));
    this.afterOpened.next(dialogRef);
    // Notify the dialog container that the content has been attached.
    // dialogContainer._initializeWithAttachedContent();
    return dialogRef;
  }
  /**
   * Closes all of the currently-open dialogs.
   */
  closeAll() {
    this._closeDialogs(this.openDialogs);
  }
  /**
   * Finds an open dialog by its id.
   * @param id ID to use when looking up the dialog.
   */
  getDialogById(id) {
    return this.openDialogs.find(dialog => dialog.id === id);
  }
  ngOnDestroy() {
    // Only close the dialogs at this level on destroy
    // since the parent service may still be active.
    this._closeDialogs(this._openDialogsAtThisLevel);
    this._afterAllClosedAtThisLevel.complete();
    this._afterOpenedAtThisLevel.complete();
  }
  /**
   * Attaches the user-provided component to the already-created dialog container.
   * @param componentOrTemplateRef The type of component being loaded into the dialog,
   *     or a TemplateRef to instantiate as the content.
   * @param dialogContainer Reference to the wrapping dialog container.
   * @param overlayRef Reference to the overlay in which the dialog resides.
   * @param config The dialog configuration.
   * @returns A promise resolving to the MatDialogRef that should be returned to the user.
   */
  _attachDialogContent(componentOrTemplateRef, config) {
    // Create a reference to the dialog we're creating in order to give the user a handle
    // to modify and close it.
    const nativeModalRef = new this._nativeModalType(config, this._injector, this.locationStrategy);
    const dialogRef = new this._dialogRefConstructor(nativeModalRef, config.id);
    if (componentOrTemplateRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      nativeModalRef.attachTemplatePortal(
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      new TemplatePortal(componentOrTemplateRef, null, {
        $implicit: config.data,
        dialogRef
      }));
    } else {
      const injector = this._createInjector(config, dialogRef);
      const contentRef = nativeModalRef.attachComponentPortal(new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector));
      dialogRef.componentInstance = contentRef.instance;
    }
    return dialogRef;
  }
  /**
   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside
   * of a dialog to close itself and, optionally, to return a value.
   * @param config Config object that is used to construct the dialog.
   * @param dialogRef Reference to the dialog.
   * @param dialogContainer Dialog container element that wraps all of the contents.
   * @returns The custom injector that can be used inside the dialog.
   */
  _createInjector(config, dialogRef) {
    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;
    // The dialog container should be provided as the dialog container and the dialog's
    // content are created out of the same `ViewContainerRef` and as such, are siblings
    // for injector purposes. To allow the hierarchy that is expected, the dialog
    // container is explicitly provided in the injector.
    const providers = [{
      provide: this._dialogDataToken,
      useValue: config.data
    }, {
      provide: this._dialogRefConstructor,
      useValue: dialogRef
    }];
    return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      parent: userInjector || this._injector,
      providers
    });
  }
  /**
   * Removes a dialog from the array of open dialogs.
   * @param dialogRef Dialog to be removed.
   */
  _removeOpenDialog(dialogRef) {
    const index = this.openDialogs.indexOf(dialogRef);
    if (index > -1) {
      this.openDialogs.splice(index, 1);
      // If all the dialogs were closed, remove/restore the `aria-hidden`
      // to a the siblings and emit to the `afterAllClosed` stream.
      if (!this.openDialogs.length) {
        this._getAfterAllClosed().next();
      }
    }
  }
  /** Closes all of the dialogs in an array. */
  _closeDialogs(dialogs) {
    let i = dialogs.length;
    while (i--) {
      // The `_openDialogs` property isn't updated after close until the rxjs subscription
      // runs on the next microtask, in addition to modifying the array as we're going
      // through it. We loop through all of them and call close without assuming that
      // they'll be removed from the list instantaneously.
      dialogs[i].close();
    }
  }
  static {
    this.ɵfac = function _NativeDialogBase_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: _NativeDialogBase
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](_NativeDialogBase, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken
    }, {
      type: NSLocationStrategy
    }];
  }, null);
})();
/**
 * Service to open Material Design modal dialogs.
 */
class NativeDialogService extends _NativeDialogBase {
  constructor(injector, defaultOptions, parentDialog, location) {
    super(injector, defaultOptions, parentDialog, NativeDialogRef, NativeModalRef, NATIVE_DIALOG_DATA, location);
  }
  static {
    this.ɵfac = function NativeDialogService_Factory(t) {
      return new (t || NativeDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NATIVE_DIALOG_DEFAULT_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeDialogService, 12), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeDialogService,
      factory: NativeDialogService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }, {
      type: NativeDialogConfig,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [NATIVE_DIALOG_DEFAULT_OPTIONS]
      }]
    }, {
      type: NativeDialogService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: NSLocationStrategy,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
/**
 * Applies default options to the dialog config.
 * @param config Config to be modified.
 * @param defaultOptions Default options provided.
 * @returns The new configuration object.
 */
function _applyConfigDefaults(config, defaultOptions) {
  return {
    ...defaultOptions,
    ...config
  };
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Button that will close the current dialog.
 */
class NativeDialogCloseDirective {
  constructor(
  // The dialog title directive is always used in combination with a `MatDialogRef`.
  // tslint:disable-next-line: lightweight-tokens
  dialogRef, _elementRef, _dialog) {
    this.dialogRef = dialogRef;
    this._elementRef = _elementRef;
    this._dialog = _dialog;
  }
  ngOnInit() {
    if (!this.dialogRef) {
      // When this directive is included in a dialog via TemplateRef (rather than being
      // in a Component), the DialogRef isn't available via injection because embedded
      // views cannot be given a custom injector. Instead, we look up the DialogRef by
      // ID. This must occur in `onInit`, as the ID binding for the dialog container won't
      // be resolved at constructor time.
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.dialogRef = getClosestDialog(this._elementRef, this._dialog.openDialogs);
    }
  }
  ngOnChanges(changes) {
    const proxiedChange = changes['_matDialogClose'] || changes['_matDialogCloseResult'];
    if (proxiedChange) {
      this.dialogResult = proxiedChange.currentValue;
    }
  }
  _onButtonClick() {
    // Determinate the focus origin using the click event, because using the FocusMonitor will
    // result in incorrect origins. Most of the time, close buttons will be auto focused in the
    // dialog, and therefore clicking the button won't result in a focus change. This means that
    // the FocusMonitor won't detect any origin change, and will always output `program`.
    this.dialogRef.close(this.dialogResult);
  }
  static {
    this.ɵfac = function NativeDialogCloseDirective_Factory(t) {
      return new (t || NativeDialogCloseDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogService));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NativeDialogCloseDirective,
      selectors: [["", "native-dialog-close", ""], ["", "nativeDialogClose", ""]],
      hostBindings: function NativeDialogCloseDirective_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("tap", function NativeDialogCloseDirective_tap_HostBindingHandler() {
            return ctx._onButtonClick();
          });
        }
      },
      inputs: {
        dialogResult: ["native-dialog-close", "dialogResult"],
        _matDialogClose: ["nativeDialogClose", "_matDialogClose"]
      },
      exportAs: ["nativeDialogClose"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogCloseDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: '[native-dialog-close], [nativeDialogClose]',
      exportAs: 'nativeDialogClose'
    }]
  }], function () {
    return [{
      type: NativeDialogRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: NativeDialogService
    }];
  }, {
    dialogResult: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['native-dialog-close']
    }],
    _matDialogClose: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nativeDialogClose']
    }],
    _onButtonClick: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['tap']
    }]
  });
})();
/**
 * Finds the closest MatDialogRef to an element by looking at the DOM.
 * @param element Element relative to which to look for a dialog.
 * @param openDialogs References to the currently-open dialogs.
 */
function getClosestDialog(element, openDialogs) {
  let view = element.nativeElement.parent;
  while (view && !Object.hasOwnProperty.call(view, '__ng_modal_id__')) {
    view = view.parent;
  }
  return view ? openDialogs.find(dialog => dialog.id === view['__ng_modal_id__']) : null;
}
class NativeDialogModule {
  static {
    this.ɵfac = function NativeDialogModule_Factory(t) {
      return new (t || NativeDialogModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeDialogModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NativeDialogService]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NativeDialogCloseDirective],
      exports: [NativeDialogCloseDirective],
      providers: [NativeDialogService]
    }]
  }], null, null);
})();

// Allows greater flexibility with `file-system` and Angular
// Also provides a way for `file-system` to be mocked for testing
class NSFileSystem {
  currentApp() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.knownFolders.currentApp();
  }
  fileFromPath(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.fromPath(path);
  }
  fileExists(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.exists(path);
  }
  static {
    this.ɵfac = function NSFileSystem_Factory(t) {
      return new (t || NSFileSystem)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSFileSystem,
      factory: NSFileSystem.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSFileSystem, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();

/**
 * creates a DetachedLoader either linked to the ViewContainerRef or the ApplicationRef if ViewContainerRef is not defined
 * @param resolver component factory resolver
 * @param injector default injector, unused if viewContainerRef is set
 * @param viewContainerRef where the view should live in the angular tree
 * @returns reference to the DetachedLoader
 */
function generateDetachedLoader(resolver, injector, viewContainerRef) {
  injector = viewContainerRef?.injector || injector;
  const detachedFactory = resolver.resolveComponentFactory(DetachedLoader);
  const detachedLoaderRef = viewContainerRef?.createComponent(detachedFactory) || detachedFactory.create(injector);
  if (!viewContainerRef) {
    injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(detachedLoaderRef.hostView);
  }
  detachedLoaderRef.changeDetectorRef.detectChanges();
  return detachedLoaderRef;
}
/**
 * Generates a NgViewRef from a component or template. @see NgViewRef
 * Pass keepNativeViewAttached as `true` if you don't want the first native view to be detached from its parent.
 * For opening modals and others, the firstNativeLikeView should be detached.
 * @param typeOrTemplate ComponentType or TemplateRef that should be instanced
 * @param options options for creating the view
 * @returns NgViewRef
 */
function generateNativeScriptView(typeOrTemplate, options) {
  let detachedLoaderRef = options.detachedLoaderRef;
  const reusingDetachedLoader = !!detachedLoaderRef;
  if (reusingDetachedLoader) {
    options.viewContainerRef = detachedLoaderRef.instance.vc;
  }
  const injector = options.viewContainerRef?.injector || options.injector;
  const resolver = options.resolver || injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
  if (!detachedLoaderRef && (options.viewContainerRef || typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef)) {
    detachedLoaderRef = generateDetachedLoader(resolver, injector, options.viewContainerRef);
  }
  let portal;
  if (typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
    portal = new TemplatePortal(typeOrTemplate, detachedLoaderRef.instance.vc);
  } else {
    portal = new ComponentPortal(typeOrTemplate, detachedLoaderRef?.instance.vc);
  }
  const parentView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
  const portalOutlet = new NativeScriptDomPortalOutlet(parentView, resolver, injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), injector);
  const componentOrTemplateRef = portalOutlet.attach(portal);
  componentOrTemplateRef.onDestroy(() => {
    portalOutlet.dispose();
  });
  if (detachedLoaderRef && !reusingDetachedLoader) {
    componentOrTemplateRef.onDestroy(() => {
      detachedLoaderRef.destroy();
    });
  }
  const viewRef = new NgViewRef(componentOrTemplateRef);
  viewRef.detachedLoaderRef = detachedLoaderRef;
  if (!options.keepNativeViewAttached) {
    viewRef.detachNativeLikeView();
  }
  return viewRef;
}
class BaseValueAccessor {
  constructor(view) {
    this.view = view;
    this.pendingChangeNotification = 0;
    this.onChange = () => {
      //
    };
    this.onTouched = () => {
      //
    };
  }
  registerOnChange(fn) {
    this.onChange = arg => {
      if (this.pendingChangeNotification) {
        clearTimeout(this.pendingChangeNotification);
      }
      this.pendingChangeNotification = setTimeout(() => {
        this.pendingChangeNotification = 0;
        fn(arg);
      }, 20);
    };
  }
  registerOnTouched(fn) {
    this.onTouched = fn;
  }
  setDisabledState(isDisabled) {
    this.view.isEnabled = !isDisabled;
  }
  writeValue(_) {
    //
  }
  normalizeValue(value) {
    return isBlank(value) ? _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue : value;
  }
}
const TEXT_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TextValueAccessor),
  multi: true
};
/**
 * The accessor for writing a text and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TextField [(ngModel)]="model.test">
 *  ```
 */
class TextValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value ? `${value}` : value);
    this.view.text = normalized;
  }
  static {
    this.ɵfac = function TextValueAccessor_Factory(t) {
      return new (t || TextValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TextValueAccessor,
      selectors: [["TextField", "ngModel", ""], ["TextField", "formControlName", ""], ["TextField", "formControl", ""], ["textField", "ngModel", ""], ["textField", "formControlName", ""], ["textField", "formControl", ""], ["textfield", "ngModel", ""], ["textfield", "formControlName", ""], ["textfield", "formControl", ""], ["text-field", "ngModel", ""], ["text-field", "formControlName", ""], ["text-field", "formControl", ""], ["TextView", "ngModel", ""], ["TextView", "formControlName", ""], ["TextView", "formControl", ""], ["textView", "ngModel", ""], ["textView", "formControlName", ""], ["textView", "formControl", ""], ["textview", "ngModel", ""], ["textview", "formControlName", ""], ["textview", "formControl", ""], ["text-view", "ngModel", ""], ["text-view", "formControlName", ""], ["text-view", "formControl", ""], ["SearchBar", "ngModel", ""], ["SearchBar", "formControlName", ""], ["SearchBar", "formControl", ""], ["searchBar", "ngModel", ""], ["searchBar", "formControlName", ""], ["searchBar", "formControl", ""], ["searchbar", "ngModel", ""], ["searchbar", "formControlName", ""], ["searchbar", "formControl", ""], ["search-bar", "ngModel", ""], ["search-bar", "formControlName", ""], ["search-bar", "formControl", ""]],
      hostBindings: function TextValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function TextValueAccessor_blur_HostBindingHandler() {
            return ctx.onTouched();
          })("textChange", function TextValueAccessor_textChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TEXT_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TextValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TextField[ngModel],TextField[formControlName],TextField[formControl],' + 'textField[ngModel],textField[formControlName],textField[formControl],' + 'textfield[ngModel],textfield[formControlName],textfield[formControl],' + 'text-field[ngModel],text-field[formControlName],text-field[formControl],' + 'TextView[ngModel],TextView[formControlName],TextView[formControl],' + 'textView[ngModel],textView[formControlName],textView[formControl],' + 'textview[ngModel],textview[formControlName],textview[formControl],' + 'text-view[ngModel],text-view[formControlName],text-view[formControl],' + 'SearchBar[ngModel],SearchBar[formControlName],SearchBar[formControl],' + 'searchBar[ngModel],searchBar[formControlName],searchBar[formControl],' + 'searchbar[ngModel],searchbar[formControlName],searchbar[formControl],' + 'search-bar[ngModel], search-bar[formControlName],search-bar[formControl]',
      providers: [TEXT_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(blur)': 'onTouched()',
        '(textChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const CHECKED_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => CheckedValueAccessor),
  multi: true
};
/**
 * The accessor for setting a checked property and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <Switch [(ngModel)]="model.test">
 *  ```
 */
class CheckedValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.checked = normalized;
  }
  static {
    this.ɵfac = function CheckedValueAccessor_Factory(t) {
      return new (t || CheckedValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CheckedValueAccessor,
      selectors: [["Switch", "ngModel", ""], ["Switch", "formControlName", ""], ["Switch", "formControl", ""], ["switch", "ngModel", ""], ["switch", "formControlName", ""], ["switch", "formControl", ""]],
      hostBindings: function CheckedValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("checkedChange", function CheckedValueAccessor_checkedChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([CHECKED_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckedValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Switch[ngModel],Switch[formControlName],Switch[formControl],' + 'switch[ngModel],switch[formControlName],switch[formControl]',
      providers: [CHECKED_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(checkedChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const DATE_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => DateValueAccessor),
  multi: true
};
/**
 * The accessor for setting a date and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <DatePicker [(ngModel)]="model.test">
 *  ```
 */
class DateValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.date = normalized;
  }
  static {
    this.ɵfac = function DateValueAccessor_Factory(t) {
      return new (t || DateValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: DateValueAccessor,
      selectors: [["DatePicker", "ngModel", ""], ["DatePicker", "formControlName", ""], ["DatePicker", "formControl", ""], ["datepicker", "ngModel", ""], ["datepicker", "formControlName", ""], ["datepicker", "formControl", ""], ["datePicker", "ngModel", ""], ["datePicker", "formControlName", ""], ["datePicker", "formControl", ""], ["date-picker", "ngModel", ""], ["date-picker", "formControlName", ""], ["date-picker", "formControl", ""]],
      hostBindings: function DateValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("dateChange", function DateValueAccessor_dateChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([DATE_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DateValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'DatePicker[ngModel],DatePicker[formControlName],DatePicker[formControl],' + 'datepicker[ngModel],datepicker[formControlName],datepicker[formControl],' + 'datePicker[ngModel],datePicker[formControlName],datePicker[formControl],' + 'date-picker[ngModel],date-picker[formControlName],date-picker[formControl]',
      providers: [DATE_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(dateChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const TIME_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TimeValueAccessor),
  multi: true
};
/**
 * The accessor for setting a time and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TimePicker [(ngModel)]="model.test">
 *  ```
 */
class TimeValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.time = normalized;
  }
  static {
    this.ɵfac = function TimeValueAccessor_Factory(t) {
      return new (t || TimeValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TimeValueAccessor,
      selectors: [["TimePicker", "ngModel", ""], ["TimePicker", "formControlName", ""], ["TimePicker", "formControl", ""], ["timepicker", "ngModel", ""], ["timepicker", "formControlName", ""], ["timepicker", "formControl", ""], ["timePicker", "ngModel", ""], ["timePicker", "formControlName", ""], ["timePicker", "formControl", ""], ["time-picker", "ngModel", ""], ["time-picker", "formControlName", ""], ["time-picker", "formControl", ""]],
      hostBindings: function TimeValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("timeChange", function TimeValueAccessor_timeChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TIME_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TimeValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TimePicker[ngModel],TimePicker[formControlName],TimePicker[formControl],' + 'timepicker[ngModel],timepicker[formControlName],timepicker[formControl],' + 'timePicker[ngModel],timePicker[formControlName],timePicker[formControl],' + 'time-picker[ngModel],time-picker[formControlName],time-picker[formControl]',
      providers: [TIME_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(timeChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const NUMBER_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => NumberValueAccessor),
  multi: true
};
/**
 * The accessor for setting a value and listening to changes that is used by the
 * {@link NgModel}
 *
 *  ### Example
 *  ```
 *  <Slider [(ngModel)]="model.test">
 *  ```
 */
class NumberValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.value = normalized;
  }
  static {
    this.ɵfac = function NumberValueAccessor_Factory(t) {
      return new (t || NumberValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NumberValueAccessor,
      selectors: [["Slider", "ngModel", ""], ["Slider", "formControlName", ""], ["Slider", "formControl", ""], ["slider", "ngModel", ""], ["slider", "formControlName", ""], ["slider", "formControl", ""]],
      hostBindings: function NumberValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("valueChange", function NumberValueAccessor_valueChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([NUMBER_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NumberValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Slider[ngModel],Slider[formControlName],Slider[formControl],' + 'slider[ngModel],slider[formControlName],slider[formControl]',
      providers: [NUMBER_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(valueChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const SELECTED_INDEX_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => SelectedIndexValueAccessor),
  multi: true
};
/**
 * The accessor for setting a selectedIndex and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <SegmentedBar [(ngModel)]="model.test">
 *  ```
 */
class SelectedIndexValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:max-line-length directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.value = normalized;
    if (this.viewInitialized) {
      this.view.selectedIndex = this.value;
    }
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    this.view.selectedIndex = this.value;
  }
  static {
    this.ɵfac = function SelectedIndexValueAccessor_Factory(t) {
      return new (t || SelectedIndexValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: SelectedIndexValueAccessor,
      selectors: [["SegmentedBar", "ngModel", ""], ["SegmentedBar", "formControlName", ""], ["SegmentedBar", "formControl", ""], ["segmentedBar", "ngModel", ""], ["segmentedBar", "formControlName", ""], ["segmentedBar", "formControl", ""], ["segmentedbar", "ngModel", ""], ["segmentedbar", "formControlName", ""], ["segmentedbar", "formControl", ""], ["segmented-bar", "ngModel", ""], ["segmented-bar", "formControlName", ""], ["segmented-bar", "formControl", ""], ["ListPicker", "ngModel", ""], ["ListPicker", "formControlName", ""], ["ListPicker", "formControl", ""], ["listPicker", "ngModel", ""], ["listPicker", "formControlName", ""], ["listPicker", "formControl", ""], ["listpicker", "ngModel", ""], ["listpicker", "formControlName", ""], ["listpicker", "formControl", ""], ["list-picker", "ngModel", ""], ["list-picker", "formControlName", ""], ["list-picker", "formControl", ""], ["TabView", "ngModel", ""], ["TabView", "formControlName", ""], ["TabView", "formControl", ""], ["tabView", "ngModel", ""], ["tabView", "formControlName", ""], ["tabView", "formControl", ""], ["tabview", "ngModel", ""], ["tabview", "formControlName", ""], ["tabview", "formControl", ""], ["tab-view", "ngModel", ""], ["tab-view", "formControlName", ""], ["tab-view", "formControl", ""]],
      hostBindings: function SelectedIndexValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("selectedIndexChange", function SelectedIndexValueAccessor_selectedIndexChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([SELECTED_INDEX_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SelectedIndexValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'SegmentedBar[ngModel],SegmentedBar[formControlName],SegmentedBar[formControl],' + 'segmentedBar[ngModel],segmentedBar[formControlName],segmentedBar[formControl],' + 'segmentedbar[ngModel],segmentedbar[formControlName],segmentedbar[formControl],' + 'segmented-bar[ngModel],segmented-bar[formControlName],segmented-bar[formControl],' + 'ListPicker[ngModel],ListPicker[formControlName],ListPicker[formControl],' + 'listPicker[ngModel],listPicker[formControlName],listPicker[formControl],' + 'listpicker[ngModel],listpicker[formControlName],listpicker[formControl],' + 'list-picker[ngModel],list-picker[formControlName],list-picker[formControl],' + 'TabView[ngModel],TabView[formControlName],TabView[formControl],' + 'tabView[ngModel],tabView[formControlName],tabView[formControl],' + 'tabview[ngModel],tabview[formControlName],tabview[formControl],' + 'tab-view[ngModel],tab-view[formControlName],tab-view[formControl]',
      providers: [SELECTED_INDEX_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(selectedIndexChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
class NativeScriptFormsModule {
  static {
    this.ɵfac = function NativeScriptFormsModule_Factory(t) {
      return new (t || NativeScriptFormsModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptFormsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptFormsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],
      providers: [],
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule],
      exports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor]
    }]
  }], null, null);
})();
const DASH_CASE_REGEXP = /-+([a-z0-9])/g;
function dashCaseToCamelCase(input) {
  return input.replace(DASH_CASE_REGEXP, (...m) => m[1].toUpperCase());
}
function createKeyframeAnimation(styles, duration, delay, easing) {
  const info = createKeyframeAnimationInfo(styles, duration, delay, easing);
  return _nativescript_core__WEBPACK_IMPORTED_MODULE_58__.KeyframeAnimation.keyframeAnimationFromInfo(info);
}
const createKeyframeAnimationInfo = (styles, duration, delay, easing) => ({
  isForwards: true,
  duration: duration || 0.01,
  delay,
  curve: getCurve(easing),
  keyframes: styles.map(parseAnimationKeyframe)
});
const getCurve = value => (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_59__.animationTimingFunctionConverter)(value);
const parseAnimationKeyframe = styles => ({
  duration: getKeyframeDuration(styles),
  declarations: getDeclarations(styles)
});
const getKeyframeDuration = styles => styles.offset;
function getDeclarations(styles) {
  const keys = Array.from(styles.keys());
  const unparsedDeclarations = keys.map(property => ({
    property,
    value: styles.get(property)
  }));
  return (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_60__.parseKeyframeDeclarations)(unparsedDeclarations);
}
class NativeScriptAnimationPlayer {
  constructor(target, keyframes, duration, delay, easing) {
    this.target = target;
    this.duration = duration;
    this.delay = delay;
    this.parentPlayer = null;
    this._startSubscriptions = [];
    this._doneSubscriptions = [];
    this._finished = false;
    this._started = false;
    this.initKeyframeAnimation(keyframes, duration, delay, easing);
  }
  get totalTime() {
    return this.delay + this.duration;
  }
  init() {}
  hasStarted() {
    return this._started;
  }
  onStart(fn) {
    this._startSubscriptions.push(fn);
  }
  onDone(fn) {
    this._doneSubscriptions.push(fn);
  }
  onDestroy(fn) {
    this._doneSubscriptions.push(fn);
  }
  play() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.play`);
    }
    if (!this.animation) {
      return;
    }
    if (!this._started) {
      this._started = true;
      this._startSubscriptions.forEach(fn => fn());
      this._startSubscriptions = [];
    }
    // When this issue https://github.com/NativeScript/NativeScript/issues/7984 is fixes in @nativescript/core
    // we can change this fix and apply the one that is recommended in that issue.
    if (this.target.isLoaded) {
      this.playAnimation();
    } else {
      this.target.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded.bind(this));
    }
  }
  onTargetLoaded(args) {
    this.target.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded);
    this.playAnimation();
  }
  playAnimation() {
    this.animation.play(this.target).then(() => this.onFinish()).catch(_e => {});
  }
  pause() {}
  finish() {
    this.onFinish();
  }
  reset() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.reset`);
    }
    if (this.animation && this.animation.isPlaying) {
      this.animation.cancel();
    }
  }
  restart() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.restart`);
    }
    this.reset();
    this.play();
  }
  destroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.destroy`);
    }
    this.onFinish();
  }
  setPosition(_p) {
    throw new Error('AnimationPlayer.setPosition method is not supported!');
  }
  getPosition() {
    return 0;
  }
  initKeyframeAnimation(keyframes, duration, delay, easing) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.initKeyframeAnimation`);
    }
    this.animation = createKeyframeAnimation(keyframes, duration, delay, easing);
  }
  onFinish() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.onFinish`);
    }
    if (this._finished) {
      return;
    }
    this._finished = true;
    this._started = false;
    this._doneSubscriptions.forEach(fn => fn());
    this._doneSubscriptions = [];
  }
}
class Selector {
  constructor(rawSelector) {
    this.parse(rawSelector);
  }
  match(element) {
    return this.nsSelectorMatch(element) || this.classSelectorsMatch(element);
  }
  parse(rawSelector) {
    const selectors = rawSelector.split(',').map(s => s.trim());
    this.nsSelectors = selectors.map(_nativescript_core__WEBPACK_IMPORTED_MODULE_61__.CSSHelper.createSelector);
    this.classSelectors = selectors.filter(s => s.startsWith('.')).map(s => s.substring(1));
  }
  nsSelectorMatch(element) {
    return this.nsSelectors.some(s => s.match(element));
  }
  classSelectorsMatch(element) {
    return this.classSelectors.some(s => this.hasClass(element, s));
  }
  // we're using that instead of match for classes
  // that are dynamically added by the animation engine
  // such as .ng-trigger, that's added for every :enter view
  hasClass(element, cls) {
    return element && element['$$classes'] && element['$$classes'][cls];
  }
}
class NativeScriptAnimationDriver {
  static {
    this.validProperties = [..._nativescript_core__WEBPACK_IMPORTED_MODULE_45__.CssAnimationProperty._getPropertyNames(), 'transform'];
  }
  getParentElement(element) {
    return element?.parent;
  }
  validateStyleProperty(property) {
    NativeScriptDebug.animationsLog(`CssAnimationProperty.validateStyleProperty: ${property}`);
    return NativeScriptAnimationDriver.validProperties.indexOf(property) !== -1;
  }
  matchesElement(element, rawSelector) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.matchesElement ` + `element: ${element}, selector: ${rawSelector}`);
    const selector = this.makeSelector(rawSelector);
    return selector.match(element);
  }
  containsElement(elm1, elm2) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.containsElement ` + `element1: ${elm1}, element2: ${elm2}`);
    // Checking if the parent is our fake body object
    if (elm1['isOverride']) {
      return true;
    }
    const params = {
      originalView: elm2
    };
    const result = this.visitDescendants(elm1, viewMatches, params);
    return result.found;
  }
  query(element, rawSelector, multi) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.query ` + `element: ${element}, selector: ${rawSelector} ` + `multi: ${multi}`);
    const selector = this.makeSelector(rawSelector);
    const params = {
      selector,
      multi
    };
    const result = this.visitDescendants(element, queryDescendants, params);
    return result.matches || [];
  }
  computeStyle(element, prop) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.computeStyle ` + `element: ${element}, prop: ${prop}`);
    const camelCaseProp = dashCaseToCamelCase(prop);
    return element.style[camelCaseProp];
  }
  animate(element, keyframes, duration, delay, easing) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.animate ` + `element: ${element}, keyframes: ${keyframes} ` + `duration: ${duration}, delay: ${delay} ` + `easing: ${easing}`);
    return new NativeScriptAnimationPlayer(element, keyframes, duration, delay, easing);
  }
  makeSelector(rawSelector) {
    return new Selector(rawSelector);
  }
  visitDescendants(element, cb, cbParams) {
    const result = {};
    // fill the result obj with the result from the callback function
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.eachDescendant)(element, child => cb(child, result, cbParams));
    return result;
  }
}
function viewMatches(element, result, params) {
  if (element === params.originalView) {
    result.found = true;
  }
  return !result.found;
}
function queryDescendants(element, result, params) {
  if (!result.matches) {
    result.matches = [];
  }
  const {
    selector,
    multi
  } = params;
  // skip comment and text nodes
  // because they are not actual Views
  // and cannot be animated
  if (element instanceof InvisibleNode || !selector.match(element)) {
    return true;
  }
  if (element instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    element.eachChild(child => {
      result.matches.push(child);
      return true;
    });
  } else {
    result.matches.push(element);
  }
  return multi;
}
class InjectableAnimationEngine extends _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"] {
  constructor(doc, driver, normalizer) {
    super(doc.body, driver, normalizer);
  }
  static {
    this.ɵfac = function InjectableAnimationEngine_Factory(t) {
      return new (t || InjectableAnimationEngine)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: InjectableAnimationEngine,
      factory: InjectableAnimationEngine.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](InjectableAnimationEngine, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT]
      }]
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]
    }];
  }, null);
})();
function instantiateSupportedAnimationDriver() {
  return new NativeScriptAnimationDriver();
}
function instantiateRendererFactory(renderer, engine, zone) {
  return new _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵAnimationRendererFactory"](renderer, engine, zone);
}
function instantiateDefaultStyleNormalizer() {
  return new _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵWebAnimationsStyleNormalizer"]();
}
class NativeScriptAnimationsModule {
  constructor(parentModule) {
    // Prevents NativeScriptAnimationsModule from getting imported multiple times
    throwIfAlreadyLoaded(parentModule, 'NativeScriptAnimationsModule');
  }
  static {
    this.ɵfac = function NativeScriptAnimationsModule_Factory(t) {
      return new (t || NativeScriptAnimationsModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptAnimationsModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptAnimationsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_64__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]
      }],
      imports: [NativeScriptCommonModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptAnimationsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [NativeScriptCommonModule],
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_64__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]
      }]
    }]
  }], function () {
    return [{
      type: NativeScriptAnimationsModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }];
  }, null);
})();
function isLocalRequest(url) {
  return url.indexOf('~') === 0 || url.indexOf('/') === 0;
}
function getAbsolutePath(url, nsFileSystem) {
  url = url.replace('~', '').replace('/', '');
  url = _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.path.join(nsFileSystem.currentApp().path, url);
  return url;
}
function processLocalFileRequest(url, nsFileSystem, successResponse, errorResponse) {
  url = getAbsolutePath(url, nsFileSystem);
  // request from local app resources
  return new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(observer => {
    if (nsFileSystem.fileExists(url)) {
      const localFile = nsFileSystem.fileFromPath(url);
      localFile.readText().then(data => {
        try {
          const json = JSON.parse(data);
          observer.next(successResponse(url, json, 200));
          observer.complete();
        } catch (error) {
          // Even though the response status was 2xx, this is still an error.
          // The parse error contains the text of the body that failed to parse.
          const errorResult = {
            error,
            text: data
          };
          observer.error(errorResponse(url, errorResult, 200));
        }
      }, err => {
        observer.error(errorResponse(url, err, 400));
      });
    } else {
      observer.error(errorResponse(url, 'Not Found', 404));
    }
  });
}
class NsHttpBackEnd extends _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpXhrBackend {
  constructor(xhrFactory, nsFileSystem) {
    super(xhrFactory);
    this.nsFileSystem = nsFileSystem;
  }
  handle(req) {
    let result;
    if (isLocalRequest(req.url)) {
      result = this.handleLocalFileRequest(req.url);
    } else {
      result = super.handle(req);
    }
    return result;
  }
  handleLocalFileRequest(url) {
    return processLocalFileRequest(url, this.nsFileSystem, createSuccessResponse, createErrorResponse);
  }
  static {
    this.ɵfac = function NsHttpBackEnd_Factory(t) {
      return new (t || NsHttpBackEnd)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSFileSystem));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NsHttpBackEnd,
      factory: NsHttpBackEnd.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NsHttpBackEnd, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory
    }, {
      type: NSFileSystem
    }];
  }, null);
})();
function createSuccessResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpResponse({
    url,
    body,
    status,
    statusText: 'OK'
  });
}
function createErrorResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpErrorResponse({
    url,
    error: body,
    status,
    statusText: 'ERROR'
  });
}
class NativeScriptHttpClientModule {
  static {
    this.ɵfac = function NativeScriptHttpClientModule_Factory(t) {
      return new (t || NativeScriptHttpClientModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptHttpClientModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptHttpClientModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule],
      exports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule]
    }]
  }], null, null);
})();

/**
 * There are cases where multiple activatedRoute nodes should be associated/handled by the same PageRouterOutlet.
 * We can gat additional ActivatedRoutes nodes when there is:
 *  - Lazy loading - there is an additional ActivatedRoute node for the RouteConfig with the `loadChildren` setup
 *  - Componentless routes - there is an additional ActivatedRoute node for the componentless RouteConfig
 *
 * Example:
 *   R  <-- root
 *   |
 * feature (lazy module) <-- RouteConfig: { path: "lazy", loadChildren: "./feature/feature.module#FeatureModule" }
 *   |
 * module (componentless route) <-- RouteConfig: { path: "module", children: [...] } // Note: No 'component'
 *   |
 *  home <-- RouteConfig: { path: "module", component: MyComponent } - this is what we get as activatedRoute param
 *
 *  In these cases we will mark the top-most node (feature). NSRouteReuseStrategy will detach the tree there and
 *  use this ActivateRoute as a kay for caching.
 */
function findTopActivatedRouteNodeForOutlet(activatedRoute) {
  // TODO: test this and figure it out if it's really no longer needed
  return activatedRoute;
  // let outletActivatedRoute = activatedRoute;
  // while (outletActivatedRoute.parent && outletActivatedRoute.parent.routeConfig && !outletActivatedRoute.parent.routeConfig.component) {
  //   outletActivatedRoute = outletActivatedRoute.parent;
  // }
  // return outletActivatedRoute;
}

const pageRouterActivatedSymbol = Symbol('page-router-activated');
const loaderRefSymbol = Symbol('loader-ref');
function destroyComponentRef(componentRef) {
  if (componentRef) {
    const loaderRef = componentRef[loaderRefSymbol];
    if (loaderRef) {
      loaderRef.destroy();
    }
    componentRef.destroy();
  }
}
const getSnapshotKey = function (snapshot) {
  return snapshot.pathFromRoot.join('->');
};
/**
 * Detached state cache
 */
class DetachedStateCache {
  constructor() {
    this.cache = new Array();
  }
  get length() {
    return this.cache.length;
  }
  push(cacheItem) {
    this.cache.push(cacheItem);
  }
  pop() {
    return this.cache.pop();
  }
  peek() {
    return this.cache[this.cache.length - 1];
  }
  clear() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clear() ${this.cache.length} items will be destroyed`);
    }
    while (this.cache.length > 0) {
      const state = this.cache.pop().state;
      if (!state.componentRef) {
        throw new Error('No componentRef found in DetachedRouteHandle');
      }
      destroyComponentRef(state.componentRef);
    }
  }
  markCurrentForClear() {
    for (const item of this.cache) {
      item.markedForDeletion = true;
    }
  }
  clearMarked() {
    // try to preserve same order as .clear()
    for (let i = this.cache.length - 1; i >= 0; i--) {
      const cacheItem = this.cache[i];
      if (cacheItem.markedForDeletion) {
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        this.cache.splice(i, 1);
      }
    }
  }
  clearModalCache() {
    let removedItemsCount = 0;
    const hasModalPages = this.cache.some(cacheItem => {
      return cacheItem.isModal;
    });
    if (hasModalPages) {
      let modalCacheCleared = false;
      while (!modalCacheCleared) {
        const cacheItem = this.peek();
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        if (cacheItem.isModal) {
          modalCacheCleared = true;
        }
        this.pop();
        removedItemsCount++;
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clearModalCache() ${removedItemsCount} items will be destroyed`);
    }
  }
}
/**
 * Detaches subtrees loaded inside PageRouterOutlet in forward navigation
 * and reattaches them on back.
 * Reuses routes as long as their route config is the same.
 */
class NSRouteReuseStrategy {
  constructor(location) {
    this.location = location;
    this.cacheByOutlet = {};
  }
  shouldDetach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet
    } = this.findValidOutletAndKey(route);
    const key = getSnapshotKey(route);
    let isPageActivated = false;
    let tmp = route;
    while (!(isPageActivated = tmp[pageRouterActivatedSymbol]) && tmp.parent) {
      tmp = tmp.parent;
    }
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    let shouldDetach = outlet && !isBack && isPageActivated;
    if (outlet) {
      if (outlet.parent && !outlet.parent.shouldDetach) {
        shouldDetach = false;
      }
      outlet.shouldDetach = shouldDetach;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldDetach isBack: ${isBack} key: ${key} result: ${shouldDetach}`);
    }
    return shouldDetach;
  }
  findValidOutletAndKey(targetRoute) {
    let route = targetRoute;
    const routeOutletKey = this.location.getRouteFullPath(route);
    let outletKey = routeOutletKey;
    let outlet = this.location.findOutlet(outletKey, route);
    while (!outlet) {
      if (!route.parent) {
        return {
          outlet: null,
          outletKey: routeOutletKey
        };
      }
      route = route.parent;
      outletKey = this.location.getRouteFullPath(route);
      outlet = this.location.findOutlet(outletKey, route);
    }
    if (outlet) {
      while (!outlet.outletKeys.includes(outletKey)) {
        if (!route.parent) {
          NativeScriptDebug.routeReuseStrategyLog(`Could not find valid outlet key for route: ${targetRoute}.`);
          return {
            outlet,
            outletKey: routeOutletKey
          };
        }
        route = route.parent;
        outletKey = this.location.getRouteFullPath(route);
      }
    }
    return {
      outlet,
      outletKey
    };
  }
  shouldAttach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return false;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const shouldAttach = isBack && cache.peek()?.key === key;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldAttach isBack: ${isBack} key: ${key} result: ${shouldAttach}`);
    }
    if (outlet) {
      outlet.shouldDetach = true;
    }
    return shouldAttach;
  }
  store(route, state) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const key = getSnapshotKey(route);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`store key: ${key}, state: ${state}`);
    }
    const {
      outletKey
    } = this.findValidOutletAndKey(route);
    // tslint:disable-next-line:max-line-length
    const cache = this.cacheByOutlet[outletKey] = this.cacheByOutlet[outletKey] || new DetachedStateCache();
    if (state) {
      let isModal = false;
      if (this.location._modalNavigationDepth > 0) {
        isModal = true;
      }
      cache.push({
        key,
        state,
        isModal
      });
    } else {
      const topItem = cache.peek();
      if (topItem.key === key) {
        cache.pop();
        if (!cache.length) {
          delete this.cacheByOutlet[outletKey];
        }
      } else {
        throw new Error("Trying to pop from DetachedStateCache but keys don't match. " + `expected: ${topItem.key} actual: ${key}`);
      }
    }
  }
  retrieve(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return null;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const cachedItem = cache.peek();
    let state = null;
    if (isBack && cachedItem && cachedItem.key === key) {
      state = cachedItem.state;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`retrieved isBack: ${isBack} key: ${key} state: ${state}`);
    }
    return state;
  }
  shouldReuseRoute(future, curr) {
    const shouldReuse = future.routeConfig === curr.routeConfig;
    if (shouldReuse && curr && curr[pageRouterActivatedSymbol]) {
      // When reusing route - copy the pageRouterActivated to the new snapshot
      // It's needed in shouldDetach to determine if the route should be detached.
      future[pageRouterActivatedSymbol] = curr[pageRouterActivatedSymbol];
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldReuseRoute result: ${shouldReuse}`);
    }
    return shouldReuse;
  }
  clearCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clear();
    }
  }
  markCacheForClear(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.markCurrentForClear();
    }
  }
  popCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      if (cache.peek()) {
        const state = cache.pop()?.state;
        if (state?.componentRef) {
          destroyComponentRef(state?.componentRef);
        }
      }
    }
  }
  markCacheForPop(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      const item = cache.peek();
      if (item) {
        item.markedForDeletion = true;
      }
    }
  }
  clearMarkedCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearMarked();
    }
  }
  clearModalCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearModalCache();
    }
  }
  static {
    this.ɵfac = function NSRouteReuseStrategy_Factory(t) {
      return new (t || NSRouteReuseStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSRouteReuseStrategy,
      factory: NSRouteReuseStrategy.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouteReuseStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class RouterExtensions {
  constructor(router, locationStrategy, frameService) {
    this.router = router;
    this.locationStrategy = locationStrategy;
    this.frameService = frameService;
  }
  navigate(commands, extras) {
    return this.router.navigate(commands, extras);
  }
  navigateByUrl(url, options) {
    return this.router.navigateByUrl(url, options);
  }
  back(backNavigationOptions) {
    if (backNavigationOptions) {
      this.backOutlets(backNavigationOptions);
    } else {
      this.locationStrategy.back();
    }
  }
  canGoBack(backNavigationOptions) {
    let canGoBack = true;
    if (backNavigationOptions) {
      const {
        outletsToBack,
        outlets
      } = this.findOutletsToBack(backNavigationOptions);
      if (outletsToBack.length !== outlets.length) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      } else {
        outletsToBack.forEach(outletToBack => {
          if (!this.locationStrategy.canGoBack(outletToBack)) {
            canGoBack = false;
          }
        });
      }
    } else {
      canGoBack = this.locationStrategy.canGoBack();
    }
    return canGoBack;
  }
  backToPreviousPage() {
    this.frameService.getFrame().goBack();
  }
  canGoBackToPreviousPage() {
    return this.frameService.getFrame().canGoBack();
  }
  backOutlets(options) {
    const {
      outletsToBack,
      outlets
    } = this.findOutletsToBack(options);
    if (outletsToBack.length !== outlets.length) {
      NativeScriptDebug.routerError('No outlet found relative to activated route');
    } else {
      outletsToBack.forEach(outletToBack => {
        if (outletToBack.isPageNavigationBack) {
          NativeScriptDebug.routerError('Attempted to call startGoBack while going back:');
        } else {
          this.locationStrategy.back(outletToBack);
        }
      });
    }
  }
  // tslint:disable-next-line:max-line-length
  findOutletsToBack(options) {
    const rootRoute = this.router.routerState.root;
    let outlets = options.outlets;
    let relativeRoute = options.relativeTo || rootRoute;
    const relativeRouteOutlet = this.findOutletByRoute(relativeRoute);
    const isNSEmptyOutlet = relativeRouteOutlet && relativeRouteOutlet.isNSEmptyOutlet;
    // Lazy named outlet has added 'primary' inner NSEmptyOutlet child.
    // Take parent route when `relativeTo` option points to the outer named outlet.
    if (isNSEmptyOutlet && relativeRoute.outlet !== 'primary') {
      relativeRoute = relativeRoute.parent || relativeRoute;
    }
    outlets = outlets || [relativeRoute.outlet];
    const outletsToBack = this.findOutletsRecursive([...outlets], relativeRoute);
    return {
      outletsToBack: outletsToBack,
      outlets: outlets
    };
  }
  // warning, outlets is mutable!
  findOutletsRecursive(outlets, route) {
    if (!route || outlets.length === 0) {
      return [];
    }
    const outletsToBack = [];
    if (outlets.some(currentOutlet => currentOutlet === route.outlet)) {
      const outlet = this.findOutletByRoute(route);
      if (outlet) {
        outlets.splice(outlets.indexOf(route.outlet), 1);
        outletsToBack.push(outlet);
      }
    }
    if (!route.children) {
      return outletsToBack;
    }
    for (let index = 0; index < route.children.length; index++) {
      if (outlets.length === 0) {
        break;
      }
      const currentRoute = route.children[index];
      outletsToBack.push(...this.findOutletsRecursive(outlets, currentRoute));
    }
    return outletsToBack;
  }
  findOutletByRoute(currentRoute) {
    const currentRouteSnapshop = findTopActivatedRouteNodeForOutlet(currentRoute.snapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(currentRouteSnapshop);
    const outlet = this.locationStrategy.findOutlet(outletKey, currentRouteSnapshop);
    return outlet;
  }
  static {
    this.ɵfac = function RouterExtensions_Factory(t) {
      return new (t || RouterExtensions)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: RouterExtensions,
      factory: RouterExtensions.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RouterExtensions, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: NSLocationStrategy
    }, {
      type: FrameService
    }];
  }, null);
})();

/**
 * The nsRouterLink directive lets you link to specific parts of your app.
 *
 * Consider the following route configuration:
 * ```
 * [{ path: "/user", component: UserCmp }]
 * ```
 *
 * When linking to this `User` route, you can write:
 *
 * ```
 * <a [nsRouterLink]="["/user"]">link to user component</a>
 * ```
 *
 * NSRouterLink expects the value to be an array of path segments, followed by the params
 * for that level of routing. For instance `["/team", {teamId: 1}, "user", {userId: 2}]`
 * means that we want to generate a link to `/team;teamId=1/user;userId=2`.
 *
 * The first segment name can be prepended with `/`, `./`, or `../`.
 * If the segment begins with `/`, the router will look up the route from the root of the app.
 * If the segment begins with `./`, or doesn"t begin with a slash, the router will
 * instead look in the current component"s children for the route.
 * And if the segment begins with `../`, the router will go up one level.
 */
class NSRouterLink {
  constructor(ngZone, router, navigator, route, el) {
    this.ngZone = ngZone;
    this.router = router;
    this.navigator = navigator;
    this.route = route;
    this.el = el;
    this.pageTransition = true;
    this.commands = [];
  }
  ngAfterViewInit() {
    this.el.nativeElement.on('tap', () => {
      this.ngZone.run(() => {
        this.onTap();
      });
    });
  }
  set params(data) {
    if (Array.isArray(data)) {
      this.commands = data;
    } else {
      this.commands = [data];
    }
  }
  onTap() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink.tapped: ${this.commands} ` + `clear: ${this.clearHistory} ` + `transition: ${JSON.stringify(this.pageTransition)} ` + `duration: ${this.pageTransitionDuration}`);
    }
    const extras = this.getExtras();
    // this.navigator.navigateByUrl(this.urlTree, extras);
    this.navigator.navigate(this.commands, {
      ...extras,
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
  }
  getExtras() {
    const transition = this.getTransition();
    return {
      skipLocationChange: attrBoolValue(this.skipLocationChange),
      replaceUrl: attrBoolValue(this.replaceUrl),
      clearHistory: this.convertClearHistory(this.clearHistory),
      animated: transition.animated,
      transition: transition.transition
    };
  }
  get urlTree() {
    const urlTree = this.router.createUrlTree(this.commands, {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink urlTree created: ${urlTree}`);
    }
    return urlTree;
  }
  convertClearHistory(value) {
    return value === true || value === 'true';
  }
  getTransition() {
    let transition;
    let animated;
    if (typeof this.pageTransition === 'boolean') {
      animated = this.pageTransition;
    } else if (typeof this.pageTransition === 'string') {
      if (this.pageTransition === 'none' || this.pageTransition === 'false') {
        animated = false;
      } else {
        animated = true;
        transition = {
          name: this.pageTransition
        };
      }
    } else {
      animated = true;
      transition = this.pageTransition;
    }
    const duration = +this.pageTransitionDuration;
    if (!isNaN(duration)) {
      transition = transition || {};
      transition.duration = duration;
    }
    return {
      animated,
      transition
    };
  }
  static {
    this.ɵfac = function NSRouterLink_Factory(t) {
      return new (t || NSRouterLink)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](RouterExtensions), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLink,
      selectors: [["", "nsRouterLink", ""]],
      inputs: {
        target: "target",
        queryParams: "queryParams",
        fragment: "fragment",
        queryParamsHandling: "queryParamsHandling",
        preserveQueryParams: "preserveQueryParams",
        preserveFragment: "preserveFragment",
        skipLocationChange: "skipLocationChange",
        replaceUrl: "replaceUrl",
        clearHistory: "clearHistory",
        pageTransition: "pageTransition",
        pageTransitionDuration: "pageTransitionDuration",
        params: ["nsRouterLink", "params"]
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLink, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLink]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: RouterExtensions
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    target: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    fragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParamsHandling: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveQueryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveFragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    skipLocationChange: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    replaceUrl: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    clearHistory: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransition: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransitionDuration: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    params: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nsRouterLink']
    }]
  });
})();
function attrBoolValue(s) {
  return s === '' || !!s;
}

/* tslint:disable:forin */
function containsTree(container, containee, exact) {
  if (exact) {
    return equalSegmentGroups(container.root, containee.root);
  } else {
    return containsSegmentGroup(container.root, containee.root);
  }
}
function equalSegmentGroups(container, containee) {
  if (!equalPath(container.segments, containee.segments)) {
    return false;
  }
  if (container.numberOfChildren !== containee.numberOfChildren) {
    return false;
  }
  for (const c in containee.children) {
    if (!container.children[c]) {
      return false;
    }
    if (!equalSegmentGroups(container.children[c], containee.children[c])) {
      return false;
    }
  }
  return true;
}
function containsSegmentGroup(container, containee) {
  return containsSegmentGroupHelper(container, containee, containee.segments);
}
function containsSegmentGroupHelper(container, containee, containeePaths) {
  if (container.segments.length > containeePaths.length) {
    const current = container.segments.slice(0, containeePaths.length);
    if (!equalPath(current, containeePaths)) {
      return false;
    }
    if (containee.hasChildren()) {
      return false;
    }
    return true;
  } else if (container.segments.length === containeePaths.length) {
    if (!equalPath(container.segments, containeePaths)) {
      return false;
    }
    for (const c in containee.children) {
      if (!container.children[c]) {
        return false;
      }
      if (!containsSegmentGroup(container.children[c], containee.children[c])) {
        return false;
      }
    }
    return true;
  } else {
    const current = containeePaths.slice(0, container.segments.length);
    const next = containeePaths.slice(container.segments.length);
    if (!equalPath(container.segments, current)) {
      return false;
    }
    if (!container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET]) {
      return false;
    }
    return containsSegmentGroupHelper(container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET], containee, next);
  }
}
function equalPath(a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i].path !== b[i].path) {
      return false;
    }
  }
  return true;
}

/**
 * The NSRouterLinkActive directive lets you add a CSS class to an element when the link"s route
 * becomes active.
 *
 * Consider the following example:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link">Bob</a>
 * ```
 *
 * When the url is either "/user" or "/user/bob", the active-link class will
 * be added to the component. If the url changes, the class will be removed.
 *
 * You can set more than one class, as follows:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="class1 class2">Bob</a>
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="["class1", "class2"]">Bob</a>
 * ```
 *
 * You can configure NSRouterLinkActive by passing `exact: true`. This will add the
 * classes only when the url matches the link exactly.
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link"
 * [nsRouterLinkActiveOptions]="{exact: true}">Bob</a>
 * ```
 *
 * Finally, you can apply the NSRouterLinkActive directive to an ancestor of a RouterLink.
 *
 * ```
 * <div [nsRouterLinkActive]="active-link" [nsRouterLinkActiveOptions]="{exact: true}">
 *   <a [nsRouterLink]="/user/jim">Jim</a>
 *   <a [nsRouterLink]="/user/bob">Bob</a>
 * </div>
 * ```
 *
 * This will set the active-link class on the div tag if the url is either "/user/jim" or
 * "/user/bob".
 *
 * @stable
 */
class NSRouterLinkActive {
  constructor(router, element, renderer) {
    this.router = router;
    this.element = element;
    this.renderer = renderer;
    this.classes = [];
    this.active = false;
    this.nsRouterLinkActiveOptions = {
      exact: false
    };
    this.subscription = router.events.subscribe(s => {
      if (s instanceof _angular_router__WEBPACK_IMPORTED_MODULE_52__.NavigationEnd) {
        this.update();
      }
    });
  }
  get isActive() {
    return this.active;
  }
  ngAfterContentInit() {
    this.links.changes.subscribe(() => this.update());
    this.update();
  }
  set nsRouterLinkActive(data) {
    if (Array.isArray(data)) {
      this.classes = data;
    } else {
      this.classes = data.split(' ');
    }
  }
  ngOnChanges() {
    this.update();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
  update() {
    if (!this.links) {
      return;
    }
    const hasActiveLinks = this.hasActiveLinks();
    // react only when status has changed to prevent unnecessary dom updates
    if (this.active !== hasActiveLinks) {
      const currentUrlTree = this.router.parseUrl(this.router.url);
      const isActiveLinks = this.reduceList(currentUrlTree, this.links);
      this.classes.forEach(c => {
        if (isActiveLinks) {
          this.renderer.addClass(this.element.nativeElement, c);
        } else {
          this.renderer.removeClass(this.element.nativeElement, c);
        }
      });
    }
    Promise.resolve(hasActiveLinks).then(active => this.active = active);
  }
  reduceList(currentUrlTree, q) {
    return q.reduce((res, link) => {
      return res || containsTree(currentUrlTree, link.urlTree, this.nsRouterLinkActiveOptions.exact);
    }, false);
  }
  isLinkActive(router) {
    return link => router.isActive(link.urlTree, this.nsRouterLinkActiveOptions.exact);
  }
  hasActiveLinks() {
    return this.links.some(this.isLinkActive(this.router));
  }
  static {
    this.ɵfac = function NSRouterLinkActive_Factory(t) {
      return new (t || NSRouterLinkActive)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLinkActive,
      selectors: [["", "nsRouterLinkActive", ""]],
      contentQueries: function NSRouterLinkActive_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, NSRouterLink, 4);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.links = _t);
        }
      },
      inputs: {
        nsRouterLinkActiveOptions: "nsRouterLinkActiveOptions",
        nsRouterLinkActive: "nsRouterLinkActive"
      },
      exportAs: ["routerLinkActive"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLinkActive, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLinkActive]',
      exportAs: 'routerLinkActive'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    links: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChildren,
      args: [NSRouterLink]
    }],
    nsRouterLinkActiveOptions: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsRouterLinkActive: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class PageRoute {
  constructor(startRoute) {
    this.activatedRoute = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(startRoute);
  }
}
function isComponentFactoryResolver(item) {
  return !!item.resolveComponentFactory;
}
function callableOnce(fn) {
  let called = false;
  return (...args) => {
    if (called) {
      return;
    }
    called = true;
    return fn(...args);
  };
}
class DestructibleInjector {
  constructor(destructibleProviders, parent) {
    this.destructibleProviders = destructibleProviders;
    this.parent = parent;
    this.refs = new Set();
  }
  get(token, notFoundValue, flags) {
    const ref = this.parent.get(token, notFoundValue, flags);
    // if we're skipping ourselves then it's not our responsibility to destroy
    if (typeof flags === 'number') {
      if (!(flags & _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectFlags.SkipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    } else {
      if (!flags?.skipSelf && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    }
    return ref;
  }
  destroy() {
    this.refs.forEach(ref => {
      if (ref.ngOnDestroy instanceof Function) {
        ref.ngOnDestroy();
      }
    });
    this.refs.clear();
  }
}
const routeToString = function (activatedRoute) {
  return activatedRoute.pathFromRoot.join('->');
};
registerElement('page-router-outlet', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame);
// eslint-disable-next-line @angular-eslint/directive-selector
class PageRouterOutlet {
  /** @deprecated from Angular since v4 */
  get locationInjector() {
    return this.location.injector;
  }
  /** @deprecated from Angular since v4 */
  get locationFactoryResolver() {
    return this.resolver;
  }
  get isActivated() {
    return !!this.activated;
  }
  get component() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this.activated.instance;
  }
  get activatedRoute() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this._activatedRoute;
  }
  get activatedRouteData() {
    if (this._activatedRoute) {
      return this._activatedRoute.snapshot.data;
    }
    return {};
  }
  constructor(parentContexts, location, name, actionBarVisibility, isEmptyOutlet, locationStrategy, componentFactoryResolver, resolver, changeDetector, pageFactory, routeReuseStrategy, ngZone, router, elRef, viewUtil, environmentInjector) {
    this.parentContexts = parentContexts;
    this.location = location;
    this.locationStrategy = locationStrategy;
    this.componentFactoryResolver = componentFactoryResolver;
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.pageFactory = pageFactory;
    this.routeReuseStrategy = routeReuseStrategy;
    this.ngZone = ngZone;
    this.router = router;
    this.environmentInjector = environmentInjector;
    // tslint:disable-line:directive-class-suffix
    this.activated = null;
    this._activatedRoute = null;
    this.attachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.detachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.activateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.deactivateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    this.isEmptyOutlet = isEmptyOutlet;
    this.frame = elRef.nativeElement;
    this.setActionBarVisibility(actionBarVisibility);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.constructor frame: ${this.frame}`);
    }
    this.name = name || _angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET;
    parentContexts.onChildOutletCreated(this.name, this);
    this.viewUtil = viewUtil;
    this.detachedLoaderFactory = resolver.resolveComponentFactory(DetachedLoader);
  }
  setActionBarVisibility(actionBarVisibility) {
    switch (actionBarVisibility) {
      case 'always':
      case 'never':
        this.frame.actionBarVisibility = actionBarVisibility;
        return;
      default:
        this.frame.actionBarVisibility = 'auto';
    }
  }
  ngOnDestroy() {
    // In the event that the `parentContexts` has changed the outlet
    // via the creation of another outlet, the `onChildOutletDestroyed`
    // will be skipped
    if (this.parentContexts.getContext(this.name)?.outlet === this) {
      // Clear accumulated modal view page cache when page-router-outlet
      // destroyed on modal view closing
      this.parentContexts.onChildOutletDestroyed(this.name);
    }
    if (this.outlet) {
      this.outlet.outletKeys.forEach(key => {
        this.routeReuseStrategy.clearModalCache(key);
      });
      this.locationStrategy.clearOutlet(this.frame);
    } else {
      NativeScriptDebug.routerLog('PageRouterOutlet.ngOnDestroy: no outlet available for page-router-outlet');
    }
    if (this.isActivated) {
      const c = this.activated.instance;
      this.activated.hostView.detach();
      destroyComponentRef(this.activated);
      this.deactivateEvents.emit(c);
      this.activated = null;
    }
  }
  deactivate() {
    if (!this.outlet || !this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently not in page back navigation - component should be detached instead of deactivated.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.deactivate() while going back - should destroy');
    }
    if (!this.isActivated) {
      return;
    }
    this.postNavFunction?.();
    const c = this.activated.instance;
    destroyComponentRef(this.activated);
    this.activated = null;
    this._activatedRoute = null;
    this.deactivateEvents.emit(c);
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to detach the subtree
   */
  detach() {
    if (!this.isActivated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.detach() - ${routeToString(this._activatedRoute)}`);
    }
    this.postNavFunction?.();
    // Detach from ChangeDetection
    this.activated.hostView.detach();
    const component = this.activated;
    this.activated = null;
    this._activatedRoute = null;
    this.detachEvents.emit(component.instance);
    return component;
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree
   */
  attach(ref, activatedRoute) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.attach() - ${routeToString(activatedRoute)}`);
    }
    this.activated = ref;
    // reattach to ChangeDetection
    this.activated.hostView.markForCheck();
    this.activated.hostView.reattach();
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    // we have a child with the same name, so we don't finish the back nav
    if (this.isFinalPageRouterOutlet()) {
      this.locationStrategy._finishBackPageNavigation(this.frame);
    }
    this.attachEvents.emit(ref.instance);
  }
  isFinalPageRouterOutlet() {
    let children = this.parentContexts.getContext(this.name)?.children;
    while (children) {
      const childContext = children.getContext(this.name);
      if (!childContext || !childContext.outlet) {
        return true;
      }
      if (childContext.outlet instanceof PageRouterOutlet) {
        return false;
      }
      children = childContext.children;
    }
    return true;
  }
  /**
   * Called by the Router to instantiate a new component during the commit phase of a navigation.
   * This method in turn is responsible for calling the `routerOnActivate` hook of its child.
   */
  activateWith(activatedRoute, resolver) {
    this.outlet = this.outlet || this.getOutlet(activatedRoute.snapshot);
    if (!this.outlet) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      }
      return;
    }
    this.outlet.isNSEmptyOutlet = this.isEmptyOutlet;
    this.locationStrategy.updateOutletFrame(this.outlet, this.frame, this.isEmptyOutlet);
    if (this.outlet && this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently in page back navigation - component should be reattached instead of activated.');
      }
      if (this.isFinalPageRouterOutlet()) {
        this.locationStrategy._finishBackPageNavigation(this.frame);
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.activateWith() - ${routeToString(activatedRoute)}`);
    }
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    this.activateOnGoForward(activatedRoute, resolver || this.environmentInjector);
    this.activateEvents.emit(this.activated.instance);
  }
  activateOnGoForward(activatedRoute, resolverOrInjector) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.activate() forward navigation - ' + 'create detached loader in the loader container');
    }
    const component = this.getComponentType(activatedRoute);
    const page = this.pageFactory({
      isNavigation: true,
      componentType: component
    });
    const location = this.location;
    const destructibles = new Set([PageService]);
    const parentInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useValue: page
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useValue: this.frame
      }, {
        provide: PageRoute,
        useValue: new PageRoute(activatedRoute)
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute,
        useValue: activatedRoute
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts,
        useValue: this.parentContexts.getOrCreateContext(this.name).children
      }, {
        provide: PageService,
        useClass: PageService
      }],
      parent: location.injector
    });
    const injector = new DestructibleInjector(destructibles, parentInjector);
    let loaderRef;
    if (isComponentFactoryResolver(resolverOrInjector)) {
      const factory = resolverOrInjector.resolveComponentFactory(DetachedLoader);
      loaderRef = location.createComponent(factory, location.length, injector);
    } else {
      const environmentInjector = resolverOrInjector;
      loaderRef = location.createComponent(DetachedLoader, {
        index: location.length,
        injector,
        environmentInjector
      });
    }
    loaderRef.onDestroy(() => injector.destroy());
    this.changeDetector.markForCheck();
    this.activated = loaderRef.instance.loadComponentInLocation(component);
    this.activated.changeDetectorRef.detectChanges();
    this.loadComponentInPage(page, this.activated, {
      activatedRoute
    });
    this.activated[loaderRefSymbol] = loaderRef;
  }
  loadComponentInPage(page, componentRef, navigationContext) {
    // Component loaded. Find its root native view.
    const componentView = componentRef.location.nativeElement;
    // Remove it from original native parent.
    this.viewUtil.removeChild(componentView.parent, componentView);
    // Add it to the new page
    this.viewUtil.appendChild(page, componentView);
    let topActivatedRoute = findTopActivatedRouteNodeForOutlet(this._activatedRoute.snapshot);
    let outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    const thisRouteKey = outletKey;
    while (!this.locationStrategy.findOutlet(outletKey)) {
      topActivatedRoute = topActivatedRoute.parent;
      if (!topActivatedRoute) {
        NativeScriptDebug.routerError('Could not find outlet for route: ' + thisRouteKey);
        break;
      }
      outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    }
    const navigatedFromCallback = global.Zone.current.wrap(args => {
      if (args.isBackNavigation) {
        this.locationStrategy._beginBackPageNavigation(this.frame, outletKey);
        this.locationStrategy.back(null, this.frame);
      }
    });
    // TODO: experiment with using NgZone instead of global above
    // const navigatedFromCallback = (args: NavigatedData) => {
    // 	if (args.isBackNavigation) {
    //     this.ngZone.run(() => {
    //       this.locationStrategy._beginBackPageNavigation(this.frame);
    //       this.locationStrategy.back(null, this.frame);
    //     });
    // 	}
    // };
    page.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
    componentRef.onDestroy(() => {
      if (page) {
        page.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
        page = null;
      }
    });
    const navOptions = {
      ...defaultNavOptions,
      ...(this.router.getCurrentNavigation().extras || {})
    };
    this.locationStrategy._beginPageNavigation(this.frame, navOptions);
    const isReplace = navOptions.replaceUrl && !navOptions.clearHistory;
    const currentRoute = this.activatedRoute;
    // Clear refCache if navigation with clearHistory
    if (navOptions.clearHistory) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForClear(key));
      const wipeCache = callableOnce(() => {
        if (this.postNavFunction === wipeCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.clearCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = wipeCache;
      const clearCallback = () => setTimeout(() => {
        wipeCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    } else if (navOptions.replaceUrl) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForPop(key));
      const popCache = callableOnce(() => {
        if (this.postNavFunction === popCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.popCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = popCache;
      const clearCallback = () => setTimeout(() => {
        popCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    }
    const navigationEntry = {
      create() {
        return page;
      },
      context: navigationContext,
      clearHistory: navOptions.clearHistory,
      animated: navOptions.animated,
      transition: navOptions.transition
    };
    if (isReplace && this.frame.currentPage) {
      this.frame.replacePage(navigationEntry);
    } else {
      this.frame.navigate(navigationEntry);
    }
  }
  // Find and mark the top activated route as an activated one.
  // In ns-location-strategy we are reusing components only if their corresponing routes
  // are marked as activated from this method.
  markActivatedRoute(activatedRoute) {
    const queue = [];
    queue.push(activatedRoute.snapshot);
    let currentRoute = queue.shift();
    while (currentRoute) {
      currentRoute.children.forEach(childRoute => {
        queue.push(childRoute);
      });
      const topActivatedRoute = findTopActivatedRouteNodeForOutlet(currentRoute);
      const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
      const outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
      if (outlet && outlet.frames.length) {
        topActivatedRoute[pageRouterActivatedSymbol] = true;
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('Activated route marked as page: ' + routeToString(topActivatedRoute));
        }
      }
      currentRoute = queue.shift();
    }
  }
  getComponentType(activatedRoute) {
    return activatedRoute.routeConfig.component || activatedRoute.component;
  }
  getOutlet(activatedRouteSnapshot) {
    const topActivatedRoute = findTopActivatedRouteNodeForOutlet(activatedRouteSnapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    let outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
    // Named lazy loaded outlet.
    if (!outlet && this.isEmptyOutlet) {
      const parentOutletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute.parent);
      outlet = this.locationStrategy.findOutlet(parentOutletKey, topActivatedRoute.parent);
      if (outlet) {
        outlet.outletKeys.push(outletKey);
      }
    }
    return outlet;
  }
  static {
    this.ɵfac = function PageRouterOutlet_Factory(t) {
      return new (t || PageRouterOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('name'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('actionBarVisibility'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('isEmptyOutlet'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](PAGE_FACTORY), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSRouteReuseStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ViewUtil), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageRouterOutlet,
      selectors: [["page-router-outlet"]],
      outputs: {
        activateEvents: "activate",
        deactivateEvents: "deactivate"
      }
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "activateWith", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "loadComponentInPage", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageRouterOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'page-router-outlet'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['name']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['actionBarVisibility']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['isEmptyOutlet']
      }]
    }, {
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [PAGE_FACTORY]
      }]
    }, {
      type: NSRouteReuseStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ViewUtil
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector
    }];
  }, {
    activateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['activate']
    }],
    deactivateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['deactivate']
    }],
    activateWith: [],
    loadComponentInPage: []
  });
})();
class NativescriptPlatformLocation extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation {
  constructor(locationStrategy) {
    super();
    this.locationStrategy = locationStrategy;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NativescriptPlatformLocation.constructor()');
    }
  }
  getState() {
    return undefined;
  }
  getBaseHrefFromDOM() {
    return '/';
  }
  onPopState(fn) {
    this.locationStrategy.onPopState(fn);
    return () => {
      //
    };
  }
  onHashChange(_fn) {
    return () => {
      //
    };
  }
  get search() {
    return '';
  }
  get hash() {
    return '';
  }
  get pathname() {
    return this.locationStrategy.path();
  }
  set pathname(_newPath) {
    throw new Error('NativescriptPlatformLocation set pathname - not implemented');
  }
  pushState(state, title, url) {
    this.locationStrategy.pushState(state, title, url, null);
  }
  replaceState(state, title, url) {
    this.locationStrategy.replaceState(state, title, url, null);
  }
  forward() {
    throw new Error('NativescriptPlatformLocation.forward() - not implemented');
  }
  back() {
    this.locationStrategy.back();
  }
  static {
    this.ɵfac = function NativescriptPlatformLocation_Factory(t) {
      return new (t || NativescriptPlatformLocation)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptPlatformLocation,
      factory: NativescriptPlatformLocation.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptPlatformLocation, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class NSEmptyOutletComponent {
  constructor(page) {
    this.page = page;
    if (this.page) {
      this.page.actionBarHidden = true;
      this.page.on('loaded', () => {
        if (this.pageRouterOutlet && this.page.frame) {
          this.pageRouterOutlet.setActionBarVisibility(this.page.frame.actionBarVisibility);
        }
      });
    }
  }
  static {
    this.ɵfac = function NSEmptyOutletComponent_Factory(t) {
      return new (t || NSEmptyOutletComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: NSEmptyOutletComponent,
      selectors: [["ns-empty-outlet"]],
      viewQuery: function NSEmptyOutletComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](PageRouterOutlet, 5, PageRouterOutlet);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.pageRouterOutlet = _t.first);
        }
      },
      decls: 1,
      vars: 0,
      consts: [["isEmptyOutlet", "true"]],
      template: function NSEmptyOutletComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "page-router-outlet", 0);
        }
      },
      dependencies: [PageRouterOutlet],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSEmptyOutletComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // tslint:disable-next-line:component-selector
      selector: 'ns-empty-outlet',
      template: "<page-router-outlet isEmptyOutlet='true'></page-router-outlet>"
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page
    }];
  }, {
    pageRouterOutlet: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: [PageRouterOutlet, {
        read: PageRouterOutlet,
        static: false
      }]
    }]
  });
})();
function provideLocationStrategy(locationStrategy, frameService, startPath) {
  return locationStrategy ? locationStrategy : new NSLocationStrategy(frameService, startPath);
}
class NativeScriptRouterModule {
  static forRoot(routes, config) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: [..._angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forRoot(routes, config).providers, {
        provide: NSLocationStrategy,
        useFactory: provideLocationStrategy,
        deps: [[NSLocationStrategy, new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf()], FrameService, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), START_PATH]]
      }, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy,
        useExisting: NSLocationStrategy
      }, NativescriptPlatformLocation, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation,
        useExisting: NativescriptPlatformLocation
      }, RouterExtensions, NSRouteReuseStrategy, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouteReuseStrategy,
        useExisting: NSRouteReuseStrategy
      }]
    };
  }
  static forChild(routes) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forChild(routes).providers
    };
  }
  static {
    this.ɵfac = function NativeScriptRouterModule_Factory(t) {
      return new (t || NativeScriptRouterModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptRouterModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptRouterModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();

/* eslint-disable @typescript-eslint/ban-types */
let currentRafId = 1;
function noop() {}
/**
 * An injectable service for executing work inside or outside of the Angular zone.
 *
 * The most common use of this service is to optimize performance when starting a work consisting of
 * one or more asynchronous tasks that don't require UI updates or error handling to be handled by
 * Angular. Such tasks can be kicked off via {@link #runOutsideAngular} and if needed, these tasks
 * can reenter the Angular zone via {@link #run}.
 *
 * <!-- TODO: add/fix links to:
 *   - docs explaining zones and the use of zones in Angular and change-detection
 *   - link to runOutsideAngular/run (throughout this file!)
 *   -->
 *
 * @usageNotes
 * ### Example
 *
 * ```
 * import {Component, NgZone} from '@angular/core';
 * import {NgIf} from '@angular/common';
 *
 * @Component({
 *   selector: 'ng-zone-demo',
 *   template: `
 *     <h2>Demo: NgZone</h2>
 *
 *     <p>Progress: {{progress}}%</p>
 *     <p *ngIf="progress >= 100">Done processing {{label}} of Angular zone!</p>
 *
 *     <button (click)="processWithinAngularZone()">Process within Angular zone</button>
 *     <button (click)="processOutsideOfAngularZone()">Process outside of Angular zone</button>
 *   `,
 * })
 * export class NgZoneDemo {
 *   progress: number = 0;
 *   label: string;
 *
 *   constructor(private _ngZone: NgZone) {}
 *
 *   // Loop inside the Angular zone
 *   // so the UI DOES refresh after each setTimeout cycle
 *   processWithinAngularZone() {
 *     this.label = 'inside';
 *     this.progress = 0;
 *     this._increaseProgress(() => console.log('Inside Done!'));
 *   }
 *
 *   // Loop outside of the Angular zone
 *   // so the UI DOES NOT refresh after each setTimeout cycle
 *   processOutsideOfAngularZone() {
 *     this.label = 'outside';
 *     this.progress = 0;
 *     this._ngZone.runOutsideAngular(() => {
 *       this._increaseProgress(() => {
 *         // reenter the Angular zone and display done
 *         this._ngZone.run(() => { console.log('Outside Done!'); });
 *       });
 *     });
 *   }
 *
 *   _increaseProgress(doneCallback: () => void) {
 *     this.progress += 1;
 *     console.log(`Current progress: ${this.progress}%`);
 *
 *     if (this.progress < 100) {
 *       window.setTimeout(() => this._increaseProgress(doneCallback), 10);
 *     } else {
 *       doneCallback();
 *     }
 *   }
 * }
 * ```
 *
 * @publicApi
 */
class NativeScriptNgZone {
  constructor({
    enableLongStackTrace = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.isDevMode)(),
    shouldCoalesceEventChangeDetection = true,
    shouldCoalesceRunChangeDetection = true
  } = {}) {
    this.hasPendingMacrotasks = false;
    this.hasPendingMicrotasks = false;
    /**
     * Whether there are no outstanding microtasks or macrotasks.
     */
    this.isStable = true;
    /**
     * Notifies when code enters Angular Zone. This gets fired first on VM Turn.
     */
    this.onUnstable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when there is no more microtasks enqueued in the current VM Turn.
     * This is a hint for Angular to do change detection, which may enqueue more microtasks.
     * For this reason this event can fire multiple times per VM Turn.
     */
    this.onMicrotaskEmpty = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which
     * implies we are about to relinquish VM turn.
     * This event gets called just once.
     */
    this.onStable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies that an error has been delivered.
     */
    this.onError = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    if (typeof Zone == 'undefined') {
      throw new Error(`In this configuration Angular requires Zone.js`);
    }
    Zone.assertZonePatched();
    const self = this;
    self._nesting = 0;
    self._outer = self._inner = Zone.current;
    if (Zone['TaskTrackingZoneSpec']) {
      self._inner = self._inner.fork(new Zone['TaskTrackingZoneSpec']());
    }
    if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {
      self._inner = self._inner.fork(Zone['longStackTraceZoneSpec']);
    }
    // if shouldCoalesceRunChangeDetection is true, all tasks including event tasks will be
    // coalesced, so shouldCoalesceEventChangeDetection option is not necessary and can be skipped.
    self.shouldCoalesceEventChangeDetection = !shouldCoalesceRunChangeDetection && shouldCoalesceEventChangeDetection;
    self.shouldCoalesceRunChangeDetection = shouldCoalesceRunChangeDetection;
    self.lastRequestAnimationFrameId = -1;
    self.nativeRequestAnimationFrame = function (cb) {
      const nativeDispatchToMainThread = _nativescript_core__WEBPACK_IMPORTED_MODULE_66__[Zone.__symbol__('dispatchToMainThread')] || _nativescript_core__WEBPACK_IMPORTED_MODULE_67__.dispatchToMainThread;
      nativeDispatchToMainThread(cb);
      return currentRafId++;
    };
    forkInnerZoneWithAngularBehavior(self);
  }
  static isInAngularZone() {
    return Zone.current.get('isAngularZone') === true;
  }
  static assertInAngularZone() {
    if (!_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to be in Angular Zone, but it is not!');
    }
  }
  static assertNotInAngularZone() {
    if (_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to not be in Angular Zone, but it is!');
    }
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone and returns value returned by
   * the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  run(fn, applyThis, applyArgs) {
    return this._inner.run(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone as a task and returns value
   * returned by the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  runTask(fn, applyThis, applyArgs, name) {
    const zone = this._inner;
    const task = zone.scheduleEventTask('NgZoneEvent: ' + name, fn, EMPTY_PAYLOAD, noop, noop);
    try {
      return zone.runTask(task, applyThis, applyArgs);
    } finally {
      zone.cancelTask(task);
    }
  }
  /**
   * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not
   * rethrown.
   */
  runGuarded(fn, applyThis, applyArgs) {
    return this._inner.runGuarded(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by
   * the function.
   *
   * Running functions via {@link #runOutsideAngular} allows you to escape Angular's zone and do
   * work that
   * doesn't trigger Angular change-detection or is subject to Angular's error handling.
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * outside of the Angular zone.
   *
   * Use {@link #run} to reenter the Angular zone and do work that updates the application model.
   */
  runOutsideAngular(fn) {
    return this._outer.run(fn);
  }
}
const EMPTY_PAYLOAD = {};
function checkStable(zone) {
  // TODO: @JiaLiPassion, should check zone.isCheckStableRunning to prevent
  // re-entry. The case is:
  //
  // @Component({...})
  // export class AppComponent {
  // constructor(private ngZone: NgZone) {
  //   this.ngZone.onStable.subscribe(() => {
  //     this.ngZone.run(() => console.log('stable'););
  //   });
  // }
  //
  // The onStable subscriber run another function inside ngZone
  // which causes `checkStable()` re-entry.
  // But this fix causes some issues in g3, so this fix will be
  // launched in another PR.
  if (zone._nesting == 0 && !zone.hasPendingMicrotasks && !zone.isStable) {
    try {
      zone._nesting++;
      zone.onMicrotaskEmpty.emit(null);
    } finally {
      zone._nesting--;
      if (!zone.hasPendingMicrotasks) {
        try {
          zone.runOutsideAngular(() => zone.onStable.emit(null));
        } finally {
          zone.isStable = true;
        }
      }
    }
  }
}
function delayChangeDetectionForEvents(zone) {
  /**
   * We also need to check _nesting here
   * Consider the following case with shouldCoalesceRunChangeDetection = true
   *
   * ngZone.run(() => {});
   * ngZone.run(() => {});
   *
   * We want the two `ngZone.run()` only trigger one change detection
   * when shouldCoalesceRunChangeDetection is true.
   * And because in this case, change detection run in async way(requestAnimationFrame),
   * so we also need to check the _nesting here to prevent multiple
   * change detections.
   */
  if (zone.isCheckStableRunning || zone.lastRequestAnimationFrameId !== -1) {
    return;
  }
  zone.lastRequestAnimationFrameId = zone.nativeRequestAnimationFrame.call(global, () => {
    // This is a work around for https://github.com/angular/angular/issues/36839.
    // The core issue is that when event coalescing is enabled it is possible for microtasks
    // to get flushed too early (As is the case with `Promise.then`) between the
    // coalescing eventTasks.
    //
    // To workaround this we schedule a "fake" eventTask before we process the
    // coalescing eventTasks. The benefit of this is that the "fake" container eventTask
    //  will prevent the microtasks queue from getting drained in between the coalescing
    // eventTask execution.
    if (!zone.fakeTopEventTask) {
      zone.fakeTopEventTask = Zone.root.scheduleEventTask('fakeTopEventTask', () => {
        zone.lastRequestAnimationFrameId = -1;
        updateMicroTaskStatus(zone);
        zone.isCheckStableRunning = true;
        checkStable(zone);
        zone.isCheckStableRunning = false;
      }, undefined, () => {}, () => {});
    }
    zone.fakeTopEventTask.invoke();
  });
  updateMicroTaskStatus(zone);
}
function forkInnerZoneWithAngularBehavior(zone) {
  const delayChangeDetectionForEventsDelegate = () => {
    delayChangeDetectionForEvents(zone);
  };
  zone._inner = zone._inner.fork({
    name: 'angular',
    properties: {
      isAngularZone: true
    },
    onInvokeTask: (delegate, current, target, task, applyThis, applyArgs) => {
      try {
        onEnter(zone);
        return delegate.invokeTask(target, task, applyThis, applyArgs);
      } finally {
        if (zone.shouldCoalesceEventChangeDetection && task.type === 'eventTask' || zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_67__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onInvoke: (delegate, current, target, callback, applyThis, applyArgs, source) => {
      try {
        onEnter(zone);
        return delegate.invoke(target, callback, applyThis, applyArgs, source);
      } finally {
        if (zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_67__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onHasTask: (delegate, current, target, hasTaskState) => {
      delegate.hasTask(target, hasTaskState);
      if (current === target) {
        // We are only interested in hasTask events which originate from our zone
        // (A child hasTask event is not interesting to us)
        if (hasTaskState.change == 'microTask') {
          zone._hasPendingMicrotasks = hasTaskState.microTask;
          updateMicroTaskStatus(zone);
          checkStable(zone);
        } else if (hasTaskState.change == 'macroTask') {
          zone.hasPendingMacrotasks = hasTaskState.macroTask;
        }
      }
    },
    onHandleError: (delegate, current, target, error) => {
      delegate.handleError(target, error);
      zone.runOutsideAngular(() => zone.onError.emit(error));
      return false;
    }
  });
}
function updateMicroTaskStatus(zone) {
  if (zone._hasPendingMicrotasks || zone.lastRequestAnimationFrameId !== -1) {
    zone.hasPendingMicrotasks = true;
  } else {
    zone.hasPendingMicrotasks = false;
  }
}
function onEnter(zone) {
  zone._nesting++;
  if (zone.isStable) {
    zone.isStable = false;
    zone.onUnstable.emit(null);
  }
}
function onLeave(zone) {
  zone._nesting--;
  checkStable(zone);
}

/**
 * Generated bundle index. Do not edit.
 */


//# sourceMappingURL=nativescript-angular.mjs.map

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLmU1NzI3ZTA4ZWI0OWI5ZjY1ZGE5LmhvdC11cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5QztBQUMweEI7QUFDL3hCO0FBQ3NtQjtBQUNsbEI7QUFDaEI7QUFDMEc7QUFDOUQ7QUFDVTtBQUN0RDtBQUN3SDtBQUNoRztBQUNUO0FBQ0g7QUFDc0Y7QUFDL0I7QUFDVztBQUFBLE1BQUF5SixHQUFBO0FBQUEsTUFBQUMsR0FBQTtBQUFBLE1BQUFDLEdBQUE7QUFBQSxTQUFBQyw2Q0FBQUMsRUFBQSxFQUFBQyxHQUFBO0VBQUEsSUFBQUQsRUFBQTtJQXFQbEI3RiwwREFBRSx3QkF1N0d1RyxDQUFDO0VBQUE7QUFBQTtBQUFBLFNBQUFnRyx5Q0FBQUgsRUFBQSxFQUFBQyxHQUFBO0VBQUEsSUFBQUQsRUFBQTtJQXY3RzFHN0YsMERBQUUsd0JBMDhHK0YsQ0FBQztFQUFBO0FBQUE7QUFBQSxTQUFBaUcsOENBQUFKLEVBQUEsRUFBQUMsR0FBQTtFQUFBLElBQUFELEVBQUE7SUExOEdsRzdGLDBEQUFFLHdCQSs5R3lHLENBQUM7RUFBQTtBQUFBO0FBbHRIaE4sTUFBTWtHLFlBQVksR0FBSUMsUUFBUSxJQUFLQSxRQUFRLENBQUNDLFdBQVcsQ0FBQ0MsSUFBSTtBQUM1RCxNQUFNQyxhQUFhLFNBQVNySyxvREFBSSxDQUFDO0VBQzdCbUssV0FBV0EsQ0FBQ0MsSUFBSSxHQUFHLEVBQUUsRUFBRTtJQUNuQixLQUFLLENBQUMsQ0FBQztJ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QVEsQ0FBQ2MsV0FBVyxDQUFDMXRDLE1BQU0sRUFBRS9LLEtBQUssQ0FBQztNQUNuQ21xQixJQUFJLENBQUMrc0IsaUJBQWlCLENBQUMsTUFBTS9zQixJQUFJLENBQUMyckIsT0FBTyxDQUFDemlDLElBQUksQ0FBQ3JULEtBQUssQ0FBQyxDQUFDO01BQ3RELE9BQU8sS0FBSztJQUNoQjtFQUNKLENBQUMsQ0FBQztBQUNOO0FBQ0EsU0FBU3UzQyxxQkFBcUJBLENBQUNwdEIsSUFBSSxFQUFFO0VBQ2pDLElBQUlBLElBQUksQ0FBQ2t1QixxQkFBcUIsSUFBSWx1QixJQUFJLENBQUNrc0IsMkJBQTJCLEtBQUssQ0FBQyxDQUFDLEVBQUU7SUFDdkVsc0IsSUFBSSxDQUFDc3JCLG9CQUFvQixHQUFHLElBQUk7RUFDcEMsQ0FBQyxNQUNJO0lBQ0R0ckIsSUFBSSxDQUFDc3JCLG9CQUFvQixHQUFHLEtBQUs7RUFDckM7QUFDSjtBQUNBLFNBQVNtQyxPQUFPQSxDQUFDenRCLElBQUksRUFBRTtFQUNuQkEsSUFBSSxDQUFDOHJCLFFBQVEsRUFBRTtFQUNmLElBQUk5ckIsSUFBSSxDQUFDdXJCLFFBQVEsRUFBRTtJQUNmdnJCLElBQUksQ0FBQ3VyQixRQUFRLEdBQUcsS0FBSztJQUNyQnZyQixJQUFJLENBQUN3ckIsVUFBVSxDQUFDdGlDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDOUI7QUFDSjtBQUNBLFNBQVMwa0MsT0FBT0EsQ0FBQzV0QixJQUFJLEVBQUU7RUFDbkJBLElBQUksQ0FBQzhyQixRQUFRLEVBQUU7RUFDZmtCLFdBQVcsQ0FBQ2h0QixJQUFJLENBQUM7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUU4M0c7QUFDOTNHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWdvZ3JlZW4vLi9ub2RlX21vZHVsZXMvQG5hdGl2ZXNjcmlwdC9hbmd1bGFyL2Zlc20yMDIyL25hdGl2ZXNjcmlwdC1hbmd1bGFyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpMSBmcm9tICdAbmF0aXZlc2NyaXB0L2NvcmUnO1xuaW1wb3J0IHsgVmlldywgTGF5b3V0QmFzZSwgQ29udGVudFZpZXcsIFByb3h5Vmlld0NvbnRhaW5lciwgUGFnZSwgcGxhdGZvcm1OYW1lcywgR3JpZExheW91dCwgQXBwbGljYXRpb24sIFRyYWNlLCBGb3JtYXR0ZWRTdHJpbmcsIFNwYW4sIEFic29sdXRlTGF5b3V0LCBBY3Rpdml0eUluZGljYXRvciwgQnV0dG9uLCBEYXRlUGlja2VyLCBEb2NrTGF5b3V0LCBGcmFtZSwgSHRtbFZpZXcsIEltYWdlLCBMYWJlbCwgTGlzdFBpY2tlciwgTGlzdFZpZXcsIFBsYWNlaG9sZGVyLCBQcm9ncmVzcywgUmVwZWF0ZXIsIFJvb3RMYXlvdXQsIFNjcm9sbFZpZXcsIFNlYXJjaEJhciwgU2VnbWVudGVkQmFyLCBTZWdtZW50ZWRCYXJJdGVtLCBTbGlkZXIsIFN0YWNrTGF5b3V0LCBGbGV4Ym94TGF5b3V0LCBTd2l0Y2gsIFRhYlZpZXcsIFRleHRGaWVsZCwgVGV4dFZpZXcsIFRpbWVQaWNrZXIsIFdlYlZpZXcsIFdyYXBMYXlvdXQsIHVuc2V0VmFsdWUsIHByb2ZpbGUsIGFkZFRhZ2dlZEFkZGl0aW9uYWxDU1MsIGdldFZpZXdCeUlkLCBPYnNlcnZhYmxlLCBBY3Rpb25JdGVtLCBOYXZpZ2F0aW9uQnV0dG9uLCBBY3Rpb25CYXIsIE9ic2VydmFibGVBcnJheSwgVGFiVmlld0l0ZW0sIENvbG9yLCBEZXZpY2UsIFV0aWxzLCByZW1vdmVUYWdnZWRBZGRpdGlvbmFsQ1NTLCBrbm93bkZvbGRlcnMsIEZpbGUsIEtleWZyYW1lQW5pbWF0aW9uLCBhbmltYXRpb25UaW1pbmdGdW5jdGlvbkNvbnZlcnRlciwgcGFyc2VLZXlmcmFtZURlY2xhcmF0aW9ucywgQ1NTSGVscGVyLCBDc3NBbmltYXRpb25Qcm9wZXJ0eSwgZWFjaERlc2NlbmRhbnQsIHBhdGggfSBmcm9tICdAbmF0aXZlc2NyaXB0L2NvcmUnO1xuaW1wb3J0ICogYXMgaTAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgSW5qZWN0LCBDb21wb25lbnRSZWYsIEluamVjdGFibGUsIFZpZXdFbmNhcHN1bGF0aW9uLCBPcHRpb25hbCwgRWxlbWVudFJlZiwgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIE91dHB1dCwgTmdNb2R1bGUsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQXBwbGljYXRpb25SZWYsIEluamVjdG9yLCBWaWV3Q29udGFpbmVyUmVmLCBDb21wb25lbnQsIFZpZXdDaGlsZCwgSW5wdXQsIGluamVjdCwgSXRlcmFibGVEaWZmZXJzLCBDaGFuZ2VEZXRlY3RvclJlZiwgZm9yd2FyZFJlZiwgVGVtcGxhdGVSZWYsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb250ZW50Q2hpbGQsIEhvc3RMaXN0ZW5lciwgSG9zdCwgTk9fRVJST1JTX1NDSEVNQSwgRXJyb3JIYW5kbGVyLCBTa2lwU2VsZiwgybVJTkpFQ1RPUl9TQ09QRSwgUmVuZGVyZXJGYWN0b3J5MiwgQXBwbGljYXRpb25Nb2R1bGUsIFBsYXRmb3JtUmVmLCBOZ01vZHVsZVJlZiwgybVpbnRlcm5hbENyZWF0ZUFwcGxpY2F0aW9uLCBOZ1pvbmUsIFNhbml0aXplciwgY3JlYXRlUGxhdGZvcm1GYWN0b3J5LCBwbGF0Zm9ybUNvcmUsIENvbnRlbnRDaGlsZHJlbiwgSW5qZWN0RmxhZ3MsIEF0dHJpYnV0ZSwgaXNEZXZNb2RlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBfX2RlY29yYXRlLCBfX3BhcmFtLCBfX21ldGFkYXRhIH0gZnJvbSAndHNsaWInO1xuaW1wb3J0ICogYXMgaTEkMSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgWGhyRmFjdG9yeSwgTG9jYXRpb25TdHJhdGVneSwgQ29tbW9uTW9kdWxlLCBWaWV3cG9ydFNjcm9sbGVyLCDJtU51bGxWaWV3cG9ydFNjcm9sbGVyLCBET0NVTUVOVCwgUGxhdGZvcm1Mb2NhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBmaWx0ZXIsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXAsIHRha2UsIHN0YXJ0V2l0aCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgU3ViamVjdCwgZnJvbUV2ZW50LCBkZWZlciwgT2JzZXJ2YWJsZSBhcyBPYnNlcnZhYmxlJDEgfSBmcm9tICdyeGpzJztcbmltcG9ydCAqIGFzIGkxJDMgZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IERlZmF1bHRVcmxTZXJpYWxpemVyLCBQUklNQVJZX09VVExFVCwgTmF2aWdhdGlvbkVuZCwgQWN0aXZhdGVkUm91dGUsIENoaWxkcmVuT3V0bGV0Q29udGV4dHMsIFJvdXRlck1vZHVsZSwgUm91dGVSZXVzZVN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IE5HX1ZBTFVFX0FDQ0VTU09SLCBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEFuaW1hdGlvbkJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCAqIGFzIGkxJDIgZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucy9icm93c2VyJztcbmltcG9ydCB7IMm1QW5pbWF0aW9uRW5naW5lLCDJtVdlYkFuaW1hdGlvbnNTdHlsZU5vcm1hbGl6ZXIsIEFuaW1hdGlvbkRyaXZlciwgybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zL2Jyb3dzZXInO1xuaW1wb3J0IHsgybVBbmltYXRpb25SZW5kZXJlckZhY3RvcnksIMm1QnJvd3NlckFuaW1hdGlvbkJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgSHR0cFhockJhY2tlbmQsIEh0dHBSZXNwb25zZSwgSHR0cEVycm9yUmVzcG9uc2UsIEh0dHBDbGllbnRNb2R1bGUsIEh0dHBCYWNrZW5kIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5jb25zdCBnZXRDbGFzc05hbWUgPSAoaW5zdGFuY2UpID0+IGluc3RhbmNlLmNvbnN0cnVjdG9yLm5hbWU7XG5jbGFzcyBJbnZpc2libGVOb2RlIGV4dGVuZHMgVmlldyB7XG4gICAgY29uc3RydWN0b3IobmFtZSA9ICcnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubm9kZVR5cGUgPSAxO1xuICAgICAgICB0aGlzLm5vZGVOYW1lID0gZ2V0Q2xhc3NOYW1lKHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMubm9kZU5hbWV9KCR7dGhpcy5pZH0pLSR7dGhpcy5uYW1lfWA7XG4gICAgfVxufVxuY2xhc3MgQ29tbWVudE5vZGUgZXh0ZW5kcyBJbnZpc2libGVOb2RlIHtcbiAgICBzdGF0aWMgeyB0aGlzLmlkID0gMDsgfVxuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICAgICAgdGhpcy5tZXRhID0ge1xuICAgICAgICAgICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlkID0gQ29tbWVudE5vZGUuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgQ29tbWVudE5vZGUuaWQgKz0gMTtcbiAgICB9XG59XG5jbGFzcyBUZXh0Tm9kZSBleHRlbmRzIEludmlzaWJsZU5vZGUge1xuICAgIHN0YXRpYyB7IHRoaXMudGV4dENoYW5nZUV2ZW50ID0gJ3RleHRDaGFuZ2UnOyB9XG4gICAgc3RhdGljIHsgdGhpcy5pZCA9IDA7IH1cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfVxuICAgIHNldCB0ZXh0KHQpIHtcbiAgICAgICAgdGhpcy5fdGV4dCA9IHQ7XG4gICAgICAgIHRoaXMubm90aWZ5KHsgZXZlbnROYW1lOiBUZXh0Tm9kZS50ZXh0Q2hhbmdlRXZlbnQsIG9iamVjdDogdGhpcywgdmFsdWU6IHQgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICAgICAgdGhpcy5fdGV4dCA9ICcnO1xuICAgICAgICB0aGlzLmNhbGxiYWNrTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl90ZXh0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMubWV0YSA9IHtcbiAgICAgICAgICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pZCA9IFRleHROb2RlLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgIFRleHROb2RlLmlkICs9IDE7XG4gICAgfVxuICAgIHJlZ2lzdGVyVGV4dENoYW5nZShjYWxsYmFjaywgaWQpIHtcbiAgICAgICAgY29uc3QgY2IgPSAoZXZ0KSA9PiBjYWxsYmFjayhldnQudmFsdWUpO1xuICAgICAgICBjb25zdCBjYkFyciA9IHRoaXMuY2FsbGJhY2tNYXAuZ2V0KGlkKSB8fCBbXTtcbiAgICAgICAgY2JBcnIucHVzaChjYik7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAuc2V0KGlkLCBjYkFycik7XG4gICAgICAgIHRoaXMub24oJ3RleHRDaGFuZ2UnLCBjYik7XG4gICAgfVxuICAgIHVucmVnaXN0ZXJUZXh0Q2hhbmdlKGlkKSB7XG4gICAgICAgIGNvbnN0IGNiQXJyID0gdGhpcy5jYWxsYmFja01hcC5nZXQoaWQpIHx8IFtdO1xuICAgICAgICBjYkFyci5mb3JFYWNoKChjYikgPT4gdGhpcy5vZmYoJ3RleHRDaGFuZ2UnLCBjYikpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrTWFwLmRlbGV0ZShpZCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0RldGFjaGVkRWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5tZXRhICYmIGVsZW1lbnQubWV0YS5za2lwQWRkVG9Eb207XG59XG5mdW5jdGlvbiBpc1ZpZXcodmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgVmlldztcbn1cbmZ1bmN0aW9uIGlzSW52aXNpYmxlTm9kZSh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlO1xufVxuZnVuY3Rpb24gaXNMYXlvdXQodmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgTGF5b3V0QmFzZTtcbn1cbmZ1bmN0aW9uIGlzQ29udGVudFZpZXcodmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgQ29udGVudFZpZXc7XG59XG5mdW5jdGlvbiBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3KHZpZXcsIGV4dHJhY3RGcm9tTlNQYXJlbnQgPSBmYWxzZSkge1xuICAgIGlmICh2aWV3IGluc3RhbmNlb2YgUHJveHlWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgIGlmICh2aWV3LmdldENoaWxkcmVuQ291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodmlldy5nZXRDaGlsZEF0KDApKTtcbiAgICB9XG4gICAgaWYgKGV4dHJhY3RGcm9tTlNQYXJlbnQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHZpZXcucGFyZW50Tm9kZTtcbiAgICAgICAgZGV0YWNoVmlld0Zyb21QYXJlbnQodmlldyk7XG4gICAgICAgIHZpZXcucGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIHJldHVybiB2aWV3O1xufVxuZnVuY3Rpb24gZGV0YWNoVmlld0Zyb21QYXJlbnQodmlldykge1xuICAgIGNvbnN0IHBhcmVudCA9IHZpZXc/LnBhcmVudDtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwYXJlbnQubWV0YSAmJiBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZCkge1xuICAgICAgICBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZChwYXJlbnQsIHZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh2aWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpICYmIHBhcmVudC5jb250ZW50ID09PSB2aWV3KSB7XG4gICAgICAgIHBhcmVudC5jb250ZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50Ll9yZW1vdmVWaWV3KHZpZXcpO1xuICAgIH1cbn1cblxuY29uc3QgQVBQX1JPT1RfVklFVyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0QXBwUm9vdFZpZXcnKTtcbmNvbnN0IE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0Um9vdE1vZHVsZUlkJyk7XG5jb25zdCBTVEFSVF9QQVRIID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRTdGFydFBhdGgnKTtcbmNvbnN0IEVOQUJMRV9SRVVTQUJFX1ZJRVdTID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRFbmFibGVSZXVzYWJsZVZpZXdzJyk7XG5jb25zdCBESVNBQkxFX1JPT1RfVklFV19IQU5ETElORyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0RGlzYWJsZVJvb3RWaWV3SGFuZGxpbmcnKTtcbmNvbnN0IERFVklDRSA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0RGV2aWNlJyk7XG5jb25zdCBQQUdFX0ZBQ1RPUlkgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdFBhZ2VGYWN0b3J5Jyk7XG5jb25zdCBkZWZhdWx0UGFnZUZhY3RvcnkgPSBmdW5jdGlvbiAoX29wdHMpIHtcbiAgICByZXR1cm4gbmV3IFBhZ2UoKTtcbn07XG5cbmxldCBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciA9IGNsYXNzIFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5kZXZpY2UgPSBkZXZpY2U7XG4gICAgfVxuICAgIHJ1bnNJbihuYW1lc3BhY2UsIG5leHQpIHtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuYW5kcm9pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZXNwYWNlID09PSAnaW9zJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmlvcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dChuYW1lc3BhY2UpO1xuICAgIH1cbn07XG5QbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSW5qZWN0KERFVklDRSkpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0XSlcbl0sIFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyKTtcbmNvbnN0IE5BTUVTUEFDRV9GSUxURVJTID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHROYW1lc3BhY2VGaWx0ZXInKTtcblxuY2xhc3MgTmdWaWV3UmVmIHtcbiAgICBjb25zdHJ1Y3RvcihyZWYpIHtcbiAgICAgICAgdGhpcy5yZWYgPSByZWY7XG4gICAgICAgIHRoaXMudmlldyA9IHJlZiBpbnN0YW5jZW9mIENvbXBvbmVudFJlZiA/IHJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50IDogcmVmLnJvb3ROb2Rlcy5maW5kKCh2KSA9PiAhKHYgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlKSk7XG4gICAgICAgIHRoaXMuZmlyc3ROYXRpdmVMaWtlVmlldyA9IGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodGhpcy52aWV3KTtcbiAgICB9XG4gICAgZGV0YWNoTmF0aXZlTGlrZVZpZXcoKSB7XG4gICAgICAgIGRldGFjaFZpZXdGcm9tUGFyZW50KHRoaXMuZmlyc3ROYXRpdmVMaWtlVmlldyk7XG4gICAgfVxufVxuXG5jbGFzcyBBcHBIb3N0VmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuICAgIH1cbiAgICBnZXQgbmdBcHBSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmdBcHBSb290O1xuICAgIH1cbiAgICBzZXQgbmdBcHBSb290KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX25nQXBwUm9vdCA9IHZhbHVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy9AdHMtaWdub3JlXG4gICAgZ2V0IGNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xuICAgIH1cbiAgICBzZXQgY29udGVudCh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5wYXJlbnROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LnBhcmVudE5vZGUgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmdBcHBSb290ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50IGluc3RhbmNlb2YgUHJveHlWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBncmlkID0gbmV3IEdyaWRMYXlvdXQoKTtcbiAgICAgICAgICAgIGdyaWQuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICBncmlkLmFkZENoaWxkKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5uZ0FwcFJvb3QgPSBncmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5nQXBwUm9vdCkge1xuICAgICAgICAgICAgLy8gbWF5YmUgdXNlIHRoaXMgYXBwcm9hY2hcbiAgICAgICAgICAgIC8vIHRoaXMuc2NoZWR1bGVSb290Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2NoZWR1bGVSb290Q2hhbmdlKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lb3V0ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm5nQXBwUm9vdCk7XG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZTogKCkgPT4gdGhpcy5jb250ZW50LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCA9IC0xO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBBcHBIb3N0QXN5bmNWaWV3IGV4dGVuZHMgR3JpZExheW91dCB7XG4gICAgY29uc3RydWN0b3IoYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuICAgIH1cbiAgICBnZXQgbmdBcHBSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0IG5nQXBwUm9vdCh2YWx1ZSkge1xuICAgICAgICAvLyBpZ25vcmVkXG4gICAgfVxufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFpbk1vZHVsZVJlYWR5JCA9IG5ldyBCZWhhdmlvclN1YmplY3QoZmFsc2UpO1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JCA9IG5ldyBCZWhhdmlvclN1YmplY3QodHJ1ZSk7XG4gICAgICAgIHRoaXMub25NYWluTW9kdWxlUmVhZHkkID0gdGhpcy5tYWluTW9kdWxlUmVhZHkkLnBpcGUoZmlsdGVyKChyZWFkeSkgPT4gcmVhZHkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZGVsYXlzIGRlc3Ryb3lpbmcgdGhpcyBtb2R1bGUgdW50aWwgYG5vdGlmeVJlYWR5VG9EZXN0cm95KClgLlxuICAgICAqIHJlbWVtYmVyIHRvIGNhbGwgYG5vdGlmeVJlYWR5VG9EZXN0cm95KClgIHdoZW4gZG9uZSFcbiAgICAgKi9cbiAgICB3YWl0VW50aWxOb3RpZmllZCgpIHtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQubmV4dChmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG5vdGlmaWVzIHRoaXMgbW9kdWxlIGlzIHJlYWR5IHRvIGJlIGRlc3Ryb3llZFxuICAgICAqL1xuICAgIG5vdGlmeVJlYWR5VG9EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JC5uZXh0KHRydWUpO1xuICAgIH1cbiAgICBpc01haW5Nb2R1bGVSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbk1vZHVsZVJlYWR5JC52YWx1ZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMubWFpbk1vZHVsZVJlYWR5JC5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmNpb24gaXMgY2FsbGVkIGJ5IHRoZSBib290c3RyYXAgY29kZSB3aGVuIHRoZSBhcHAgaXMgcmVhZHlcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfbm90aWZ5TWFpbk1vZHVsZVJlYWR5KCkge1xuICAgICAgICB0aGlzLm1haW5Nb2R1bGVSZWFkeSQubmV4dCh0cnVlKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBwcm92aWRlZEluOiAncm9vdCcgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbeyBwcm92aWRlZEluOiAncm9vdCcgfV1cbiAgICAgICAgfV0gfSk7XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdERlYnVnIHtcbiAgICBzdGF0aWMgeyB0aGlzLmFuaW1hdGlvbnNUcmFjZUNhdGVnb3J5ID0gJ25zLWFuaW1hdGlvbnMnOyB9XG4gICAgc3RhdGljIHsgdGhpcy5yZW5kZXJlclRyYWNlQ2F0ZWdvcnkgPSAnbnMtcmVuZGVyZXInOyB9XG4gICAgc3RhdGljIHsgdGhpcy52aWV3VXRpbENhdGVnb3J5ID0gJ25zLXZpZXctdXRpbCc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLnJvdXRlclRyYWNlQ2F0ZWdvcnkgPSAnbnMtcm91dGVyJzsgfVxuICAgIHN0YXRpYyB7IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5VHJhY2VDYXRlZ29yeSA9ICducy1yb3V0ZS1yZXVzZS1zdHJhdGVneSc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLmxpc3RWaWV3VHJhY2VDYXRlZ29yeSA9ICducy1saXN0LXZpZXcnOyB9XG4gICAgc3RhdGljIHsgdGhpcy5ib290c3RyYXBDYXRlZ29yeSA9ICdib290c3RyYXAnOyB9XG4gICAgLy8gVE9ETzogbWlncmF0ZSBhbGwgdXNhZ2UgdG8gdGhpcyAtIGF2b2lkcyBleHRyYW5lb3VzIG1ldGhvZCBleGVjdXRpb25zXG4gICAgc3RhdGljIHsgdGhpcy5lbmFibGVkID0gVHJhY2UuaXNFbmFibGVkKCk7IH1cbiAgICBzdGF0aWMgaXNMb2dFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gVHJhY2UuaXNFbmFibGVkKCk7XG4gICAgfVxuICAgIHN0YXRpYyBhbmltYXRpb25zTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc1RyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVuZGVyZXJMb2cobXNnKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1zZywgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHJlbmRlcmVyRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlclRyYWNlQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIHZpZXdVdGlsTG9nKG1zZykge1xuICAgICAgICBUcmFjZS53cml0ZShtc2csIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcm91dGVyTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyVHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByb3V0ZXJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlclRyYWNlQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIHJvdXRlUmV1c2VTdHJhdGVneUxvZyhtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneVRyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgc3R5bGVFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIFRyYWNlLmNhdGVnb3JpZXMuU3R5bGUsIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIGxpc3RWaWV3TG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIGxpc3RWaWV3RXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld1RyYWNlQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIGJvb3RzdHJhcExvZyhtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcENhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIGJvb3RzdHJhcExvZ0Vycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG59XG5cbmNsYXNzIE5hdGl2ZXNjcmlwdFhockZhY3RvcnkgZXh0ZW5kcyBYaHJGYWN0b3J5IHtcbiAgICBidWlsZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIGRlcHM6IG51bGwsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnkgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSB9KTtcblxuY29uc3QgZnJhbWVNZXRhID0ge1xuICAgIGluc2VydENoaWxkOiAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgICAgICAvLyBQYWdlIGNhbm5vdCBiZSBhZGRlZCB0byBGcmFtZSB3aXRoIF9hZGRDaGlsZEZyb21CdWlsZGVyICh0aHdvcyBcInVzZSBkZWZhdWx0UGFnZVwiIGVycm9yKVxuICAgICAgICBpZiAoaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgUGFnZSkge1xuICAgICAgICAgICAgcGFyZW50Lm5hdmlnYXRlKHsgY3JlYXRlOiAoKSA9PiBjaGlsZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBhIFBhZ2UgY2FuIGJlIGEgY2hpbGQgb2YgRnJhbWUnKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuY29uc3QgZm9ybWF0dGVkU3RyaW5nTWV0YSA9IHtcbiAgICBpbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LnNwYW5zLmluZGV4T2YobmV4dCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBwYXJlbnQuc3BhbnMuc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuc3BhbnMucHVzaChjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuc3BhbnMuaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBwYXJlbnQuc3BhbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuY29uc3QgdGV4dEJhc2VNZXRhID0ge1xuICAgIGluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgRm9ybWF0dGVkU3RyaW5nKSB7XG4gICAgICAgICAgICBwYXJlbnQuZm9ybWF0dGVkVGV4dCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgU3Bhbikge1xuICAgICAgICAgICAgcGFyZW50LmZvcm1hdHRlZFRleHQgPz89IG5ldyBGb3JtYXR0ZWRTdHJpbmcoKTtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZ01ldGEuaW5zZXJ0Q2hpbGQocGFyZW50LmZvcm1hdHRlZFRleHQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoIXBhcmVudC5mb3JtYXR0ZWRUZXh0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBGb3JtYXR0ZWRTdHJpbmcpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZm9ybWF0dGVkVGV4dCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuZm9ybWF0dGVkVGV4dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBTcGFuKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmdNZXRhLnJlbW92ZUNoaWxkKHBhcmVudC5mb3JtYXR0ZWRUZXh0LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuY29uc3QgZWxlbWVudE1hcCA9IG5ldyBNYXAoKTtcbmNvbnN0IGNhbWVsQ2FzZVNwbGl0ID0gLyhbYS16MC05XSkoW0EtWl0pL2c7XG5jb25zdCBkZWZhdWx0Vmlld01ldGEgPSB7IHNraXBBZGRUb0RvbTogZmFsc2UgfTtcbmZ1bmN0aW9uIHJlZ2lzdGVyRWxlbWVudChlbGVtZW50TmFtZSwgcmVzb2x2ZXIsIG1ldGEpIHtcbiAgICBjb25zdCBlbnRyeSA9IHsgcmVzb2x2ZXIsIG1ldGEgfTtcbiAgICBlbGVtZW50TWFwLnNldChlbGVtZW50TmFtZSwgZW50cnkpO1xuICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCksIGVudHJ5KTtcbiAgICBlbGVtZW50TWFwLnNldChlbGVtZW50TmFtZS5yZXBsYWNlKGNhbWVsQ2FzZVNwbGl0LCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpLCBlbnRyeSk7XG59XG5mdW5jdGlvbiBnZXRWaWV3Q2xhc3MoZWxlbWVudE5hbWUpIHtcbiAgICBjb25zdCBlbnRyeSA9IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnROYW1lKSB8fCBlbGVtZW50TWFwLmdldChlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIGtub3duIGNvbXBvbmVudCBmb3IgZWxlbWVudCAke2VsZW1lbnROYW1lfS5gKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnJlc29sdmVyKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYENvdWxkIG5vdCBsb2FkIHZpZXcgZm9yOiAke2VsZW1lbnROYW1lfS4ke2V9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Vmlld01ldGEobm9kZU5hbWUpIHtcbiAgICBjb25zdCBlbnRyeSA9IGVsZW1lbnRNYXAuZ2V0KG5vZGVOYW1lKSB8fCBlbGVtZW50TWFwLmdldChub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICByZXR1cm4gKGVudHJ5ICYmIGVudHJ5Lm1ldGEpIHx8IGRlZmF1bHRWaWV3TWV0YTtcbn1cbmZ1bmN0aW9uIGlzS25vd25WaWV3KGVsZW1lbnROYW1lKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRNYXAuaGFzKGVsZW1lbnROYW1lKSB8fCBlbGVtZW50TWFwLmhhcyhlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKG5vZGVzLCBuZXN0TGV2ZWwpIHtcbiAgICBjb25zdCBhY3R1YWxOb2RlcyA9IG5vZGVzLmZpbHRlcigobm9kZSkgPT4gIShub2RlIGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZSkpO1xuICAgIGlmIChhY3R1YWxOb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWl0YWJsZSB2aWV3cyBmb3VuZCBpbiBsaXN0IHRlbXBsYXRlISBgICsgYE5lc3RpbmcgbGV2ZWw6ICR7bmVzdExldmVsfWApO1xuICAgIH1cbiAgICBlbHNlIGlmIChhY3R1YWxOb2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTW9yZSB0aGFuIG9uZSB2aWV3IGZvdW5kIGluIGxpc3QgdGVtcGxhdGUhYCArIGBOZXN0aW5nIGxldmVsOiAke25lc3RMZXZlbH1gKTtcbiAgICB9XG4gICAgY29uc3Qgcm9vdExheW91dCA9IGFjdHVhbE5vZGVzWzBdO1xuICAgIGlmICghcm9vdExheW91dCkge1xuICAgICAgICByZXR1cm4gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUocm9vdExheW91dC5jaGlsZHJlbiwgbmVzdExldmVsICsgMSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudExheW91dCA9IHJvb3RMYXlvdXQucGFyZW50O1xuICAgIGlmIChwYXJlbnRMYXlvdXQgaW5zdGFuY2VvZiBMYXlvdXRCYXNlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSByb290TGF5b3V0LnBhcmVudE5vZGU7XG4gICAgICAgIHBhcmVudExheW91dC5yZW1vdmVDaGlsZChyb290TGF5b3V0KTtcbiAgICAgICAgcm9vdExheW91dC5wYXJlbnROb2RlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3RMYXlvdXQ7XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIGdldFNpbmdsZVZpZXdSZWN1cnNpdmUgaXMgZGVwcmVjYXRlZCwgdXNlIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZVZpZXdSZWN1cnNpdmUobm9kZXMsIG5lc3RMZXZlbCkge1xuICAgIHJldHVybiBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZShub2RlcywgbmVzdExldmVsKTtcbn1cblxuLy8gUmVnaXN0ZXIgZGVmYXVsdCBOYXRpdmVTY3JpcHQgY29tcG9uZW50c1xuLy8gTm90ZTogQWN0aW9uQmFyIHJlbGF0ZWQgY29tcG9uZW50cyBhcmUgcmVnaXN0ZXJkIHRvZ2V0aGVyIHdpdGggYWN0aW9uLWJhciBkaXJlY3RpdmVzLlxuZnVuY3Rpb24gcmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cygpIHtcbiAgICBpZiAoIWdsb2JhbC5fX25nUmVnaXN0ZXJlZFZpZXdzKSB7XG4gICAgICAgIGdsb2JhbC5fX25nUmVnaXN0ZXJlZFZpZXdzID0gdHJ1ZTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdBYnNvbHV0ZUxheW91dCcsICgpID0+IEFic29sdXRlTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdBY3Rpdml0eUluZGljYXRvcicsICgpID0+IEFjdGl2aXR5SW5kaWNhdG9yKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdCdXR0b24nLCAoKSA9PiBCdXR0b24sIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQ29udGVudFZpZXcnLCAoKSA9PiBDb250ZW50Vmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRGF0ZVBpY2tlcicsICgpID0+IERhdGVQaWNrZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0RvY2tMYXlvdXQnLCAoKSA9PiBEb2NrTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdGcmFtZScsICgpID0+IEZyYW1lLCBmcmFtZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0dyaWRMYXlvdXQnLCAoKSA9PiBHcmlkTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdIdG1sVmlldycsICgpID0+IEh0bWxWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdJbWFnZScsICgpID0+IEltYWdlKTtcbiAgICAgICAgLy8gUGFyc2U1IGNoYW5nZXMgPEltYWdlPiB0YWdzIHRvIDxpbWc+LiBXVEYhXG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnaW1nJywgKCkgPT4gSW1hZ2UpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0xhYmVsJywgKCkgPT4gTGFiZWwsIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnTGlzdFBpY2tlcicsICgpID0+IExpc3RQaWNrZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0xpc3RWaWV3JywgKCkgPT4gTGlzdFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1BhZ2UnLCAoKSA9PiBQYWdlKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQbGFjZWhvbGRlcicsICgpID0+IFBsYWNlaG9sZGVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQcm9ncmVzcycsICgpID0+IFByb2dyZXNzKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQcm94eVZpZXdDb250YWluZXInLCAoKSA9PiBQcm94eVZpZXdDb250YWluZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1JlcGVhdGVyJywgKCkgPT4gUmVwZWF0ZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Jvb3RMYXlvdXQnLCAoKSA9PiBSb290TGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTY3JvbGxWaWV3JywgKCkgPT4gU2Nyb2xsVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2VhcmNoQmFyJywgKCkgPT4gU2VhcmNoQmFyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTZWdtZW50ZWRCYXInLCAoKSA9PiBTZWdtZW50ZWRCYXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NlZ21lbnRlZEJhckl0ZW0nLCAoKSA9PiBTZWdtZW50ZWRCYXJJdGVtKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTbGlkZXInLCAoKSA9PiBTbGlkZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1N0YWNrTGF5b3V0JywgKCkgPT4gU3RhY2tMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0ZsZXhib3hMYXlvdXQnLCAoKSA9PiBGbGV4Ym94TGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTd2l0Y2gnLCAoKSA9PiBTd2l0Y2gpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RhYlZpZXcnLCAoKSA9PiBUYWJWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUZXh0RmllbGQnLCAoKSA9PiBUZXh0RmllbGQsIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGV4dFZpZXcnLCAoKSA9PiBUZXh0VmlldywgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUaW1lUGlja2VyJywgKCkgPT4gVGltZVBpY2tlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnV2ViVmlldycsICgpID0+IFdlYlZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1dyYXBMYXlvdXQnLCAoKSA9PiBXcmFwTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdGb3JtYXR0ZWRTdHJpbmcnLCAoKSA9PiBGb3JtYXR0ZWRTdHJpbmcsIGZvcm1hdHRlZFN0cmluZ01ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NwYW4nLCAoKSA9PiBTcGFuKTtcbiAgICB9XG59XG5cbi8vIE5vdGU6IHRoaXMgdXRpbGl0eSBleGlzdHMgZnJvbSBkZWVwIGNvcmUgaW1wb3J0IGhvd2V2ZXIgcmVzdWx0cyBpblxuLy8gTW9kdWxlIG5vdCBmb3VuZDogRXJyb3I6IENhbid0IHJlc29sdmUgJ0BuYXRpdmVzY3JpcHQvY29yZS91aS9jb3JlL3Byb3BlcnRpZXMnXG5mdW5jdGlvbiBpc0Nzc1ZhcmlhYmxlKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIC9eLS1bXixcXHNdKz8kLy50ZXN0KHByb3BlcnR5KTtcbn1cbmNvbnN0IEVMRU1FTlRfTk9ERV9UWVBFID0gMTtcbmNvbnN0IFhNTF9BVFRSSUJVVEVTID0gT2JqZWN0LmZyZWV6ZShbJ3N0eWxlJywgJ3Jvd3MnLCAnY29sdW1ucycsICdmb250QXR0cmlidXRlcyddKTtcbmNvbnN0IHdoaXRlU3BhY2VTcGxpdHRlciA9IC9cXHMrLztcbmZ1bmN0aW9uIHByaW50TmdUcmVlKHZpZXcpIHtcbiAgICBsZXQgcGFyZW50ID0gdmlldztcbiAgICB3aGlsZSAocGFyZW50LnBhcmVudCAmJiBwYXJlbnQucGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcHJpbnRDaGlsZHJlblJlY3Vyc2UocGFyZW50KTtcbn1cbmZ1bmN0aW9uIHByaW50Q2hpbGRyZW5SZWN1cnNlKHBhcmVudCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50LmZpcnN0Q2hpbGQgPyBbcGFyZW50LmZpcnN0Q2hpbGQsIC4uLmdldENoaWxkcmVuU2libGluZ3MocGFyZW50LmZpcnN0Q2hpbGQpLm5leHRTaWJsaW5nc10gOiBbXTtcbiAgICBjb25zb2xlLmxvZyhgcGFyZW50OiAke3BhcmVudH0sIGZpcnN0Q2hpbGQ6ICR7cGFyZW50LmZpcnN0Q2hpbGR9LCBsYXN0Q2hpbGQ6ICR7cGFyZW50Lmxhc3RDaGlsZH0gY2hpbGRyZW46ICR7Y2hpbGRyZW59YCk7XG4gICAgaWYgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAtLS0tLSBzdGFydCAke3BhcmVudH1gKTtcbiAgICB9XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4gcHJpbnRDaGlsZHJlblJlY3Vyc2UoYykpO1xuICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgLS0tLS0gZW5kICR7cGFyZW50fWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENoaWxkcmVuU2libGluZ3Modmlldykge1xuICAgIGNvbnN0IG5leHRTaWJsaW5ncyA9IFtdO1xuICAgIGNvbnN0IHByZXZpb3VzU2libGluZ3MgPSBbXTtcbiAgICBsZXQgc2libGluZyA9IHZpZXcubmV4dFNpYmxpbmc7XG4gICAgd2hpbGUgKHNpYmxpbmcpIHtcbiAgICAgICAgbmV4dFNpYmxpbmdzLnB1c2goc2libGluZyk7XG4gICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBzaWJsaW5nID0gdmlldy5wcmV2aW91c1NpYmxpbmc7XG4gICAgd2hpbGUgKHNpYmxpbmcpIHtcbiAgICAgICAgcHJldmlvdXNTaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xuICAgICAgICBzaWJsaW5nID0gc2libGluZy5wcmV2aW91c1NpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByZXZpb3VzU2libGluZ3MsXG4gICAgICAgIG5leHRTaWJsaW5ncyxcbiAgICB9O1xufVxuZnVuY3Rpb24gcHJpbnRTaWJsaW5nc1RyZWUodmlldykge1xuICAgIGNvbnN0IHsgcHJldmlvdXNTaWJsaW5ncywgbmV4dFNpYmxpbmdzIH0gPSBnZXRDaGlsZHJlblNpYmxpbmdzKHZpZXcpO1xuICAgIGNvbnNvbGUubG9nKGAke3ZpZXd9IHByZXZpb3VzU2libGluZ3M6ICR7cHJldmlvdXNTaWJsaW5nc30gbmV4dFNpYmxpbmdzOiAke25leHRTaWJsaW5nc31gKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5jb25zdCBwcm9wZXJ0eU1hcHMgPSBuZXcgTWFwKCk7XG5jbGFzcyBWaWV3VXRpbCB7XG4gICAgY29uc3RydWN0b3IobmFtZXNwYWNlRmlsdGVycywgcmV1c2VWaWV3cykge1xuICAgICAgICB0aGlzLm5hbWVzcGFjZUZpbHRlcnMgPSBuYW1lc3BhY2VGaWx0ZXJzO1xuICAgICAgICB0aGlzLnJldXNlVmlld3MgPSByZXVzZVZpZXdzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgY2hpbGQgaW50byBhIHBhcnJlbnQsIHByZWZlcmFibHkgYmVmb3JlIG5leHQuXG4gICAgICogQHBhcmFtIHBhcmVudCBwYXJlbnQgdmlld1xuICAgICAqIEBwYXJhbSBjaGlsZCBjaGlsZCB2aWV3IHRvIGJlIGFkZGVkXG4gICAgICogQHBhcmFtIHByZXZpb3VzIHByZXZpb3VzIGVsZW1lbnQuIElmIHByZXNlbnQsIGluc2VydCBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSBuZXh0IG5leHQgZWxlbWVudC4gSWYgcHJlc2VudCwgaW5zZXJ0IGJlZm9yZSB0aGlzIChwcmV2aW91cyBpcyBpZ25vcmVkKS5cbiAgICAgKi9cbiAgICBpbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBwcmV2aW91cywgbmV4dCkge1xuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUGFyZW50ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHBhcmVudCk7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkQ2hpbGQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMoY2hpbGQpO1xuICAgICAgICAvLyB0aGlzIHNob3VsZCBuZXZlciBlbnRlciwgYXMgYW5ndWxhciBpcyBzdXBwb3NlZCB0byByZW1vdmUgdGhlIGNoaWxkIGZyb20gdGhlIHByZXZpb3VzIHBhcmVudCBiZWZvcmUgY2FsbGluZyB0aGlzXG4gICAgICAgIC8vIGJ1dCB3aGVuIGFuZ3VsYXIgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCwgdGhlIHJlbW92YWwgbWlnaHQgYmUgZGVsYXllZCwgc28gd2UgbmVlZCB0byBlbnN1cmUgdGhpcyB2aWV3IGlzIG5vdCBhbnl3aGVyZVxuICAgICAgICAvLyB0aGlzIHNlZW1zIHRvIG9ubHkgaGFwcGVucyB0byBDb21tZW50Tm9kZXNcbiAgICAgICAgaWYgKGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChleHRlbmRlZENoaWxkLnBhcmVudE5vZGUsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBuZXh0IGNoaWxkLCBwcmV2aW91cyBpcyB0aGUgcHJldmlvdXNTaWJsaW5nIG9mIGl0XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IG5leHQucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGEgcHJldmlvdXMsIG5leHQgaXMgdGhlIG5leHRTaWJsaW5nIG9mIGl0XG4gICAgICAgICAgICBuZXh0ID0gcHJldmlvdXMubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBwcmV2aW91cyBvciBuZXh0LCBhcHBlbmQgdG8gdGhlIHBhcmVudFxuICAgICAgICAgICAgcHJldmlvdXMgPSBleHRlbmRlZFBhcmVudC5sYXN0Q2hpbGQ7IC8vIHRoaXMgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCBpZiB0aGUgcGFyZW50IGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc2VydEluTGlzdChleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCwgcHJldmlvdXMsIG5leHQpO1xuICAgICAgICBpZiAoaXNEZXRhY2hlZEVsZW1lbnQoY2hpbGQpIHx8IGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSA9IGV4dGVuZGVkUGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNEZXRhY2hlZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VmlzdWFsID0gdGhpcy5maW5kTmV4dFZpc3VhbChuZXh0KTtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9WaXN1YWxUcmVlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkLCBuZXh0VmlzdWFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ludmlzaWJsZU5vZGUoZXh0ZW5kZWRDaGlsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRWaXN1YWwgPSB0aGlzLmZpbmROZXh0VmlzdWFsKG5leHQpO1xuICAgICAgICAgICAgdGhpcy5hZGRJbnZpc2libGVOb2RlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkLCBuZXh0VmlzdWFsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmludE5nVHJlZShleHRlbmRlZENoaWxkKTtcbiAgICB9XG4gICAgaW5zZXJ0QmVmb3JlKHBhcmVudCwgY2hpbGQsIHJlZkNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUmVmID0gcmVmQ2hpbGQgPyB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocmVmQ2hpbGQpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIHVuZGVmaW5lZCwgZXh0ZW5kZWRSZWYpO1xuICAgIH1cbiAgICBpbnNlcnRBZnRlcihwYXJlbnQsIGNoaWxkLCByZWZDaGlsZCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFJlZiA9IHJlZkNoaWxkID8gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHJlZkNoaWxkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBleHRlbmRlZFJlZik7XG4gICAgfVxuICAgIGFwcGVuZENoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIHZpZXcgaW50byB0aGUgcGFyZW50L3NpYmxpbmcgbGlua2VkIGxpc3RcbiAgICAgKiAhV0FSTklORzogdGhpcyBtZXRob2QgbWFrZXMgbm8gY2hlY2tzIHRvIHZhbGlkYXRlIHRoZSBpbnRlZ3JpdHkgb2YgcHJldmlvdXMvbmV4dCBjaGlsZHJlblxuICAgICAqIEBwYXJhbSBwYXJlbnQgcGFyZW50IHZpZXdcbiAgICAgKiBAcGFyYW0gY2hpbGQgY2hpbGQgdmlld1xuICAgICAqIEBwYXJhbSBwcmV2aW91cyBwcmV2aW91cyBlbGVtZW50LiBudWxsL3VuZGVmaW5lZCBmb3IgZmlyc3QgZWxlbWVudFxuICAgICAqIEBwYXJhbSBuZXh0IG5leHQgZWxlbWVudC4gbnVsbC91bmRlZmluZWQgZm9yIGxhc3QgZWxlbWVudFxuICAgICAqL1xuICAgIGluc2VydEluTGlzdChwYXJlbnQsIGNoaWxkLCBwcmV2aW91cywgbmV4dCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5pbnNlcnRJbkxpc3QgcGFyZW50OiAke3BhcmVudH0sIHZpZXc6ICR7Y2hpbGR9LCBgICsgYHByZXZpb3VzOiAke3ByZXZpb3VzfSwgbmV4dDogJHtuZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgICAgIGNoaWxkLnByZXZpb3VzU2libGluZyA9IHByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LmZpcnN0Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgY2hpbGQubmV4dFNpYmxpbmcgPSBuZXh0O1xuICAgICAgICAgICAgbmV4dC5wcmV2aW91c1NpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5sYXN0Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUb1Zpc3VhbFRyZWUocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5hZGRUb1Zpc3VhbFRyZWUgcGFyZW50OiAke3BhcmVudH0sIHZpZXc6ICR7Y2hpbGR9LCBuZXh0OiAke25leHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudC5tZXRhICYmIHBhcmVudC5tZXRhLmluc2VydENoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydFRvTGF5b3V0KHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSkge1xuICAgICAgICAgICAgcGFyZW50LmNvbnRlbnQgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJlbnQgJiYgcGFyZW50Ll9hZGRDaGlsZEZyb21CdWlsZGVyKSB7XG4gICAgICAgICAgICBwYXJlbnQuX2FkZENoaWxkRnJvbUJ1aWxkZXIoY2hpbGQubm9kZU5hbWUsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5tZXRhPy5pbnNlcnRJbnZpc2libGVOb2RlKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5pbnNlcnRJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVGV4dE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQudGV4dCA9IGNoaWxkLnRleHQ7XG4gICAgICAgICAgICAgICAgY2hpbGQucmVnaXN0ZXJUZXh0Q2hhbmdlKCh0KSA9PiAocGFyZW50LnRleHQgPSB0KSwgcGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnNlcnRUb0xheW91dChwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMYXlvdXRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0VmlzdWFsID0gdGhpcy5maW5kTmV4dFZpc3VhbChuZXh0KTtcbiAgICAgICAgaWYgKG5leHRWaXN1YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmdldENoaWxkSW5kZXgobmV4dFZpc3VhbCk7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0Q2hpbGQoY2hpbGQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyZW50LmVhY2hDaGlsZCgoYykgPT4ge2NvbnNvbGUubG9nKGMpOyByZXR1cm4gdHJ1ZX0pO1xuICAgIH1cbiAgICBmaW5kTmV4dFZpc3VhbCh2aWV3KSB7XG4gICAgICAgIGxldCBuZXh0ID0gdmlldztcbiAgICAgICAgd2hpbGUgKG5leHQgJiYgaXNEZXRhY2hlZEVsZW1lbnQobmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUNoaWxkIHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0ZW5kZWRQYXJlbnQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocGFyZW50KTtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRDaGlsZCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhjaGlsZCk7XG4gICAgICAgIGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVtb3ZlRnJvbUxpc3QoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICBpZiAoIWlzRGV0YWNoZWRFbGVtZW50KGV4dGVuZGVkQ2hpbGQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21WaXN1YWxUcmVlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ludmlzaWJsZU5vZGUoZXh0ZW5kZWRDaGlsZCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSW52aXNpYmxlTm9kZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRnJvbUxpc3QocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVGcm9tTGlzdCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IGNoaWxkLiBudWxsIGV2ZXJ5dGhpbmdcbiAgICAgICAgaWYgKHBhcmVudC5maXJzdENoaWxkID09PSBjaGlsZCAmJiBwYXJlbnQubGFzdENoaWxkID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50LmZpcnN0Q2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgcGFyZW50Lmxhc3RDaGlsZCA9IG51bGw7XG4gICAgICAgICAgICBjaGlsZC5uZXh0U2libGluZyA9IG51bGw7XG4gICAgICAgICAgICBjaGlsZC5wcmV2aW91c1NpYmxpbmcgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gY2hpbGQucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICBjb25zdCBuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIC8vIGlzIGZpcnN0IGNoaWxkLCBtYWtlIHRoZSBuZXh0IHNpYmxpbmcgdGhlIGZpcnN0IGNoaWxkIChjYW4gYmUgbnVsbClcbiAgICAgICAgaWYgKHBhcmVudC5maXJzdENoaWxkID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50LmZpcnN0Q2hpbGQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGlzIGxhc3QgY2hpbGQsIG1ha2UgdGhlIHByZXZpb3VzIHNpYmxpbmcgdGhlIGxhc3QgY2hpbGQgKGNhbiBiZSBudWxsKVxuICAgICAgICBpZiAocGFyZW50Lmxhc3RDaGlsZCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5sYXN0Q2hpbGQgPSBwcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBoYXZlIGEgcHJldmlvdXMgc2libGluZywgbWFrZSBpdCBwb2ludCB0byB0aGUgbmV4dCBzaWJsaW5nXG4gICAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dFNpYmxpbmcgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGhhdmUgYSBuZXh0IHNpYmxpbmcsIG1ha2UgaXQgcG9pbnQgdG8gdGhlIHByZXZpb3VzXG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBuZXh0LnByZXZpb3VzU2libGluZyA9IHByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbmFsbHksIG51bGwgdGhlIHNpYmxpbmdzXG4gICAgICAgIGNoaWxkLm5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nID0gbnVsbDtcbiAgICB9XG4gICAgLy8gTk9URTogVGhpcyBvbmUgaXMgTyhuKSAtIHVzZSBjYXJlZnVsbHlcbiAgICBmaW5kUHJldmlvdXNFbGVtZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwuZmluZFByZXZpb3VzRWxlbWVudCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJldmlvdXNWaXN1YWw7XG4gICAgICAgIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICBwcmV2aW91c1Zpc3VhbCA9IHRoaXMuZ2V0UHJldmlvdXNWaXN1YWxFbGVtZW50KHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcmV2aW91cyA9IHByZXZpb3VzVmlzdWFsIHx8IHBhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAvLyBzaW5jZSBkZXRhY2hlZCBlbGVtZW50cyBhcmUgbm90IGFkZGVkIHRvIHRoZSB2aXN1YWwgdHJlZSxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBmaW5kIHRoZSBhY3R1YWwgcHJldmlvdXMgc2libGluZyBvZiB0aGUgdmlldyxcbiAgICAgICAgLy8gd2hpY2ggbWF5IGFzIHdlbGwgYmUgYW4gaW52aXNpYmxlIG5vZGVcbiAgICAgICAgd2hpbGUgKHByZXZpb3VzICYmIHByZXZpb3VzICE9PSBjaGlsZCAmJiBwcmV2aW91cy5uZXh0U2libGluZyAhPT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzID0gcHJldmlvdXMubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgIH1cbiAgICBnZXRQcmV2aW91c1Zpc3VhbEVsZW1lbnQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBjb25zdCBlbGVtZW50SW5kZXggPSBwYXJlbnQuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIGlmIChlbGVtZW50SW5kZXggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LmdldENoaWxkQXQoZWxlbWVudEluZGV4IC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTk9URTogVGhpcyBvbmUgaXMgTyhuKSAtIHVzZSBjYXJlZnVsbHlcbiAgICBnZXRDaGlsZEluZGV4KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQgPT09IHBhcmVudC5jb250ZW50ID8gMCA6IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUZyb21WaXN1YWxUcmVlKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlRnJvbVZpc3VhbFRyZWUgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudC5tZXRhICYmIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxheW91dENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSAmJiBwYXJlbnQuY29udGVudCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5jb250ZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcocGFyZW50KSkge1xuICAgICAgICAgICAgcGFyZW50Ll9yZW1vdmVWaWV3KGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5tZXRhPy5yZW1vdmVJbnZpc2libGVOb2RlKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5yZW1vdmVJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVGV4dE5vZGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC51bnJlZ2lzdGVyVGV4dENoYW5nZShwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUxheW91dENoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlTGF5b3V0Q2hpbGQgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlQ29tbWVudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbW1lbnROb2RlKHZhbHVlKTtcbiAgICB9XG4gICAgY3JlYXRlVGV4dCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHROb2RlKHZhbHVlKTtcbiAgICB9XG4gICAgY3JlYXRlVmlldyhuYW1lKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IG5hbWU7XG4gICAgICAgIGlmICghaXNLbm93blZpZXcobmFtZSkpIHtcbiAgICAgICAgICAgIG5hbWUgPSAnUHJveHlWaWV3Q29udGFpbmVyJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBDcmVhdGluZyB2aWV3OiAke29yaWdpbmFsTmFtZX0gJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdDbGFzcyA9IGdldFZpZXdDbGFzcyhuYW1lKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyB2aWV3Q2xhc3MoKTtcbiAgICAgICAgY29uc3QgbmdWaWV3ID0gdGhpcy5zZXROZ1ZpZXdFeHRlbnNpb25zKHZpZXcsIG5hbWUpO1xuICAgICAgICBuZ1ZpZXcucmV1c2FibGUgPSAhIXRoaXMucmV1c2VWaWV3cztcbiAgICAgICAgcmV0dXJuIG5nVmlldztcbiAgICB9XG4gICAgZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyh2aWV3KSB7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2aWV3LCAnbWV0YScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB2aWV3LmNzc1R5cGUgfHwgdmlldy50eXBlTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IG5nVmlldyA9IHRoaXMuc2V0TmdWaWV3RXh0ZW5zaW9ucyh2aWV3LCBuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBuZ1ZpZXc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0TmdWaWV3RXh0ZW5zaW9ucyh2aWV3LCBuYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYE1ha2UgaW50byBhIE5nVmlldyB2aWV3OiAke3ZpZXd9IG5hbWU6IFwiJHtuYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmdWaWV3ID0gdmlldztcbiAgICAgICAgbmdWaWV3Lm5vZGVOYW1lID0gbmFtZTtcbiAgICAgICAgbmdWaWV3Lm1ldGEgPSBnZXRWaWV3TWV0YShuYW1lKTtcbiAgICAgICAgLy8gd2UncmUgc2V0dGluZyB0aGUgbm9kZSB0eXBlIG9mIHRoZSB2aWV3XG4gICAgICAgIC8vIHRvICdlbGVtZW50JyBiZWNhdXNlIG9mIGNoZWNrcyBkb25lIGluIHRoZVxuICAgICAgICAvLyBkb20gYW5pbWF0aW9uIGVuZ2luZVxuICAgICAgICBuZ1ZpZXcubm9kZVR5cGUgPSBFTEVNRU5UX05PREVfVFlQRTtcbiAgICAgICAgcmV0dXJuIG5nVmlldztcbiAgICB9XG4gICAgc2V0UHJvcGVydHkodmlldywgYXR0cmlidXRlTmFtZSwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIXZpZXcgfHwgKG5hbWVzcGFjZSAmJiAhdGhpcy5ydW5zSW4obmFtZXNwYWNlKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgbmVzdGVkIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhdHRyaWJ1dGVOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gcHJvcGVydGllc1twcm9wZXJ0aWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IHByb3BNYXAgPSB0aGlzLmdldFByb3BlcnRpZXModmlldyk7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IHByb3BlcnRpZXMubGVuZ3RoIC0gMSAmJiB0eXBlb2YgdmlldyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcCA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHByb3BNYXAuaGFzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBwcm9wTWFwLmdldChwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlldyA9IHZpZXdbcHJvcF07XG4gICAgICAgICAgICAgICAgcHJvcE1hcCA9IHRoaXMuZ2V0UHJvcGVydGllcyh2aWV3KTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2aWV3ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eUludGVybmFsKHZpZXcsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBydW5zSW4ocGxhdGZvcm0pIHtcbiAgICAgICAgbGV0IHJ1bnMgPSB0cnVlO1xuICAgICAgICBjb25zdCBsYXN0ID0gKCkgPT4gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMubmFtZXNwYWNlRmlsdGVycykge1xuICAgICAgICAgICAgbGV0IGNoYWluID0gKHApID0+IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5uYW1lc3BhY2VGaWx0ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENoYWluID0gY2hhaW47XG4gICAgICAgICAgICAgICAgY2hhaW4gPSAocCkgPT4gdGhpcy5uYW1lc3BhY2VGaWx0ZXJzW2ldLnJ1bnNJbihwLCBjdXJyZW50Q2hhaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVucyA9IGNoYWluKHBsYXRmb3JtKTtcbiAgICAgICAgICAgIHJ1bnMgPSBydW5zICE9PSBmYWxzZSA/IHRydWUgOiBmYWxzZTsgLy8gdW5kZWZpbmVkIG1lYW5zIHRydWVcbiAgICAgICAgICAgIC8vIHRoaXMubmFtZXNwYWNlRmlsdGVycy5zb21lKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgIC8vIFx0Y29uc3QgcnVuc0luRmlsdGVyID0gZmlsdGVyLnJ1bnNJbihwbGF0Zm9ybSk7XG4gICAgICAgICAgICAvLyBcdGlmIChydW5zSW5GaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gXHRcdHJ1bnMgPSBydW5zSW5GaWx0ZXI7XG4gICAgICAgICAgICAvLyBcdFx0cmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBcdH1cbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5zO1xuICAgIH1cbiAgICBzZXRQcm9wZXJ0eUludGVybmFsKHZpZXcsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFNldHRpbmcgYXR0cmlidXRlOiAke2F0dHJpYnV0ZU5hbWV9PSR7dmFsdWV9IHRvICR7dmlld31gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgdGhpcy5zZXRDbGFzc2VzKHZpZXcsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoWE1MX0FUVFJJQlVURVMuaW5kZXhPZihhdHRyaWJ1dGVOYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHZpZXdbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9wTWFwID0gdGhpcy5nZXRQcm9wZXJ0aWVzKHZpZXcpO1xuICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wTWFwLmdldChhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBjaGlsZHJlbiBvZiBhIGNvbGxlY3Rpb24gY3VycmVudGx5IGhhdmUgbm8gcGFyZW50IHNldC5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVBhcmVudFJlZmVyZW5jZXNGcm9tSXRlbXModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBsb3dlci11cHBlciBjYXNlIG1hcHBlZCBwcm9wZXJ0eS5cbiAgICAgICAgICAgIHZpZXdbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVua25vd24gYXR0cmlidXRlIHZhbHVlIC0tIGp1c3Qgc2V0IGl0IHRvIG91ciBvYmplY3QgYXMgaXMuXG4gICAgICAgIHZpZXdbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmVtb3ZlUGFyZW50UmVmZXJlbmNlc0Zyb21JdGVtcyhpdGVtcykge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudCAmJiBpdGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFVuYXNzaWduaW5nIHBhcmVudCAke2l0ZW0ucGFyZW50Tm9kZX0gb24gdmFsdWU6ICR7aXRlbX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbS5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaXRlbS5wYXJlbnROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldFByb3BlcnRpZXMoaW5zdGFuY2UpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGluc3RhbmNlICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9wZXJ0eU1hcHMuaGFzKHR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOmZvcmluXG4gICAgICAgICAgICAgICAgcHJvcE1hcC5zZXQocHJvcE5hbWUudG9Mb3dlckNhc2UoKSwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcGVydHlNYXBzLnNldCh0eXBlLCBwcm9wTWFwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcGVydHlNYXBzLmdldCh0eXBlKTtcbiAgICB9XG4gICAgY3NzQ2xhc3Nlcyh2aWV3KSB7XG4gICAgICAgIGlmICghdmlldy5uZ0Nzc0NsYXNzZXMpIHtcbiAgICAgICAgICAgIHZpZXcubmdDc3NDbGFzc2VzID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3Lm5nQ3NzQ2xhc3NlcztcbiAgICB9XG4gICAgYWRkQ2xhc3ModmlldywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkVmlldyA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyh2aWV3KTtcbiAgICAgICAgdGhpcy5jc3NDbGFzc2VzKGV4dGVuZGVkVmlldykuc2V0KGNsYXNzTmFtZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc3luY0NsYXNzZXMoZXh0ZW5kZWRWaWV3KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2xhc3ModmlldywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkVmlldyA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyh2aWV3KTtcbiAgICAgICAgdGhpcy5jc3NDbGFzc2VzKGV4dGVuZGVkVmlldykuZGVsZXRlKGNsYXNzTmFtZSk7XG4gICAgICAgIHRoaXMuc3luY0NsYXNzZXMoZXh0ZW5kZWRWaWV3KTtcbiAgICB9XG4gICAgc2V0Q2xhc3Nlcyh2aWV3LCBjbGFzc2VzVmFsdWUpIHtcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IGNsYXNzZXNWYWx1ZS5zcGxpdCh3aGl0ZVNwYWNlU3BsaXR0ZXIpO1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXModmlldykuY2xlYXIoKTtcbiAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKChjbGFzc05hbWUpID0+IHRoaXMuY3NzQ2xhc3Nlcyh2aWV3KS5zZXQoY2xhc3NOYW1lLCB0cnVlKSk7XG4gICAgICAgIHRoaXMuc3luY0NsYXNzZXModmlldyk7XG4gICAgfVxuICAgIHN5bmNDbGFzc2VzKHZpZXcpIHtcbiAgICAgICAgY29uc3QgY2xhc3NWYWx1ZSA9IEFycmF5LmZyb20odGhpcy5jc3NDbGFzc2VzKHZpZXcpLmtleXMoKSkuam9pbignICcpO1xuICAgICAgICB2aWV3LmNsYXNzTmFtZSA9IGNsYXNzVmFsdWU7XG4gICAgfVxuICAgIHNldFN0eWxlKHZpZXcsIHN0eWxlTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQ3NzVmFyaWFibGUoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgdmlldy5zdHlsZS5zZXRVbnNjb3BlZENzc1ZhcmlhYmxlKHN0eWxlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgdmlldy5fb25Dc3NTdGF0ZUNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlldy5zdHlsZVtzdHlsZU5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlU3R5bGUodmlldywgc3R5bGVOYW1lKSB7XG4gICAgICAgIGlmIChpc0Nzc1ZhcmlhYmxlKHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGV4cG9zZSB0aGlzIG9uIGNvcmVcbiAgICAgICAgICAgIHZpZXcuc3R5bGUudW5zY29wZWRDc3NWYXJpYWJsZXMuZGVsZXRlKHN0eWxlTmFtZSk7XG4gICAgICAgICAgICB2aWV3Ll9vbkNzc1N0YXRlQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3LnN0eWxlW3N0eWxlTmFtZV0gPSB1bnNldFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgdmlld1V0aWwgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgX19wcm90b19fOiBudWxsLFxuICAgIFZpZXdVdGlsOiBWaWV3VXRpbFxufSk7XG5cbmNvbnN0IGFkZFN0eWxlVG9Dc3MgPSBwcm9maWxlKCdcInJlbmRlcmVyXCIuYWRkU3R5bGVUb0NzcycsIGZ1bmN0aW9uIGFkZFN0eWxlVG9Dc3Moc3R5bGUsIHRhZykge1xuICAgIGlmICh0YWcpIHtcbiAgICAgICAgYWRkVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZSwgdGFnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLmFkZENzcyhzdHlsZSk7XG4gICAgfVxufSk7XG5mdW5jdGlvbiBydW5JblJvb3Rab25lKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBab25lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gICAgcmV0dXJuIFpvbmUucm9vdC5ydW4oZm4pO1xufVxuZnVuY3Rpb24gaW5Sb290Wm9uZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkRnVuY3Rpb24gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gY2hpbGRGdW5jdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkluUm9vdFpvbmUoKCkgPT4gZm4oLi4uYXJncykpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9O1xufVxubGV0IE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSA9IGNsYXNzIE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3Iocm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHJvb3RNb2R1bGVJRCwgcmV1c2VWaWV3cykge1xuICAgICAgICB0aGlzLnJvb3RWaWV3ID0gcm9vdFZpZXc7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlRmlsdGVycyA9IG5hbWVzcGFjZUZpbHRlcnM7XG4gICAgICAgIHRoaXMucm9vdE1vZHVsZUlEID0gcm9vdE1vZHVsZUlEO1xuICAgICAgICB0aGlzLnJldXNlVmlld3MgPSByZXVzZVZpZXdzO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFJlbmRlcmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBSYWRMaXN0Vmlld1xuICAgICAgICB0aGlzLnZpZXdVdGlsID0gbmV3IFZpZXdVdGlsKHRoaXMubmFtZXNwYWNlRmlsdGVycywgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJldXNlVmlld3MgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gZmFsc2U7IC8vIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRSZW5kZXJlciA9IG5ldyBOYXRpdmVTY3JpcHRSZW5kZXJlcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICB9XG4gICAgY3JlYXRlUmVuZGVyZXIoaG9zdEVsZW1lbnQsIHR5cGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIgJHtob3N0RWxlbWVudH0uIHR5cGUuaWQ6ICR7dHlwZS5pZH0gdHlwZS5lbmNhcHN1bGF0aW9uOiAke3R5cGUuZW5jYXBzdWxhdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhvc3RFbGVtZW50IHx8ICF0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0UmVuZGVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlbmRlcmVyID0gdGhpcy5jb21wb25lbnRSZW5kZXJlcnMuZ2V0KHR5cGUuaWQpO1xuICAgICAgICAvKipcbiAgICAgICAgICohIFdBUk5JTkdcbiAgICAgICAgICohIFdlJ3JlIHJldXNpbmcgdGhlIHJlbmRlcmVyIGZvciB0aGUgY29tcG9uZW50c1xuICAgICAgICAgKiEgdGhpcyBtaWdodCBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yIGFzIHRoZSBcInJvb3RWaWV3XCIgaXMgYW4gYXJiaXRyYXJ5IGhvc3RFbGVtZW50XG4gICAgICAgICAqISBhbHNvLCB0aGUgcmVuZGVyZXIgaGFzIGl0J3MgLmRlc3Ryb3koKSBjYWxsZWQhXG4gICAgICAgICAqISBtaWdodCBiZSB1c2VmdWwgdG8gY3JlYXRlIGEgQmFzZUVtdWxhdGVkUmVuZGVyIGFuZCBhIFByb3h5RW11bGF0ZWRSZW5kZXJcbiAgICAgICAgICohIGV2ZXJ5IGNvbXBvbmVudCB0eXBlIGdldHMgYSBCYXNlRW11bGF0ZWRSZW5kZXIgKHNpbmdsZXRvbikgd2hpY2ggaXMgcGFzc2VkIHRvIFByb3h5RW11bGF0ZWRSZW5kZXJcbiAgICAgICAgICohIFByb3h5RW11bGF0ZWRSZW5kZXJlciByZWdpc3RlcnMgd2l0aCBCYXNlRW11bGF0ZWRSZW5kZXIgc28gd2UgY2FuIGNsZWFuIHVwIHRoaW5ncyBsaWtlIENTUyB3aGVuIGl0J3Mgbm90IG5lZWRlZFxuICAgICAgICAgKiEgdGhpcyBtaWdodCBiZSB1c2VmdWwgaWYgd2UgZmluZCBhIHdheSB0byBITVIgY29tcG9uZW50IHN0eWxpbmcgd2l0aG91dCBhIGZ1bGwgcmVib290c3RyYXBcbiAgICAgICAgICovXG4gICAgICAgIGlmIChyZW5kZXJlcikge1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVyIGluc3RhbmNlb2YgRW11bGF0ZWRSZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmFwcGx5VG9Ib3N0KGhvc3RFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZS5lbmNhcHN1bGF0aW9uID09PSBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lKSB7XG4gICAgICAgICAgICB0eXBlLnN0eWxlcy5tYXAoKHMpID0+IHMudG9TdHJpbmcoKSkuZm9yRWFjaCgodikgPT4gYWRkU3R5bGVUb0Nzcyh2LCB0aGlzLnJvb3RNb2R1bGVJRCkpO1xuICAgICAgICAgICAgcmVuZGVyZXIgPSB0aGlzLmRlZmF1bHRSZW5kZXJlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyID0gbmV3IEVtdWxhdGVkUmVuZGVyZXIodHlwZSwgaG9zdEVsZW1lbnQsIHRoaXMubmFtZXNwYWNlRmlsdGVycywgdGhpcy5yb290TW9kdWxlSUQsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgICAgICAgICByZW5kZXJlci5hcHBseVRvSG9zdChob3N0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRSZW5kZXJlcnMuc2V0KHR5cGUuaWQsIHJlbmRlcmVyKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgICAvLyBiZWdpbj8oKTogdm9pZCB7XG4gICAgLy8gICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIC8vIH1cbiAgICAvLyBlbmQ/KCk6IHZvaWQge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICAvLyB9XG4gICAgd2hlblJlbmRlcmluZ0RvbmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5yb290Vmlldykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGludGVydmFsID0gMDtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmVzb2x2ZSgpIHtcbiAgICAgICAgICAgICAgICAvLyBpT1MgcmVhbGx5IGhhdGVzIHN5bmNocm9ub3VzIHRoaW5ncy4uLlxuICAgICAgICAgICAgICAgIC8vIFV0aWxzLnF1ZXVlTWFjcm90YXNrKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZmlyZVdoZW5Mb2FkZWQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IHJvb3RGYWN0b3J5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2aWV3Lm9uY2UoJ2xvYWRlZCcsIHNjaGVkdWxlUmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm9vdEZhY3RvcnkgPSAoKSA9PiAodGhpcy5yb290VmlldyBpbnN0YW5jZW9mIENvbnRlbnRWaWV3ID8gdGhpcy5yb290Vmlldy5jb250ZW50IDogdGhpcy5yb290Vmlldyk7XG4gICAgICAgICAgICBpZiAoIXJvb3RGYWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RGYWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZVdoZW5Mb2FkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpcmVXaGVuTG9hZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG59O1xuTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5ID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJbmplY3QoQVBQX1JPT1RfVklFVykpLFxuICAgIF9fcGFyYW0oMSwgSW5qZWN0KE5BTUVTUEFDRV9GSUxURVJTKSksXG4gICAgX19wYXJhbSgyLCBJbmplY3QoTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEKSksXG4gICAgX19wYXJhbSgzLCBPcHRpb25hbCgpKSxcbiAgICBfX3BhcmFtKDMsIEluamVjdChFTkFCTEVfUkVVU0FCRV9WSUVXUykpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbVmlldywgQXJyYXksIE9iamVjdCwgT2JqZWN0XSlcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSk7XG5jbGFzcyBOYXRpdmVTY3JpcHRSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3Iocm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHJldXNlVmlld3MpIHtcbiAgICAgICAgdGhpcy5yb290VmlldyA9IHJvb3RWaWV3O1xuICAgICAgICB0aGlzLm5hbWVzcGFjZUZpbHRlcnMgPSBuYW1lc3BhY2VGaWx0ZXJzO1xuICAgICAgICB0aGlzLnJldXNlVmlld3MgPSByZXVzZVZpZXdzO1xuICAgICAgICB0aGlzLnZpZXdVdGlsID0gbmV3IFZpZXdVdGlsKHRoaXMubmFtZXNwYWNlRmlsdGVycywgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICAgICAgdGhpcy5kZXN0cm95Tm9kZSA9IChub2RlKSA9PiBydW5JblJvb3Rab25lKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmRlc3Ryb3lOb2RlIG5vZGU6ICR7bm9kZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlPy5kZXN0cm95Tm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGU/LmRlc3Ryb3lOb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coJ05hdGl2ZVNjcmlwdFJlbmRlcmVyLmRlc3Ryb3knKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KG5hbWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQ6ICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2xkTmFtZTtcbiAgICAgICAgaWYgKCFpc0tub3duVmlldyhuYW1lKSkge1xuICAgICAgICAgICAgb2xkTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBuYW1lID0gJ1Byb3h5Vmlld0NvbnRhaW5lcic7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlld1V0aWwuY3JlYXRlVmlldyhuYW1lKTtcbiAgICAgICAgaWYgKG9sZE5hbWUpIHtcbiAgICAgICAgICAgIHZpZXcuY3VzdG9tQ1NTTmFtZSA9IG9sZE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIGNyZWF0ZUNvbW1lbnQodmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5jcmVhdGVDb21tZW50ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1V0aWwuY3JlYXRlQ29tbWVudCh2YWx1ZSk7XG4gICAgfVxuICAgIGNyZWF0ZVRleHQodmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5jcmVhdGVUZXh0ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1V0aWwuY3JlYXRlVGV4dCh2YWx1ZSk7XG4gICAgfVxuICAgIGFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5hcHBlbmRDaGlsZCBjaGlsZDogJHtuZXdDaGlsZH0gcGFyZW50OiAke3BhcmVudH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpO1xuICAgIH1cbiAgICBpbnNlcnRCZWZvcmUocGFyZW50LCBuZXdDaGlsZCwgcmVmQ2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5pbnNlcnRCZWZvcmUgY2hpbGQ6ICR7bmV3Q2hpbGR9IGAgKyBgcGFyZW50OiAke3BhcmVudH0gcmVmQ2hpbGQ6ICR7cmVmQ2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5pbnNlcnRCZWZvcmUocGFyZW50LCBuZXdDaGlsZCwgcmVmQ2hpbGQpO1xuICAgIH1cbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIG9sZENoaWxkLCBpc0hvc3RFbGVtZW50KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlQ2hpbGQgY2hpbGQ6ICR7b2xkQ2hpbGR9IHBhcmVudDogJHtwYXJlbnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVDaGlsZChwYXJlbnQsIG9sZENoaWxkKTtcbiAgICB9XG4gICAgc2VsZWN0Um9vdEVsZW1lbnQoc2VsZWN0b3JPck5vZGUsIHByZXNlcnZlQ29udGVudCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50OiAke3NlbGVjdG9yT3JOb2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3Rvck9yTm9kZSBpbnN0YW5jZW9mIFZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rvck9yTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0b3JPck5vZGUgJiYgc2VsZWN0b3JPck5vZGVbMF0gPT09ICcjJykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0Vmlld0J5SWQodGhpcy5yb290Vmlldywgc2VsZWN0b3JPck5vZGUuc2xpY2UoMSkpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgfHwgdGhpcy5yb290Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3Rvck9yTm9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdVdGlsLmNyZWF0ZVZpZXcoc2VsZWN0b3JPck5vZGUpO1xuICAgICAgICAgICAgaWYgKGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodmlldykgPT09IHZpZXcpIHtcbiAgICAgICAgICAgICAgICAvLyB2aWV3IGlzIG5hdGl2ZWxpa2UhXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLnJvb3RWaWV3LCB2aWV3KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yb290VmlldztcbiAgICB9XG4gICAgcGFyZW50Tm9kZShub2RlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucGFyZW50Tm9kZSBmb3Igbm9kZTogJHtub2RlfSBpcyAke25vZGUucGFyZW50Tm9kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICBuZXh0U2libGluZyhub2RlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIubmV4dFNpYmxpbmcgb2YgJHtub2RlfSBpcyAke25vZGUubmV4dFNpYmxpbmd9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHNldEF0dHJpYnV0ZShlbCwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldEF0dHJpYnV0ZSAke25hbWVzcGFjZSA/IG5hbWVzcGFjZSArICc6JyA6ICcnfSR7ZWx9LiR7bmFtZX0gPSAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuc2V0UHJvcGVydHkoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICByZW1vdmVBdHRyaWJ1dGUoZWwsIG5hbWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZSAke25hbWVzcGFjZSA/IG5hbWVzcGFjZSArICc6JyA6ICcnfSR7ZWx9LiR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRDbGFzcyhlbCwgbmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmFkZENsYXNzICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmFkZENsYXNzKGVsLCBuYW1lKTtcbiAgICB9XG4gICAgcmVtb3ZlQ2xhc3MoZWwsIG5hbWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5yZW1vdmVDbGFzcyAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVDbGFzcyhlbCwgbmFtZSk7XG4gICAgfVxuICAgIHNldFN0eWxlKGVsLCBzdHlsZSwgdmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0U3R5bGU6ICR7ZWx9LCAke3N0eWxlfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRTdHlsZShlbCwgc3R5bGUsIHZhbHVlKTtcbiAgICB9XG4gICAgcmVtb3ZlU3R5bGUoZWwsIHN0eWxlLCBmbGFncykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coJ05hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZVN0eWxlOiAke3N0eWxlTmFtZX0nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZVN0eWxlKGVsLCBzdHlsZSk7XG4gICAgfVxuICAgIHNldFByb3BlcnR5KGVsLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldFByb3BlcnR5ICR7ZWx9LiR7bmFtZX0gPSAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuc2V0UHJvcGVydHkoZWwsIG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gICAgc2V0VmFsdWUobm9kZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZXRWYWx1ZSByZW5kZXJOb2RlOiAke25vZGV9LCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICBub2RlLnRleHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgbGlzdGVuKHRhcmdldCwgZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5saXN0ZW46ICR7ZXZlbnROYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5vbihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gVmlldy5sb2FkZWRFdmVudCAmJiB0YXJnZXQuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgIC8vIHdlIG11c3QgY3JlYXRlIGEgbmV3IG9iZXJ2YWJsZSBoZXJlIHRvIGVuc3VyZSB0aGF0IHRoZSBldmVudCBnb2VzIHRocm91Z2ggd2hhdGV2ZXIgem9uZSBwYXRjaGVzIGFyZSBhcHBsaWVkXG4gICAgICAgICAgICBjb25zdCBvYnMgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICAgICAgb2JzLm9uY2UoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgICAgICAgICBvYnMubm90aWZ5KHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0YXJnZXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4gdGFyZ2V0Lm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZywgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJjcmVhdGVFbGVtZW50XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImNyZWF0ZUNvbW1lbnRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiY3JlYXRlVGV4dFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbVmlldywgVmlld10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiYXBwZW5kQ2hpbGRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgT2JqZWN0LCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImluc2VydEJlZm9yZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBPYmplY3QsIEJvb2xlYW5dKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInJlbW92ZUNoaWxkXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZywgU3RyaW5nLCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInNldEF0dHJpYnV0ZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImFkZENsYXNzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlQ2xhc3NcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBPYmplY3QsIE51bWJlcl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwic2V0U3R5bGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBOdW1iZXJdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInJlbW92ZVN0eWxlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZywgT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJzZXRQcm9wZXJ0eVwiLCBudWxsKTtcbi8vIENPTlRFTlRfQVRUUiBub3QgZXhwb3J0ZWQgZnJvbSBuYXRpdmVzY3JpcHQtcmVuZGVyZXIgLSB3ZSBuZWVkIGl0IGZvciBzdHlsZXMgYXBwbGljYXRpb24uXG5jb25zdCBDT01QT05FTlRfUkVHRVggPSAvJUNPTVAlL2c7XG5jb25zdCBBVFRSX1NBTklUSVpFUiA9IC8tL2c7XG5jb25zdCBDT01QT05FTlRfVkFSSUFCTEUgPSAnJUNPTVAlJztcbmNvbnN0IEhPU1RfQVRUUiA9IGBfbmdob3N0LSR7Q09NUE9ORU5UX1ZBUklBQkxFfWA7XG5jb25zdCBDT05URU5UX0FUVFIgPSBgX25nY29udGVudC0ke0NPTVBPTkVOVF9WQVJJQUJMRX1gO1xuY29uc3QgcmVwbGFjZU5nQXR0cmlidXRlID0gZnVuY3Rpb24gKGlucHV0LCBjb21wb25lbnRJZCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKENPTVBPTkVOVF9SRUdFWCwgY29tcG9uZW50SWQpO1xufTtcbmNvbnN0IGFkZFNjb3BlZFN0eWxlVG9Dc3MgPSBwcm9maWxlKGBcInJlbmRlcmVyXCIuYWRkU2NvcGVkU3R5bGVUb0Nzc2AsIGZ1bmN0aW9uIGFkZFNjb3BlZFN0eWxlVG9Dc3Moc3R5bGUsIHRhZykge1xuICAgIGlmICh0YWcpIHtcbiAgICAgICAgYWRkVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZSwgdGFnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLmFkZENzcyhzdHlsZSk7XG4gICAgfVxufSk7XG5jbGFzcyBFbXVsYXRlZFJlbmRlcmVyIGV4dGVuZHMgTmF0aXZlU2NyaXB0UmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgcm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHJvb3RNb2R1bGVJZCwgcmV1c2VWaWV3cykge1xuICAgICAgICBzdXBlcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcmV1c2VWaWV3cyk7XG4gICAgICAgIHRoaXMucm9vdE1vZHVsZUlkID0gcm9vdE1vZHVsZUlkO1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGNvbXBvbmVudC5pZC5yZXBsYWNlKEFUVFJfU0FOSVRJWkVSLCAnXycpO1xuICAgICAgICB0aGlzLmNvbnRlbnRBdHRyID0gcmVwbGFjZU5nQXR0cmlidXRlKENPTlRFTlRfQVRUUiwgY29tcG9uZW50SWQpO1xuICAgICAgICB0aGlzLmhvc3RBdHRyID0gcmVwbGFjZU5nQXR0cmlidXRlKEhPU1RfQVRUUiwgY29tcG9uZW50SWQpO1xuICAgICAgICB0aGlzLmFkZFN0eWxlcyhjb21wb25lbnQuc3R5bGVzLCBjb21wb25lbnRJZCk7XG4gICAgfVxuICAgIGFwcGx5VG9Ib3N0KHZpZXcpIHtcbiAgICAgICAgc3VwZXIuc2V0QXR0cmlidXRlKHZpZXcsIHRoaXMuaG9zdEF0dHIsICcnKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCkge1xuICAgICAgICBzdXBlci5hcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKTtcbiAgICB9XG4gICAgY3JlYXRlRWxlbWVudChwYXJlbnQsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHN1cGVyLmNyZWF0ZUVsZW1lbnQocGFyZW50LCBuYW1lKTtcbiAgICAgICAgLy8gU2V0IGFuIGF0dHJpYnV0ZSB0byB0aGUgdmlldyB0byBzY29wZSBjb21wb25lbnQtc3BlY2lmaWMgY3NzLlxuICAgICAgICAvLyBUaGUgcHJvcGVydHkgbmFtZSBpcyBwcmUtZ2VuZXJhdGVkIGJ5IEFuZ3VsYXIuXG4gICAgICAgIHN1cGVyLnNldEF0dHJpYnV0ZSh2aWV3LCB0aGlzLmNvbnRlbnRBdHRyLCAnJyk7XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cbiAgICBhZGRTdHlsZXMoc3R5bGVzLCBjb21wb25lbnRJZCkge1xuICAgICAgICBzdHlsZXNcbiAgICAgICAgICAgIC5tYXAoKHMpID0+IHMudG9TdHJpbmcoKSlcbiAgICAgICAgICAgIC5tYXAoKHMpID0+IHJlcGxhY2VOZ0F0dHJpYnV0ZShzLCBjb21wb25lbnRJZCkpXG4gICAgICAgICAgICAuZm9yRWFjaCgocykgPT4gYWRkU2NvcGVkU3R5bGVUb0NzcyhzLCB0aGlzLnJvb3RNb2R1bGVJZCkpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEVtdWxhdGVkUmVuZGVyZXIsIGRlcHM6IFwiaW52YWxpZFwiLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBFbXVsYXRlZFJlbmRlcmVyIH0pOyB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9maWxlLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtBcnJheSwgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIEVtdWxhdGVkUmVuZGVyZXIucHJvdG90eXBlLCBcImFkZFN0eWxlc1wiLCBudWxsKTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBFbXVsYXRlZFJlbmRlcmVyLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IGkxLlZpZXcgfSwgeyB0eXBlOiB1bmRlZmluZWQgfSwgeyB0eXBlOiB1bmRlZmluZWQgfSwgeyB0eXBlOiB1bmRlZmluZWQgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGFkZFN0eWxlczogW10gfSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhIG51bGwgcG9ydGFsIHRvIGEgaG9zdC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dOdWxsUG9ydGFsRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ011c3QgcHJvdmlkZSBhIHBvcnRhbCB0byBhdHRhY2gnKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgcG9ydGFsIHRvIGEgaG9zdCB0aGF0IGlzIGFscmVhZHkgYXR0YWNoZWQuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0hvc3QgYWxyZWFkeSBoYXMgYSBwb3J0YWwgYXR0YWNoZWQnKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgcG9ydGFsIHRvIGFuIGFscmVhZHktZGlzcG9zZWQgaG9zdC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignVGhpcyBQb3J0YWxPdXRsZXQgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYW4gdW5rbm93biBwb3J0YWwgdHlwZS5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdBdHRlbXB0aW5nIHRvIGF0dGFjaCBhbiB1bmtub3duIFBvcnRhbCB0eXBlLiBCYXNlUG9ydGFsT3V0bGV0IGFjY2VwdHMgZWl0aGVyICcgKyAnYSBDb21wb25lbnRQb3J0YWwgb3IgYSBUZW1wbGF0ZVBvcnRhbC4nKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgcG9ydGFsIHRvIGEgbnVsbCBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignQXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBudWxsIFBvcnRhbE91dGxldCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBkZXRhY2ggYSBwb3J0YWwgdGhhdCBpcyBub3QgYXR0YWNoZWQuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93Tm9Qb3J0YWxBdHRhY2hlZEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdBdHRlbXB0aW5nIHRvIGRldGFjaCBhIHBvcnRhbCB0aGF0IGlzIG5vdCBhdHRhY2hlZCB0byBhIGhvc3QnKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgYFBvcnRhbGAgaXMgc29tZXRoaW5nIHRoYXQgeW91IHdhbnQgdG8gcmVuZGVyIHNvbWV3aGVyZSBlbHNlLlxuICogSXQgY2FuIGJlIGF0dGFjaCB0byAvIGRldGFjaGVkIGZyb20gYSBgUG9ydGFsT3V0bGV0YC5cbiAqL1xuY2xhc3MgUG9ydGFsIHtcbiAgICAvKiogQXR0YWNoIHRoaXMgcG9ydGFsIHRvIGEgaG9zdC4gKi9cbiAgICBhdHRhY2goaG9zdCkge1xuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBpZiAoaG9zdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dOdWxsUG9ydGFsT3V0bGV0RXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChob3N0Lmhhc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRIb3N0ID0gaG9zdDtcbiAgICAgICAgcmV0dXJuIGhvc3QuYXR0YWNoKHRoaXMpO1xuICAgIH1cbiAgICAvKiogRGV0YWNoIHRoaXMgcG9ydGFsIGZyb20gaXRzIGhvc3QgKi9cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIGNvbnN0IGhvc3QgPSB0aGlzLl9hdHRhY2hlZEhvc3Q7XG4gICAgICAgIGlmIChob3N0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkSG9zdCA9IG51bGw7XG4gICAgICAgICAgICBob3N0LmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHBvcnRhbCBpcyBhdHRhY2hlZCB0byBhIGhvc3QuICovXG4gICAgZ2V0IGlzQXR0YWNoZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZEhvc3QgIT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgUG9ydGFsT3V0bGV0IHJlZmVyZW5jZSB3aXRob3V0IHBlcmZvcm1pbmcgYGF0dGFjaCgpYC4gVGhpcyBpcyB1c2VkIGRpcmVjdGx5IGJ5XG4gICAgICogdGhlIFBvcnRhbE91dGxldCB3aGVuIGl0IGlzIHBlcmZvcm1pbmcgYW4gYGF0dGFjaCgpYCBvciBgZGV0YWNoKClgLlxuICAgICAqL1xuICAgIHNldEF0dGFjaGVkSG9zdChob3N0KSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkSG9zdCA9IGhvc3Q7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBDb21wb25lbnRQb3J0YWxgIGlzIGEgcG9ydGFsIHRoYXQgaW5zdGFudGlhdGVzIHNvbWUgQ29tcG9uZW50IHVwb24gYXR0YWNobWVudC5cbiAqL1xuY2xhc3MgQ29tcG9uZW50UG9ydGFsIGV4dGVuZHMgUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnQsIHZpZXdDb250YWluZXJSZWYsIGluamVjdG9yLCBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBUZW1wbGF0ZVBvcnRhbGAgaXMgYSBwb3J0YWwgdGhhdCByZXByZXNlbnRzIHNvbWUgZW1iZWRkZWQgdGVtcGxhdGUgKFRlbXBsYXRlUmVmKS5cbiAqL1xuY2xhc3MgVGVtcGxhdGVQb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCB2aWV3Q29udGFpbmVyUmVmLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmID0gdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG4gICAgZ2V0IG9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVSZWYuZWxlbWVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSBwb3J0YWwgdG8gdGhlIHByb3ZpZGVkIGBQb3J0YWxPdXRsZXRgLlxuICAgICAqIFdoZW4gYSBjb250ZXh0IGlzIHByb3ZpZGVkIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIGBjb250ZXh0YCBwcm9wZXJ0eSBvZiB0aGUgYFRlbXBsYXRlUG9ydGFsYFxuICAgICAqIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGF0dGFjaChob3N0LCBjb250ZXh0ID0gdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBzdXBlci5hdHRhY2goaG9zdCk7XG4gICAgfVxuICAgIGRldGFjaCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gc3VwZXIuZGV0YWNoKCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBEb21Qb3J0YWxgIGlzIGEgcG9ydGFsIHdob3NlIERPTSBlbGVtZW50IHdpbGwgYmUgdGFrZW4gZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvblxuICogaW4gdGhlIERPTSBhbmQgbW92ZWQgaW50byBhIHBvcnRhbCBvdXRsZXQsIHdoZW4gaXQgaXMgYXR0YWNoZWQuIE9uIGRldGFjaCwgdGhlIGNvbnRlbnRcbiAqIHdpbGwgYmUgcmVzdG9yZWQgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uLlxuICovXG5jbGFzcyBEb21Qb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgPyBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQgOiBlbGVtZW50O1xuICAgIH1cbn1cbi8qKlxuICogUGFydGlhbCBpbXBsZW1lbnRhdGlvbiBvZiBQb3J0YWxPdXRsZXQgdGhhdCBoYW5kbGVzIGF0dGFjaGluZ1xuICogQ29tcG9uZW50UG9ydGFsIGFuZCBUZW1wbGF0ZVBvcnRhbC5cbiAqL1xuY2xhc3MgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoaXMgaG9zdCBoYXMgYWxyZWFkeSBiZWVuIHBlcm1hbmVudGx5IGRpc3Bvc2VkLiAqL1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wIGBhdHRhY2hEb21Qb3J0YWxgIHRvIGJlY29tZSBhIHJlcXVpcmVkIGFic3RyYWN0IG1ldGhvZC5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9tZW1iZXItb3JkZXJpbmdcbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSBudWxsO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIGhvc3QgaGFzIGFuIGF0dGFjaGVkIHBvcnRhbC4gKi9cbiAgICBoYXNBdHRhY2hlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYXR0YWNoZWRQb3J0YWw7XG4gICAgfVxuICAgIC8qKiBBdHRhY2hlcyBhIHBvcnRhbC4gKi9cbiAgICBhdHRhY2gocG9ydGFsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGlmICghcG9ydGFsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dOdWxsUG9ydGFsRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHRocm93UG9ydGFsT3V0bGV0QWxyZWFkeURpc3Bvc2VkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9ydGFsIGluc3RhbmNlb2YgQ29tcG9uZW50UG9ydGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvcnRhbCBpbnN0YW5jZW9mIFRlbXBsYXRlUG9ydGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCk7XG4gICAgICAgICAgICAvLyBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMCByZW1vdmUgbnVsbCBjaGVjayBmb3IgYHRoaXMuYXR0YWNoRG9tUG9ydGFsYC5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF0dGFjaERvbVBvcnRhbCAmJiBwb3J0YWwgaW5zdGFuY2VvZiBEb21Qb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoRG9tUG9ydGFsKHBvcnRhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgdGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIERldGFjaGVzIGEgcHJldmlvdXNseSBhdHRhY2hlZCBwb3J0YWwuICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICBpZiAodGhpcy5fYXR0YWNoZWRQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsLnNldEF0dGFjaGVkSG9zdChudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZva2VEaXNwb3NlRm4oKTtcbiAgICB9XG4gICAgLyoqIFBlcm1hbmVudGx5IGRpc3Bvc2Ugb2YgdGhpcyBwb3J0YWwgaG9zdC4gKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludm9rZURpc3Bvc2VGbigpO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgICBzZXREaXNwb3NlRm4oZm4pIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zZUZuID0gZm47XG4gICAgfVxuICAgIF9pbnZva2VEaXNwb3NlRm4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaXNwb3NlRm4pIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VGbigpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZUZuID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERpcmVjdGl2ZSB2ZXJzaW9uIG9mIGEgYFRlbXBsYXRlUG9ydGFsYC4gQmVjYXVzZSB0aGUgZGlyZWN0aXZlICppcyogYSBUZW1wbGF0ZVBvcnRhbCxcbiAqIHRoZSBkaXJlY3RpdmUgaW5zdGFuY2UgaXRzZWxmIGNhbiBiZSBhdHRhY2hlZCB0byBhIGhvc3QsIGVuYWJsaW5nIGRlY2xhcmF0aXZlIHVzZSBvZiBwb3J0YWxzLlxuICovXG5jbGFzcyBDZGtQb3J0YWwgZXh0ZW5kcyBUZW1wbGF0ZVBvcnRhbCB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGVSZWYsIHZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgc3VwZXIodGVtcGxhdGVSZWYsIHZpZXdDb250YWluZXJSZWYpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbCwgZGVwczogW3sgdG9rZW46IGkwLlRlbXBsYXRlUmVmIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBDZGtQb3J0YWwsIHNlbGVjdG9yOiBcIltjZGtQb3J0YWxdXCIsIGV4cG9ydEFzOiBbXCJjZGtQb3J0YWxcIl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2RrUG9ydGFsLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbY2RrUG9ydGFsXScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnY2RrUG9ydGFsJyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLlRlbXBsYXRlUmVmIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9XTsgfSB9KTtcbi8qKlxuICogRGlyZWN0aXZlIHZlcnNpb24gb2YgYSBQb3J0YWxPdXRsZXQuIEJlY2F1c2UgdGhlIGRpcmVjdGl2ZSAqaXMqIGEgUG9ydGFsT3V0bGV0LCBwb3J0YWxzIGNhbiBiZVxuICogZGlyZWN0bHkgYXR0YWNoZWQgdG8gaXQsIGVuYWJsaW5nIGRlY2xhcmF0aXZlIHVzZS5cbiAqXG4gKiBVc2FnZTpcbiAqIGA8bmctdGVtcGxhdGUgW2Nka1BvcnRhbE91dGxldF09XCJncmVldGluZ1wiPjwvbmctdGVtcGxhdGU+YFxuICovXG5jbGFzcyBDZGtQb3J0YWxPdXRsZXQgZXh0ZW5kcyBCYXNlUG9ydGFsT3V0bGV0IHtcbiAgICBjb25zdHJ1Y3RvcihfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBfdmlld0NvbnRhaW5lclJlZiwgcmVuZGVyZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IF92aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBwb3J0YWwgY29tcG9uZW50IGlzIGluaXRpYWxpemVkLiAqL1xuICAgICAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIC8qKiBFbWl0cyB3aGVuIGEgcG9ydGFsIGlzIGF0dGFjaGVkIHRvIHRoZSBvdXRsZXQuICovXG4gICAgICAgIHRoaXMuYXR0YWNoZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdHRhY2hlcyB0aGUgZ2l2ZW4gRG9tUG9ydGFsIHRvIHRoaXMgUG9ydGFsSG9zdCBieSBtb3ZpbmcgYWxsIG9mIHRoZSBwb3J0YWwgY29udGVudCBpbnRvIGl0LlxuICAgICAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZC5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVG8gYmUgdHVybmVkIGludG8gYSBtZXRob2QuXG4gICAgICAgICAqIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF0dGFjaERvbVBvcnRhbCA9IChwb3J0YWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwb3J0YWwuZWxlbWVudDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5wYXJlbnROb2RlICYmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0RPTSBwb3J0YWwgY29udGVudCBtdXN0IGJlIGF0dGFjaGVkIHRvIGEgcGFyZW50IG5vZGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBbmNob3IgdXNlZCB0byBzYXZlIHRoZSBlbGVtZW50J3MgcHJldmlvdXMgcG9zaXRpb24gc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2UgY2FuIHJlc3RvcmUgaXQgd2hlbiB0aGUgcG9ydGFsIGlzIGRldGFjaGVkLlxuICAgICAgICAgICAgY29uc3QgYW5jaG9yTm9kZSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQ29tbWVudCgnZG9tLXBvcnRhbCcpO1xuICAgICAgICAgICAgcG9ydGFsLnNldEF0dGFjaGVkSG9zdCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGVsZW1lbnQucGFyZW50Tm9kZSwgYW5jaG9yTm9kZSwgZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuX2dldFJvb3ROb2RlKCksIGVsZW1lbnQpO1xuICAgICAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGFuY2hvck5vZGUucGFyZW50Tm9kZSwgZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2hpbGQoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5jaG9yTm9kZS5wYXJlbnROb2RlIS5yZXBsYWNlQ2hpbGQoZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKiBQb3J0YWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBQb3J0YWwgb3V0bGV0LiAqL1xuICAgIGdldCBwb3J0YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZFBvcnRhbDtcbiAgICB9XG4gICAgc2V0IHBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBjYXNlcyB3aGVyZSB0aGUgYHBvcnRhbGAgaXMgc2V0IHRvIGEgZmFsc3kgdmFsdWUgYmVmb3JlIHRoZSBsaWZlY3ljbGUgaG9va3MgaGF2ZVxuICAgICAgICAvLyBydW4uIFRoaXMgaGFuZGxlcyB0aGUgY2FzZXMgd2hlcmUgdGhlIHVzZXIgbWlnaHQgZG8gc29tZXRoaW5nIGxpa2UgYDxkaXYgY2RrUG9ydGFsT3V0bGV0PmBcbiAgICAgICAgLy8gYW5kIGF0dGFjaCBhIHBvcnRhbCBwcm9ncmFtbWF0aWNhbGx5IGluIHRoZSBwYXJlbnQgY29tcG9uZW50LiBXaGVuIEFuZ3VsYXIgZG9lcyB0aGUgZmlyc3QgQ0RcbiAgICAgICAgLy8gcm91bmQsIGl0IHdpbGwgZmlyZSB0aGUgc2V0dGVyIHdpdGggZW1wdHkgc3RyaW5nLCBjYXVzaW5nIHRoZSB1c2VyJ3MgY29udGVudCB0byBiZSBjbGVhcmVkLlxuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpICYmICFwb3J0YWwgJiYgIXRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICBzdXBlci5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9ydGFsKSB7XG4gICAgICAgICAgICBzdXBlci5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICB9XG4gICAgLyoqIENvbXBvbmVudCBvciB2aWV3IHJlZmVyZW5jZSB0aGF0IGlzIGF0dGFjaGVkIHRvIHRoZSBwb3J0YWwuICovXG4gICAgZ2V0IGF0dGFjaGVkUmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRSZWY7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFJlZiA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgZ2l2ZW4gQ29tcG9uZW50UG9ydGFsIHRvIHRoaXMgUG9ydGFsT3V0bGV0IHVzaW5nIHRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZCB0byB0aGUgcG9ydGFsIG91dGxldC5cbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgcG9ydGFsLnNldEF0dGFjaGVkSG9zdCh0aGlzKTtcbiAgICAgICAgLy8gSWYgdGhlIHBvcnRhbCBzcGVjaWZpZXMgYW4gb3JpZ2luLCB1c2UgdGhhdCBhcyB0aGUgbG9naWNhbCBsb2NhdGlvbiBvZiB0aGUgY29tcG9uZW50XG4gICAgICAgIC8vIGluIHRoZSBhcHBsaWNhdGlvbiB0cmVlLiBPdGhlcndpc2UgdXNlIHRoZSBsb2NhdGlvbiBvZiB0aGlzIFBvcnRhbE91dGxldC5cbiAgICAgICAgY29uc3Qgdmlld0NvbnRhaW5lclJlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmICE9IG51bGwgPyBwb3J0YWwudmlld0NvbnRhaW5lclJlZiA6IHRoaXMuX3ZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gcG9ydGFsLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShwb3J0YWwuY29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgcmVmID0gdmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50RmFjdG9yeSwgdmlld0NvbnRhaW5lclJlZi5sZW5ndGgsIHBvcnRhbC5pbmplY3RvciB8fCB2aWV3Q29udGFpbmVyUmVmLmluamVjdG9yKTtcbiAgICAgICAgLy8gSWYgd2UncmUgdXNpbmcgYSB2aWV3IGNvbnRhaW5lciB0aGF0J3MgZGlmZmVyZW50IGZyb20gdGhlIGluamVjdGVkIG9uZSAoZS5nLiB3aGVuIHRoZSBwb3J0YWxcbiAgICAgICAgLy8gc3BlY2lmaWVzIGl0cyBvd24pIHdlIG5lZWQgdG8gbW92ZSB0aGUgY29tcG9uZW50IGludG8gdGhlIG91dGxldCwgb3RoZXJ3aXNlIGl0J2xsIGJlIHJlbmRlcmVkXG4gICAgICAgIC8vIGluc2lkZSBvZiB0aGUgYWx0ZXJuYXRlIHZpZXcgY29udGFpbmVyLlxuICAgICAgICBpZiAodmlld0NvbnRhaW5lclJlZiAhPT0gdGhpcy5fdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLl9nZXRSb290Tm9kZSgpLCByZWYuaG9zdFZpZXcucm9vdE5vZGVzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5zZXREaXNwb3NlRm4oKCkgPT4gcmVmLmRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFJlZiA9IHJlZjtcbiAgICAgICAgdGhpcy5hdHRhY2hlZC5lbWl0KHJlZik7XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgZ2l2ZW4gVGVtcGxhdGVQb3J0YWwgdG8gdGhpcyBQb3J0YWxIb3N0IGFzIGFuIGVtYmVkZGVkIFZpZXcuXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGVtYmVkZGVkIHZpZXcuXG4gICAgICovXG4gICAgYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHBvcnRhbC5zZXRBdHRhY2hlZEhvc3QodGhpcyk7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyhwb3J0YWwudGVtcGxhdGVSZWYsIHBvcnRhbC5jb250ZXh0KTtcbiAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuY2xlYXIoKSk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFJlZiA9IHZpZXdSZWY7XG4gICAgICAgIHRoaXMuYXR0YWNoZWQuZW1pdCh2aWV3UmVmKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSByb290IG5vZGUgb2YgdGhlIHBvcnRhbCBvdXRsZXQuICovXG4gICAgX2dldFJvb3ROb2RlKCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gdGhpcy5fdmlld0NvbnRhaW5lclJlZi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIC8vIFRoZSBkaXJlY3RpdmUgY291bGQgYmUgc2V0IG9uIGEgdGVtcGxhdGUgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBjb21tZW50XG4gICAgICAgIC8vIG5vZGUgYmVpbmcgdGhlIHJvb3QuIFVzZSB0aGUgY29tbWVudCdzIHBhcmVudCBub2RlIGlmIHRoYXQgaXMgdGhlIGNhc2UuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIHJldHVybiAoIShuYXRpdmVFbGVtZW50IGluc3RhbmNlb2YgQ29tbWVudE5vZGUpID8gbmF0aXZlRWxlbWVudCA6IG5hdGl2ZUVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2RrUG9ydGFsT3V0bGV0LCBkZXBzOiBbeyB0b2tlbjogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogQ2RrUG9ydGFsT3V0bGV0LCBzZWxlY3RvcjogXCJbY2RrUG9ydGFsT3V0bGV0XVwiLCBpbnB1dHM6IHsgcG9ydGFsOiBbXCJjZGtQb3J0YWxPdXRsZXRcIiwgXCJwb3J0YWxcIl0gfSwgb3V0cHV0czogeyBhdHRhY2hlZDogXCJhdHRhY2hlZFwiIH0sIGV4cG9ydEFzOiBbXCJjZGtQb3J0YWxPdXRsZXRcIl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2RrUG9ydGFsT3V0bGV0LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbY2RrUG9ydGFsT3V0bGV0XScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnY2RrUG9ydGFsT3V0bGV0JyxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1pbnB1dHMtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzOiBbJ3BvcnRhbDogY2RrUG9ydGFsT3V0bGV0J10sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBhdHRhY2hlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5jbGFzcyBQb3J0YWxNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBvcnRhbE1vZHVsZSwgZGVjbGFyYXRpb25zOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdLCBleHBvcnRzOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFBvcnRhbE91dGxldCBmb3IgYXR0YWNoaW5nIHBvcnRhbHMgdG8gYW4gYXJiaXRyYXJ5IERPTSBlbGVtZW50IG91dHNpZGUgb2YgdGhlIEFuZ3VsYXJcbiAqIGFwcGxpY2F0aW9uIGNvbnRleHQuXG4gKi9cbmxldCBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQgPSBjbGFzcyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQgZXh0ZW5kcyBCYXNlUG9ydGFsT3V0bGV0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogRWxlbWVudCBpbnRvIHdoaWNoIHRoZSBjb250ZW50IGlzIHByb2plY3RlZC4gKi9cbiAgICBvdXRsZXRFbGVtZW50LCBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBfYXBwUmVmLCBfZGVmYXVsdEluamVjdG9yLCB2aWV3VXRpbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm91dGxldEVsZW1lbnQgPSBvdXRsZXRFbGVtZW50O1xuICAgICAgICB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICB0aGlzLl9hcHBSZWYgPSBfYXBwUmVmO1xuICAgICAgICB0aGlzLl9kZWZhdWx0SW5qZWN0b3IgPSBfZGVmYXVsdEluamVjdG9yO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoZXMgYSBET00gcG9ydGFsIGJ5IHRyYW5zZmVycmluZyBpdHMgY29udGVudCBpbnRvIHRoZSBvdXRsZXQuXG4gICAgICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBUbyBiZSB0dXJuZWQgaW50byBhIG1ldGhvZC5cbiAgICAgICAgICogQGJyZWFraW5nLWNoYW5nZSAxMC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXR0YWNoRG9tUG9ydGFsID0gKHBvcnRhbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHBvcnRhbC5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUgJiYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignRE9NIHBvcnRhbCBjb250ZW50IG11c3QgYmUgYXR0YWNoZWQgdG8gYSBwYXJlbnQgbm9kZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFuY2hvciB1c2VkIHRvIHNhdmUgdGhlIGVsZW1lbnQncyBwcmV2aW91cyBwb3NpdGlvbiBzb1xuICAgICAgICAgICAgLy8gdGhhdCB3ZSBjYW4gcmVzdG9yZSBpdCB3aGVuIHRoZSBwb3J0YWwgaXMgZGV0YWNoZWQuXG4gICAgICAgICAgICBjb25zdCBhbmNob3JOb2RlID0gdGhpcy5fdmlld1V0aWwuY3JlYXRlQ29tbWVudCgnZG9tLXBvcnRhbCcpO1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwuaW5zZXJ0QmVmb3JlKGVsZW1lbnQucGFyZW50Tm9kZSwgYW5jaG9yTm9kZSwgZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5hcHBlbmRDaGlsZCh0aGlzLm91dGxldEVsZW1lbnQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCB1c2UgYHJlcGxhY2VXaXRoYCBoZXJlIGJlY2F1c2UgSUUgZG9lc24ndCBzdXBwb3J0IGl0LlxuICAgICAgICAgICAgICAgIGlmIChhbmNob3JOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwuaW5zZXJ0QmVmb3JlKGFuY2hvck5vZGUucGFyZW50Tm9kZSwgZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLnJlbW92ZUNoaWxkKGFuY2hvck5vZGUucGFyZW50Tm9kZSwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vYW5jaG9yTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbGVtZW50LCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdmlld1V0aWwgPSB2aWV3VXRpbCB8fCB0aGlzLl9kZWZhdWx0SW5qZWN0b3IuZ2V0KFZpZXdVdGlsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSBnaXZlbiBDb21wb25lbnRQb3J0YWwgdG8gRE9NIGVsZW1lbnQgdXNpbmcgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5cbiAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZFxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBjb21wb25lbnQuXG4gICAgICovXG4gICAgYXR0YWNoQ29tcG9uZW50UG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IHBvcnRhbC5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfHwgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICBjb25zdCBjb21wb25lbnRGYWN0b3J5ID0gcmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkocG9ydGFsLmNvbXBvbmVudCk7XG4gICAgICAgIGxldCBjb21wb25lbnRSZWY7XG4gICAgICAgIC8vIElmIHRoZSBwb3J0YWwgc3BlY2lmaWVzIGEgVmlld0NvbnRhaW5lclJlZiwgd2Ugd2lsbCB1c2UgdGhhdCBhcyB0aGUgYXR0YWNobWVudCBwb2ludFxuICAgICAgICAvLyBmb3IgdGhlIGNvbXBvbmVudCAoaW4gdGVybXMgb2YgQW5ndWxhcidzIGNvbXBvbmVudCB0cmVlLCBub3QgcmVuZGVyaW5nKS5cbiAgICAgICAgLy8gV2hlbiB0aGUgVmlld0NvbnRhaW5lclJlZiBpcyBtaXNzaW5nLCB3ZSB1c2UgdGhlIGZhY3RvcnkgdG8gY3JlYXRlIHRoZSBjb21wb25lbnQgZGlyZWN0bHlcbiAgICAgICAgLy8gYW5kIHRoZW4gbWFudWFsbHkgYXR0YWNoIHRoZSB2aWV3IHRvIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgaWYgKHBvcnRhbC52aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICBjb21wb25lbnRSZWYgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50RmFjdG9yeSwgcG9ydGFsLnZpZXdDb250YWluZXJSZWYubGVuZ3RoLCBwb3J0YWwuaW5qZWN0b3IgfHwgcG9ydGFsLnZpZXdDb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5zZXREaXNwb3NlRm4oKCkgPT4gY29tcG9uZW50UmVmLmRlc3Ryb3koKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21wb25lbnRSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShwb3J0YWwuaW5qZWN0b3IgfHwgdGhpcy5fZGVmYXVsdEluamVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuX2FwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICB0aGlzLnNldERpc3Bvc2VGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwUmVmLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWYuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgY29tcG9uZW50IGhhcyBiZWVuIGluc3RhbnRpYXRlZCwgc28gd2UgbW92ZSBpdCB0byB0aGUgbG9jYXRpb24gaW4gdGhlIERPTVxuICAgICAgICAvLyB3aGVyZSB3ZSB3YW50IGl0IHRvIGJlIHJlbmRlcmVkLlxuICAgICAgICBjb25zdCByb290Tm9kZSA9IHRoaXMuX2dldENvbXBvbmVudFJvb3ROb2RlKGNvbXBvbmVudFJlZik7XG4gICAgICAgIGlmIChyb290Tm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLnJlbW92ZUNoaWxkKHJvb3ROb2RlLnBhcmVudCwgcm9vdE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZpZXdVdGlsLmFwcGVuZENoaWxkKHRoaXMub3V0bGV0RWxlbWVudCwgdGhpcy5fZ2V0Q29tcG9uZW50Um9vdE5vZGUoY29tcG9uZW50UmVmKSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIGEgdGVtcGxhdGUgcG9ydGFsIHRvIHRoZSBET00gYXMgYW4gZW1iZWRkZWQgdmlldy5cbiAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZC5cbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgZW1iZWRkZWQgdmlldy5cbiAgICAgKi9cbiAgICBhdHRhY2hUZW1wbGF0ZVBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgY29uc3Qgdmlld0NvbnRhaW5lciA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcocG9ydGFsLnRlbXBsYXRlUmVmLCBwb3J0YWwuY29udGV4dCk7XG4gICAgICAgIC8vIFRoZSBtZXRob2QgYGNyZWF0ZUVtYmVkZGVkVmlld2Agd2lsbCBhZGQgdGhlIHZpZXcgYXMgYSBjaGlsZCBvZiB0aGUgdmlld0NvbnRhaW5lci5cbiAgICAgICAgLy8gQnV0IGZvciB0aGUgRG9tUG9ydGFsT3V0bGV0IHRoZSB2aWV3IGNhbiBiZSBhZGRlZCBldmVyeXdoZXJlIGluIHRoZSBET01cbiAgICAgICAgLy8gKGUuZyBPdmVybGF5IENvbnRhaW5lcikgVG8gbW92ZSB0aGUgdmlldyB0byB0aGUgc3BlY2lmaWVkIGhvc3QgZWxlbWVudC4gV2UganVzdFxuICAgICAgICAvLyByZS1hcHBlbmQgdGhlIGV4aXN0aW5nIHJvb3Qgbm9kZXMuXG4gICAgICAgIHZpZXdSZWYucm9vdE5vZGVzLmZvckVhY2goKHJvb3ROb2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAocm9vdE5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQocm9vdE5vZGUucGFyZW50LCByb290Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5hcHBlbmRDaGlsZCh0aGlzLm91dGxldEVsZW1lbnQsIHJvb3ROb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSB3YW50IHRvIGRldGVjdCBjaGFuZ2VzIGFmdGVyIHRoZSBub2RlcyBoYXZlIGJlZW4gbW92ZWQgc28gdGhhdFxuICAgICAgICAvLyBhbnkgZGlyZWN0aXZlcyBpbnNpZGUgdGhlIHBvcnRhbCB0aGF0IGFyZSBsb29raW5nIGF0IHRoZSBET00gaW5zaWRlIGEgbGlmZWN5Y2xlXG4gICAgICAgIC8vIGhvb2sgd29uJ3QgYmUgaW52b2tlZCB0b28gZWFybHkuXG4gICAgICAgIHZpZXdSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB0aGlzLnNldERpc3Bvc2VGbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHZpZXdDb250YWluZXIuaW5kZXhPZih2aWV3UmVmKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2aWV3Q29udGFpbmVyLnJlbW92ZShpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPKGplbGJvdXJuKTogUmV0dXJuIGxvY2FscyBmcm9tIHZpZXcuXG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgb3V0IGEgcG9ydGFsIGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIGlmICh0aGlzLm91dGxldEVsZW1lbnQucGFyZW50Tm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZCh0aGlzLm91dGxldEVsZW1lbnQucGFyZW50Tm9kZSwgdGhpcy5vdXRsZXRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogR2V0cyB0aGUgcm9vdCBIVE1MRWxlbWVudCBmb3IgYW4gaW5zdGFudGlhdGVkIGNvbXBvbmVudC4gKi9cbiAgICBfZ2V0Q29tcG9uZW50Um9vdE5vZGUoY29tcG9uZW50UmVmKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWYuaG9zdFZpZXcucm9vdE5vZGVzWzBdO1xuICAgIH1cbn07XG5OYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDQsIE9wdGlvbmFsKCkpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbVmlldyxcbiAgICAgICAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICAgICAgICBBcHBsaWNhdGlvblJlZixcbiAgICAgICAgSW5qZWN0b3IsXG4gICAgICAgIFZpZXdVdGlsXSlcbl0sIE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCk7XG5cbnJlZ2lzdGVyRWxlbWVudCgnRGV0YWNoZWRDb250YWluZXInLCAoKSA9PiBQcm94eVZpZXdDb250YWluZXIsIHtcbiAgICBza2lwQWRkVG9Eb206IHRydWUsXG59KTtcbi8qKlxuICogV3JhcHBlciBjb21wb25lbnQgdXNlZCBmb3IgbG9hZGluZyBjb21wb25lbnRzIHdoZW4gbmF2aWdhdGluZ1xuICogSXQgdXNlcyBEZXRhY2hlZENvbnRhaW5lciBhcyBzZWxlY3RvciBzbyB0aGF0IGl0IGlzIGNvbnRhaW5lclJlZiBpcyBub3QgYXR0YWNoZWQgdG9cbiAqIHRoZSB2aXN1YWwgdHJlZS5cbiAqL1xuY2xhc3MgRGV0YWNoZWRMb2FkZXIge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6Y29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKHJlc29sdmVyLCBjaGFuZ2VEZXRlY3RvciwgY29udGFpbmVyUmVmLCBhcHBSZWYpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yID0gY2hhbmdlRGV0ZWN0b3I7XG4gICAgICAgIHRoaXMuY29udGFpbmVyUmVmID0gY29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLmFwcFJlZiA9IGFwcFJlZjtcbiAgICAgICAgdGhpcy5kaXNwb3NlRnVuY3Rpb25zID0gW107XG4gICAgfVxuICAgIGNyZWF0ZUNvbXBvbmVudFBvcnRhbChjb21wb25lbnRUeXBlLCBjdXN0b21JbmplY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvbmVudFBvcnRhbChjb21wb25lbnRUeXBlLCB0aGlzLnZjLCBjdXN0b21JbmplY3RvciB8fCB0aGlzLnZjLmluamVjdG9yKTtcbiAgICB9XG4gICAgY3JlYXRlVGVtcGxhdGVQb3J0YWwodGVtcGxhdGVSZWYsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZVBvcnRhbCh0ZW1wbGF0ZVJlZiwgdGhpcy52YywgY29udGV4dCk7XG4gICAgfVxuICAgIGxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudFR5cGUpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSBmYWN0b3J5LmNyZWF0ZSh0aGlzLmNvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgdGhpcy5kaXNwb3NlRnVuY3Rpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENvbXBvbmVudCBpcyBjcmVhdGVkLCBidWlsdCBtYXkgbm90IGJlIGNoZWNrZWQgaWYgd2UgYXJlIGxvYWRpbmdcbiAgICAgICAgLy8gaW5zaWRlIGNvbXBvbmVudCB3aXRoIE9uUHVzaCBDRCBzdHJhdGVneS4gTWFyayB1cyBmb3IgY2hlY2sgdG8gYmUgc3VyZSBDRCB3aWxsIHJlYWNoIHVzLlxuICAgICAgICAvLyBXZSBhcmUgaW5zaWRlIGEgcHJvbWlzZSBoZXJlIHNvIG5vIG5lZWQgZm9yIHNldFRpbWVvdXQgLSBDRCBzaG91bGQgdHJpZ2dlclxuICAgICAgICAvLyBhZnRlciB0aGUgcHJvbWlzZS5cbiAgICAgICAgVHJhY2Uud3JpdGUoJ0RldGFjaGVkTG9hZGVyLmxvYWRJbkxvY2F0aW9uIGNvbXBvbmVudCBsb2FkZWQgLT4gbWFya0ZvckNoZWNrJywgJ2RldGFjaGVkLWxvYWRlcicpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICBsb2FkSW5Mb2NhdGlvbihjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZjLmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRUeXBlKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgfVxuICAgIGRldGVjdENoYW5nZXMoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZENvbXBvbmVudChjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkQ29tcG9uZW50JywgJ2RldGFjaGVkLWxvYWRlcicpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMubG9hZEluQXBwUmVmKGNvbXBvbmVudFR5cGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkQ29tcG9uZW50U3luYyhjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkQ29tcG9uZW50U3luYycsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEluQXBwUmVmKGNvbXBvbmVudFR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRDb21wb25lbnRJbkxvY2F0aW9uKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUoJ0RldGFjaGVkTG9hZGVyLmxvYWRDb21wb25lbnRJbkxvY2F0aW9uJywgJ2RldGFjaGVkLWxvYWRlcicpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkSW5Mb2NhdGlvbihjb21wb25lbnRUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkV2l0aEZhY3RvcnkoZmFjdG9yeSkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSBmYWN0b3J5LmNyZWF0ZSh0aGlzLmNvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgdGhpcy5kaXNwb3NlRnVuY3Rpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZFdpdGhGYWN0b3J5SW5Mb2NhdGlvbihmYWN0b3J5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZjLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEZXRhY2hlZExvYWRlciwgZGVwczogW3sgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdG9rZW46IGkwLkFwcGxpY2F0aW9uUmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogRGV0YWNoZWRMb2FkZXIsIHNlbGVjdG9yOiBcIkRldGFjaGVkQ29udGFpbmVyXCIsIHZpZXdRdWVyaWVzOiBbeyBwcm9wZXJ0eU5hbWU6IFwidmNcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogW1widmNcIl0sIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8UGxhY2Vob2xkZXIgI2xvYWRlcj48L1BsYWNlaG9sZGVyPlxuICAgIDxuZy1jb250YWluZXIgI3ZjPjwvbmctY29udGFpbmVyPlxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IERldGFjaGVkTG9hZGVyLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdEZXRhY2hlZENvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPFBsYWNlaG9sZGVyICNsb2FkZXI+PC9QbGFjZWhvbGRlcj5cbiAgICA8bmctY29udGFpbmVyICN2Yz48L25nLWNvbnRhaW5lcj5cbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNoYW5nZURldGVjdG9yUmVmIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IGkwLkFwcGxpY2F0aW9uUmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyB2YzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBWaWV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogWyd2YycsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dXG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBQYWdlU2VydmljZSB7XG4gICAgZ2V0IGluUGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luUGFnZSQudmFsdWU7XG4gICAgfVxuICAgIGdldCBpblBhZ2UkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5QYWdlJC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICAgIH1cbiAgICBnZXQgcGFnZUV2ZW50cyQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlRXZlbnRzJC5hc09ic2VydmFibGUoKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFnZSwgZWxSZWYsIHZpZXcpIHtcbiAgICAgICAgdGhpcy5fcGFnZUV2ZW50cyQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICBpZiAocGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpZXcgPSB2aWV3IHx8IGVsUmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICB3aGlsZSAodmlldykge1xuICAgICAgICAgICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgUGFnZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSB2aWV3O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlldyA9IHZpZXcucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luUGFnZSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KCEhdGhpcy5wYWdlPy5pc0xvYWRlZCk7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbmF2aWdhdGVkRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbmF2aWdhdGVkVG8nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRpbmdGcm9tJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0aW5nVG8nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYoJ25hdmlnYXRlZEZyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0ZWRUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYoJ25hdmlnYXRpbmdGcm9tJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGluZ1RvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luUGFnZSQuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5fcGFnZUV2ZW50cyQuY29tcGxldGUoKTtcbiAgICB9XG4gICAgcGFnZUV2ZW50KGV2dCkge1xuICAgICAgICB0aGlzLl9wYWdlRXZlbnRzJC5uZXh0KGV2dCk7XG4gICAgICAgIHN3aXRjaCAoZXZ0LmV2ZW50TmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnbmF2aWdhdGVkVG8nOlxuICAgICAgICAgICAgICAgIHRoaXMuX2luUGFnZSQubmV4dCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ25hdmlnYXRlZEZyb20nOlxuICAgICAgICAgICAgICAgIHRoaXMuX2luUGFnZSQubmV4dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVNlcnZpY2UsIGRlcHM6IFt7IHRva2VuOiBpMS5QYWdlLCBvcHRpb25hbDogdHJ1ZSB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmLCBvcHRpb25hbDogdHJ1ZSB9LCB7IHRva2VuOiBpMS5WaWV3QmFzZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVNlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEuUGFnZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMS5WaWV3QmFzZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuZnVuY3Rpb24gY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5KHYpIHtcbiAgICByZXR1cm4gdi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG59XG5mdW5jdGlvbiBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSh2KSB7XG4gICAgcmV0dXJuIHYucGFnZTtcbn1cbnJlZ2lzdGVyRWxlbWVudCgnRnJhbWVQYWdlJywgKCkgPT4gRnJhbWUsIHtcbiAgICBpbnNlcnRDaGlsZDogKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgUGFnZSkge1xuICAgICAgICAgICAgZnJhbWVNZXRhLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudFsnX19uZ19wYWdlX18nXS5jb250ZW50ID0gY2hpbGQ7XG4gICAgfSxcbn0pO1xuY2xhc3MgRnJhbWVQYWdlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCByZW5kZXJlcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmFjdGlvbkJhckhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhZ2UgPSByZW5kZXJlci5jcmVhdGVFbGVtZW50KCdQYWdlJyk7XG4gICAgICAgIGVsZW1lbnQubmF0aXZlRWxlbWVudFsnX19uZ19wYWdlX18nXSA9IHRoaXMucGFnZTtcbiAgICAgICAgcmVuZGVyZXIuYXBwZW5kQ2hpbGQoZWxlbWVudC5uYXRpdmVFbGVtZW50LCB0aGlzLnBhZ2UpO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmFjdGlvbkJhckhpZGRlbiAmJiBjaGFuZ2VzLmFjdGlvbkJhckhpZGRlbi5wcmV2aW91c1ZhbHVlICE9PSBjaGFuZ2VzLmFjdGlvbkJhckhpZGRlbi5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gISF0aGlzLmFjdGlvbkJhckhpZGRlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSAhIXRoaXMuYWN0aW9uQmFySGlkZGVuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBGcmFtZVBhZ2VDb21wb25lbnQsIHNlbGVjdG9yOiBcIkZyYW1lUGFnZVwiLCBpbnB1dHM6IHsgYWN0aW9uQmFySGlkZGVuOiBcImFjdGlvbkJhckhpZGRlblwiIH0sIHByb3ZpZGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSxcbiAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSxcbiAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQYWdlU2VydmljZSxcbiAgICAgICAgXSwgdXNlc09uQ2hhbmdlczogdHJ1ZSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZUNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRnJhbWVQYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogRnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IGkwLlJlbmRlcmVyMiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYWN0aW9uQmFySGlkZGVuOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5mdW5jdGlvbiBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3Rvcnkodikge1xuICAgIHJldHVybiB2LmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbn1cbmNsYXNzIEZyYW1lRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogRnJhbWVEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIkZyYW1lXCIsIHByb3ZpZGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVEaXJlY3RpdmVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0ZyYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogRnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuZnVuY3Rpb24gY3VzdG9tUGFnZUZhY3Rvcnkodikge1xuICAgIHJldHVybiB2LmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbn1cbmNsYXNzIFBhZ2VEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFBhZ2VEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIlBhZ2VcIiwgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICBkZXBzOiBbUGFnZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgICAgIF0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1BhZ2UnLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbVBhZ2VGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtQYWdlRGlyZWN0aXZlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNsYXNzIEZyYW1lUGFnZU1vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSwgZXhwb3J0czogW0ZyYW1lRGlyZWN0aXZlLCBQYWdlRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnRdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlTW9kdWxlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0ZyYW1lRGlyZWN0aXZlLCBQYWdlRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5mdW5jdGlvbiBpc1ByZXNlbnQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQmxhbmsob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNBY3Rpb25JdGVtKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIEFjdGlvbkl0ZW07XG59XG5mdW5jdGlvbiBpc05hdmlnYXRpb25CdXR0b24odmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgTmF2aWdhdGlvbkJ1dHRvbjtcbn1cbmNvbnN0IGFjdGlvbkJhck1ldGEgPSB7XG4gICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxuICAgIGluc2VydENoaWxkOiAocGFyZW50LCBjaGlsZCwgbmV4dCkgPT4ge1xuICAgICAgICBpZiAoaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTmF2aWdhdGlvbkJ1dHRvbihjaGlsZCkpIHtcbiAgICAgICAgICAgIHBhcmVudC5uYXZpZ2F0aW9uQnV0dG9uID0gY2hpbGQ7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQWN0aW9uSXRlbShjaGlsZCkpIHtcbiAgICAgICAgICAgIGFkZEFjdGlvbkl0ZW0ocGFyZW50LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmlldyhjaGlsZCkpIHtcbiAgICAgICAgICAgIHBhcmVudC50aXRsZVZpZXcgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGQ6IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgICAgIGlmIChpc0ludmlzaWJsZU5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOYXZpZ2F0aW9uQnV0dG9uKGNoaWxkKSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5uYXZpZ2F0aW9uQnV0dG9uID09PSBjaGlsZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5uYXZpZ2F0aW9uQnV0dG9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQWN0aW9uSXRlbShjaGlsZCkpIHtcbiAgICAgICAgICAgIHBhcmVudC5hY3Rpb25JdGVtcy5yZW1vdmVJdGVtKGNoaWxkKTtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmlldyhjaGlsZCkgJiYgcGFyZW50LnRpdGxlVmlldyAmJiBwYXJlbnQudGl0bGVWaWV3ID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50LnRpdGxlVmlldyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbnJlZ2lzdGVyRWxlbWVudCgnQWN0aW9uQmFyJywgKCkgPT4gQWN0aW9uQmFyLCBhY3Rpb25CYXJNZXRhKTtcbnJlZ2lzdGVyRWxlbWVudCgnQWN0aW9uSXRlbScsICgpID0+IEFjdGlvbkl0ZW0pO1xucmVnaXN0ZXJFbGVtZW50KCdOYXZpZ2F0aW9uQnV0dG9uJywgKCkgPT4gTmF2aWdhdGlvbkJ1dHRvbik7XG5jb25zdCBhZGRBY3Rpb25JdGVtID0gKGJhciwgaXRlbSwgbmV4dCkgPT4ge1xuICAgIGlmIChuZXh0KSB7XG4gICAgICAgIGluc2VydEFjdGlvbkl0ZW1CZWZvcmUoYmFyLCBpdGVtLCBuZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFwcGVuZEFjdGlvbkl0ZW0oYmFyLCBpdGVtKTtcbiAgICB9XG59O1xuY29uc3QgaW5zZXJ0QWN0aW9uSXRlbUJlZm9yZSA9IChiYXIsIGl0ZW0sIG5leHQpID0+IHtcbiAgICBjb25zdCBhY3Rpb25JdGVtcyA9IGJhci5hY3Rpb25JdGVtcztcbiAgICBjb25zdCBhY3Rpb25JdGVtc0NvbGxlY3Rpb24gPSBhY3Rpb25JdGVtcy5nZXRJdGVtcygpO1xuICAgIGNvbnN0IGluZGV4VG9JbnNlcnQgPSBhY3Rpb25JdGVtc0NvbGxlY3Rpb24uaW5kZXhPZihuZXh0KTtcbiAgICBhY3Rpb25JdGVtc0NvbGxlY3Rpb24uc3BsaWNlKGluZGV4VG9JbnNlcnQsIDAsIGl0ZW0pO1xuICAgIGFjdGlvbkl0ZW1zLnNldEl0ZW1zKGFjdGlvbkl0ZW1zQ29sbGVjdGlvbik7XG59O1xuY29uc3QgYXBwZW5kQWN0aW9uSXRlbSA9IChiYXIsIGl0ZW0pID0+IHtcbiAgICBiYXIuYWN0aW9uSXRlbXMuYWRkSXRlbShpdGVtKTtcbn07XG5jbGFzcyBBY3Rpb25CYXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHBhZ2UpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgICAgaWYgKCF0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gUGFnZSBmb3VuZCBpbiBBY3Rpb25CYXJDb21wb25lbnQuXFxuJyArICdPbmx5IGEgUGFnZSBjYW4gY29udGFpbiBhbiBBY3Rpb25CYXIsIHNvIHBsZWFzZSBlbnN1cmUgQWN0aW9uQmFyIGlzIG9ubHkgdXNlZCBpbnNpZGUgYSBDb21wb25lbnQgdGhhdCBpcyByb3V0ZWQgdmlhIHBhZ2Utcm91dGVyLW91dGxldCBvciBpcyBjb250YWluZWQgaW4gYSBQYWdlLlxcbicgKyAnRXhhbXBsZSBmb3Igcm9vdCBhY3Rpb24gYmFycyBpbiBBcHBDb21wb25lbnQ6IDxGcmFtZT48UGFnZT48QWN0aW9uQmFyPi4uLi48L0FjdGlvbkJhcj48L1BhZ2U+PC9GcmFtZT4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuKSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIgPSB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci51cGRhdGUoKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IGkxLlBhZ2UsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogQWN0aW9uQmFyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJBY3Rpb25CYXJcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nLCBpc0lubGluZTogdHJ1ZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkJhckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnQWN0aW9uQmFyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMS5QYWdlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuY2xhc3MgQWN0aW9uQmFyU2NvcGUge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6Y29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKHBhZ2UpIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgICAgaWYgKCF0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5zaWRlIEFjdGlvbkJhckV4dGVuc2lvbiBidXQgbm8gQWN0aW9uQmFyIGZvdW5kIHRvIGV4dGVuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk5hdkJ1dHRvbkluaXQobmF2QnRuKSB7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIubmF2aWdhdGlvbkJ1dHRvbiA9IG5hdkJ0bi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIG9uTmF2QnV0dG9uRGVzdHJveShuYXZCdG4pIHtcbiAgICAgICAgY29uc3QgbmF2ID0gbmF2QnRuLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKG5hdiAmJiB0aGlzLnBhZ2UuYWN0aW9uQmFyLm5hdmlnYXRpb25CdXR0b24gPT09IG5hdikge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci5uYXZpZ2F0aW9uQnV0dG9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFjdGlvbkluaXQoaXRlbSkge1xuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLmFjdGlvbkl0ZW1zLmFkZEl0ZW0oaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICBvbkFjdGlvbkRlc3Ryb3koaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWN0aW9uQmFyKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLmFjdGlvbkl0ZW1zLnJlbW92ZUl0ZW0oaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlcHM6IFt7IHRva2VuOiBpMS5QYWdlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IEFjdGlvbkJhclNjb3BlLCBzZWxlY3RvcjogXCJBY3Rpb25CYXJFeHRlbnNpb25cIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogJycsIGlzSW5saW5lOiB0cnVlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0FjdGlvbkJhckV4dGVuc2lvbicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxLlBhZ2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5jbGFzcyBBY3Rpb25JdGVtRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvd25lclNjb3BlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub3duZXJTY29wZSA9IG93bmVyU2NvcGU7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbkFjdGlvbkluaXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbkFjdGlvbkRlc3Ryb3kodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25JdGVtRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBBY3Rpb25CYXJTY29wZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBBY3Rpb25JdGVtRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJBY3Rpb25JdGVtXCIsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkl0ZW1EaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0FjdGlvbkl0ZW0nLCAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IEFjdGlvbkJhclNjb3BlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuY2xhc3MgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3duZXJTY29wZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm93bmVyU2NvcGUgPSBvd25lclNjb3BlO1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25OYXZCdXR0b25Jbml0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25OYXZCdXR0b25EZXN0cm95KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogQWN0aW9uQmFyU2NvcGUsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiTmF2aWdhdGlvbkJ1dHRvblwiLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdOYXZpZ2F0aW9uQnV0dG9uJywgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuLyoqXG4gKiBVdGlsaXR5IG1ldGhvZCB0byBlbnN1cmUgYSBOZ01vZHVsZSBpcyBvbmx5IGltcG9ydGVkIG9uY2UgaW4gYSBjb2RlYmFzZSwgb3RoZXJ3aXNlIHdpbGwgdGhyb3cgdG8gaGVscCBwcmV2ZW50IGFjY2lkZW50YWwgZG91YmxlIGltcG9ydGluZ1xuICogQHBhcmFtIHBhcmVudE1vZHVsZSBQYXJlbnQgbW9kdWxlIG5hbWVcbiAqIEBwYXJhbSBtb2R1bGVOYW1lIFRoZSBtb2R1bGUgbmFtZVxuICovXG5mdW5jdGlvbiB0aHJvd0lmQWxyZWFkeUxvYWRlZChwYXJlbnRNb2R1bGUsIG1vZHVsZU5hbWUpIHtcbiAgICBpZiAocGFyZW50TW9kdWxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHttb2R1bGVOYW1lfSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC4gSW1wb3J0ICR7bW9kdWxlTmFtZX0gaW4gdGhlIEFwcE1vZHVsZSBvbmx5LmApO1xuICAgIH1cbn1cbi8qKlxuICogVXRpbGl0eSBtZXRob2Qgd2hpY2ggd2lsbCBvbmx5IGZpcmUgdGhlIGNhbGxiYWNrIG9uY2UgZXZlclxuICogQHBhcmFtIGZuIGNhbGxiYWNrIHRvIGNhbGwgb25seSBvbmNlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgbGV0IHdhc0NhbGxlZCA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICBpZiAod2FzQ2FsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FzQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWQsIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5mdW5jdGlvbiBpc0xpc3RMaWtlSXRlcmFibGUob2JqKSB7XG4gICAgaWYgKCFpc0pzT2JqZWN0KG9iaikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopIHx8XG4gICAgICAgICghKG9iaiBpbnN0YW5jZW9mIE1hcCkgJiYgLy8gSlMgTWFwIGFyZSBpdGVyYWJsZXMgYnV0IHJldHVybiBlbnRyaWVzIGFzIFtrLCB2XVxuICAgICAgICAgICAgU3ltYm9sLml0ZXJhdG9yIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZnVuY3Rpb24gaXNKc09iamVjdChvKSB7XG4gICAgcmV0dXJuIG8gIT09IG51bGwgJiYgKHR5cGVvZiBvID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBvID09PSAnb2JqZWN0Jyk7XG59XG5cbmNvbnN0IE5HX1ZJRVcgPSAnX25nVmlld1JlZic7XG5jb25zdCBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5UID0gbmV3IEluamVjdGlvblRva2VuKCdUZW1wbGF0ZWRJdGVtc0NvbXBvbmVudCcpO1xuY2xhc3MgSXRlbUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCRpbXBsaWNpdCwgaXRlbSwgaW5kZXgsIGV2ZW4sIG9kZCkge1xuICAgICAgICB0aGlzLiRpbXBsaWNpdCA9ICRpbXBsaWNpdDtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmV2ZW4gPSBldmVuO1xuICAgICAgICB0aGlzLm9kZCA9IG9kZDtcbiAgICB9XG59XG5jbGFzcyBOc1RlbXBsYXRlZEl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBsb2NhdGlvbiwgb25DcmVhdGUpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMub25DcmVhdGUgPSBvbkNyZWF0ZTtcbiAgICB9XG4gICAgY3JlYXRlKGNvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMubG9jYXRpb24uY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMudGVtcGxhdGUsIGNvbnRleHQgPyB0aGlzLnNldHVwSXRlbUNvbnRleHQoY29udGV4dCkgOiBuZXcgSXRlbUNvbnRleHQoKSk7XG4gICAgICAgIHZpZXdSZWYuZGV0YWNoKCk7IC8vIGNyZWF0ZSBkZXRhY2hlZCwganVzdCBiZXdhcmUgdGhpcyBkb2Vzbid0IGFsd2F5cyB3b3JrIGFuZCB0aGUgdmlldyBtaWdodCBydW4gdGhlIGZpcnN0IENEIGFueXdheS5cbiAgICAgICAgY29uc3QgcmVzdWx0VmlldyA9IGdldEl0ZW1WaWV3Um9vdCh2aWV3UmVmKTtcbiAgICAgICAgcmVzdWx0Vmlld1tOR19WSUVXXSA9IHZpZXdSZWY7XG4gICAgICAgIGlmICh0aGlzLm9uQ3JlYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ3JlYXRlKHJlc3VsdFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRWaWV3O1xuICAgIH1cbiAgICB1cGRhdGUodmlldywgY29udGV4dCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHRoaXMuc2V0dXBJdGVtQ29udGV4dChjb250ZXh0LCB2aWV3UmVmKTtcbiAgICAgICAgdmlld1JlZj8uZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBhdHRhY2godmlldykge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHZpZXdSZWY/LnJlYXR0YWNoKCk7XG4gICAgICAgIHZpZXdSZWY/LmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgZGV0YWNoKHZpZXcpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgICAgICB2aWV3UmVmPy5kZXRhY2goKTtcbiAgICB9XG4gICAgZGlzcG9zZSh2aWV3KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdmlld1JlZj8uZGVzdHJveSgpO1xuICAgIH1cbiAgICBnZXRFbWJlZGRlZFZpZXdSZWYodmlldykge1xuICAgICAgICBsZXQgdmlld1JlZiA9IHZpZXdbTkdfVklFV107XG4gICAgICAgIC8vIEdldHRpbmcgYW5ndWxhciB2aWV3IGZyb20gb3JpZ2luYWwgZWxlbWVudCAoaW4gY2FzZXMgd2hlbiBQcm94eVZpZXdDb250YWluZXJcbiAgICAgICAgLy8gaXMgdXNlZCBOYXRpdmVTY3JpcHQgaW50ZXJuYWxseSB3cmFwcyBpdCBpbiBhIFN0YWNrTGF5b3V0KVxuICAgICAgICBpZiAoIXZpZXdSZWYgJiYgdmlldyBpbnN0YW5jZW9mIExheW91dEJhc2UgJiYgdmlldy5nZXRDaGlsZHJlbkNvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICB2aWV3UmVmID0gdmlldy5nZXRDaGlsZEF0KDApW05HX1ZJRVddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICBpc1ZhbGlkKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgfVxuICAgIHNldHVwSXRlbUNvbnRleHQoeyBpbmRleCwgZGF0YSB9LCBvbGRWaWV3KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBvbGRWaWV3ID8gb2xkVmlldy5jb250ZXh0IDogbmV3IEl0ZW1Db250ZXh0KCk7XG4gICAgICAgIGNvbnRleHQuJGltcGxpY2l0ID0gZGF0YTtcbiAgICAgICAgY29udGV4dC5pdGVtID0gZGF0YTtcbiAgICAgICAgY29udGV4dC5pbmRleCA9IGluZGV4O1xuICAgICAgICBjb250ZXh0LmV2ZW4gPSBpbmRleCAlIDIgPT09IDA7XG4gICAgICAgIGNvbnRleHQub2RkID0gIWNvbnRleHQuZXZlbjtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxufVxuY2xhc3MgTGlzdFZpZXdDb21wb25lbnQge1xuICAgIGdldCBuYXRpdmVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXc7XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xuICAgIH1cbiAgICBzZXQgaXRlbXModmFsdWUpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB2YWx1ZTtcbiAgICAgICAgbGV0IG5lZWREaWZmZXIgPSB0cnVlO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZhYmxlQXJyYXkpIHtcbiAgICAgICAgICAgIG5lZWREaWZmZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVlZERpZmZlciAmJiAhdGhpcy5fZGlmZmVyICYmIGlzTGlzdExpa2VJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZmZlciA9IHRoaXMuX2l0ZXJhYmxlRGlmZmVycy5maW5kKHRoaXMuX2l0ZW1zKS5jcmVhdGUoKF9pbmRleCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcuaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICB9XG4gICAgLy8gdGhpcyBlbGVtZW50UmVmIGlzIG9ubHkgaGVyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29uc1xuICAgIGNvbnN0cnVjdG9yKF9lbGVtZW50UmVmKSB7XG4gICAgICAgIHRoaXMuX2l0ZXJhYmxlRGlmZmVycyA9IGluamVjdChJdGVyYWJsZURpZmZlcnMpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZiA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBpbmplY3QoRWxlbWVudFJlZik7XG4gICAgICAgIC8vIEkgYmVsaWV2ZSB0aGlzIG9ubHkgZXhpc3RzIHNvIHRoaXMgY2FuIGJlIGluaGVyaXRlZCBhbmQgcGVvcGxlIGNhbiBvdmVycmlkZSBpdC5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcgPSB0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3ZpZXdUb1RlbXBsYXRlID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5zZXR1cEl0ZW1WaWV3ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoX2VsZW1lbnRSZWYpIHtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3ID0gX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coJ1RlbXBsYXRlZEl0ZW1zVmlldy5uZ0FmdGVyQ29udGVudEluaXQoKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0SXRlbVRlbXBsYXRlcygpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0SXRlbVRlbXBsYXRlcygpIHtcbiAgICAgICAgLy8gVGhlIGl0ZW1UZW1wbGF0ZVF1ZXJ5IG1heSBiZSBjaGFuZ2VkIGFmdGVyIGxpc3QgaXRlbXMgYXJlIGFkZGVkIHRoYXQgY29udGFpbiA8dGVtcGxhdGU+IGluc2lkZSxcbiAgICAgICAgLy8gc28gY2FjaGUgYW5kIHVzZSBvbmx5IHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0byBhdm9pZCBlcnJvcnMuXG4gICAgICAgIHRoaXMuZmFsbGJhY2tJdGVtVGVtcGxhdGUgPSB0aGlzLml0ZW1UZW1wbGF0ZVF1ZXJ5O1xuICAgICAgICBpZiAodGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSAmJiAhdGhpcy5fdGVtcGxhdGVNYXA/LmhhcygnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICAvLyBhcHBhcmVudGx5IHlvdSBjYW4gY3JlYXRlIGEgQ29yZSBMaXN0VmlldyB3aXRob3V0IGEgdGVtcGxhdGUuLi5cbiAgICAgICAgICAgIC8vIHdlIGFsc28gYWRkIGEgZmFsbGJhY2sgZGVmYXVsdCBmb3Igd2hlbiB0aGUgdXNlciBzZXRzIG11bHRpcGxlIHRlbXBsYXRlcyBidXQgbm8gdGVtcGxhdGVTZWxlY3RvclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclRlbXBsYXRlKCdkZWZhdWx0JywgdGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICAvLyBzb21ldGltZXMgdGVtcGxhdGVzIGFyZSByZWdpc3RlcmVkIGJlZm9yZSBsb2FkZXIgaXMgcmVhZHksIHNvIHdlIHVwZGF0ZSBoZXJlXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5mb3JFYWNoKCh0KSA9PiAodC5sb2NhdGlvbiA9IHRoaXMubG9hZGVyKSk7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnU2V0dGluZyB0ZW1wbGF0ZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmlldzogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldy5pdGVtVGVtcGxhdGVzID0gdGVtcGxhdGVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyVGVtcGxhdGUoa2V5LCB0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKGByZWdpc3RlclRlbXBsYXRlIGZvciBrZXk6ICR7a2V5fSwgJHt0aGlzLmxvYWRlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5zZXQoa2V5LCBuZXcgTnNUZW1wbGF0ZWRJdGVtKHRlbXBsYXRlLCB0aGlzLmxvYWRlciwgKHYpID0+IHRoaXMuX3ZpZXdUb1RlbXBsYXRlLnNldCh2LCBrZXkpKSk7XG4gICAgfVxuICAgIG9uSXRlbUxvYWRpbmcoYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBhcmdzLmluZGV4O1xuICAgICAgICBjb25zdCBsdmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBjb25zdCBpdGVtcyA9IGx2aWV3Lml0ZW1zO1xuICAgICAgICBjb25zdCBjdXJyZW50SXRlbSA9ICdnZXRJdGVtJyBpbiBpdGVtcyAmJiB0eXBlb2YgaXRlbXMuZ2V0SXRlbSA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZW1zLmdldEl0ZW0oaW5kZXgpIDogaXRlbXNbaW5kZXhdO1xuICAgICAgICBsZXQgdGVtcGxhdGU7XG4gICAgICAgIGlmIChhcmdzLnZpZXcpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKGBvbkl0ZW1Mb2FkaW5nOiAke2luZGV4fSAtIFJldXNpbmcgZXhpc3Rpbmcgdmlld2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlS2V5ID0gdGhpcy5fdmlld1RvVGVtcGxhdGUuZ2V0KGFyZ3Mudmlldyk7XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlS2V5ICYmIGFyZ3MudmlldyBpbnN0YW5jZW9mIExheW91dEJhc2UgJiYgYXJncy52aWV3LmdldENoaWxkcmVuQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUtleSA9IHRoaXMuX3ZpZXdUb1RlbXBsYXRlLmdldChhcmdzLnZpZXcuZ2V0Q2hpbGRBdCgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlS2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyB0ZW1wbGF0ZSB3YXMgbm90IGNyZWF0ZWQgYnkgdXNcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdFcnJvcihgVmlld1JlZmVyZW5jZSBub3QgZm91bmQgZm9yIGl0ZW0gJHtpbmRleH0uIFZpZXcgcmVjeWNsaW5nIGlzIG5vdCB3b3JraW5nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVNYXAuZ2V0KHRlbXBsYXRlS2V5KTtcbiAgICAgICAgICAgIHRlbXBsYXRlLnVwZGF0ZShhcmdzLnZpZXcsIHsgaW5kZXgsIGRhdGE6IGN1cnJlbnRJdGVtIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgbmV2ZXIgZW50ZXIgaWYgaXQgY3JlYXRlcyB0aGUgdmlld1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVLZXkgPSB0eXBlb2YgbHZpZXcuaXRlbVRlbXBsYXRlU2VsZWN0b3IgPT09ICdmdW5jdGlvbicgPyBsdmlldy5pdGVtVGVtcGxhdGVTZWxlY3RvcihjdXJyZW50SXRlbSwgaW5kZXgsIGl0ZW1zKSA6ICdkZWZhdWx0JztcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVNYXAuZ2V0KHRlbXBsYXRlS2V5KTtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdFcnJvcihgVGVtcGxhdGUgZm9yIGtleSAnJHt0ZW1wbGF0ZUtleX0nIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJncy52aWV3ID0gdGVtcGxhdGUuY3JlYXRlKHsgaW5kZXgsIGRhdGE6IGN1cnJlbnRJdGVtIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dXBWaWV3UmVmKHRlbXBsYXRlLmdldEVtYmVkZGVkVmlld1JlZihhcmdzLnZpZXcpLCBjdXJyZW50SXRlbSwgaW5kZXgsIGFyZ3Mudmlldyk7XG4gICAgICAgIHRlbXBsYXRlLmF0dGFjaChhcmdzLnZpZXcpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIHNldHVwVmlld1JlZih2aWV3UmVmLCBkYXRhLCBpbmRleCwgbmF0aXZlRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdmlld1JlZi5jb250ZXh0O1xuICAgICAgICB0aGlzLnNldHVwSXRlbVZpZXcubmV4dCh7IHZpZXc6IHZpZXdSZWYsIG5hdGl2ZUVsZW1lbnQsIGRhdGE6IGRhdGEsIGluZGV4OiBpbmRleCwgY29udGV4dDogY29udGV4dCB9KTtcbiAgICB9XG4gICAgbmdEb0NoZWNrKCkge1xuICAgICAgICBpZiAodGhpcy5fZGlmZmVyKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnbmdEb0NoZWNrKCkgLSBleGVjdXRlIGRpZmZlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX2l0ZW1zKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCduZ0RvQ2hlY2soKSAtIHJlZnJlc2gnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcIkxpc3RWaWV3XCIsIGlucHV0czogeyBpdGVtczogXCJpdGVtc1wiIH0sIG91dHB1dHM6IHsgc2V0dXBJdGVtVmlldzogXCJzZXR1cEl0ZW1WaWV3XCIgfSwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJpdGVtTG9hZGluZ1wiOiBcIm9uSXRlbUxvYWRpbmcoJGV2ZW50KVwiIH0gfSwgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBMaXN0Vmlld0NvbXBvbmVudCkgfV0sIHF1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJpdGVtVGVtcGxhdGVRdWVyeVwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBUZW1wbGF0ZVJlZiwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFRlbXBsYXRlUmVmIH1dLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcImxvYWRlclwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBbXCJsb2FkZXJcIl0sIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8RGV0YWNoZWRDb250YWluZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjbG9hZGVyPjwvbmctY29udGFpbmVyPlxuICA8L0RldGFjaGVkQ29udGFpbmVyPmAsIGlzSW5saW5lOiB0cnVlLCBjaGFuZ2VEZXRlY3Rpb246IGkwLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCB9KTsgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvZmlsZSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIExpc3RWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJvbkl0ZW1Mb2FkaW5nXCIsIG51bGwpO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IExpc3RWaWV3Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdMaXN0VmlldycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPERldGFjaGVkQ29udGFpbmVyPlxuICAgIDxuZy1jb250YWluZXIgI2xvYWRlcj48L25nLWNvbnRhaW5lcj5cbiAgPC9EZXRhY2hlZENvbnRhaW5lcj5gLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBMaXN0Vmlld0NvbXBvbmVudCkgfV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBsb2FkZXI6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogVmlld0NoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbG9hZGVyJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV1cbiAgICAgICAgICAgIH1dLCBzZXR1cEl0ZW1WaWV3OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIGl0ZW1UZW1wbGF0ZVF1ZXJ5OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IENvbnRlbnRDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbVGVtcGxhdGVSZWYsIHsgcmVhZDogVGVtcGxhdGVSZWYsIHN0YXRpYzogZmFsc2UgfV1cbiAgICAgICAgICAgIH1dLCBpdGVtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG9uSXRlbUxvYWRpbmc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdExpc3RlbmVyLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnaXRlbUxvYWRpbmcnLCBbJyRldmVudCddXVxuICAgICAgICAgICAgfV0gfSB9KTtcbmZ1bmN0aW9uIGdldEl0ZW1WaWV3Um9vdCh2aWV3UmVmLCByb290TG9jYXRvciA9IGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKSB7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSByb290TG9jYXRvcih2aWV3UmVmLnJvb3ROb2RlcywgMCk7XG4gICAgcmV0dXJuIHJvb3RWaWV3O1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbmNsYXNzIFRlbXBsYXRlS2V5RGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZVJlZiwgY29tcCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlUmVmID0gdGVtcGxhdGVSZWY7XG4gICAgICAgIHRoaXMuY29tcCA9IGNvbXA7XG4gICAgfVxuICAgIHNldCBuc1RlbXBsYXRlS2V5KHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXAgJiYgdGhpcy50ZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgdGhpcy5jb21wLnJlZ2lzdGVyVGVtcGxhdGUodmFsdWUsIHRoaXMudGVtcGxhdGVSZWYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldCBuc1RlbXBsYXRlS2V5cyh2YWx1ZXMpIHtcbiAgICAgICAgLy8gc2luZ2xlIHRlbXBsYXRlIHdpdGggbXVsdGlwbGUga2V5c1xuICAgICAgICBpZiAodGhpcy5jb21wICYmIHRoaXMudGVtcGxhdGVSZWYgJiYgdmFsdWVzKSB7XG4gICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCgodmFsdWUpID0+IHRoaXMuY29tcC5yZWdpc3RlclRlbXBsYXRlKHZhbHVlLCB0aGlzLnRlbXBsYXRlUmVmKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLlRlbXBsYXRlUmVmIH0sIHsgdG9rZW46IFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQsIGhvc3Q6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW25zVGVtcGxhdGVLZXldLFtuc1RlbXBsYXRlS2V5c11cIiwgaW5wdXRzOiB7IG5zVGVtcGxhdGVLZXk6IFwibnNUZW1wbGF0ZUtleVwiLCBuc1RlbXBsYXRlS2V5czogXCJuc1RlbXBsYXRlS2V5c1wiIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdbbnNUZW1wbGF0ZUtleV0sW25zVGVtcGxhdGVLZXlzXScgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSG9zdFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVF1cbiAgICAgICAgICAgICAgICB9XSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgbnNUZW1wbGF0ZUtleTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG5zVGVtcGxhdGVLZXlzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBGcmFtZVNlcnZpY2Uge1xuICAgIC8vIFRPRE86IEFkZCBhbnkgbWV0aG9kcyB0aGF0IGFyZSBuZWVkZWQgdG8gaGFuZGxlIGZyYW1lL3BhZ2UgbmF2aWdhdGlvblxuICAgIGdldEZyYW1lKCkge1xuICAgICAgICByZXR1cm4gRnJhbWUudG9wbW9zdCgpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lU2VydmljZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lU2VydmljZSwgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgT3V0bGV0IHtcbiAgICBnZXQgaXNQYWdlTmF2aWdhdGlvbkJhY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuc2l6ZSA+IDA7XG4gICAgfVxuICAgIHNldCBpc1BhZ2VOYXZpZ2F0aW9uQmFjayhpc0JhY2spIHtcbiAgICAgICAgaWYgKCFpc0JhY2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuZGVsZXRlKHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5vdXRsZXRLZXlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmFkZChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG91dGxldEtleSwgcGF0aCwgcGF0aEJ5T3V0bGV0cywgbW9kYWxOYXZpZ2F0aW9uRGVwdGgpIHtcbiAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzID0gbmV3IFNldCgpO1xuICAgICAgICAvLyBNb3JlIHRoYW4gb25lIGZyYW1lIGF2YWlsYWJsZSB3aGVuIHVzaW5nIE5TRW1wdHlPdXRsZXRDb21wb25lbnQgY29tcG9uZW50XG4gICAgICAgIC8vIGluIG1vZHVsZSB0aGF0IGxhenkgbG9hZHMgY2hpbGRyZW4gKGxvYWRDaGlsZHJlbikgYW5kIGhhcyBvdXRsZXQgbmFtZS5cbiAgICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbXTtcbiAgICAgICAgLy8gVXNlZCBpbiByZXVzZS1zdHJhdGVneSBieSBpdHMgY2hpbGRyZW4gdG8gZGV0ZXJtaW5lIGlmIHRoZXkgc2hvdWxkIGJlIGRldGFjaGVkIHRvby5cbiAgICAgICAgdGhpcy5zaG91bGREZXRhY2ggPSB0cnVlO1xuICAgICAgICB0aGlzLm91dGxldEtleXMgPSBbb3V0bGV0S2V5XTtcbiAgICAgICAgdGhpcy5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dpbmdNb2RhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vZGFsTmF2aWdhdGlvbkRlcHRoID0gbW9kYWxOYXZpZ2F0aW9uRGVwdGggfHwgMDtcbiAgICAgICAgdGhpcy5wYXRoQnlPdXRsZXRzID0gcGF0aEJ5T3V0bGV0cztcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB9XG4gICAgc2V0T3V0bGV0S2V5TmF2aWdhdGluZ0JhY2soa2V5KSB7XG4gICAgICAgIGNvbnN0IG5lc3RzID0ga2V5LnNwbGl0KCcvJyk7XG4gICAgICAgIHRoaXMub3V0bGV0S2V5c1xuICAgICAgICAgICAgLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpXG4gICAgICAgICAgICAuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmFkZChrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnRhaW5zRnJhbWUoZnJhbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVzLmluZGV4T2YoZnJhbWUpID4gLTE7XG4gICAgfVxuICAgIHBlZWtTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1t0aGlzLnN0YXRlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29udGFpbnNUb3BTdGF0ZShzdGF0ZVVybCkge1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSB0aGlzLnBlZWtTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gbGFzdFN0YXRlICYmIGxhc3RTdGF0ZS5zZWdtZW50R3JvdXAudG9TdHJpbmcoKSA9PT0gc3RhdGVVcmw7XG4gICAgfVxuICAgIC8vIFNlYXJjaCBmb3IgZnJhbWUgdGhhdCBjYW4gZ28gYmFjay5cbiAgICAvLyBOZXN0ZWQgJ3ByaW1hcnknIG91dGxldHMgY291bGQgcmVzdWx0IGluIE91dGxldCB3aXRoIG11bHRpcGxlIG5hdmlnYXRhYmxlIGZyYW1lcy5cbiAgICBnZXRGcmFtZVRvQmFjaygpIHtcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXNbdGhpcy5mcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghdGhpcy5pc05TRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gdGhpcy5mcmFtZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGcmFtZSA9IHRoaXMuZnJhbWVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lLmNhbkdvQmFjaygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gY3VycmVudEZyYW1lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHROYXZPcHRpb25zID0ge1xuICAgIGNsZWFySGlzdG9yeTogZmFsc2UsXG4gICAgYW5pbWF0ZWQ6IHRydWUsXG59O1xuXG5jbGFzcyBOU0xvY2F0aW9uU3RyYXRlZ3kgZXh0ZW5kcyBMb2NhdGlvblN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihmcmFtZVNlcnZpY2UsIHN0YXJ0UGF0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmZyYW1lU2VydmljZSA9IGZyYW1lU2VydmljZTtcbiAgICAgICAgdGhpcy5zdGFydFBhdGggPSBzdGFydFBhdGg7XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IFtdO1xuICAgICAgICB0aGlzLnBvcFN0YXRlQ2FsbGJhY2tzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID0gMDtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5jb25zdHJ1Y3RvcigpJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgIH1cbiAgICBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFVybFRyZWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0UGF0aCB8fCAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmN1cnJlbnRVcmxUcmVlO1xuICAgICAgICBjb25zdCBjaGFuZ2VkT3V0bGV0ID0gdGhpcy5nZXRTZWdtZW50R3JvdXBCeU91dGxldCh0aGlzLmN1cnJlbnRPdXRsZXQpO1xuICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSB0aGUgdXNlciBkZWNsYXJlcyBhIGNvbXBvbmVudCBhdCBwYXRoIFwiL1wiLlxuICAgICAgICAvLyBUaGUgdXJsIHNlcmlhbGl6ZXIgZG9lc24ndCBwYXJzZSB0aGlzIHVybCBhcyBoYXZpbmcgYSBwcmltYXJ5IG91dGxldC5cbiAgICAgICAgaWYgKHN0YXRlLmlzUm9vdFNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgdHJlZS5yb290ID0gc3RhdGUuc2VnbWVudEdyb3VwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgc3RhdGUuc2VnbWVudEdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmxTZXJpYWxpemVyID0gbmV3IERlZmF1bHRVcmxTZXJpYWxpemVyKCk7XG4gICAgICAgIHRyZWUucXVlcnlQYXJhbXMgPSBzdGF0ZS5xdWVyeVBhcmFtcztcbiAgICAgICAgY29uc3QgdXJsID0gdXJsU2VyaWFsaXplci5zZXJpYWxpemUodHJlZSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucGF0aCgpOiAnICsgdXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICBwcmVwYXJlRXh0ZXJuYWxVcmwoaW50ZXJuYWwpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wcmVwYXJlRXh0ZXJuYWxVcmwoKSBpbnRlcm5hbDogJyArIGludGVybmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW50ZXJuYWw7XG4gICAgfVxuICAgIHB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wdXNoU3RhdGUgc3RhdGU6ICcgKyBgJHtzdGF0ZX0sIHRpdGxlOiAke3RpdGxlfSwgdXJsOiAke3VybH0sIHF1ZXJ5UGFyYW1zOiAke3F1ZXJ5UGFyYW1zfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zKTtcbiAgICB9XG4gICAgcHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdXJsU2VyaWFsaXplciA9IG5ldyBEZWZhdWx0VXJsU2VyaWFsaXplcigpO1xuICAgICAgICB0aGlzLmN1cnJlbnRVcmxUcmVlID0gdXJsU2VyaWFsaXplci5wYXJzZSh1cmwpO1xuICAgICAgICBjb25zdCB1cmxUcmVlUm9vdCA9IHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgZGVjbGFyZXMgYSBjb21wb25lbnQgYXQgcGF0aCBcIi9cIi5cbiAgICAgICAgLy8gVGhlIHVybCBzZXJpYWxpemVyIGRvZXNuJ3QgcGFyc2UgdGhpcyB1cmwgYXMgaGF2aW5nIGEgcHJpbWFyeSBvdXRsZXQuXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModXJsVHJlZVJvb3QuY2hpbGRyZW4pLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudEdyb3VwID0gdGhpcy5jdXJyZW50VXJsVHJlZSAmJiB0aGlzLmN1cnJlbnRVcmxUcmVlLnJvb3Q7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleSh0aGlzLmdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKHNlZ21lbnRHcm91cCksICdwcmltYXJ5Jyk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQob3V0bGV0S2V5KTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQgJiYgdGhpcy51cGRhdGVTdGF0ZXMob3V0bGV0LCBzZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0OyAvLyBJZiBzdGF0ZXMgdXBkYXRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW91dGxldCkge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICBjb25zdCByb290T3V0bGV0ID0gdGhpcy5jcmVhdGVPdXRsZXQoJ3ByaW1hcnknLCBudWxsLCBzZWdtZW50R3JvdXAsIG51bGwsIG51bGwsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHJvb3RPdXRsZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCkuaXNSb290U2VnbWVudEdyb3VwID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudFRyZWUgPSB1cmxUcmVlUm9vdDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRUcmVlKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjdXJyZW50VHJlZS5jaGlsZHJlbikuZm9yRWFjaCgob3V0bGV0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWdtZW50R3JvdXAgPSBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudEdyb3VwLm91dGxldCA9IG91dGxldE5hbWU7XG4gICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnRHcm91cC5yb290ID0gdXJsVHJlZVJvb3Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0UGF0aCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoY3VycmVudFRyZWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KG91dGxldFBhdGgsIG91dGxldE5hbWUpO1xuICAgICAgICAgICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQob3V0bGV0S2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXROYW1lID0gY3VycmVudFRyZWUub3V0bGV0IHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldFBhdGggPSB0aGlzLmdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKGN1cnJlbnRUcmVlLnBhcmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0S2V5ID0gdGhpcy5nZXRPdXRsZXRLZXkocGFyZW50T3V0bGV0UGF0aCwgcGFyZW50T3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0KHBhcmVudE91dGxldEtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbnNMYXN0U3RhdGUgPSBvdXRsZXQgJiYgb3V0bGV0LmNvbnRhaW5zVG9wU3RhdGUoY3VycmVudFNlZ21lbnRHcm91cC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dGxldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIG91dGxldCA9IHRoaXMuY3JlYXRlT3V0bGV0KG91dGxldEtleSwgb3V0bGV0UGF0aCwgY3VycmVudFNlZ21lbnRHcm91cCwgcGFyZW50T3V0bGV0LCB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAwICYmIG91dGxldC5zaG93aW5nTW9kYWwgJiYgIWNvbnRhaW5zTGFzdFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRpb24gaW5zaWRlIG1vZGFsIHZpZXcuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBzZXJ0TW9kYWxPdXRsZXQob3V0bGV0LCBjdXJyZW50U2VnbWVudEdyb3VwLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zLCByZXBsYWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dGxldC5wYXJlbnQgPSBwYXJlbnRPdXRsZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlcyhvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7IC8vIElmIHN0YXRlcyB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChjdXJyZW50U2VnbWVudEdyb3VwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudFRyZWUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5jdXJyZW50T3V0bGV0ICYmIHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXM7XG4gICAgICAgIGlmIChzdGF0ZXMgJiYgc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnJlcGxhY2VTdGF0ZSBjaGFuZ2luZyBleGlzdGluZyBzdGF0ZTogJyArIGAke3N0YXRlfSwgdGl0bGU6ICR7dGl0bGV9LCB1cmw6ICR7dXJsfSwgcXVlcnlQYXJhbXM6ICR7cXVlcnlQYXJhbXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZUludGVybmFsKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5yZXBsYWNlU3RhdGUgcHVzaGluZyBuZXcgc3RhdGU6ICcgKyBgJHtzdGF0ZX0sIHRpdGxlOiAke3RpdGxlfSwgdXJsOiAke3VybH0sIHF1ZXJ5UGFyYW1zOiAke3F1ZXJ5UGFyYW1zfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcndhcmQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTlNMb2NhdGlvblN0cmF0ZWd5LmZvcndhcmQoKSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBiYWNrKG91dGxldCwgZnJhbWUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0IHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcztcbiAgICAgICAgICAgIC8vIFdlIGFyZSBuYXZpZ2F0aW5nIHRvIHRoZSBwcmV2aW91cyBwYWdlXG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgc3RhY2sgdW50aWwgd2UgZ2V0IHRvIGEgcGFnZSBuYXZpZ2F0aW9uIHN0YXRlXG4gICAgICAgICAgICBsZXQgc3RhdGUgPSBzdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YXRlLmZyYW1lICYmIHN0YXRlLmZyYW1lICE9PSBmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoIXN0YXRlLmlzUGFnZU5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5hdmlnYXRpbmcgYmFjay4gU3RhdGVzIHBvcHBlZDogJHtjb3VudH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsbFBvcFN0YXRlKHN0YXRlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlLmlzUGFnZU5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdhcyBhIHBhZ2UgbmF2aWdhdGlvbiAtIHNvIG5hdmlnYXRlIHRocm91Z2ggZnJhbWUuXG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmJhY2soKSB3aGlsZSBub3QgbmF2aWdhdGluZyBiYWNrIGJ1dCB0b3AnICsgJyBzdGF0ZSBpcyBwYWdlIC0gd2lsbCBjYWxsIGZyYW1lLmdvQmFjaygpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcG1vc3RGcmFtZSA9IHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZSh0b3Btb3N0RnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWVUb0JhY2sgPSB0aGlzLmN1cnJlbnRPdXRsZXQuZ2V0RnJhbWVUb0JhY2soKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVUb0JhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVUb0JhY2suZ29CYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVzdGVkIG5hdmlnYXRpb24gLSBqdXN0IHBvcCB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5vdCBuYXZpZ2F0aW5nIGJhY2sgYnV0IHRvcCcgKyAnIHN0YXRlIGlzIG5vdCBwYWdlIC0ganVzdCBwb3AnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUodGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcy5wb3AoKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuR29CYWNrKG91dGxldCkge1xuICAgICAgICBvdXRsZXQgPSBvdXRsZXQgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICByZXR1cm4gb3V0bGV0LnN0YXRlcy5sZW5ndGggPiAxO1xuICAgIH1cbiAgICBvblBvcFN0YXRlKGZuKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kub25Qb3BTdGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9wU3RhdGVDYWxsYmFja3MucHVzaChmbik7XG4gICAgfVxuICAgIGdldEJhc2VIcmVmKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmdldEJhc2VIcmVmKCknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNhbGxQb3BTdGF0ZShzdGF0ZSwgcG9wID0gdHJ1ZSwgb3V0bGV0KSB7XG4gICAgICAgIG91dGxldCA9IG91dGxldCB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIGNvbnN0IHVybFNlcmlhbGl6ZXIgPSBuZXcgRGVmYXVsdFVybFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgY29uc3QgY2hhbmdlZE91dGxldCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQob3V0bGV0KTtcbiAgICAgICAgaWYgKHN0YXRlICYmIGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRoaXMuY3VycmVudFVybFRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgc3RhdGUuc2VnbWVudEdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VkT3V0bGV0KSB7XG4gICAgICAgICAgICAvLyB3aGVuIGNsb3NpbmcgbW9kYWwgdmlldyB0aGVyZSBhcmUgc2NlbmFyaW9zIChlLmcuIHJvb3Qgdmlld0NvbnRhaW5lclJlZikgd2hlbiB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBjbGVhbiB1cCB0aGUgbmFtZWQgcGFnZSByb3V0ZXIgb3V0bGV0IHRvIG1ha2Ugc3VyZSB3ZSB3aWxsIG9wZW4gdGhlIG1vZGFsIHByb3Blcmx5IGFnYWluIGlmIG5lZWRlZC5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRoaXMuY3VycmVudFVybFRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsID0gdXJsU2VyaWFsaXplci5zZXJpYWxpemUodGhpcy5jdXJyZW50VXJsVHJlZSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZSA9IHsgc3RhdGUsIHR5cGU6ICdwb3BzdGF0ZScgfTtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiB0aGlzLnBvcFN0YXRlQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBmbihjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIHRoaXMub3V0bGV0cy5mb3JFYWNoKChvdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldFN0YXRlcyA9IG91dGxldC5zdGF0ZXM7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRMb2cgPSBvdXRsZXRTdGF0ZXNcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgLm1hcCgodiwgaSkgPT4gYCR7b3V0bGV0Lm91dGxldEtleXN9LiR7aX0uWyR7di5pc1BhZ2VOYXZpZ2F0aW9uID8gJ1BBR0UnIDogJ0lOVEVSTkFMJ31dLlske291dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA/ICdNT0RBTCcgOiAnQkFTRSd9XSBcIiR7di5zZWdtZW50R3JvdXAudG9TdHJpbmcoKX1cImApXG4gICAgICAgICAgICAgICAgLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQob3V0bGV0TG9nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignXFxuJyk7XG4gICAgfVxuICAgIC8vIE1ldGhvZHMgZm9yIHN5bmNpbmcgd2l0aCBwYWdlIG5hdmlnYXRpb24gaW4gUGFnZVJvdXRlck91dGxldFxuICAgIF9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbihmcmFtZSwgb3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSk7XG4gICAgICAgIGlmICghb3V0bGV0IHx8IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIHN0YXJ0R29CYWNrIHdoaWxlIGdvaW5nIGJhY2suJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5zdGFydEdvQmFjaygpJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0bGV0LnNldE91dGxldEtleU5hdmlnYXRpbmdCYWNrKG91dGxldEtleSk7XG4gICAgICAgIC8vIG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IHRydWU7XG4gICAgICAgIC8vIHdlIGZpbmQgYWxsIHRoZSBjaGlsZHJlbiBhbmQgYWxzbyBzZXQgdGhlaXIgaXNQYWdlTmF2aWdhdGlvbkJhY2tcbiAgICAgICAgdGhpcy5vdXRsZXRzXG4gICAgICAgICAgICAuZmlsdGVyKChvKSA9PiB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gby5wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goKG8pID0+IChvLmlzUGFnZU5hdmlnYXRpb25CYWNrID0gdHJ1ZSkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgfVxuICAgIF9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24oZnJhbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKTtcbiAgICAgICAgaWYgKCFvdXRsZXQgfHwgIW91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIGVuZEdvQmFjayB3aGlsZSBub3QgZ29pbmcgYmFjay4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrID0gZmFsc2U7XG4gICAgfVxuICAgIF9iZWdpbk1vZGFsTmF2aWdhdGlvbihmcmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Ll9iZWdpbk1vZGFsTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKSB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgZnJhbWUsIGJ1dCBub3QgY29ycmVzcG9uZGluZyBPdXRsZXQsIGlmXG4gICAgICAgIC8vIHNob3dpbmcgbW9kYWwgZGlhbG9nIG9uIGFwcC5jb21wb25lbnQudHMgbmdPbkluaXQoKSBlLmcuIEluIHRoYXQgY2FzZVxuICAgICAgICAvLyB0aGUgbW9kYWwgaXMgdHJlYXRlZCBhcyBub25lIG1vZGFsIG5hdmlnYXRpb24uXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zaG93aW5nTW9kYWwgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xvc2VNb2RhbE5hdmlnYXRpb24oKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuY2xvc2VNb2RhbE5hdmlnYXRpb24oKScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU2hvd2luZ01vZGFsID0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAwO1xuICAgICAgICBpZiAoaXNTaG93aW5nTW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudE91dGxldCBzaG91bGQgYmUgdGhlIG9uZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB0b3Btb3N0IGZyYW1lXG4gICAgICAgIGNvbnN0IHRvcG1vc3RPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUodGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKSk7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5TW9kYWwodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgsIGlzU2hvd2luZ01vZGFsKSB8fCB0b3Btb3N0T3V0bGV0O1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQuc2hvd2luZ01vZGFsID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZSh0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCksIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgYW5ndWxhciBkb2VzIGEgc2V0VGltZW91dCBvbiBvblBvcFN0YXRlLCBzbyBpZiB3ZSBkb24ndCBkbyB0aGlzIHdlIG1pZ2h0IGVuZCB1cCB3aXRoIGluY29uc2lzdGVudCBzdGF0ZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYmVnaW5QYWdlTmF2aWdhdGlvbihmcmFtZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Ll9iZWdpblBhZ2VOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICBpZiAobGFzdFN0YXRlKSB7XG4gICAgICAgICAgICBsYXN0U3RhdGUuaXNQYWdlTmF2aWdhdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2T3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdE5hdk9wdGlvbnM7XG4gICAgICAgIGlmIChuYXZPcHRpb25zLmNsZWFySGlzdG9yeSkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24gY2xlYXJpbmcgc3RhdGVzIGhpc3RvcnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXMgPSBbbGFzdFN0YXRlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF2T3B0aW9ucztcbiAgICB9XG4gICAgX2dldE91dGxldHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHM7XG4gICAgfVxuICAgIHVwZGF0ZU91dGxldEZyYW1lKG91dGxldCwgZnJhbWUsIGlzRW1wdHlPdXRsZXRGcmFtZSkge1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBvdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgIGlmIChsYXN0U3RhdGUgJiYgIWxhc3RTdGF0ZS5mcmFtZSAmJiAhaXNFbXB0eU91dGxldEZyYW1lKSB7XG4gICAgICAgICAgICBsYXN0U3RhdGUuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgb3V0bGV0LmZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgfVxuICAgIGNsZWFyT3V0bGV0KGZyYW1lKSB7XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IHRoaXMub3V0bGV0cy5maWx0ZXIoKGN1cnJlbnRPdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0VxdWFsVG9DdXJyZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldCkge1xuICAgICAgICAgICAgICAgIGlzRXF1YWxUb0N1cnJlbnQgPSBjdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHMgPT09IHRoaXMuY3VycmVudE91dGxldC5wYXRoQnlPdXRsZXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIG91dGxldCBmcm9tIHRoZSB1cmwgdHJlZS5cbiAgICAgICAgICAgIGlmIChjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpICYmICFpc0VxdWFsVG9DdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUobnVsbCwgdHJ1ZSwgY3VycmVudE91dGxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTa2lwIGZyYW1lcyBmaWx0ZXJpbmcgc2luY2UgY3VycmVudE91dGxldCBpcyA8cm91dGVyLW91dGxldD4gd2hlbiBubyBmcmFtZXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKGN1cnJlbnRPdXRsZXQuZnJhbWVzLmxlbmd0aCAmJiAhY3VycmVudE91dGxldC5pc05TRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50T3V0bGV0LmZyYW1lcyA9IGN1cnJlbnRPdXRsZXQuZnJhbWVzLmZpbHRlcigoY3VycmVudEZyYW1lKSA9PiBjdXJyZW50RnJhbWUgIT09IGZyYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE91dGxldC5mcmFtZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICFjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoc2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGxldCBmdWxsUGF0aCA9ICcnO1xuICAgICAgICB3aGlsZSAoc2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBzZWdtZW50R3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChmdWxsUGF0aCkge1xuICAgICAgICAgICAgICAgIGZ1bGxQYXRoID0gKHVybCA/IHVybCArICcvJyA6ICcnKSArIGZ1bGxQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnVsbFBhdGggPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBzZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsUGF0aDtcbiAgICB9XG4gICAgZ2V0Um91dGVGdWxsUGF0aChjdXJyZW50Um91dGUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IGN1cnJlbnRSb3V0ZS5vdXRsZXQ7XG4gICAgICAgIGxldCBmdWxsUGF0aDtcbiAgICAgICAgY3VycmVudFJvdXRlID0gY3VycmVudFJvdXRlLnBhcmVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgY29uc3QgdXJscyA9IGN1cnJlbnRSb3V0ZS51cmwudmFsdWUgfHwgY3VycmVudFJvdXRlLnVybDtcbiAgICAgICAgICAgIGxldCB1cmwgPSB1cmxzO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXJscykpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuam9pbignLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVsbFBhdGggPSBmdWxsUGF0aCA/ICh1cmwgPyB1cmwgKyAnLycgOiB1cmwpICsgZnVsbFBhdGggOiB1cmw7XG4gICAgICAgICAgICBjdXJyZW50Um91dGUgPSBjdXJyZW50Um91dGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsUGF0aCA/IGZ1bGxQYXRoICsgJy0nICsgb3V0bGV0TmFtZSA6IG91dGxldE5hbWU7XG4gICAgfVxuICAgIGdldFBhdGhCeU91dGxldHModXJsU2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGlmICghdXJsU2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhdGhUb091dGxldDtcbiAgICAgICAgbGV0IGxhc3RQYXRoID0gdXJsU2VnbWVudEdyb3VwLm91dGxldCB8fCAncHJpbWFyeSc7XG4gICAgICAgIGxldCBwYXJlbnQgPSB1cmxTZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICB3aGlsZSAocGFyZW50ICYmIHVybFNlZ21lbnRHcm91cC5yb290ICE9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50Lm91dGxldCAhPT0gbGFzdFBhdGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhdGggPT09ICdwcmltYXJ5Jykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGF0aCA9IHBhcmVudC5vdXRsZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGF0aCA9IHBhcmVudC5vdXRsZXQ7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhUb091dGxldCA9IGxhc3RQYXRoICsgJy0nICsgKHBhdGhUb091dGxldCB8fCB1cmxTZWdtZW50R3JvdXAub3V0bGV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoVG9PdXRsZXQgfHwgbGFzdFBhdGg7XG4gICAgfVxuICAgIGZpbmRPdXRsZXQob3V0bGV0S2V5LCBhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7XG4gICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLm91dGxldHMuZmluZCgoY3VycmVudE91dGxldCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXF1YWxNb2RhbERlcHRoID0gY3VycmVudE91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGg7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxNb2RhbERlcHRoICYmIGN1cnJlbnRPdXRsZXQub3V0bGV0S2V5cy5pbmRleE9mKG91dGxldEtleSkgPiAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE5vIE91dGxldCB3aXRoIHRoZSBnaXZlbiBvdXRsZXRLZXkgY291bGQgaGFwcGVuIHdoZW4gdXNpbmcgbmVzdGVkIHVubmFtZWQgcC1yLW9cbiAgICAgICAgLy8gcHJpbWFyeSAtPiBwcmltYXJ5IC0+IHByeW1hcnlcbiAgICAgICAgaWYgKCFvdXRsZXQgJiYgYWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgICAgICAgICAgY29uc3QgcGF0aEJ5T3V0bGV0cyA9IHRoaXMuZ2V0UGF0aEJ5T3V0bGV0cyhhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMub3V0bGV0cy5maW5kKChjdXJyZW50T3V0bGV0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1YWxNb2RhbERlcHRoID0gY3VycmVudE91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVxdWFsTW9kYWxEZXB0aCAmJiBjdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHMgPT09IHBhdGhCeU91dGxldHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICBmaW5kT3V0bGV0QnlNb2RhbChtb2RhbE5hdmlnYXRpb24sIGlzU2hvd2luZ01vZGFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHMuZmluZCgob3V0bGV0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcXVhbE1vZGFsRGVwdGggPSBvdXRsZXQubW9kYWxOYXZpZ2F0aW9uRGVwdGggPT09IG1vZGFsTmF2aWdhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBpc1Nob3dpbmdNb2RhbCA/IGVxdWFsTW9kYWxEZXB0aCAmJiBvdXRsZXQuc2hvd2luZ01vZGFsIDogZXF1YWxNb2RhbERlcHRoO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSkge1xuICAgICAgICBsZXQgb3V0bGV0O1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5vdXRsZXRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE91dGxldCA9IHRoaXMub3V0bGV0c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoY3VycmVudE91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgICAgIG91dGxldCA9IGN1cnJlbnRPdXRsZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGVzKG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBpc05ld1BhZ2UgPSBvdXRsZXQuc3RhdGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gb3V0bGV0LnN0YXRlc1tvdXRsZXQuc3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBlcXVhbFN0YXRlVXJscyA9IG91dGxldC5jb250YWluc1RvcFN0YXRlKGN1cnJlbnRTZWdtZW50R3JvdXAudG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uU3RhdGUgPSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXA6IGN1cnJlbnRTZWdtZW50R3JvdXAsXG4gICAgICAgICAgICBpc1Jvb3RTZWdtZW50R3JvdXA6IGZhbHNlLFxuICAgICAgICAgICAgaXNQYWdlTmF2aWdhdGlvbjogaXNOZXdQYWdlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHsgLi4ucXVlcnlQYXJhbXMgfSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFsYXN0U3RhdGUgfHwgIWVxdWFsU3RhdGVVcmxzKSB7XG4gICAgICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgICAgICAgIG91dGxldC5zdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXQuc3RhdGVzLnB1c2gobG9jYXRpb25TdGF0ZSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgbGFzdCBzdGF0ZSBzZWdtZW50R3JvdXAgb2YgcGFyZW50IE91dGxldC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gMCAmJiAhb3V0bGV0LnNob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFyZW50c1N0YXRlcyhvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAucGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiBlcXVhbFN0YXRlVXJscykge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBxdWVyeSBwYXJhbXMgZm9yIGxhc3Qgc3RhdGVcbiAgICAgICAgICAgICAgICBsYXN0U3RhdGUucXVlcnlQYXJhbXMgPSB7IC4uLnF1ZXJ5UGFyYW1zIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1cGRhdGVQYXJlbnRzU3RhdGVzKG91dGxldCwgbmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGxldCBwYXJlbnRPdXRsZXQgPSBvdXRsZXQucGFyZW50O1xuICAgICAgICAvLyBVcGRhdGUgcGFyZW50cyBsYXN0U3RhdGUgc2VnbWVudEdyb3Vwc1xuICAgICAgICB3aGlsZSAocGFyZW50T3V0bGV0ICYmIG5ld1NlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBwYXJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zZWdtZW50R3JvdXAgPSBuZXdTZWdtZW50R3JvdXA7XG4gICAgICAgICAgICAgICAgbmV3U2VnbWVudEdyb3VwID0gbmV3U2VnbWVudEdyb3VwLnBhcmVudDtcbiAgICAgICAgICAgICAgICBwYXJlbnRPdXRsZXQgPSBwYXJlbnRPdXRsZXQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBjcmVhdGVPdXRsZXQob3V0bGV0S2V5LCBwYXRoLCBzZWdtZW50R3JvdXAsIHBhcmVudCwgbW9kYWxOYXZpZ2F0aW9uLCBxdWVyeVBhcmFtcyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHBhdGhCeU91dGxldHMgPSB0aGlzLmdldFBhdGhCeU91dGxldHMoc2VnbWVudEdyb3VwKTtcbiAgICAgICAgY29uc3QgbmV3T3V0bGV0ID0gbmV3IE91dGxldChvdXRsZXRLZXksIHBhdGgsIHBhdGhCeU91dGxldHMsIG1vZGFsTmF2aWdhdGlvbik7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uU3RhdGUgPSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXA6IHNlZ21lbnRHcm91cCxcbiAgICAgICAgICAgIGlzUm9vdFNlZ21lbnRHcm91cDogZmFsc2UsXG4gICAgICAgICAgICBpc1BhZ2VOYXZpZ2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHsgLi4ucXVlcnlQYXJhbXMgfSxcbiAgICAgICAgfTtcbiAgICAgICAgbmV3T3V0bGV0LnN0YXRlcyA9IFtsb2NhdGlvblN0YXRlXTtcbiAgICAgICAgbmV3T3V0bGV0LnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vdXRsZXRzLnB1c2gobmV3T3V0bGV0KTtcbiAgICAgICAgLy8gVXBkYXRlIGxhc3Qgc3RhdGUgc2VnbWVudEdyb3VwIG9mIHBhcmVudCBPdXRsZXQuXG4gICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gMCAmJiAhbmV3T3V0bGV0LnNob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJlbnRzU3RhdGVzKG5ld091dGxldCwgc2VnbWVudEdyb3VwLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld091dGxldDtcbiAgICB9XG4gICAgZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQob3V0bGV0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhMaXN0ID0gb3V0bGV0LnBhdGhCeU91dGxldHMuc3BsaXQoJy0nKTtcbiAgICAgICAgbGV0IHNlZ21lbnRHcm91cCA9IHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgbGV0IHBhdGhUb091dGxldDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdGhMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSBwYXRoTGlzdFtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gT2JqZWN0LmtleXMoc2VnbWVudEdyb3VwLmNoaWxkcmVuKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5Db3VudCAmJiBzZWdtZW50R3JvdXAuY2hpbGRyZW5bY3VycmVudFBhdGhdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gc2VnbWVudEdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcGF0aFRvT3V0bGV0ID0gcGF0aFRvT3V0bGV0ID8gcGF0aFRvT3V0bGV0ICsgJy8nICsgdXJsIDogdXJsO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IHNlZ21lbnRHcm91cC5jaGlsZHJlbltjdXJyZW50UGF0aF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBubyBjaGlsZCBvdXRsZXQgZm91bmQgd2l0aCB0aGUgZ2l2ZW4gbmFtZSAtIGZvcmdldCBhYm91dCBhbGwgcHJldmlvdXNseSBmb3VuZCBvdXRsZXRzLlxuICAgICAgICAgICAgICAgIC8vIGV4YW1wbGU6IHNlYWNoaW5nIGZvciAncHJpbWFyeS1zZWNvbmQtcHJpbWFyeScgc2hvdWxkbid0IHJldHVybiAncHJpbWFyeS1zZWNvbmQnXG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gJ3ByaW1hcnknIGNoaWxkIGF2YWlsYWJsZSBvbiAnc2Vjb25kJy5cbiAgICAgICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBhdGhzIHNob3VsZCBhbHNvIG1hdGNoIHNpbmNlIHRoZXJlIGNvdWxkIGJlIGFub3RoZXIgT3V0bGV0XG4gICAgICAgIC8vIHdpdGggdGhlIHNhbWUgcGF0aEJ5T3V0bGV0cyBidXQgZGlmZmVyZW50IHVybCBwYXRoLlxuICAgICAgICBpZiAoc2VnbWVudEdyb3VwICYmIG91dGxldC5wYXRoICYmIHBhdGhUb091dGxldCAmJiBvdXRsZXQucGF0aCAhPT0gcGF0aFRvT3V0bGV0KSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWdtZW50R3JvdXA7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNhbCBhbmQgcmVwbGFjZW1lbnQgb2Ygc2VnbWVudEdyb3VwLlxuICAgIHVwZGF0ZVNlZ21lbnRHcm91cChyb290Tm9kZSwgb2xkU2VnbWVudEdyb3VwLCBuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgY29uc3QgcXVldWUgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRUcmVlID0gcm9vdE5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50VHJlZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY3VycmVudFRyZWUuY2hpbGRyZW4pLmZvckVhY2goKG91dGxldE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV0gPT09IG9sZFNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXSA9IG5ld1NlZ21lbnRHcm91cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudFRyZWUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwc2VydE1vZGFsT3V0bGV0KHBhcmVudE91dGxldCwgc2VnbWVudGVkR3JvdXAsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRNb2RhbE91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5TW9kYWwodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgpO1xuICAgICAgICAvLyBXZSB3YW50IHRvIHRyZWF0IGV2ZXJ5IHAtci1vIGFzIGEgc3RhbmRhbG9uZSBPdXRsZXQuXG4gICAgICAgIGlmICghY3VycmVudE1vZGFsT3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHBhcmVudCBvZiB0aGUgY3VycmVudCBPdXRsZXQgc2hvdWxkIGJlIHRoZSBwcmV2aW91cyBvcGVuZWQgbW9kYWwgKGlmIGFueSkuXG4gICAgICAgICAgICAgICAgcGFyZW50T3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlNb2RhbCh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8gY3VycmVudE1vZGFsT3V0bGV0IGF2YWlsYWJsZSB3aGVuIG9wZW5pbmcgJ3ByaW1hcnknIHAtci1vLlxuICAgICAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9ICdwcmltYXJ5JztcbiAgICAgICAgICAgIGNvbnN0IG91dGxldFBhdGggPSBwYXJlbnRPdXRsZXQucGVla1N0YXRlKCkuc2VnbWVudEdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleShvdXRsZXRQYXRoLCBvdXRsZXROYW1lKTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgIGN1cnJlbnRNb2RhbE91dGxldCA9IHRoaXMuY3JlYXRlT3V0bGV0KG91dGxldEtleSwgb3V0bGV0UGF0aCwgc2VnbWVudGVkR3JvdXAsIHBhcmVudE91dGxldCwgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IGN1cnJlbnRNb2RhbE91dGxldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnVwZGF0ZVN0YXRlcyhjdXJyZW50TW9kYWxPdXRsZXQsIHNlZ21lbnRlZEdyb3VwLCBxdWVyeVBhcmFtcywgcmVwbGFjZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IGN1cnJlbnRNb2RhbE91dGxldDsgLy8gSWYgc3RhdGVzIHVwZGF0ZWRcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRPdXRsZXRLZXkocGF0aCwgb3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gcGF0aCA/IHBhdGggKyAnLScgKyBvdXRsZXROYW1lIDogb3V0bGV0TmFtZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kubmdPbkRlc3Ryb3koKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSwgZGVwczogW3sgdG9rZW46IEZyYW1lU2VydmljZSB9LCB7IHRva2VuOiBTVEFSVF9QQVRILCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBwcm92aWRlZEluOiAncm9vdCcgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogRnJhbWVTZXJ2aWNlIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtTVEFSVF9QQVRIXVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuY2xhc3MgTW9kYWxEaWFsb2dQYXJhbXMge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQgPSB7fSwgY2xvc2VDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmNsb3NlQ2FsbGJhY2sgPSBjbG9zZUNhbGxiYWNrO1xuICAgIH1cbn1cbmNsYXNzIE1vZGFsRGlhbG9nU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IobG9jYXRpb24sIHpvbmUsIGFwcFJlZiwgZGVmYXVsdEluamVjdG9yKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy56b25lID0gem9uZTtcbiAgICAgICAgdGhpcy5hcHBSZWYgPSBhcHBSZWY7XG4gICAgICAgIHRoaXMuZGVmYXVsdEluamVjdG9yID0gZGVmYXVsdEluamVjdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbnl0aW1lIGEgbW9kYWwgaXMgY2xvc2VkIHdpdGggdGhlIE1vZGFsRGlhbG9nUGFyYW1zIHdoaWNoIHdlcmUgaW5qZWN0ZWQgaW50byB0aGUgY29tcG9uZW50IHdoaWNoIGlzIG5vdyBjbG9zaW5nLlxuICAgICAqIEZvciBleGFtcGxlLCBjYW4gYmUgdXNlZCB0byB3aXJlIHVwIFJ4IGZsb3dzIG91dHNpZGUgdGhlIHNjb3BlIG9mIGp1c3QgdGhlIGNvbXBvbmVudCBiZWluZyBoYW5kbGVkLlxuICAgICAqL1xuICAgIGdldCBjbG9zZWQkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2Nsb3NlZCQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlZCQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9zZWQkO1xuICAgIH1cbiAgICBzaG93TW9kYWwodHlwZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8vIGlmICghb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKCdObyB2aWV3Q29udGFpbmVyUmVmOiAnICsgJ01ha2Ugc3VyZSB5b3UgcGFzcyB2aWV3Q29udGFpbmVyUmVmIGluIE1vZGFsRGlhbG9nT3B0aW9ucy4nKTtcbiAgICAgICAgLy8gfVxuICAgICAgICBsZXQgcGFyZW50VmlldyA9IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZj8uZWxlbWVudC5uYXRpdmVFbGVtZW50IHx8IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk7XG4gICAgICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgocGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RWaWV3IHx8IHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0QXN5bmNWaWV3KSAmJiBwYXJlbnRWaWV3Lm5nQXBwUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcubmdBcHBSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIF9uZ0RpYWxvZ1Jvb3QgaXMgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBwcmV2aW91c2x5IGRldGFjaGVkIHByb3h5LlxuICAgICAgICAvLyBJdCBzaG91bGQgaGF2ZSAndmlld0NvbnRyb2xsZXInIChpT1MpIG9yICdfZGlhbG9nRnJhZ21lbnQnIChBbmRyb2lkKSBhdmFpbGFibGUgZm9yXG4gICAgICAgIC8vIHByZXNlbnRpbmcgZnV0dXJlIG1vZGFsIHZpZXdzLlxuICAgICAgICBpZiAocGFyZW50Vmlldy5fbmdEaWFsb2dSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5fbmdEaWFsb2dSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgZnJvbSBwYXJ0aWN1bGFyIG1vZHVsZSAobW9kdWxlUmVmKVxuICAgICAgICAvLyBvciBmcm9tIHNhbWUgbW9kdWxlIGFzIHBhcmVudFZpZXcgKHZpZXdDb250YWluZXJSZWYpXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEluamVjdG9yID0gb3B0aW9ucy5tb2R1bGVSZWY/LmluamVjdG9yIHx8IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZj8uaW5qZWN0b3IgfHwgdGhpcy5kZWZhdWx0SW5qZWN0b3I7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gY29tcG9uZW50SW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcik7XG4gICAgICAgIGxldCBmcmFtZSA9IHBhcmVudFZpZXc7XG4gICAgICAgIGlmICghKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBGcmFtZSkpIHtcbiAgICAgICAgICAgIGZyYW1lID0gKHBhcmVudFZpZXcucGFnZSAmJiBwYXJlbnRWaWV3LnBhZ2UuZnJhbWUpIHx8IEZyYW1lLnRvcG1vc3QoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvY2F0aW9uPy5fYmVnaW5Nb2RhbE5hdmlnYXRpb24oZnJhbWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd0RpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyUmVmOiBvcHRpb25zLnZpZXdDb250YWluZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmplY3RvcjogY29tcG9uZW50SW5qZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBvcHRpb25zLmNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lQ2FsbGJhY2s6IHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRWaWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfc2hvd0RpYWxvZyhvcHRpb25zKSB7XG4gICAgICAgIGxldCBjb21wb25lbnRWaWV3UmVmO1xuICAgICAgICBsZXQgZGV0YWNoZWRMb2FkZXJSZWY7XG4gICAgICAgIGxldCBwb3J0YWxPdXRsZXQ7XG4gICAgICAgIGNvbnN0IGNsb3NlQ2FsbGJhY2sgPSBvbmNlKGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBvcHRpb25zLmRvbmVDYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXdSZWYpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMub3BlbmVkTW9kYWxQYXJhbXMucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Nsb3NlZCQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VkJC5uZXh0KHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYXRpb24uX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFjaGVkTG9hZGVyUmVmIHx8IHBvcnRhbE91dGxldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnpvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE91dGxldD8uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWY/Lmluc3RhbmNlLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmPy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1vZGFsUGFyYW1zID0gbmV3IE1vZGFsRGlhbG9nUGFyYW1zKG9wdGlvbnMuY29udGV4dCwgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgIGlmICghdGhpcy5vcGVuZWRNb2RhbFBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5vcGVuZWRNb2RhbFBhcmFtcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3BlbmVkTW9kYWxQYXJhbXMucHVzaChtb2RhbFBhcmFtcyk7XG4gICAgICAgIGNvbnN0IGNoaWxkSW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoe1xuICAgICAgICAgICAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBNb2RhbERpYWxvZ1BhcmFtcywgdXNlVmFsdWU6IG1vZGFsUGFyYW1zIH1dLFxuICAgICAgICAgICAgcGFyZW50OiBvcHRpb25zLmluamVjdG9yLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy56b25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBldmVyIHN1cHBvcnQgdGVtcGxhdGVzIGluIHRoZSBvbGQgQVBJXG4gICAgICAgICAgICAvLyBpZihvcHRpb25zLnRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gb3B0aW9ucy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgICAgICAvLyAgICAgaWYob3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSwgMCwgY2hpbGRJbmplY3RvciwgbnVsbCk7XG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBkZXRhY2hlZEZhY3RvcnkuY3JlYXRlKGNoaWxkSW5qZWN0b3IpOyAvLyB0aGlzIERldGFjaGVkTG9hZGVyIGlzICoqY29tcGxldGVseSoqIGRldGFjaGVkXG4gICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpOyAvLyB3ZSBhdHRhY2ggaXQgdG8gdGhlIGFwcGxpY2F0aW9uUmVmLCBzbyBpdCBiZWNvbWVzIGEgXCJyb290XCIgdmlldyBpbiBhbmd1bGFyJ3MgaGllcmFyY2h5XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTsgLy8gZm9yY2UgYSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UuY3JlYXRlVGVtcGxhdGVQb3J0YWwob3B0aW9ucy50ZW1wbGF0ZVJlZik7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgICAgICAgICBjb25zdCBwb3J0YWwgPSBuZXcgQ29tcG9uZW50UG9ydGFsKG9wdGlvbnMudHlwZSk7XG4gICAgICAgICAgICBwb3J0YWxPdXRsZXQgPSBuZXcgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KHRhcmdldFZpZXcsIG9wdGlvbnMucmVzb2x2ZXIsIHRoaXMuYXBwUmVmLCBjaGlsZEluamVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IHBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmID0gbmV3IE5nVmlld1JlZihjb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ29udGV4dEFzQ29tcG9uZW50UHJvcHMgJiYgb3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYucmVmLmluc3RhbmNlW2tleV0gPSBvcHRpb25zLmNvbnRleHRba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Vmlld1JlZiAhPT0gY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudC5fbmdEaWFsb2dSb290ID0gY29tcG9uZW50Vmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3QgZGV0YWNoIHRoZSB2aWV3IGZyb20gaXRzIHBhcmVudCwgaW9zIGdldHMgbWFkXG4gICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgICAgICAgICBvcHRpb25zLnBhcmVudFZpZXcuc2hvd01vZGFsKGNvbXBvbmVudFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldywgeyAuLi5vcHRpb25zLCBjbG9zZUNhbGxiYWNrIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UsIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0b2tlbjogaTAuTmdab25lIH0sIHsgdG9rZW46IGkwLkFwcGxpY2F0aW9uUmVmIH0sIHsgdG9rZW46IGkwLkluamVjdG9yIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdHlwZTogaTAuTmdab25lIH0sIHsgdHlwZTogaTAuQXBwbGljYXRpb25SZWYgfSwgeyB0eXBlOiBpMC5JbmplY3RvciB9XTsgfSB9KTtcblxuLyoqXG4gKiBUaGlzIGRlY29yYXRvciBkZWxheXMgYSBwb3RlbnRpYWxseSB1bnNhZmUgZXZlbnQgKGxpa2UgbG9hZGVkL3VubG9hZGVkIHRoYXQgd2lsbCBzb21ldGltZXMgYmUgY2FsbGVkIGJlZm9yZSBuZ09uSW5pdCkgdG8gYmUgaGFuZGxlZCBzYWZlbHkgYnkgZW5zdXJpbmcgaXQncyBjYWxsZWQgYWZ0ZXIgYSBsaWZlY3ljbGUgaG9vay5cbiAqIEBwYXJhbSBydW5BZnRlckV2ZW50IGV2ZW50L2Z1bmN0aW9uIGNhbGwgdG8gd2FpdCB1bnRpbCB0aGUgZXZlbnQgY2FuIGJlIGZpcmVkICgnbmdPbkluaXQnLCAnbmdBZnRlclZpZXdJbml0JywgLi4uKVxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgZXZlbnQgaGFuZGxpbmcgcGFyYW1zXG4gKiBAcmV0dXJucyBkZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gTmF0aXZlU2NyaXB0TmdTYWZlRXZlbnQocnVuQWZ0ZXJFdmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZXZlbnQgPSBydW5BZnRlckV2ZW50O1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBmdW5jdGlvbiBnZXROZ1NhZmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0WydfX25nX3NhZmVfXyddO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFyZ2V0WydfX25nX3NhZmVfXyddKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0TmdTYWZlID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50czoge30sXG4gICAgICAgICAgICAgICAgcnVuQmVmb3JlOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXJnZXRbJ19fbmdfc2FmZV9fJ10gPSBkZWZhdWx0TmdTYWZlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XSkge1xuICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XSA9IHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBidWZmZXI6IFtdLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRGVsZWdhdGU6IHRhcmdldFtldmVudF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFyZ2V0W2V2ZW50XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0ub3JpZ2luYWxEZWxlZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0ub3JpZ2luYWxEZWxlZ2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuZm9yRWFjaCgoZm4pID0+IGZuLmZuKCkpO1xuICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYWx3YXlzUnVuQmVmb3JlKSB7XG4gICAgICAgICAgICBnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldID0gdGFyZ2V0W29wdGlvbnMuYWx3YXlzUnVuQmVmb3JlXTtcbiAgICAgICAgICAgIHRhcmdldFtgJHtvcHRpb25zLmFsd2F5c1J1bkJlZm9yZX1gXSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgZ2V0TmdTYWZlKClcbiAgICAgICAgICAgICAgICAgICAgLmV2ZW50c1tldmVudF0uYnVmZmVyLmZpbHRlcigodikgPT4gdi5rZXkgPT09IHByb3BlcnR5S2V5KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZm4pID0+IGZuLmZuKCkpO1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyID0gZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuZmlsdGVyKCh2KSA9PiB2LmtleSAhPT0gcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV07XG4gICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRGbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGRGbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzaG91bGRQdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9ubHlGaXJzdCB8fCBvcHRpb25zLm9ubHlMYXN0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXJbaV0ua2V5ID09PSBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25seUZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHVzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25seUxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkUHVzaCkge1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgICAgICAgICBmbjogb2xkRm4uYmluZCh0aGlzLCBhcmdzKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5jbGFzcyBUYWJWaWV3RGlyZWN0aXZlIHtcbiAgICBnZXQgc2VsZWN0ZWRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgfVxuICAgIHNldCBzZWxlY3RlZEluZGV4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmlld0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLnRhYlZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnRhYlZpZXcgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy52aWV3SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKCd0aGlzLl9zZWxlY3RlZEluZGV4OiAnICsgdGhpcy5fc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0JsYW5rKHRoaXMuX3NlbGVjdGVkSW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLnRhYlZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIlRhYlZpZXdcIiwgaW5wdXRzOiB7IHNlbGVjdGVkSW5kZXg6IFwic2VsZWN0ZWRJbmRleFwiIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1RhYlZpZXcnLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHNlbGVjdGVkSW5kZXg6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5jbGFzcyBUYWJWaWV3SXRlbURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Iob3duZXIsIHRlbXBsYXRlUmVmLCB2aWV3Q29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlUmVmO1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXIgPSB2aWV3Q29udGFpbmVyO1xuICAgIH1cbiAgICBzZXQgY29uZmlnKGNvbmZpZykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZyB8fCB0aGlzLl9jb25maWcuaWNvblNvdXJjZSAhPT0gY29uZmlnLmljb25Tb3VyY2UgfHwgdGhpcy5fY29uZmlnLnRpdGxlICE9PSBjb25maWcudGl0bGUgfHwgdGhpcy5fY29uZmlnLnRleHRUcmFuc2Zvcm0gIT09IGNvbmZpZy50ZXh0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgICAgICB0aGlzLmFwcGx5Q29uZmlnKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1pbnB1dC1yZW5hbWVcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZyB8fCB7fTtcbiAgICB9XG4gICAgc2V0IHRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZywgeyB0aXRsZSB9KTtcbiAgICB9XG4gICAgZ2V0IHRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudGl0bGU7XG4gICAgfVxuICAgIHNldCBpY29uU291cmNlKGljb25Tb3VyY2UpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCB7IGljb25Tb3VyY2UgfSk7XG4gICAgfVxuICAgIGdldCBpY29uU291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuaWNvblNvdXJjZTtcbiAgICB9XG4gICAgc2V0IHRleHRUcmFuc2Zvcm0odGV4dFRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIHsgdGV4dFRyYW5zZm9ybSB9KTtcbiAgICB9XG4gICAgZ2V0IHRleHRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50ZXh0VHJhbnNmb3JtO1xuICAgIH1cbiAgICBlbnN1cmVJdGVtKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtID0gbmV3IFRhYlZpZXdJdGVtKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwbHlDb25maWcoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlSXRlbSgpO1xuICAgICAgICBpZiAodGhpcy5jb25maWcudGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS50aXRsZSA9IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5pY29uU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0uaWNvblNvdXJjZSA9IHRoaXMuY29uZmlnLmljb25Tb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIFRhYlZpZXdJdGVtIHRleHRUcmFuc2Zvcm0gaGFzIGEgZGVmYXVsdCB2YWx1ZSBmb3IgQW5kcm9pZCB0aGF0IGtpY2sgaW5cbiAgICAgICAgLy8gb25seSBpZiBubyB2YWx1ZSAoZXZlbiBhIG51bGwgdmFsdWUpIGlzIHNldC5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnRleHRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS50ZXh0VHJhbnNmb3JtID0gdGhpcy5jb25maWcudGV4dFRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5hcHBseUNvbmZpZygpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgLy8gRmlsdGVyIG91dCB0ZXh0IG5vZGVzIGFuZCBjb21tZW50c1xuICAgICAgICBjb25zdCByZWFsVmlld3MgPSB2aWV3UmVmLnJvb3ROb2Rlcy5maWx0ZXIoKG5vZGUpID0+ICEobm9kZSBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUpKTtcbiAgICAgICAgaWYgKHJlYWxWaWV3cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0udmlldyA9IHJlYWxWaWV3c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gKHRoaXMub3duZXIudGFiVmlldy5pdGVtcyB8fCBbXSkuY29uY2F0KFt0aGlzLml0ZW1dKTtcbiAgICAgICAgICAgIHRoaXMub3duZXIudGFiVmlldy5pdGVtcyA9IG5ld0l0ZW1zO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGFiVmlld0l0ZW1EaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBUYWJWaWV3RGlyZWN0aXZlIH0sIHsgdG9rZW46IGkwLlRlbXBsYXRlUmVmIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW3RhYkl0ZW1dXCIsIGlucHV0czogeyBjb25maWc6IFtcInRhYkl0ZW1cIiwgXCJjb25maWdcIl0sIHRpdGxlOiBcInRpdGxlXCIsIGljb25Tb3VyY2U6IFwiaWNvblNvdXJjZVwiLCB0ZXh0VHJhbnNmb3JtOiBcInRleHRUcmFuc2Zvcm1cIiB9LCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW3RhYkl0ZW1dJywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlIH0sIHsgdHlwZTogaTAuVGVtcGxhdGVSZWYgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBjb25maWc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyd0YWJJdGVtJ11cbiAgICAgICAgICAgIH1dLCB0aXRsZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGljb25Tb3VyY2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCB0ZXh0VHJhbnNmb3JtOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yICovXG5jbGFzcyBBbmRyb2lkRmlsdGVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5zaG93ID0gZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmFuZHJvaWQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IERFVklDRSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcImFuZHJvaWRcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpMSQxLk5nSWYsIHNlbGVjdG9yOiBcIltuZ0lmXVwiLCBpbnB1dHM6IFtcIm5nSWZcIiwgXCJuZ0lmVGhlblwiLCBcIm5nSWZFbHNlXCJdIH1dIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW0RFVklDRV1cbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuLyogZXNsaW50LWRpc2FibGUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvciAqL1xuY2xhc3MgSU9TRmlsdGVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5zaG93ID0gZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmlvcztcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBERVZJQ0UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcImlvc1wiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGkxJDEuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2lvcycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW0RFVklDRV1cbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuLyogZXNsaW50LWRpc2FibGUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvciAqL1xuY2xhc3MgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICAvLyBOb3RlOiBjYXN0aW5nIGFueSB0byBiZSBiYWNrd2FyZHMgY29tcGF0aWJsZVxuICAgICAgICAvLyBBdmFpbGFibGUgaW4gOC42KyBvbmx5XG4gICAgICAgIHRoaXMuc2hvdyA9IGRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy52aXNpb25vcztcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBWaXNpb25PU0ZpbHRlckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IERFVklDRSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJ2aXNpb25vc1wiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGkxJDEuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBWaXNpb25PU0ZpbHRlckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAndmlzaW9ub3MnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtERVZJQ0VdXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbmNvbnN0IENES19DT01QT05FTlRTID0gW0FjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudCwgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRdO1xucmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cygpO1xuY2xhc3MgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIGRlY2xhcmF0aW9uczogW0FjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudCwgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRdLCBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGVdLCBleHBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIEFjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudCwgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBwcm92aWRlcnM6IFtNb2RhbERpYWxvZ1NlcnZpY2VdLCBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIENvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbLi4uQ0RLX0NPTVBPTkVOVFNdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIC4uLkNES19DT01QT05FTlRTXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTW9kYWxEaWFsb2dTZXJ2aWNlXSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXcocGFyZW50Um9vdFZpZXcpIHtcbiAgICBpZiAocGFyZW50Um9vdFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudFJvb3RWaWV3O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFwcEhvc3RWaWV3KG5ldyBDb2xvcignd2hpdGUnKSk7XG59XG5mdW5jdGlvbiBlcnJvckhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvckhhbmRsZXIoKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSWQoKSB7XG4gICAgcmV0dXJuIGAke0RhdGUubm93KCl9YCArICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcbn1cbmNvbnN0IE5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUyA9IFtcbiAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlRmFsbGJhY2tSb290VmlldywgZGVwczogW1tuZXcgT3B0aW9uYWwoKSwgbmV3IFNraXBTZWxmKCksIEFQUF9ST09UX1ZJRVddXSB9LFxuICAgIHsgcHJvdmlkZTogybVJTkpFQ1RPUl9TQ09QRSwgdXNlVmFsdWU6ICdyb290JyB9LFxuICAgIHsgcHJvdmlkZTogRXJyb3JIYW5kbGVyLCB1c2VGYWN0b3J5OiBlcnJvckhhbmRsZXIsIGRlcHM6IFtdIH0sXG4gICAgeyBwcm92aWRlOiBWaWV3VXRpbCwgdXNlQ2xhc3M6IFZpZXdVdGlsLCBkZXBzOiBbTkFNRVNQQUNFX0ZJTFRFUlMsIFtuZXcgT3B0aW9uYWwoKSwgRU5BQkxFX1JFVVNBQkVfVklFV1NdXSB9LFxuICAgIHtcbiAgICAgICAgcHJvdmlkZTogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICB1c2VDbGFzczogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICBkZXBzOiBbQVBQX1JPT1RfVklFVywgTkFNRVNQQUNFX0ZJTFRFUlMsIE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCwgW25ldyBPcHRpb25hbCgpLCBFTkFCTEVfUkVVU0FCRV9WSUVXU11dLFxuICAgIH0sXG4gICAgeyBwcm92aWRlOiBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUmFuZG9tSWQgfSxcbiAgICB7IHByb3ZpZGU6IFJlbmRlcmVyRmFjdG9yeTIsIHVzZUV4aXN0aW5nOiBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkgfSxcbiAgICB7IHByb3ZpZGU6IE5BTUVTUEFDRV9GSUxURVJTLCB1c2VDbGFzczogUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIsIGRlcHM6IFtERVZJQ0VdLCBtdWx0aTogdHJ1ZSB9LFxuICAgIHsgcHJvdmlkZTogREVWSUNFLCB1c2VWYWx1ZTogRGV2aWNlIH0sXG4gICAgeyBwcm92aWRlOiBYaHJGYWN0b3J5LCB1c2VDbGFzczogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVwczogW10gfSxcbl07XG5jb25zdCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUyA9IFt7IHByb3ZpZGU6IFZpZXdwb3J0U2Nyb2xsZXIsIHVzZUNsYXNzOiDJtU51bGxWaWV3cG9ydFNjcm9sbGVyIH1dO1xuY2xhc3MgTmF0aXZlU2NyaXB0TW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgaWYgKHBhcmVudE1vZHVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOYXRpdmVTY3JpcHRNb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIElmIHlvdSBuZWVkIGFjY2VzcyB0byBjb21tb24gZGlyZWN0aXZlcyBzdWNoIGFzIE5nSWYgYW5kIE5nRm9yIGZyb20gYSBsYXp5IGxvYWRlZCBtb2R1bGUsIGltcG9ydCBDb21tb25Nb2R1bGUgaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVwczogW3sgdG9rZW46IE5hdGl2ZVNjcmlwdE1vZHVsZSwgb3B0aW9uYWw6IHRydWUsIHNraXBTZWxmOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtEZXRhY2hlZExvYWRlcl0sIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSwgZXhwb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBEZXRhY2hlZExvYWRlciwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgcHJvdmlkZXJzOiBbLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCAuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSU10sIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtEZXRhY2hlZExvYWRlcl0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogWy4uLk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlNdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIERldGFjaGVkTG9hZGVyLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFzOiBbTk9fRVJST1JTX1NDSEVNQV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbTmF0aXZlU2NyaXB0TW9kdWxlXVxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG5mdW5jdGlvbiBkaXNhYmxlUm9vdFZpZXdIYW5kaW5nKHZpZXcpIHtcbiAgICB2aWV3Ll9fZGlzYWJsZV9yb290X3ZpZXdfaGFuZGxpbmcgPSB0cnVlO1xufVxuY29uc3QgcHJlQW5ndWxhckRpc3Bvc2FsJCA9IG5ldyBTdWJqZWN0KCk7XG5jb25zdCBwb3N0QW5ndWxhckJvb3RzdHJhcCQgPSBuZXcgU3ViamVjdCgpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5jb25zdCBvbkJlZm9yZUxpdmVzeW5jID0gcHJlQW5ndWxhckRpc3Bvc2FsJC5waXBlKGZpbHRlcigodikgPT4gdi5tb2R1bGVUeXBlID09PSAnbWFpbicgJiYgdi5yZWFzb24gPT09ICdob3RyZWxvYWQnKSwgbWFwKCh2KSA9PiB2LnJlZmVyZW5jZSkpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5jb25zdCBvbkFmdGVyTGl2ZXN5bmMgPSBwb3N0QW5ndWxhckJvb3RzdHJhcCQucGlwZShmaWx0ZXIoKHYpID0+IHYubW9kdWxlVHlwZSA9PT0gJ21haW4nKSwgbWFwKCh2KSA9PiAoeyBtb2R1bGVSZWY6IHYucmVmZXJlbmNlIH0pKSk7XG5pZiAoaW1wb3J0Lm1ldGFbJ3dlYnBhY2tIb3QnXSkge1xuICAgIGltcG9ydC5tZXRhWyd3ZWJwYWNrSG90J10uZGVjbGluZSgpO1xuICAgIGdsb2JhbC5fX29uTGl2ZVN5bmNDb3JlID0gKCkgPT4ge1xuICAgICAgICBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpPy5fb25Dc3NTdGF0ZUNoYW5nZSgpO1xuICAgICAgICAvLyBhbGwgb3RoZXIgY2hhbmdlcyBhcmUgYXBwbGllZCBieSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGVtaXRNb2R1bGVCb290c3RyYXBFdmVudChyZWYsIG5hbWUsIHJlYXNvbikge1xuICAgIHBvc3RBbmd1bGFyQm9vdHN0cmFwJC5uZXh0KHtcbiAgICAgICAgbW9kdWxlVHlwZTogbmFtZSxcbiAgICAgICAgcmVmZXJlbmNlOiByZWYsXG4gICAgICAgIHJlYXNvbixcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lSZWYocmVmLCBuYW1lLCByZWFzb24pIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBQbGF0Zm9ybVJlZikge1xuICAgICAgICAgICAgcHJlQW5ndWxhckRpc3Bvc2FsJC5uZXh0KHtcbiAgICAgICAgICAgICAgICBtb2R1bGVUeXBlOiAncGxhdGZvcm0nLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogbmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBOZ01vZHVsZVJlZiB8fCByZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZikge1xuICAgICAgICAgICAgcHJlQW5ndWxhckRpc3Bvc2FsJC5uZXh0KHtcbiAgICAgICAgICAgICAgICBtb2R1bGVUeXBlOiBuYW1lLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlZi5kZXN0cm95KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcnVuWm9uZVN5bmNUYXNrKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBab25lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHpvbmUgPSBab25lLmN1cnJlbnQ7XG4gICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soJ3N5bmNfZnVuY3Rpb24nLCBmbiwge30sICgpID0+IHtcbiAgICAgICAgLy9cbiAgICB9LCAoKSA9PiB7XG4gICAgICAgIC8vXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFzay5zdGF0ZSk7XG4gICAgICAgIHRhc2suaW52b2tlKCk7XG4gICAgICAgIC8vIHpvbmUucnVuVGFzayh0YXNrKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFzay5zdGF0ZSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB6b25lLmNhbmNlbFRhc2sodGFzayk7XG4gICAgfVxufVxuZnVuY3Rpb24gWm9uZUNhbldvcmtTeW5jKCkge1xuICAgIGxldCBjYW5SdW5TeW5jID0gZmFsc2U7XG4gICAgcnVuWm9uZVN5bmNUYXNrKCgpID0+IHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiAoY2FuUnVuU3luYyA9IHRydWUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2FuUnVuU3luYztcbn1cbi8qKlxuICogVGVzdHMgaWYgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSBjYW4gYmUgdXNlZCB0byBkcmFpbiBtaWNyb3Rhc2tzXG4gKiBCZWNhdXNlIG9mIFpvbmUuanMsIGV2ZW4gdGhvdWdoIHRoZSBuYXRpdmUgcXVldWUgbWlnaHQgYmUgZHJhaW5lZCwgem9uZSBtaWNyb3Rhc2tzIG1pZ2h0IG5vdCBiZVxuICogQHBhcmFtIG1ha2VUZXN0RHJhaW4gc2hvdWxkIGl0IGRyYWluIHRoZSBjdXJyZW50IG1pY3JvdGFzayBxdWV1ZSB0byBlbnN1cmUgdGhlIHF1ZXVlIGNhbiBiZSBkcmFpbmVkXG4gKiBAcmV0dXJucyBpZiBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlIGNhbiBiZSBjYWxsZWRcbiAqL1xuZnVuY3Rpb24gbmF0aXZlUXVldWVDYW5CZURyYWluZWQobWFrZVRlc3REcmFpbikge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghbWFrZVRlc3REcmFpbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGNhblJ1blN5bmMgPSBmYWxzZTtcbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IChjYW5SdW5TeW5jID0gdHJ1ZSkpO1xuICAgIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUoKTtcbiAgICByZXR1cm4gY2FuUnVuU3luYztcbn1cbi8qKlxuICogUnVucyBhIGZ1bmN0aW9uIGluIHRoZSBtb3N0IHN5bmNocm9ub3VzIHdheSBwb3NzaWJsZVxuICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIHJ1blxuICogQHBhcmFtIGRvbmUgZnVuY3Rpb24gdG8gY2hhaW4gYWZ0ZXIgZG9uZVxuICovXG5mdW5jdGlvbiBydW5TeW5jaHJvbm91c2x5KGZuLCBkb25lKSB7XG4gICAgaWYgKHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBab25lQ2FuV29ya1N5bmMoKSkge1xuICAgICAgICBydW5ab25lU3luY1Rhc2soZm4pO1xuICAgICAgICBkb25lPy4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmF0aXZlUXVldWVDYW5CZURyYWluZWQodHJ1ZSkpIHtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSgpO1xuICAgICAgICBkb25lPy4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbigpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICAgIFV0aWxzLnF1ZXVlTWFjcm90YXNrKGRvbmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyc0NvbmZpZyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXBwUHJvdmlkZXJzOiBbLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMsIC4uLk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgLi4uKG9wdGlvbnM/LnByb3ZpZGVycyA/PyBbXSldLFxuICAgICAgICAvLyBwbGF0Zm9ybVByb3ZpZGVyczogSU5URVJOQUxfQlJPV1NFUl9QTEFURk9STV9QUk9WSURFUlNcbiAgICB9O1xufVxuZnVuY3Rpb24gYm9vdHN0cmFwQXBwbGljYXRpb24ocm9vdENvbXBvbmVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiDJtWludGVybmFsQ3JlYXRlQXBwbGljYXRpb24oeyByb290Q29tcG9uZW50LCAuLi5jcmVhdGVQcm92aWRlcnNDb25maWcob3B0aW9ucykgfSk7XG59XG5mdW5jdGlvbiBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKG9wdGlvbnMpIHtcbiAgICBsZXQgbWFpbk1vZHVsZVJlZiA9IG51bGw7XG4gICAgbGV0IGxvYWRpbmdNb2R1bGVSZWY7XG4gICAgbGV0IHBsYXRmb3JtUmVmID0gbnVsbDtcbiAgICBsZXQgYm9vdHN0cmFwSWQgPSAtMTtcbiAgICBjb25zdCB1cGRhdGVQbGF0Zm9ybVJlZiA9IChtb2R1bGVSZWYsIHJlYXNvbikgPT4ge1xuICAgICAgICBjb25zdCBuZXdQbGF0Zm9ybVJlZiA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoUGxhdGZvcm1SZWYpO1xuICAgICAgICBpZiAobmV3UGxhdGZvcm1SZWYgPT09IHBsYXRmb3JtUmVmKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveVJlZihwbGF0Zm9ybVJlZiwgcmVhc29uKTtcbiAgICAgICAgcGxhdGZvcm1SZWYgPSBuZXdQbGF0Zm9ybVJlZjtcbiAgICAgICAgcGxhdGZvcm1SZWYub25EZXN0cm95KCgpID0+IChwbGF0Zm9ybVJlZiA9IHBsYXRmb3JtUmVmID09PSBuZXdQbGF0Zm9ybVJlZiA/IG51bGwgOiBwbGF0Zm9ybVJlZikpO1xuICAgIH07XG4gICAgbGV0IGxhdW5jaEV2ZW50RG9uZSA9IHRydWU7XG4gICAgbGV0IHRhcmdldFJvb3RWaWV3ID0gbnVsbDtcbiAgICBjb25zdCBzZXRSb290VmlldyA9IChyZWYpID0+IHtcbiAgICAgICAgaWYgKGJvb3RzdHJhcElkID09PSAtMSkge1xuICAgICAgICAgICAgLy8gdHJlYXQgZWRnZSBjYXNlc1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBOZ01vZHVsZVJlZiB8fCByZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZikge1xuICAgICAgICAgICAgaWYgKHJlZi5pbmplY3Rvci5nZXQoRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyZWZbJ19fZGlzYWJsZV9yb290X3ZpZXdfaGFuZGxpbmcnXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpPy5fY2xvc2VBbGxNb2RhbFZpZXdzSW50ZXJuYWwoKTsgLy8gY2xlYW51cCBvbGQgcm9vdHZpZXdcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nKGBTZXR0aW5nIFJvb3RWaWV3ICR7bGF1bmNoRXZlbnREb25lID8gJ291dHNpZGUgb2YnIDogJ2R1cmluZyd9IGxhdW5jaCBldmVudGApO1xuICAgICAgICAvLyBUT0RPOiBjaGVjayBmb3IgbGVha3Mgd2hlbiByb290IHZpZXcgaXNuJ3QgcHJvcGVybHkgZGVzdHJveWVkXG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBWaWV3KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2coYFNldHRpbmcgUm9vdFZpZXcgdG8gJHtyZWZ9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbWJlZGRlZCkge1xuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bih7IGNyZWF0ZTogKCkgPT4gcmVmIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGF1bmNoRXZlbnREb25lKSB7XG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gcmVmIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Um9vdFZpZXcgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlldyA9IHJlZi5pbmplY3Rvci5nZXQoQVBQX1JPT1RfVklFVyk7XG4gICAgICAgIGNvbnN0IG5ld1Jvb3QgPSB2aWV3IGluc3RhbmNlb2YgQXBwSG9zdFZpZXcgPyB2aWV3LmNvbnRlbnQgOiB2aWV3O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZyhgU2V0dGluZyBSb290VmlldyB0byAke25ld1Jvb3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bih7IGNyZWF0ZTogKCkgPT4gbmV3Um9vdCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYXVuY2hFdmVudERvbmUpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJlc2V0Um9vdFZpZXcoeyBjcmVhdGU6ICgpID0+IG5ld1Jvb3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRSb290VmlldyA9IG5ld1Jvb3Q7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNob3dFcnJvclVJID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlICsgJ1xcblxcbicgKyBlcnJvci5zdGFjaztcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0Qm94ID0gbmV3IFRleHRWaWV3KCk7XG4gICAgICAgIGVycm9yVGV4dEJveC50ZXh0ID0gbWVzc2FnZTtcbiAgICAgICAgZXJyb3JUZXh0Qm94LmNvbG9yID0gbmV3IENvbG9yKCdyZWQnKTtcbiAgICAgICAgc2V0Um9vdFZpZXcoZXJyb3JUZXh0Qm94KTtcbiAgICB9O1xuICAgIGNvbnN0IGJvb3RzdHJhcFJvb3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBib290c3RyYXBJZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Qm9vdHN0cmFwSWQgPSBib290c3RyYXBJZDtcbiAgICAgICAgICAgIGxldCBib290c3RyYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBvbk1haW5Cb290c3RyYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcnVuU3luY2hyb25vdXNseSgoKSA9PiBvcHRpb25zLmFwcE1vZHVsZUJvb3RzdHJhcChyZWFzb24pLnRoZW4oKHJlZikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Qm9vdHN0cmFwSWQgIT09IGJvb3RzdHJhcElkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbW9kdWxlIGlzIG9sZCBhbmQgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWF5IGhhcHBlbiB3aGVuIGRldmVsb3BlciB1c2VzIGFzeW5jIGFwcCBpbml0aWFsaXplciBhbmQgdGhlIHVzZXIgZXhpdHMgdGhlIGFwcCBiZWZvcmUgdGhpcyBib290c3RyYXBzXG4gICAgICAgICAgICAgICAgICAgIHJlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFpbk1vZHVsZVJlZiA9IHJlZjtcbiAgICAgICAgICAgICAgICAocmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyByZWYuY29tcG9uZW50c1swXSA6IHJlZikub25EZXN0cm95KCgpID0+IChtYWluTW9kdWxlUmVmID0gbWFpbk1vZHVsZVJlZiA9PT0gcmVmID8gbnVsbCA6IG1haW5Nb2R1bGVSZWYpKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQbGF0Zm9ybVJlZihyZWYsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVUYWcgPSByZWYuaW5qZWN0b3IuZ2V0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCk7XG4gICAgICAgICAgICAgICAgKHJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gcmVmLmNvbXBvbmVudHNbMF0gOiByZWYpLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGVUYWcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwKCk7XG4gICAgICAgICAgICAgICAgZW1pdE1vZHVsZUJvb3RzdHJhcEV2ZW50KHJlZiwgJ21haW4nLCByZWFzb24pO1xuICAgICAgICAgICAgICAgIC8vIGJvb3RzdHJhcHBlZCBjb21wb25lbnQ6IChyZWYgYXMgYW55KS5fYm9vdHN0cmFwQ29tcG9uZW50c1swXTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBib290c3RyYXBwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBib290c3RyYXBwaW5nIGFwcCBtb2R1bGU6XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3JVSShlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCb290c3RyYXBJZCAhPT0gYm9vdHN0cmFwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWJvb3RzdHJhcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sb2FkaW5nTW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5TeW5jaHJvbm91c2x5KCgpID0+IG9wdGlvbnMubG9hZGluZ01vZHVsZShyZWFzb24pLnRoZW4oKGxvYWRpbmdSZWYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJvb3RzdHJhcElkICE9PSBib290c3RyYXBJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1vZHVsZSBpcyBvbGQgYW5kIG5vdCBuZWVkZWQgYW55bW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1heSBoYXBwZW4gd2hlbiBkZXZlbG9wZXIgdXNlcyBhc3luYyBhcHAgaW5pdGlhbGl6ZXIgYW5kIHRoZSB1c2VyIGV4aXRzIHRoZSBhcHAgYmVmb3JlIHRoaXMgYm9vdHN0cmFwc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nUmVmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmID0gbG9hZGluZ1JlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobG9hZGluZ01vZHVsZVJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gbG9hZGluZ01vZHVsZVJlZi5jb21wb25lbnRzWzBdIDogbG9hZGluZ01vZHVsZVJlZikub25EZXN0cm95KCgpID0+IChsb2FkaW5nTW9kdWxlUmVmID0gbG9hZGluZ01vZHVsZVJlZiA9PT0gbG9hZGluZ1JlZiA/IG51bGwgOiBsb2FkaW5nTW9kdWxlUmVmKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGxhdGZvcm1SZWYobG9hZGluZ1JlZiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHlsZVRhZyA9IGxvYWRpbmdNb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGxvYWRpbmdNb2R1bGVSZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZiA/IGxvYWRpbmdNb2R1bGVSZWYuY29tcG9uZW50c1swXSA6IGxvYWRpbmdNb2R1bGVSZWYpLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KGxvYWRpbmdSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTWFpbkJvb3RzdHJhcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVsYXkgc2hvd2luZyB0aGUgbmV3IHJvb3R2aWV3IHRvIGF2b2lkIGZsYXNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMucXVldWVNYWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ1NlcnZpY2UgPSBsb2FkaW5nTW9kdWxlUmVmLmluamVjdG9yLmdldChOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmLmluamVjdG9yLmdldChOZ1pvbmUpLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ1NlcnZpY2UuX25vdGlmeU1haW5Nb2R1bGVSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nU2VydmljZS5yZWFkeVRvRGVzdHJveSRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGlwZShmaWx0ZXIoKHJlYWR5KSA9PiByZWFkeSksIHRha2UoMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJveVJlZihsb2FkaW5nTW9kdWxlUmVmLCAnbG9hZGluZycsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vZHVsZVJlZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQobG9hZGluZ01vZHVsZVJlZiwgJ2xvYWRpbmcnLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBib290c3RyYXBwaW5nIGxvYWRpbmcgbW9kdWxlOlxcbiR7ZXJyLm1lc3NhZ2V9XFxuXFxuJHtlcnIuc3RhY2t9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yVUkoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5sYXVuY2hWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGF1bmNoVmlldyA9IG9wdGlvbnMubGF1bmNoVmlldyhyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobGF1bmNoVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF1bmNoVmlldy5zdGFydEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgbGF1bmNoIGFuaW1hdGlvbiBpcyBleGVjdXRlZCBhZnRlciBsYXVuY2hWaWV3IGFkZGVkIHRvIHZpZXcgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF1bmNoVmlldy5zdGFydEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlbGF5IHNob3dpbmcgdGhlIG5ldyByb290dmlldyB0byBhdm9pZCBmbGFzaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMucXVldWVNYWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF1bmNoVmlldy5jbGVhbnVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsZWFudXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdBcHAgaXMgYm9vdHN0cmFwcGluZyBhc3luY2hyb25vdXNseSAobGlrZWx5IEFQUF9JTklUSUFMSVpFUikgYnV0IGRpZCBub3QgcHJvdmlkZSBhIGxhdW5jaFZpZXcgb3IgTG9hZGluZ01vZHVsZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBpbiBCb290c3RyYXAgRnVuY3Rpb246XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZGlzcG9zZVBsYXRmb3JtID0gKHJlYXNvbikgPT4ge1xuICAgICAgICBkZXN0cm95UmVmKHBsYXRmb3JtUmVmLCByZWFzb24pO1xuICAgICAgICBwbGF0Zm9ybVJlZiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlTGFzdE1vZHVsZXMgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIC8vIHJlc2V0IGJvb3RzdHJhcCBJRCB0byBtYWtlIHN1cmUgYW55IG1vZHVsZXMgYm9vdHN0cmFwcGVkIGFmdGVyIHRoaXMgYXJlIGRpc2NhcmRlZFxuICAgICAgICBib290c3RyYXBJZCA9IC0xO1xuICAgICAgICBkZXN0cm95UmVmKGxvYWRpbmdNb2R1bGVSZWYsICdsb2FkaW5nJywgcmVhc29uKTtcbiAgICAgICAgbG9hZGluZ01vZHVsZVJlZiA9IG51bGw7XG4gICAgICAgIGRlc3Ryb3lSZWYobWFpbk1vZHVsZVJlZiwgJ21haW4nLCByZWFzb24pO1xuICAgICAgICBtYWluTW9kdWxlUmVmID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGxhdW5jaENhbGxiYWNrID0gcHJvZmlsZSgnQG5hdGl2ZXNjcmlwdC9hbmd1bGFyL3BsYXRmb3JtLWNvbW1vbi5sYXVuY2hDYWxsYmFjaycsIChhcmdzKSA9PiB7XG4gICAgICAgIGxhdW5jaEV2ZW50RG9uZSA9IGZhbHNlO1xuICAgICAgICBib290c3RyYXBSb290KCdhcHBsYXVuY2gnKTtcbiAgICAgICAgbGF1bmNoRXZlbnREb25lID0gdHJ1ZTtcbiAgICAgICAgYXJncy5yb290ID0gdGFyZ2V0Um9vdFZpZXcgfHwgbnVsbDtcbiAgICB9KTtcbiAgICBjb25zdCBleGl0Q2FsbGJhY2sgPSBwcm9maWxlKCdAbmF0aXZlc2NyaXB0L2FuZ3VsYXIvcGxhdGZvcm0tY29tbW9uLmV4aXRDYWxsYmFjaycsIChhcmdzKSA9PiB7XG4gICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnYXBwZXhpdCcpO1xuICAgIH0pO1xuICAgIGxldCBvbGRBZGRFdmVudExpc3RlbmVyO1xuICAgIGlmICh0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHM/LmV2ZW50cz8uW1pvbmUuX19zeW1ib2xfXygnYWRkRXZlbnRMaXN0ZW5lcicpXSkge1xuICAgICAgICBvbGRBZGRFdmVudExpc3RlbmVyID0gZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzLmFkZEV2ZW50TGlzdGVuZXI7XG4gICAgICAgIGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzLmV2ZW50cy5hZGRFdmVudExpc3RlbmVyID0gZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzW1pvbmUuX19zeW1ib2xfXygnYWRkRXZlbnRMaXN0ZW5lcicpXTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLm9uKEFwcGxpY2F0aW9uLmxhdW5jaEV2ZW50LCBsYXVuY2hDYWxsYmFjayk7XG4gICAgfVxuICAgIEFwcGxpY2F0aW9uLm9uKEFwcGxpY2F0aW9uLmV4aXRFdmVudCwgZXhpdENhbGxiYWNrKTtcbiAgICBpZiAob2xkQWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lciA9IG9sZEFkZEV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICAgIGlmIChpbXBvcnQubWV0YVsnd2VicGFja0hvdCddKSB7XG4gICAgICAgIC8vIGhhbmRsZSBITVIgQXBwbGljYXRpb24ucnVuXG4gICAgICAgIGdsb2JhbFsnX19kaXNwb3NlX2FwcF9uZ19wbGF0Zm9ybV9fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlUGxhdGZvcm0oJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fZGlzcG9zZV9hcHBfbmdfbW9kdWxlc19fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlTGFzdE1vZHVsZXMoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fYm9vdHN0cmFwX2FwcF9uZ19tb2R1bGVzX18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fY2xlYW51cF9uZ19ob3RfXyddID0gKCkgPT4ge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ub2ZmKEFwcGxpY2F0aW9uLmxhdW5jaEV2ZW50LCBsYXVuY2hDYWxsYmFjayk7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5vZmYoQXBwbGljYXRpb24uZXhpdEV2ZW50LCBleGl0Q2FsbGJhY2spO1xuICAgICAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIGRpc3Bvc2VQbGF0Zm9ybSgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19yZWJvb3RfbmdfbW9kdWxlc19fJ10gPSAoc2hvdWxkRGlzcG9zZVBsYXRmb3JtID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnaG90cmVsb2FkJyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkRGlzcG9zZVBsYXRmb3JtKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZVBsYXRmb3JtKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIUFwcGxpY2F0aW9uLmhhc0xhdW5jaGVkKCkpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2FwcGxhdW5jaCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24ucnVuKCk7XG4gICAgfVxufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5IGV4dGVuZHMgUGxhdGZvcm1SZWYge1xuICAgIGNvbnN0cnVjdG9yKHBsYXRmb3JtLCBsYXVuY2hWaWV3KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5sYXVuY2hWaWV3ID0gbGF1bmNoVmlldztcbiAgICB9XG4gICAgYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwcE1vZHVsZUJvb3RzdHJhcDogKCkgPT4gdGhpcy5wbGF0Zm9ybS5ib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnkpLFxuICAgICAgICAgICAgbGF1bmNoVmlldzogKCkgPT4gdGhpcy5sYXVuY2hWaWV3LFxuICAgICAgICB9O1xuICAgICAgICBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBib290c3RyYXBNb2R1bGUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwcE1vZHVsZUJvb3RzdHJhcDogKCkgPT4gdGhpcy5wbGF0Zm9ybS5ib290c3RyYXBNb2R1bGUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0ub25EZXN0cm95KGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF0Zm9ybS5pbmplY3RvcjtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtLmRlc3Ryb3llZDtcbiAgICB9XG59XG5cbmNvbnN0IGRlZmF1bHRQYWdlRmFjdG9yeVByb3ZpZGVyID0geyBwcm92aWRlOiBQQUdFX0ZBQ1RPUlksIHVzZVZhbHVlOiBkZWZhdWx0UGFnZUZhY3RvcnkgfTtcbmNsYXNzIE5hdGl2ZVNjcmlwdFNhbml0aXplciBleHRlbmRzIFNhbml0aXplciB7XG4gICAgc2FuaXRpemUoX2NvbnRleHQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG4vLyBUT0RPOiB3aGVuIGFuZ3VsYXIgZmluYWxseSBleHBvcnRzIHRoZWlyIHNjaGVkdWxlciB0b2tlbiBmb3IgaXZ5IENELCBwcm92aWRlIG91ciBvd24gd2l0aCBxdWV1ZU1hY3JvVGFza1xuLy8gZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlckZhY3RvcnkoKSB7XG4vLyAgIHJldHVybiAoZm46IGFueSkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKCdTQ0hFRFVMRVInKTtcbi8vICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbi8vICAgfTtcbi8vIH1cbmNsYXNzIE5hdGl2ZVNjcmlwdERvY3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gUmVxdWlyZWQgYnkgdGhlIEFuaW1hdGlvbkRyaXZlclxuICAgICAgICB0aGlzLmJvZHkgPSB7XG4gICAgICAgICAgICBpc092ZXJyaWRlOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KHRhZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdGl2ZVNjcmlwdERvY3VtZW50IGlzIG5vdCBET00gRG9jdW1lbnQuIFRoZXJlIGlzIG5vIGNyZWF0ZUVsZW1lbnQoKSBtZXRob2QuJyk7XG4gICAgfVxufVxuY29uc3QgQ09NTU9OX1BST1ZJREVSUyA9IFtkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciwgeyBwcm92aWRlOiBTYW5pdGl6ZXIsIHVzZUNsYXNzOiBOYXRpdmVTY3JpcHRTYW5pdGl6ZXIsIGRlcHM6IFtdIH0sIHsgcHJvdmlkZTogRE9DVU1FTlQsIHVzZUNsYXNzOiBOYXRpdmVTY3JpcHREb2N1bWVudCwgZGVwczogW10gfV07XG5jb25zdCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdCA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwbGF0Zm9ybUNvcmUsICduYXRpdmVzY3JpcHREeW5hbWljJywgQ09NTU9OX1BST1ZJREVSUyk7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwIGluc3RlYWRcbiAqL1xuY29uc3QgcGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljID0gZnVuY3Rpb24gKG9wdGlvbnMsIGV4dHJhUHJvdmlkZXJzKSB7XG4gICAgY29uc29sZS5sb2coJ3BsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYyBpcyBkZXByZWNhdGVkLCB1c2UgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCBpbnN0ZWFkJyk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgZXh0cmFQcm92aWRlcnMgPSBleHRyYVByb3ZpZGVycyB8fCBbXTtcbiAgICBjb25zdCBuZ1Jvb3RWaWV3ID0gbmV3IEFwcEhvc3RWaWV3KG5ldyBDb2xvcihvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCAnd2hpdGUnKSk7XG4gICAgbGV0IGxhdW5jaFZpZXcgPSBvcHRpb25zLmxhdW5jaFZpZXc7XG4gICAgaWYgKCFsYXVuY2hWaWV3ICYmIG9wdGlvbnMuYXN5bmMpIHtcbiAgICAgICAgbGF1bmNoVmlldyA9IG5ldyBHcmlkTGF5b3V0KCk7XG4gICAgICAgIGxhdW5jaFZpZXcuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgJ3doaXRlJztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5KHBsYXRmb3JtTmF0aXZlU2NyaXB0KFsuLi5leHRyYVByb3ZpZGVyc10pLCBsYXVuY2hWaWV3KTtcbn07XG5cbmNsYXNzIFJvb3RWaWV3UHJveHkgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50Um9vdExheW91dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQgPSBwYXJlbnRSb290TGF5b3V0O1xuICAgIH1cbiAgICBfYWRkVmlldyh2aWV3LCBhdEluZGV4KSB7XG4gICAgICAgIHN1cGVyLl9hZGRWaWV3KHZpZXcsIGF0SW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRSb290TGF5b3V0LmdldENoaWxkSW5kZXgodGhpcykgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQuaW5zZXJ0Q2hpbGQodGhpcywgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3JlbW92ZVZpZXcodmlldykge1xuICAgICAgICBzdXBlci5fcmVtb3ZlVmlldyh2aWV3KTtcbiAgICAgICAgdGhpcy5wYXJlbnRSb290TGF5b3V0LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBnZW5lcmF0ZXMgYSBSb290TGF5b3V0IGFuZCByZXR1cm5zIGEgUm9vdFZpZXdQcm94eS5cbiAqIFNldHRpbmcgUm9vdFZpZXdQcm94eS5jb250ZW50IHdpbGwgYWRkIHRoZSB2aWV3IHRvIHRoZSBib3R0b20gb2YgdGhlIFJvb3RMYXlvdXRcbiAqIFNldHRpbmcgUm9vdFZpZXdQcm94eS5jb250ZW50ID0gbnVsbCB3aWxsIHJlbW92ZSB0aGUgdmlldyBmcm9tIHRoZSBSb290TGF5b3V0XG4gKiBAcmV0dXJucyBSb290Vmlld1Byb3h5IHRoYXQgd2lsbCBpbnNlcnQgY29udGVudCBpbnRvIHRoZSBzdGFydCBvZiB0aGUgUm9vdExheW91dFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSgpIHtcbiAgICBsZXQgcm9vdFZpZXcgPSBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpO1xuICAgIGlmICghcm9vdFZpZXcgfHwgIShyb290VmlldyBpbnN0YW5jZW9mIFJvb3RMYXlvdXQpKSB7XG4gICAgICAgIHJvb3RWaWV3ID0gbmV3IFJvb3RMYXlvdXQoKTtcbiAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gcm9vdFZpZXcgfSk7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdQcm94eSA9IG5ldyBSb290Vmlld1Byb3h5KHJvb3RWaWV3KTtcbiAgICAvLyAocm9vdFZpZXcgYXMgUm9vdExheW91dCkuaW5zZXJ0Q2hpbGQodmlld1Byb3h5LCAwKTtcbiAgICByZXR1cm4gdmlld1Byb3h5O1xufVxuY2xhc3MgUm9vdENvbXBvc2l0ZU1vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlLCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHsgcHJvdmlkZTogRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIHVzZVZhbHVlOiB0cnVlIH0sXG4gICAgICAgICAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5IH0sXG4gICAgICAgIF0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIHVzZVZhbHVlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5IH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBvcGVuaW5nIGEgbW9kYWwgZGlhbG9nIHdpdGggdGhlIE1hdERpYWxvZyBzZXJ2aWNlLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKiogV2hldGhlciB0aGUgZGlhbG9nIGhhcyBhIGJhY2tkcm9wLiAqL1xuICAgICAgICB0aGlzLmhhc0JhY2tkcm9wID0gdHJ1ZTtcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhlIHVzZXIgY2FuIHVzZSBlc2NhcGUgb3IgY2xpY2tpbmcgb24gdGhlIGJhY2tkcm9wIHRvIGNsb3NlIHRoZSBtb2RhbC4gKi9cbiAgICAgICAgdGhpcy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgLyoqIERhdGEgYmVpbmcgaW5qZWN0ZWQgaW50byB0aGUgY2hpbGQgY29tcG9uZW50LiAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgZGlhbG9nIHNob3VsZCBjbG9zZSB3aGVuIHRoZSB1c2VyIGdvZXMgYmFja3dhcmRzL2ZvcndhcmRzIGluIGhpc3RvcnkuXG4gICAgICAgICAqIE5vdGUgdGhhdCB0aGlzIHVzdWFsbHkgZG9lc24ndCBpbmNsdWRlIGNsaWNraW5nIG9uIGxpbmtzICh1bmxlc3MgdGhlIHVzZXIgaXMgdXNpbmdcbiAgICAgICAgICogdGhlIGBIYXNoTG9jYXRpb25TdHJhdGVneWApLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZU9uTmF2aWdhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMubmF0aXZlT3B0aW9ucyA9IHt9O1xuICAgICAgICAvLyBUT0RPKGplbGJvdXJuKTogYWRkIGNvbmZpZ3VyYXRpb24gZm9yIGxpZmVjeWNsZSBob29rcywgQVJJQSBsYWJlbGxpbmcuXG4gICAgfVxufVxuXG4vLyBDb3VudGVyIGZvciB1bmlxdWUgZGlhbG9nIGlkcy5cbmxldCB1bmlxdWVJZCA9IDA7XG5jbGFzcyBOYXRpdmVEaWFsb2dSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9uYXRpdmVNb2RhbFJlZiwgaWQgPSBgbmF0aXZlLWRpYWxvZy0ke3VuaXF1ZUlkKyt9YCkge1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZiA9IF9uYXRpdmVNb2RhbFJlZjtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgZmluaXNoZWQgb3BlbmluZy4gKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgZmluaXNoZWQgY2xvc2luZy4gKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgc3RhcnRlZCBjbG9zaW5nLiAqL1xuICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogQ3VycmVudCBzdGF0ZSBvZiB0aGUgZGlhbG9nLiAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IDAgLyogTmF0aXZlRGlhbG9nU3RhdGUuT1BFTiAqLztcbiAgICAgICAgLy8gUGFzcyB0aGUgaWQgYWxvbmcgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgX25hdGl2ZU1vZGFsUmVmLl9pZCA9IGlkO1xuICAgICAgICAvLyBFbWl0IHdoZW4gb3BlbmluZyBhbmltYXRpb24gY29tcGxldGVzXG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5zdGF0ZUNoYW5nZWRcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnN0YXRlID09PSAnb3BlbmVkJyksIHRha2UoMSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkLm5leHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEaXNwb3NlIG92ZXJsYXkgd2hlbiBjbG9zaW5nIGFuaW1hdGlvbiBpcyBjb21wbGV0ZVxuICAgICAgICBfbmF0aXZlTW9kYWxSZWYuc3RhdGVDaGFuZ2VkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC5zdGF0ZSA9PT0gJ2Nsb3NlZCcpLCB0YWtlKDEpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2xvc2VGYWxsYmFja1RpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoRGlhbG9nQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLm5leHQodGhpcy5fcmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfbmF0aXZlTW9kYWxSZWYub25EaXNtaXNzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQubmV4dCh0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICBfbmF0aXZlTW9kYWxSZWYuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVzdWx0IE9wdGlvbmFsIHJlc3VsdCB0byByZXR1cm4gdG8gdGhlIGRpYWxvZyBvcGVuZXIuXG4gICAgICovXG4gICAgY2xvc2UoZGlhbG9nUmVzdWx0KSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IGRpYWxvZ1Jlc3VsdDtcbiAgICAgICAgLy8gVHJhbnNpdGlvbiB0aGUgYmFja2Ryb3AgaW4gcGFyYWxsZWwgdG8gdGhlIGRpYWxvZy5cbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuc3RhdGVDaGFuZ2VkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC5zdGF0ZSA9PT0gJ2Nsb3NpbmcnKSwgdGFrZSgxKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQubmV4dChkaWFsb2dSZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5kaXNwb3NlKCk7XG4gICAgICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLmRldGFjaEJhY2tkcm9wKCk7XG4gICAgICAgICAgICAvLyBUaGUgbG9naWMgdGhhdCBkaXNwb3NlcyBvZiB0aGUgb3ZlcmxheSBkZXBlbmRzIG9uIHRoZSBleGl0IGFuaW1hdGlvbiBjb21wbGV0aW5nLCBob3dldmVyXG4gICAgICAgICAgICAvLyBpdCBpc24ndCBndWFyYW50ZWVkIGlmIHRoZSBwYXJlbnQgdmlldyBpcyBkZXN0cm95ZWQgd2hpbGUgaXQncyBydW5uaW5nLiBBZGQgYSBmYWxsYmFja1xuICAgICAgICAgICAgLy8gdGltZW91dCB3aGljaCB3aWxsIGNsZWFuIGV2ZXJ5dGhpbmcgdXAgaWYgdGhlIGFuaW1hdGlvbiBoYXNuJ3QgZmlyZWQgd2l0aGluIHRoZSBzcGVjaWZpZWRcbiAgICAgICAgICAgIC8vIGFtb3VudCBvZiB0aW1lIHBsdXMgMTAwbXMuIFdlIGRvbid0IG5lZWQgdG8gcnVuIHRoaXMgb3V0c2lkZSB0aGUgTmdab25lLCBiZWNhdXNlIGZvciB0aGVcbiAgICAgICAgICAgIC8vIHZhc3QgbWFqb3JpdHkgb2YgY2FzZXMgdGhlIHRpbWVvdXQgd2lsbCBoYXZlIGJlZW4gY2xlYXJlZCBiZWZvcmUgaXQgaGFzIHRoZSBjaGFuY2UgdG8gZmlyZS5cbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlRmFsbGJhY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoRGlhbG9nQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZnRlckNsb3NlZC5uZXh0KHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgLy9ldmVudC50b3RhbFRpbWUgKyAxMDApO1xuICAgICAgICAgICAgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gMSAvKiBOYXRpdmVEaWFsb2dTdGF0ZS5DTE9TSU5HICovO1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5fc3RhcnRFeGl0QW5pbWF0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBpcyBmaW5pc2hlZCBvcGVuaW5nLlxuICAgICAqL1xuICAgIGFmdGVyT3BlbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJPcGVuZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBpcyBmaW5pc2hlZCBjbG9zaW5nLlxuICAgICAqL1xuICAgIGFmdGVyQ2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJDbG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBoYXMgc3RhcnRlZCBjbG9zaW5nLlxuICAgICAqL1xuICAgIGJlZm9yZUNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JlZm9yZUNsb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2hlbiB0aGUgb3ZlcmxheSdzIGJhY2tkcm9wIGhhcyBiZWVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgYmFja2Ryb3BDbGljaygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIC8qKiBBZGQgYSBDU1MgY2xhc3Mgb3IgYW4gYXJyYXkgb2YgY2xhc3NlcyB0byB0aGUgb3ZlcmxheSBwYW5lLiAqL1xuICAgIGFkZFBhbmVsQ2xhc3MoY2xhc3Nlcykge1xuICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLmFkZFBhbmVsQ2xhc3MoY2xhc3Nlcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogUmVtb3ZlIGEgQ1NTIGNsYXNzIG9yIGFuIGFycmF5IG9mIGNsYXNzZXMgZnJvbSB0aGUgb3ZlcmxheSBwYW5lLiAqL1xuICAgIHJlbW92ZVBhbmVsQ2xhc3MoY2xhc3Nlcykge1xuICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLnJlbW92ZVBhbmVsQ2xhc3MoY2xhc3Nlcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZGlhbG9nJ3MgbGlmZWN5Y2xlLiAqL1xuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBkaWFsb2cgY2xvc2UgYnkgdXBkYXRpbmcgdGhlIHN0YXRlIG9mIHRoZSBkaWFsb2dcbiAgICAgKiBhbmQgZGlzcG9zaW5nIHRoZSBvdmVybGF5LlxuICAgICAqL1xuICAgIF9maW5pc2hEaWFsb2dDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAyIC8qIE5hdGl2ZURpYWxvZ1N0YXRlLkNMT1NFRCAqLztcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuZGlzcG9zZSgpO1xuICAgIH1cbn1cblxubGV0IE5hdGl2ZU1vZGFsUmVmID0gY2xhc3MgTmF0aXZlTW9kYWxSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9jb25maWcsIF9pbmplY3RvciwgbG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gX2NvbmZpZztcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB0aGlzLm9uRGlzbWlzcyA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMuX2lzRGlzbWlzc2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBwYXJlbnRWaWV3ID0gdGhpcy5fY29uZmlnLnZpZXdDb250YWluZXJSZWY/LmVsZW1lbnQubmF0aXZlRWxlbWVudCB8fCBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpO1xuICAgICAgICBpZiAoKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0VmlldyB8fCBwYXJlbnRWaWV3IGluc3RhbmNlb2YgQXBwSG9zdEFzeW5jVmlldykgJiYgcGFyZW50Vmlldy5uZ0FwcFJvb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3Lm5nQXBwUm9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBfbmdEaWFsb2dSb290IGlzIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgcHJldmlvdXNseSBkZXRhY2hlZCBwcm94eS5cbiAgICAgICAgLy8gSXQgc2hvdWxkIGhhdmUgJ3ZpZXdDb250cm9sbGVyJyAoaU9TKSBvciAnX2RpYWxvZ0ZyYWdtZW50JyAoQW5kcm9pZCkgYXZhaWxhYmxlIGZvclxuICAgICAgICAvLyBwcmVzZW50aW5nIGZ1dHVyZSBtb2RhbCB2aWV3cy5cbiAgICAgICAgd2hpbGUgKHBhcmVudFZpZXcuX21vZGFsIHx8IHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcuX21vZGFsIHx8IHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmVudFZpZXcgPSBwYXJlbnRWaWV3O1xuICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrID0gb25jZShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5uZXh0KHsgc3RhdGU6ICdjbG9zaW5nJyB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNEaXNtaXNzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3Py5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2F0aW9uPy5fY2xvc2VNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZGV0YWNoZWRMb2FkZXJSZWY/LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGFsVmlld1JlZj8uZmlyc3ROYXRpdmVMaWtlVmlldy5pc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIGZyb21FdmVudCh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCAndW5sb2FkZWQnKVxuICAgICAgICAgICAgICAgICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuc3RhdGVDaGFuZ2VkLm5leHQoeyBzdGF0ZTogJ2Nsb3NlZCcgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQubmV4dCh7IHN0YXRlOiAnY2xvc2VkJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZW5lcmF0ZURldGFjaGVkQ29udGFpbmVyKHZjUmVmKSB7XG4gICAgICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9ICh0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpKS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgIGlmICh2Y1JlZikge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlclJlZiA9IHZjUmVmLmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUodGhpcy5fY29uZmlnLnZpZXdDb250YWluZXJSZWY/LmluamVjdG9yIHx8IHRoaXMuX2luamVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuX2luamVjdG9yLmdldChBcHBsaWNhdGlvblJlZikuYXR0YWNoVmlldyh0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdmNSZWYgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZiB8fCB0aGlzLl9jb25maWcudmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lcih2Y1JlZik7XG4gICAgICAgIHBvcnRhbC52aWV3Q29udGFpbmVyUmVmID0gdGhpcy5kZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS52YztcbiAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgICAgICB0aGlzLnBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQodGFyZ2V0VmlldywgdGhpcy5fY29uZmlnLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9pbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSwgdGhpcy5faW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKSwgdGhpcy5faW5qZWN0b3IpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVJlZiA9IHRoaXMucG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYodGVtcGxhdGVSZWYpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3WydfX25nX21vZGFsX2lkX18nXSA9IHRoaXMuX2lkO1xuICAgICAgICAvLyBpZiB3ZSBkb24ndCBkZXRhY2ggdGhlIHZpZXcgZnJvbSBpdHMgcGFyZW50LCBpb3MgZ2V0cyBtYWRcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICAgICAgY29uc3QgdXNlck9wdGlvbnMgPSB0aGlzLl9jb25maWcubmF0aXZlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5wYXJlbnRWaWV3LnNob3dNb2RhbCh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCB7XG4gICAgICAgICAgICBjb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgLi4udXNlck9wdGlvbnMsXG4gICAgICAgICAgICBjbG9zZUNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2NhdGlvbj8uX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogIXRoaXMuX2NvbmZpZy5kaXNhYmxlQ2xvc2UsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyAgIGlmICh0aGlzLm1vZGFsVmlldyAhPT0gdGVtcGxhdGVSZWYucm9vdE5vZGVzWzBdKSB7XG4gICAgICAgIC8vICAgICBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudC5fbmdEaWFsb2dSb290ID0gdGhpcy5tb2RhbFZpZXc7XG4gICAgICAgIC8vICAgfVxuICAgICAgICByZXR1cm4gdGVtcGxhdGVSZWY7XG4gICAgfVxuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCh0YXJnZXRWaWV3LCB0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpLCB0aGlzLl9pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCB0aGlzLl9pbmplY3Rvcik7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IHRoaXMucG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICBjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50UmVmKTtcbiAgICAgICAgaWYgKHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcgIT09IHRoaXMubW9kYWxWaWV3UmVmLnZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLnZpZXcuX25nRGlhbG9nUm9vdCA9IHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlld1snX19uZ19tb2RhbF9pZF9fJ10gPSB0aGlzLl9pZDtcbiAgICAgICAgLy8gaWYgd2UgZG9uJ3QgZGV0YWNoIHRoZSB2aWV3IGZyb20gaXRzIHBhcmVudCwgaW9zIGdldHMgbWFkXG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgICAgIGNvbnN0IHVzZXJPcHRpb25zID0gdGhpcy5fY29uZmlnLm5hdGl2ZU9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMucGFyZW50Vmlldy5zaG93TW9kYWwodGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldywge1xuICAgICAgICAgICAgY29udGV4dDogbnVsbCxcbiAgICAgICAgICAgIC4uLnVzZXJPcHRpb25zLFxuICAgICAgICAgICAgY2xvc2VDYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzRGlzbWlzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrKCk7IC8vIGNsb3NlIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLCBzbyB3ZSBjYWxsIGl0IGhlcmUgdG8gc2V0dXAgdGhlIGV4aXQgZXZlbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogIXRoaXMuX2NvbmZpZy5kaXNhYmxlQ2xvc2UsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICBfc3RhcnRFeGl0QW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0LmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgc3RhcnRNb2RhbE5hdmlnYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5wYXJlbnRWaWV3IGluc3RhbmNlb2YgRnJhbWUgPyB0aGlzLnBhcmVudFZpZXcgOiB0aGlzLnBhcmVudFZpZXc/LnBhZ2U/LmZyYW1lIHx8IEZyYW1lLnRvcG1vc3QoKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbj8uX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKGZyYW1lKTtcbiAgICB9XG59O1xuTmF0aXZlTW9kYWxSZWYgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDIsIE9wdGlvbmFsKCkpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbTmF0aXZlRGlhbG9nQ29uZmlnLCBJbmplY3RvciwgTlNMb2NhdGlvblN0cmF0ZWd5XSlcbl0sIE5hdGl2ZU1vZGFsUmVmKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogSW5qZWN0aW9uIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZSBkYXRhIHRoYXQgd2FzIHBhc3NlZCBpbiB0byBhIGRpYWxvZy4gKi9cbmNvbnN0IE5BVElWRV9ESUFMT0dfREFUQSA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlRGlhbG9nRGF0YScpO1xuLyoqIEluamVjdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgZGVmYXVsdCBkaWFsb2cgb3B0aW9ucy4gKi9cbmNvbnN0IE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TID0gbmV3IEluamVjdGlvblRva2VuKCduYXRpdmUtZGlhbG9nLWRlZmF1bHQtb3B0aW9ucycpO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBkaWFsb2cgc2VydmljZXMuIFRoZSBiYXNlIGRpYWxvZyBzZXJ2aWNlIGFsbG93c1xuICogZm9yIGFyYml0cmFyeSBkaWFsb2cgcmVmcyBhbmQgZGlhbG9nIGNvbnRhaW5lciBjb21wb25lbnRzLlxuICovXG5jbGFzcyBfTmF0aXZlRGlhbG9nQmFzZSB7XG4gICAgLyoqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50bHktb3BlbiBkaWFsb2dzLiAqL1xuICAgIGdldCBvcGVuRGlhbG9ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudERpYWxvZyA/IHRoaXMuX3BhcmVudERpYWxvZy5vcGVuRGlhbG9ncyA6IHRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWw7XG4gICAgfVxuICAgIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGEgZGlhbG9nIGhhcyBiZWVuIG9wZW5lZC4gKi9cbiAgICBnZXQgYWZ0ZXJPcGVuZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnREaWFsb2cgPyB0aGlzLl9wYXJlbnREaWFsb2cuYWZ0ZXJPcGVuZWQgOiB0aGlzLl9hZnRlck9wZW5lZEF0VGhpc0xldmVsO1xuICAgIH1cbiAgICBfZ2V0QWZ0ZXJBbGxDbG9zZWQoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX3BhcmVudERpYWxvZztcbiAgICAgICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKSA6IHRoaXMuX2FmdGVyQWxsQ2xvc2VkQXRUaGlzTGV2ZWw7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKF9pbmplY3RvciwgX2RlZmF1bHRPcHRpb25zLCBfcGFyZW50RGlhbG9nLCBfZGlhbG9nUmVmQ29uc3RydWN0b3IsIF9uYXRpdmVNb2RhbFR5cGUsIF9kaWFsb2dEYXRhVG9rZW4sIGxvY2F0aW9uU3RyYXRlZ3kpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRPcHRpb25zID0gX2RlZmF1bHRPcHRpb25zO1xuICAgICAgICB0aGlzLl9wYXJlbnREaWFsb2cgPSBfcGFyZW50RGlhbG9nO1xuICAgICAgICB0aGlzLl9kaWFsb2dSZWZDb25zdHJ1Y3RvciA9IF9kaWFsb2dSZWZDb25zdHJ1Y3RvcjtcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxUeXBlID0gX25hdGl2ZU1vZGFsVHlwZTtcbiAgICAgICAgdGhpcy5fZGlhbG9nRGF0YVRva2VuID0gX2RpYWxvZ0RhdGFUb2tlbjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbCA9IFtdO1xuICAgICAgICB0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8vIFRPRE8gKGplbGJvdXJuKTogdGlnaHRlbiB0aGUgdHlwaW5nIHJpZ2h0LWhhbmQgc2lkZSBvZiB0aGlzIGV4cHJlc3Npb24uXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGFsbCBvcGVuIGRpYWxvZyBoYXZlIGZpbmlzaGVkIGNsb3NpbmcuXG4gICAgICAgICAqIFdpbGwgZW1pdCBvbiBzdWJzY3JpYmUgaWYgdGhlcmUgYXJlIG5vIG9wZW4gZGlhbG9ncyB0byBiZWdpbiB3aXRoLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZnRlckFsbENsb3NlZCA9IGRlZmVyKCgpID0+ICh0aGlzLm9wZW5EaWFsb2dzLmxlbmd0aCA/IHRoaXMuX2dldEFmdGVyQWxsQ2xvc2VkKCkgOiB0aGlzLl9nZXRBZnRlckFsbENsb3NlZCgpLnBpcGUoc3RhcnRXaXRoKHVuZGVmaW5lZCkpKSk7XG4gICAgfVxuICAgIG9wZW4oY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IF9hcHBseUNvbmZpZ0RlZmF1bHRzKGNvbmZpZywgdGhpcy5fZGVmYXVsdE9wdGlvbnMgfHwgbmV3IE5hdGl2ZURpYWxvZ0NvbmZpZygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5pZCAmJiB0aGlzLmdldERpYWxvZ0J5SWQoY29uZmlnLmlkKSAmJiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYERpYWxvZyB3aXRoIGlkIFwiJHtjb25maWcuaWR9XCIgZXhpc3RzIGFscmVhZHkuIFRoZSBkaWFsb2cgaWQgbXVzdCBiZSB1bmlxdWUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlhbG9nUmVmID0gdGhpcy5fYXR0YWNoRGlhbG9nQ29udGVudChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBjb25maWcpO1xuICAgICAgICB0aGlzLm9wZW5EaWFsb2dzLnB1c2goZGlhbG9nUmVmKTtcbiAgICAgICAgZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKCgpID0+IHRoaXMuX3JlbW92ZU9wZW5EaWFsb2coZGlhbG9nUmVmKSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJPcGVuZWQubmV4dChkaWFsb2dSZWYpO1xuICAgICAgICAvLyBOb3RpZnkgdGhlIGRpYWxvZyBjb250YWluZXIgdGhhdCB0aGUgY29udGVudCBoYXMgYmVlbiBhdHRhY2hlZC5cbiAgICAgICAgLy8gZGlhbG9nQ29udGFpbmVyLl9pbml0aWFsaXplV2l0aEF0dGFjaGVkQ29udGVudCgpO1xuICAgICAgICByZXR1cm4gZGlhbG9nUmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgYWxsIG9mIHRoZSBjdXJyZW50bHktb3BlbiBkaWFsb2dzLlxuICAgICAqL1xuICAgIGNsb3NlQWxsKCkge1xuICAgICAgICB0aGlzLl9jbG9zZURpYWxvZ3ModGhpcy5vcGVuRGlhbG9ncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIGFuIG9wZW4gZGlhbG9nIGJ5IGl0cyBpZC5cbiAgICAgKiBAcGFyYW0gaWQgSUQgdG8gdXNlIHdoZW4gbG9va2luZyB1cCB0aGUgZGlhbG9nLlxuICAgICAqL1xuICAgIGdldERpYWxvZ0J5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BlbkRpYWxvZ3MuZmluZCgoZGlhbG9nKSA9PiBkaWFsb2cuaWQgPT09IGlkKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIC8vIE9ubHkgY2xvc2UgdGhlIGRpYWxvZ3MgYXQgdGhpcyBsZXZlbCBvbiBkZXN0cm95XG4gICAgICAgIC8vIHNpbmNlIHRoZSBwYXJlbnQgc2VydmljZSBtYXkgc3RpbGwgYmUgYWN0aXZlLlxuICAgICAgICB0aGlzLl9jbG9zZURpYWxvZ3ModGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbCk7XG4gICAgICAgIHRoaXMuX2FmdGVyQWxsQ2xvc2VkQXRUaGlzTGV2ZWwuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbC5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgdXNlci1wcm92aWRlZCBjb21wb25lbnQgdG8gdGhlIGFscmVhZHktY3JlYXRlZCBkaWFsb2cgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSBjb21wb25lbnRPclRlbXBsYXRlUmVmIFRoZSB0eXBlIG9mIGNvbXBvbmVudCBiZWluZyBsb2FkZWQgaW50byB0aGUgZGlhbG9nLFxuICAgICAqICAgICBvciBhIFRlbXBsYXRlUmVmIHRvIGluc3RhbnRpYXRlIGFzIHRoZSBjb250ZW50LlxuICAgICAqIEBwYXJhbSBkaWFsb2dDb250YWluZXIgUmVmZXJlbmNlIHRvIHRoZSB3cmFwcGluZyBkaWFsb2cgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSBvdmVybGF5UmVmIFJlZmVyZW5jZSB0byB0aGUgb3ZlcmxheSBpbiB3aGljaCB0aGUgZGlhbG9nIHJlc2lkZXMuXG4gICAgICogQHBhcmFtIGNvbmZpZyBUaGUgZGlhbG9nIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgTWF0RGlhbG9nUmVmIHRoYXQgc2hvdWxkIGJlIHJldHVybmVkIHRvIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIF9hdHRhY2hEaWFsb2dDb250ZW50KGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZykge1xuICAgICAgICAvLyBDcmVhdGUgYSByZWZlcmVuY2UgdG8gdGhlIGRpYWxvZyB3ZSdyZSBjcmVhdGluZyBpbiBvcmRlciB0byBnaXZlIHRoZSB1c2VyIGEgaGFuZGxlXG4gICAgICAgIC8vIHRvIG1vZGlmeSBhbmQgY2xvc2UgaXQuXG4gICAgICAgIGNvbnN0IG5hdGl2ZU1vZGFsUmVmID0gbmV3IHRoaXMuX25hdGl2ZU1vZGFsVHlwZShjb25maWcsIHRoaXMuX2luamVjdG9yLCB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kpO1xuICAgICAgICBjb25zdCBkaWFsb2dSZWYgPSBuZXcgdGhpcy5fZGlhbG9nUmVmQ29uc3RydWN0b3IobmF0aXZlTW9kYWxSZWYsIGNvbmZpZy5pZCk7XG4gICAgICAgIGlmIChjb21wb25lbnRPclRlbXBsYXRlUmVmIGluc3RhbmNlb2YgVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBkZXRhY2hlZEZhY3RvcnkgPSBvcHRpb25zLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgICAgIC8vICAgICBpZihvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gb3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoZGV0YWNoZWRGYWN0b3J5LCAwLCBjaGlsZEluamVjdG9yLCBudWxsKTtcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoY2hpbGRJbmplY3Rvcik7IC8vIHRoaXMgRGV0YWNoZWRMb2FkZXIgaXMgKipjb21wbGV0ZWx5KiogZGV0YWNoZWRcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5hcHBSZWYuYXR0YWNoVmlldyhkZXRhY2hlZExvYWRlclJlZi5ob3N0Vmlldyk7IC8vIHdlIGF0dGFjaCBpdCB0byB0aGUgYXBwbGljYXRpb25SZWYsIHNvIGl0IGJlY29tZXMgYSBcInJvb3RcIiB2aWV3IGluIGFuZ3VsYXIncyBoaWVyYXJjaHlcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpOyAvLyBmb3JjZSBhIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS5jcmVhdGVUZW1wbGF0ZVBvcnRhbChvcHRpb25zLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgICAgIG5hdGl2ZU1vZGFsUmVmLmF0dGFjaFRlbXBsYXRlUG9ydGFsKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIG5ldyBUZW1wbGF0ZVBvcnRhbChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBudWxsLCB7ICRpbXBsaWNpdDogY29uZmlnLmRhdGEsIGRpYWxvZ1JlZiB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbmplY3RvciA9IHRoaXMuX2NyZWF0ZUluamVjdG9yKGNvbmZpZywgZGlhbG9nUmVmKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRSZWYgPSBuYXRpdmVNb2RhbFJlZi5hdHRhY2hDb21wb25lbnRQb3J0YWwobmV3IENvbXBvbmVudFBvcnRhbChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBjb25maWcudmlld0NvbnRhaW5lclJlZiwgaW5qZWN0b3IpKTtcbiAgICAgICAgICAgIGRpYWxvZ1JlZi5jb21wb25lbnRJbnN0YW5jZSA9IGNvbnRlbnRSZWYuaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpYWxvZ1JlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGN1c3RvbSBpbmplY3RvciB0byBiZSB1c2VkIGluc2lkZSB0aGUgZGlhbG9nLiBUaGlzIGFsbG93cyBhIGNvbXBvbmVudCBsb2FkZWQgaW5zaWRlXG4gICAgICogb2YgYSBkaWFsb2cgdG8gY2xvc2UgaXRzZWxmIGFuZCwgb3B0aW9uYWxseSwgdG8gcmV0dXJuIGEgdmFsdWUuXG4gICAgICogQHBhcmFtIGNvbmZpZyBDb25maWcgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVmIFJlZmVyZW5jZSB0byB0aGUgZGlhbG9nLlxuICAgICAqIEBwYXJhbSBkaWFsb2dDb250YWluZXIgRGlhbG9nIGNvbnRhaW5lciBlbGVtZW50IHRoYXQgd3JhcHMgYWxsIG9mIHRoZSBjb250ZW50cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgY3VzdG9tIGluamVjdG9yIHRoYXQgY2FuIGJlIHVzZWQgaW5zaWRlIHRoZSBkaWFsb2cuXG4gICAgICovXG4gICAgX2NyZWF0ZUluamVjdG9yKGNvbmZpZywgZGlhbG9nUmVmKSB7XG4gICAgICAgIGNvbnN0IHVzZXJJbmplY3RvciA9IGNvbmZpZyAmJiBjb25maWcudmlld0NvbnRhaW5lclJlZiAmJiBjb25maWcudmlld0NvbnRhaW5lclJlZi5pbmplY3RvcjtcbiAgICAgICAgLy8gVGhlIGRpYWxvZyBjb250YWluZXIgc2hvdWxkIGJlIHByb3ZpZGVkIGFzIHRoZSBkaWFsb2cgY29udGFpbmVyIGFuZCB0aGUgZGlhbG9nJ3NcbiAgICAgICAgLy8gY29udGVudCBhcmUgY3JlYXRlZCBvdXQgb2YgdGhlIHNhbWUgYFZpZXdDb250YWluZXJSZWZgIGFuZCBhcyBzdWNoLCBhcmUgc2libGluZ3NcbiAgICAgICAgLy8gZm9yIGluamVjdG9yIHB1cnBvc2VzLiBUbyBhbGxvdyB0aGUgaGllcmFyY2h5IHRoYXQgaXMgZXhwZWN0ZWQsIHRoZSBkaWFsb2dcbiAgICAgICAgLy8gY29udGFpbmVyIGlzIGV4cGxpY2l0bHkgcHJvdmlkZWQgaW4gdGhlIGluamVjdG9yLlxuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBbXG4gICAgICAgICAgICB7IHByb3ZpZGU6IHRoaXMuX2RpYWxvZ0RhdGFUb2tlbiwgdXNlVmFsdWU6IGNvbmZpZy5kYXRhIH0sXG4gICAgICAgICAgICB7IHByb3ZpZGU6IHRoaXMuX2RpYWxvZ1JlZkNvbnN0cnVjdG9yLCB1c2VWYWx1ZTogZGlhbG9nUmVmIH0sXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBJbmplY3Rvci5jcmVhdGUoeyBwYXJlbnQ6IHVzZXJJbmplY3RvciB8fCB0aGlzLl9pbmplY3RvciwgcHJvdmlkZXJzIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgZGlhbG9nIGZyb20gdGhlIGFycmF5IG9mIG9wZW4gZGlhbG9ncy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVmIERpYWxvZyB0byBiZSByZW1vdmVkLlxuICAgICAqL1xuICAgIF9yZW1vdmVPcGVuRGlhbG9nKGRpYWxvZ1JlZikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub3BlbkRpYWxvZ3MuaW5kZXhPZihkaWFsb2dSZWYpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRGlhbG9ncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgLy8gSWYgYWxsIHRoZSBkaWFsb2dzIHdlcmUgY2xvc2VkLCByZW1vdmUvcmVzdG9yZSB0aGUgYGFyaWEtaGlkZGVuYFxuICAgICAgICAgICAgLy8gdG8gYSB0aGUgc2libGluZ3MgYW5kIGVtaXQgdG8gdGhlIGBhZnRlckFsbENsb3NlZGAgc3RyZWFtLlxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wZW5EaWFsb2dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dldEFmdGVyQWxsQ2xvc2VkKCkubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBDbG9zZXMgYWxsIG9mIHRoZSBkaWFsb2dzIGluIGFuIGFycmF5LiAqL1xuICAgIF9jbG9zZURpYWxvZ3MoZGlhbG9ncykge1xuICAgICAgICBsZXQgaSA9IGRpYWxvZ3MubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAvLyBUaGUgYF9vcGVuRGlhbG9nc2AgcHJvcGVydHkgaXNuJ3QgdXBkYXRlZCBhZnRlciBjbG9zZSB1bnRpbCB0aGUgcnhqcyBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgIC8vIHJ1bnMgb24gdGhlIG5leHQgbWljcm90YXNrLCBpbiBhZGRpdGlvbiB0byBtb2RpZnlpbmcgdGhlIGFycmF5IGFzIHdlJ3JlIGdvaW5nXG4gICAgICAgICAgICAvLyB0aHJvdWdoIGl0LiBXZSBsb29wIHRocm91Z2ggYWxsIG9mIHRoZW0gYW5kIGNhbGwgY2xvc2Ugd2l0aG91dCBhc3N1bWluZyB0aGF0XG4gICAgICAgICAgICAvLyB0aGV5J2xsIGJlIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBpbnN0YW50YW5lb3VzbHkuXG4gICAgICAgICAgICBkaWFsb2dzW2ldLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBfTmF0aXZlRGlhbG9nQmFzZSwgZGVwczogXCJpbnZhbGlkXCIsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBfTmF0aXZlRGlhbG9nQmFzZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogX05hdGl2ZURpYWxvZ0Jhc2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5JbmplY3RvciB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IGkwLlR5cGUgfSwgeyB0eXBlOiBpMC5UeXBlIH0sIHsgdHlwZTogaTAuSW5qZWN0aW9uVG9rZW4gfSwgeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV07IH0gfSk7XG4vKipcbiAqIFNlcnZpY2UgdG8gb3BlbiBNYXRlcmlhbCBEZXNpZ24gbW9kYWwgZGlhbG9ncy5cbiAqL1xuY2xhc3MgTmF0aXZlRGlhbG9nU2VydmljZSBleHRlbmRzIF9OYXRpdmVEaWFsb2dCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcihpbmplY3RvciwgZGVmYXVsdE9wdGlvbnMsIHBhcmVudERpYWxvZywgbG9jYXRpb24pIHtcbiAgICAgICAgc3VwZXIoaW5qZWN0b3IsIGRlZmF1bHRPcHRpb25zLCBwYXJlbnREaWFsb2csIE5hdGl2ZURpYWxvZ1JlZiwgTmF0aXZlTW9kYWxSZWYsIE5BVElWRV9ESUFMT0dfREFUQSwgbG9jYXRpb24pO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIGRlcHM6IFt7IHRva2VuOiBpMC5JbmplY3RvciB9LCB7IHRva2VuOiBOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OUywgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogTmF0aXZlRGlhbG9nU2VydmljZSwgb3B0aW9uYWw6IHRydWUsIHNraXBTZWxmOiB0cnVlIH0sIHsgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkluamVjdG9yIH0sIHsgdHlwZTogTmF0aXZlRGlhbG9nQ29uZmlnLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlNdXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU2tpcFNlbGZcbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcbi8qKlxuICogQXBwbGllcyBkZWZhdWx0IG9wdGlvbnMgdG8gdGhlIGRpYWxvZyBjb25maWcuXG4gKiBAcGFyYW0gY29uZmlnIENvbmZpZyB0byBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSBkZWZhdWx0T3B0aW9ucyBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQuXG4gKiBAcmV0dXJucyBUaGUgbmV3IGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBfYXBwbHlDb25maWdEZWZhdWx0cyhjb25maWcsIGRlZmF1bHRPcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLmNvbmZpZyB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQnV0dG9uIHRoYXQgd2lsbCBjbG9zZSB0aGUgY3VycmVudCBkaWFsb2cuXG4gKi9cbmNsYXNzIE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBUaGUgZGlhbG9nIHRpdGxlIGRpcmVjdGl2ZSBpcyBhbHdheXMgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIGEgYE1hdERpYWxvZ1JlZmAuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBsaWdodHdlaWdodC10b2tlbnNcbiAgICBkaWFsb2dSZWYsIF9lbGVtZW50UmVmLCBfZGlhbG9nKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nUmVmID0gZGlhbG9nUmVmO1xuICAgICAgICB0aGlzLl9lbGVtZW50UmVmID0gX2VsZW1lbnRSZWY7XG4gICAgICAgIHRoaXMuX2RpYWxvZyA9IF9kaWFsb2c7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlhbG9nUmVmKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoaXMgZGlyZWN0aXZlIGlzIGluY2x1ZGVkIGluIGEgZGlhbG9nIHZpYSBUZW1wbGF0ZVJlZiAocmF0aGVyIHRoYW4gYmVpbmdcbiAgICAgICAgICAgIC8vIGluIGEgQ29tcG9uZW50KSwgdGhlIERpYWxvZ1JlZiBpc24ndCBhdmFpbGFibGUgdmlhIGluamVjdGlvbiBiZWNhdXNlIGVtYmVkZGVkXG4gICAgICAgICAgICAvLyB2aWV3cyBjYW5ub3QgYmUgZ2l2ZW4gYSBjdXN0b20gaW5qZWN0b3IuIEluc3RlYWQsIHdlIGxvb2sgdXAgdGhlIERpYWxvZ1JlZiBieVxuICAgICAgICAgICAgLy8gSUQuIFRoaXMgbXVzdCBvY2N1ciBpbiBgb25Jbml0YCwgYXMgdGhlIElEIGJpbmRpbmcgZm9yIHRoZSBkaWFsb2cgY29udGFpbmVyIHdvbid0XG4gICAgICAgICAgICAvLyBiZSByZXNvbHZlZCBhdCBjb25zdHJ1Y3RvciB0aW1lLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHRoaXMuZGlhbG9nUmVmID0gZ2V0Q2xvc2VzdERpYWxvZyh0aGlzLl9lbGVtZW50UmVmLCB0aGlzLl9kaWFsb2cub3BlbkRpYWxvZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgY29uc3QgcHJveGllZENoYW5nZSA9IGNoYW5nZXNbJ19tYXREaWFsb2dDbG9zZSddIHx8IGNoYW5nZXNbJ19tYXREaWFsb2dDbG9zZVJlc3VsdCddO1xuICAgICAgICBpZiAocHJveGllZENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2dSZXN1bHQgPSBwcm94aWVkQ2hhbmdlLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25CdXR0b25DbGljaygpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5hdGUgdGhlIGZvY3VzIG9yaWdpbiB1c2luZyB0aGUgY2xpY2sgZXZlbnQsIGJlY2F1c2UgdXNpbmcgdGhlIEZvY3VzTW9uaXRvciB3aWxsXG4gICAgICAgIC8vIHJlc3VsdCBpbiBpbmNvcnJlY3Qgb3JpZ2lucy4gTW9zdCBvZiB0aGUgdGltZSwgY2xvc2UgYnV0dG9ucyB3aWxsIGJlIGF1dG8gZm9jdXNlZCBpbiB0aGVcbiAgICAgICAgLy8gZGlhbG9nLCBhbmQgdGhlcmVmb3JlIGNsaWNraW5nIHRoZSBidXR0b24gd29uJ3QgcmVzdWx0IGluIGEgZm9jdXMgY2hhbmdlLiBUaGlzIG1lYW5zIHRoYXRcbiAgICAgICAgLy8gdGhlIEZvY3VzTW9uaXRvciB3b24ndCBkZXRlY3QgYW55IG9yaWdpbiBjaGFuZ2UsIGFuZCB3aWxsIGFsd2F5cyBvdXRwdXQgYHByb2dyYW1gLlxuICAgICAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSh0aGlzLmRpYWxvZ1Jlc3VsdCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBOYXRpdmVEaWFsb2dSZWYsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogTmF0aXZlRGlhbG9nU2VydmljZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJbbmF0aXZlLWRpYWxvZy1jbG9zZV0sIFtuYXRpdmVEaWFsb2dDbG9zZV1cIiwgaW5wdXRzOiB7IGRpYWxvZ1Jlc3VsdDogW1wibmF0aXZlLWRpYWxvZy1jbG9zZVwiLCBcImRpYWxvZ1Jlc3VsdFwiXSwgX21hdERpYWxvZ0Nsb3NlOiBbXCJuYXRpdmVEaWFsb2dDbG9zZVwiLCBcIl9tYXREaWFsb2dDbG9zZVwiXSB9LCBob3N0OiB7IGxpc3RlbmVyczogeyBcInRhcFwiOiBcIl9vbkJ1dHRvbkNsaWNrKClcIiB9IH0sIGV4cG9ydEFzOiBbXCJuYXRpdmVEaWFsb2dDbG9zZVwiXSwgdXNlc09uQ2hhbmdlczogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuYXRpdmUtZGlhbG9nLWNsb3NlXSwgW25hdGl2ZURpYWxvZ0Nsb3NlXScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnbmF0aXZlRGlhbG9nQ2xvc2UnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTmF0aXZlRGlhbG9nUmVmLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGRpYWxvZ1Jlc3VsdDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ25hdGl2ZS1kaWFsb2ctY2xvc2UnXVxuICAgICAgICAgICAgfV0sIF9tYXREaWFsb2dDbG9zZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ25hdGl2ZURpYWxvZ0Nsb3NlJ11cbiAgICAgICAgICAgIH1dLCBfb25CdXR0b25DbGljazogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBIb3N0TGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgYXJnczogWyd0YXAnXVxuICAgICAgICAgICAgfV0gfSB9KTtcbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgTWF0RGlhbG9nUmVmIHRvIGFuIGVsZW1lbnQgYnkgbG9va2luZyBhdCB0aGUgRE9NLlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCByZWxhdGl2ZSB0byB3aGljaCB0byBsb29rIGZvciBhIGRpYWxvZy5cbiAqIEBwYXJhbSBvcGVuRGlhbG9ncyBSZWZlcmVuY2VzIHRvIHRoZSBjdXJyZW50bHktb3BlbiBkaWFsb2dzLlxuICovXG5mdW5jdGlvbiBnZXRDbG9zZXN0RGlhbG9nKGVsZW1lbnQsIG9wZW5EaWFsb2dzKSB7XG4gICAgbGV0IHZpZXcgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQucGFyZW50O1xuICAgIHdoaWxlICh2aWV3ICYmICFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2aWV3LCAnX19uZ19tb2RhbF9pZF9fJykpIHtcbiAgICAgICAgdmlldyA9IHZpZXcucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gdmlldyA/IG9wZW5EaWFsb2dzLmZpbmQoKGRpYWxvZykgPT4gZGlhbG9nLmlkID09PSB2aWV3WydfX25nX21vZGFsX2lkX18nXSkgOiBudWxsO1xufVxuXG5jbGFzcyBOYXRpdmVEaWFsb2dNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ01vZHVsZSwgZGVjbGFyYXRpb25zOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdLCBleHBvcnRzOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nTW9kdWxlLCBwcm92aWRlcnM6IFtOYXRpdmVEaWFsb2dTZXJ2aWNlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtOYXRpdmVEaWFsb2dTZXJ2aWNlXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLy8gQWxsb3dzIGdyZWF0ZXIgZmxleGliaWxpdHkgd2l0aCBgZmlsZS1zeXN0ZW1gIGFuZCBBbmd1bGFyXG4vLyBBbHNvIHByb3ZpZGVzIGEgd2F5IGZvciBgZmlsZS1zeXN0ZW1gIHRvIGJlIG1vY2tlZCBmb3IgdGVzdGluZ1xuY2xhc3MgTlNGaWxlU3lzdGVtIHtcbiAgICBjdXJyZW50QXBwKCkge1xuICAgICAgICByZXR1cm4ga25vd25Gb2xkZXJzLmN1cnJlbnRBcHAoKTtcbiAgICB9XG4gICAgZmlsZUZyb21QYXRoKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIEZpbGUuZnJvbVBhdGgocGF0aCk7XG4gICAgfVxuICAgIGZpbGVFeGlzdHMocGF0aCkge1xuICAgICAgICByZXR1cm4gRmlsZS5leGlzdHMocGF0aCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNGaWxlU3lzdGVtLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNGaWxlU3lzdGVtIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNGaWxlU3lzdGVtLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSB9KTtcblxuLyoqXG4gKiBjcmVhdGVzIGEgRGV0YWNoZWRMb2FkZXIgZWl0aGVyIGxpbmtlZCB0byB0aGUgVmlld0NvbnRhaW5lclJlZiBvciB0aGUgQXBwbGljYXRpb25SZWYgaWYgVmlld0NvbnRhaW5lclJlZiBpcyBub3QgZGVmaW5lZFxuICogQHBhcmFtIHJlc29sdmVyIGNvbXBvbmVudCBmYWN0b3J5IHJlc29sdmVyXG4gKiBAcGFyYW0gaW5qZWN0b3IgZGVmYXVsdCBpbmplY3RvciwgdW51c2VkIGlmIHZpZXdDb250YWluZXJSZWYgaXMgc2V0XG4gKiBAcGFyYW0gdmlld0NvbnRhaW5lclJlZiB3aGVyZSB0aGUgdmlldyBzaG91bGQgbGl2ZSBpbiB0aGUgYW5ndWxhciB0cmVlXG4gKiBAcmV0dXJucyByZWZlcmVuY2UgdG8gdGhlIERldGFjaGVkTG9hZGVyXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRGV0YWNoZWRMb2FkZXIocmVzb2x2ZXIsIGluamVjdG9yLCB2aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgaW5qZWN0b3IgPSB2aWV3Q29udGFpbmVyUmVmPy5pbmplY3RvciB8fCBpbmplY3RvcjtcbiAgICBjb25zdCBkZXRhY2hlZEZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgY29uc3QgZGV0YWNoZWRMb2FkZXJSZWYgPSB2aWV3Q29udGFpbmVyUmVmPy5jcmVhdGVDb21wb25lbnQoZGV0YWNoZWRGYWN0b3J5KSB8fCBkZXRhY2hlZEZhY3RvcnkuY3JlYXRlKGluamVjdG9yKTtcbiAgICBpZiAoIXZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKS5hdHRhY2hWaWV3KGRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTtcbiAgICB9XG4gICAgZGV0YWNoZWRMb2FkZXJSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHJldHVybiBkZXRhY2hlZExvYWRlclJlZjtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgTmdWaWV3UmVmIGZyb20gYSBjb21wb25lbnQgb3IgdGVtcGxhdGUuIEBzZWUgTmdWaWV3UmVmXG4gKiBQYXNzIGtlZXBOYXRpdmVWaWV3QXR0YWNoZWQgYXMgYHRydWVgIGlmIHlvdSBkb24ndCB3YW50IHRoZSBmaXJzdCBuYXRpdmUgdmlldyB0byBiZSBkZXRhY2hlZCBmcm9tIGl0cyBwYXJlbnQuXG4gKiBGb3Igb3BlbmluZyBtb2RhbHMgYW5kIG90aGVycywgdGhlIGZpcnN0TmF0aXZlTGlrZVZpZXcgc2hvdWxkIGJlIGRldGFjaGVkLlxuICogQHBhcmFtIHR5cGVPclRlbXBsYXRlIENvbXBvbmVudFR5cGUgb3IgVGVtcGxhdGVSZWYgdGhhdCBzaG91bGQgYmUgaW5zdGFuY2VkXG4gKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgdmlld1xuICogQHJldHVybnMgTmdWaWV3UmVmXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlTmF0aXZlU2NyaXB0Vmlldyh0eXBlT3JUZW1wbGF0ZSwgb3B0aW9ucykge1xuICAgIGxldCBkZXRhY2hlZExvYWRlclJlZiA9IG9wdGlvbnMuZGV0YWNoZWRMb2FkZXJSZWY7XG4gICAgY29uc3QgcmV1c2luZ0RldGFjaGVkTG9hZGVyID0gISFkZXRhY2hlZExvYWRlclJlZjtcbiAgICBpZiAocmV1c2luZ0RldGFjaGVkTG9hZGVyKSB7XG4gICAgICAgIG9wdGlvbnMudmlld0NvbnRhaW5lclJlZiA9IGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLnZjO1xuICAgIH1cbiAgICBjb25zdCBpbmplY3RvciA9IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZj8uaW5qZWN0b3IgfHwgb3B0aW9ucy5pbmplY3RvcjtcbiAgICBjb25zdCByZXNvbHZlciA9IG9wdGlvbnMucmVzb2x2ZXIgfHwgaW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcik7XG4gICAgaWYgKCFkZXRhY2hlZExvYWRlclJlZiAmJiAob3B0aW9ucy52aWV3Q29udGFpbmVyUmVmIHx8IHR5cGVPclRlbXBsYXRlIGluc3RhbmNlb2YgVGVtcGxhdGVSZWYpKSB7XG4gICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gZ2VuZXJhdGVEZXRhY2hlZExvYWRlcihyZXNvbHZlciwgaW5qZWN0b3IsIG9wdGlvbnMudmlld0NvbnRhaW5lclJlZik7XG4gICAgfVxuICAgIGxldCBwb3J0YWw7XG4gICAgaWYgKHR5cGVPclRlbXBsYXRlIGluc3RhbmNlb2YgVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgcG9ydGFsID0gbmV3IFRlbXBsYXRlUG9ydGFsKHR5cGVPclRlbXBsYXRlLCBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS52Yyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwb3J0YWwgPSBuZXcgQ29tcG9uZW50UG9ydGFsKHR5cGVPclRlbXBsYXRlLCBkZXRhY2hlZExvYWRlclJlZj8uaW5zdGFuY2UudmMpO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgY29uc3QgcG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldChwYXJlbnRWaWV3LCByZXNvbHZlciwgaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKSwgaW5qZWN0b3IpO1xuICAgIGNvbnN0IGNvbXBvbmVudE9yVGVtcGxhdGVSZWYgPSBwb3J0YWxPdXRsZXQuYXR0YWNoKHBvcnRhbCk7XG4gICAgY29tcG9uZW50T3JUZW1wbGF0ZVJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICBwb3J0YWxPdXRsZXQuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIGlmIChkZXRhY2hlZExvYWRlclJlZiAmJiAhcmV1c2luZ0RldGFjaGVkTG9hZGVyKSB7XG4gICAgICAgIGNvbXBvbmVudE9yVGVtcGxhdGVSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdSZWYgPSBuZXcgTmdWaWV3UmVmKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYpO1xuICAgIHZpZXdSZWYuZGV0YWNoZWRMb2FkZXJSZWYgPSBkZXRhY2hlZExvYWRlclJlZjtcbiAgICBpZiAoIW9wdGlvbnMua2VlcE5hdGl2ZVZpZXdBdHRhY2hlZCkge1xuICAgICAgICB2aWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3UmVmO1xufVxuXG5jbGFzcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24gPSAwO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZWdpc3Rlck9uQ2hhbmdlKGZuKSB7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSAoYXJnKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGZuKGFyZyk7XG4gICAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyT25Ub3VjaGVkKGZuKSB7XG4gICAgICAgIHRoaXMub25Ub3VjaGVkID0gZm47XG4gICAgfVxuICAgIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnZpZXcuaXNFbmFibGVkID0gIWlzRGlzYWJsZWQ7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUoXykge1xuICAgICAgICAvL1xuICAgIH1cbiAgICBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNCbGFuayh2YWx1ZSkgPyB1bnNldFZhbHVlIDogdmFsdWU7XG4gICAgfVxufVxuXG5jb25zdCBURVhUX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRleHRWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igd3JpdGluZyBhIHRleHQgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxUZXh0RmllbGQgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIFRleHRWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUgPyBgJHt2YWx1ZX1gIDogdmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcudGV4dCA9IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGV4dFZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogVGV4dFZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlRleHRGaWVsZFtuZ01vZGVsXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xdLHRleHRGaWVsZFtuZ01vZGVsXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xdLHRleHRmaWVsZFtuZ01vZGVsXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xdLHRleHQtZmllbGRbbmdNb2RlbF0sdGV4dC1maWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xdLFRleHRWaWV3W25nTW9kZWxdLFRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGV4dFZpZXdbZm9ybUNvbnRyb2xdLHRleHRWaWV3W25nTW9kZWxdLHRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dFZpZXdbZm9ybUNvbnRyb2xdLHRleHR2aWV3W25nTW9kZWxdLHRleHR2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dHZpZXdbZm9ybUNvbnRyb2xdLHRleHQtdmlld1tuZ01vZGVsXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xdLFNlYXJjaEJhcltuZ01vZGVsXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xdLHNlYXJjaEJhcltuZ01vZGVsXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xdLHNlYXJjaGJhcltuZ01vZGVsXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xdLHNlYXJjaC1iYXJbbmdNb2RlbF0sIHNlYXJjaC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2gtYmFyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImJsdXJcIjogXCJvblRvdWNoZWQoKVwiLCBcInRleHRDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtURVhUX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZXh0VmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnVGV4dEZpZWxkW25nTW9kZWxdLFRleHRGaWVsZFtmb3JtQ29udHJvbE5hbWVdLFRleHRGaWVsZFtmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dEZpZWxkW25nTW9kZWxdLHRleHRGaWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHRGaWVsZFtmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dGZpZWxkW25nTW9kZWxdLHRleHRmaWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHRmaWVsZFtmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dC1maWVsZFtuZ01vZGVsXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dC1maWVsZFtmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGV4dFZpZXdbbmdNb2RlbF0sVGV4dFZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUZXh0Vmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dFZpZXdbbmdNb2RlbF0sdGV4dFZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0Vmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dHZpZXdbbmdNb2RlbF0sdGV4dHZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0dmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dC12aWV3W25nTW9kZWxdLHRleHQtdmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHQtdmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VhcmNoQmFyW25nTW9kZWxdLFNlYXJjaEJhcltmb3JtQ29udHJvbE5hbWVdLFNlYXJjaEJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VhcmNoQmFyW25nTW9kZWxdLHNlYXJjaEJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaEJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VhcmNoYmFyW25nTW9kZWxdLHNlYXJjaGJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaGJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VhcmNoLWJhcltuZ01vZGVsXSwgc2VhcmNoLWJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaC1iYXJbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbVEVYVF9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGJsdXIpJzogJ29uVG91Y2hlZCgpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICcodGV4dENoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBDSEVDS0VEX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IENoZWNrZWRWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIGNoZWNrZWQgcHJvcGVydHkgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxTd2l0Y2ggWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIENoZWNrZWRWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcuY2hlY2tlZCA9IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlN3aXRjaFtuZ01vZGVsXSxTd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxTd2l0Y2hbZm9ybUNvbnRyb2xdLHN3aXRjaFtuZ01vZGVsXSxzd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxzd2l0Y2hbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiY2hlY2tlZENoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW0NIRUNLRURfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdTd2l0Y2hbbmdNb2RlbF0sU3dpdGNoW2Zvcm1Db250cm9sTmFtZV0sU3dpdGNoW2Zvcm1Db250cm9sXSwnICsgJ3N3aXRjaFtuZ01vZGVsXSxzd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxzd2l0Y2hbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGNoZWNrZWRDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgREFURV9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEYXRlVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSBkYXRlIGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8RGF0ZVBpY2tlciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgRGF0ZVZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy5kYXRlID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEYXRlVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBEYXRlVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiRGF0ZVBpY2tlcltuZ01vZGVsXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbF0sZGF0ZXBpY2tlcltuZ01vZGVsXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZXBpY2tlcltmb3JtQ29udHJvbF0sZGF0ZVBpY2tlcltuZ01vZGVsXSxkYXRlUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZVBpY2tlcltmb3JtQ29udHJvbF0sZGF0ZS1waWNrZXJbbmdNb2RlbF0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJkYXRlQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbREFURV9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGF0ZVZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0RhdGVQaWNrZXJbbmdNb2RlbF0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAnZGF0ZXBpY2tlcltuZ01vZGVsXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZXBpY2tlcltmb3JtQ29udHJvbF0sJyArICdkYXRlUGlja2VyW25nTW9kZWxdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlUGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ2RhdGUtcGlja2VyW25nTW9kZWxdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbREFURV9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGRhdGVDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgVElNRV9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUaW1lVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSB0aW1lIGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8VGltZVBpY2tlciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgVGltZVZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy50aW1lID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUaW1lVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBUaW1lVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiVGltZVBpY2tlcltuZ01vZGVsXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sVGltZVBpY2tlcltmb3JtQ29udHJvbF0sdGltZXBpY2tlcltuZ01vZGVsXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZXBpY2tlcltmb3JtQ29udHJvbF0sdGltZVBpY2tlcltuZ01vZGVsXSx0aW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZVBpY2tlcltmb3JtQ29udHJvbF0sdGltZS1waWNrZXJbbmdNb2RlbF0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJ0aW1lQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbVElNRV9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGltZVZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1RpbWVQaWNrZXJbbmdNb2RlbF0sVGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLFRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAndGltZXBpY2tlcltuZ01vZGVsXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZXBpY2tlcltmb3JtQ29udHJvbF0sJyArICd0aW1lUGlja2VyW25nTW9kZWxdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lUGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ3RpbWUtcGlja2VyW25nTW9kZWxdLHRpbWUtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbVElNRV9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKHRpbWVDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgTlVNQkVSX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IE51bWJlclZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgdmFsdWUgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfVxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxTbGlkZXIgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIE51bWJlclZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy52YWx1ZSA9IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnVtYmVyVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBOdW1iZXJWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJTbGlkZXJbbmdNb2RlbF0sU2xpZGVyW2Zvcm1Db250cm9sTmFtZV0sU2xpZGVyW2Zvcm1Db250cm9sXSxzbGlkZXJbbmdNb2RlbF0sc2xpZGVyW2Zvcm1Db250cm9sTmFtZV0sc2xpZGVyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcInZhbHVlQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbTlVNQkVSX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOdW1iZXJWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdTbGlkZXJbbmdNb2RlbF0sU2xpZGVyW2Zvcm1Db250cm9sTmFtZV0sU2xpZGVyW2Zvcm1Db250cm9sXSwnICsgJ3NsaWRlcltuZ01vZGVsXSxzbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxzbGlkZXJbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTlVNQkVSX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcodmFsdWVDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgU0VMRUNURURfSU5ERVhfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgc2VsZWN0ZWRJbmRleCBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFNlZ21lbnRlZEJhciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTptYXgtbGluZS1sZW5ndGggZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gbm9ybWFsaXplZDtcbiAgICAgICAgaWYgKHRoaXMudmlld0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLnZpZXdJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRoaXMudmlldy5zZWxlY3RlZEluZGV4ID0gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiU2VnbWVudGVkQmFyW25nTW9kZWxdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sc2VnbWVudGVkQmFyW25nTW9kZWxdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sc2VnbWVudGVkYmFyW25nTW9kZWxdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbF0sc2VnbWVudGVkLWJhcltuZ01vZGVsXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkLWJhcltmb3JtQ29udHJvbF0sTGlzdFBpY2tlcltuZ01vZGVsXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sTGlzdFBpY2tlcltmb3JtQ29udHJvbF0sbGlzdFBpY2tlcltuZ01vZGVsXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdFBpY2tlcltmb3JtQ29udHJvbF0sbGlzdHBpY2tlcltuZ01vZGVsXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdHBpY2tlcltmb3JtQ29udHJvbF0sbGlzdC1waWNrZXJbbmdNb2RlbF0sbGlzdC1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbF0sVGFiVmlld1tuZ01vZGVsXSxUYWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGFiVmlld1tmb3JtQ29udHJvbF0sdGFiVmlld1tuZ01vZGVsXSx0YWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGFiVmlld1tmb3JtQ29udHJvbF0sdGFidmlld1tuZ01vZGVsXSx0YWJ2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGFidmlld1tmb3JtQ29udHJvbF0sdGFiLXZpZXdbbmdNb2RlbF0sdGFiLXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWItdmlld1tmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJzZWxlY3RlZEluZGV4Q2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbU0VMRUNURURfSU5ERVhfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdTZWdtZW50ZWRCYXJbbmdNb2RlbF0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWdtZW50ZWRCYXJbbmdNb2RlbF0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWdtZW50ZWRiYXJbbmdNb2RlbF0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWdtZW50ZWQtYmFyW25nTW9kZWxdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdMaXN0UGlja2VyW25nTW9kZWxdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsaXN0UGlja2VyW25nTW9kZWxdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsaXN0cGlja2VyW25nTW9kZWxdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsaXN0LXBpY2tlcltuZ01vZGVsXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUYWJWaWV3W25nTW9kZWxdLFRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUYWJWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YWJWaWV3W25nTW9kZWxdLHRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YWJ2aWV3W25nTW9kZWxdLHRhYnZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJ2aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YWItdmlld1tuZ01vZGVsXSx0YWItdmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYi12aWV3W2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1NFTEVDVEVEX0lOREVYX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoc2VsZWN0ZWRJbmRleENoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jbGFzcyBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgZGVjbGFyYXRpb25zOiBbVGV4dFZhbHVlQWNjZXNzb3IsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBEYXRlVmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBOdW1iZXJWYWx1ZUFjY2Vzc29yXSwgaW1wb3J0czogW0Zvcm1zTW9kdWxlXSwgZXhwb3J0czogW0Zvcm1zTW9kdWxlLCBUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGltcG9ydHM6IFtGb3Jtc01vZHVsZSwgRm9ybXNNb2R1bGVdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1RleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW10sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtGb3Jtc01vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtGb3Jtc01vZHVsZSwgVGV4dFZhbHVlQWNjZXNzb3IsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBEYXRlVmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBOdW1iZXJWYWx1ZUFjY2Vzc29yXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuY29uc3QgREFTSF9DQVNFX1JFR0VYUCA9IC8tKyhbYS16MC05XSkvZztcbmZ1bmN0aW9uIGRhc2hDYXNlVG9DYW1lbENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShEQVNIX0NBU0VfUkVHRVhQLCAoLi4ubSkgPT4gbVsxXS50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uKHN0eWxlcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpIHtcbiAgICBjb25zdCBpbmZvID0gY3JlYXRlS2V5ZnJhbWVBbmltYXRpb25JbmZvKHN0eWxlcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIHJldHVybiBLZXlmcmFtZUFuaW1hdGlvbi5rZXlmcmFtZUFuaW1hdGlvbkZyb21JbmZvKGluZm8pO1xufVxuY29uc3QgY3JlYXRlS2V5ZnJhbWVBbmltYXRpb25JbmZvID0gKHN0eWxlcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpID0+ICh7XG4gICAgaXNGb3J3YXJkczogdHJ1ZSxcbiAgICBkdXJhdGlvbjogZHVyYXRpb24gfHwgMC4wMSxcbiAgICBkZWxheSxcbiAgICBjdXJ2ZTogZ2V0Q3VydmUoZWFzaW5nKSxcbiAgICBrZXlmcmFtZXM6IHN0eWxlcy5tYXAocGFyc2VBbmltYXRpb25LZXlmcmFtZSksXG59KTtcbmNvbnN0IGdldEN1cnZlID0gKHZhbHVlKSA9PiBhbmltYXRpb25UaW1pbmdGdW5jdGlvbkNvbnZlcnRlcih2YWx1ZSk7XG5jb25zdCBwYXJzZUFuaW1hdGlvbktleWZyYW1lID0gKHN0eWxlcykgPT4gKHtcbiAgICBkdXJhdGlvbjogZ2V0S2V5ZnJhbWVEdXJhdGlvbihzdHlsZXMpLFxuICAgIGRlY2xhcmF0aW9uczogZ2V0RGVjbGFyYXRpb25zKHN0eWxlcyksXG59KTtcbmNvbnN0IGdldEtleWZyYW1lRHVyYXRpb24gPSAoc3R5bGVzKSA9PiBzdHlsZXMub2Zmc2V0O1xuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25zKHN0eWxlcykge1xuICAgIGNvbnN0IGtleXMgPSBBcnJheS5mcm9tKHN0eWxlcy5rZXlzKCkpO1xuICAgIGNvbnN0IHVucGFyc2VkRGVjbGFyYXRpb25zID0ga2V5cy5tYXAoKHByb3BlcnR5KSA9PiAoeyBwcm9wZXJ0eSwgdmFsdWU6IHN0eWxlcy5nZXQocHJvcGVydHkpIH0pKTtcbiAgICByZXR1cm4gcGFyc2VLZXlmcmFtZURlY2xhcmF0aW9ucyh1bnBhcnNlZERlY2xhcmF0aW9ucyk7XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5wYXJlbnRQbGF5ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluaXRLZXlmcmFtZUFuaW1hdGlvbihrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICB9XG4gICAgZ2V0IHRvdGFsVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXkgKyB0aGlzLmR1cmF0aW9uO1xuICAgIH1cbiAgICBpbml0KCkgeyB9XG4gICAgaGFzU3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0ZWQ7XG4gICAgfVxuICAgIG9uU3RhcnQoZm4pIHtcbiAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zLnB1c2goZm4pO1xuICAgIH1cbiAgICBvbkRvbmUoZm4pIHtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMucHVzaChmbik7XG4gICAgfVxuICAgIG9uRGVzdHJveShmbikge1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucy5wdXNoKGZuKTtcbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIucGxheWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhpcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vTmF0aXZlU2NyaXB0L05hdGl2ZVNjcmlwdC9pc3N1ZXMvNzk4NCBpcyBmaXhlcyBpbiBAbmF0aXZlc2NyaXB0L2NvcmVcbiAgICAgICAgLy8gd2UgY2FuIGNoYW5nZSB0aGlzIGZpeCBhbmQgYXBwbHkgdGhlIG9uZSB0aGF0IGlzIHJlY29tbWVuZGVkIGluIHRoYXQgaXNzdWUuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldC5pc0xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbihWaWV3LmxvYWRlZEV2ZW50LCB0aGlzLm9uVGFyZ2V0TG9hZGVkLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVGFyZ2V0TG9hZGVkKGFyZ3MpIHtcbiAgICAgICAgdGhpcy50YXJnZXQub2ZmKFZpZXcubG9hZGVkRXZlbnQsIHRoaXMub25UYXJnZXRMb2FkZWQpO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24oKTtcbiAgICB9XG4gICAgcGxheUFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25cbiAgICAgICAgICAgIC5wbGF5KHRoaXMudGFyZ2V0KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5vbkZpbmlzaCgpKVxuICAgICAgICAgICAgLmNhdGNoKChfZSkgPT4geyB9KTtcbiAgICB9XG4gICAgcGF1c2UoKSB7IH1cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIHRoaXMub25GaW5pc2goKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLnJlc2V0YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uICYmIHRoaXMuYW5pbWF0aW9uLmlzUGxheWluZykge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzdGFydCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIucmVzdGFydGApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLmRlc3Ryb3lgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uRmluaXNoKCk7XG4gICAgfVxuICAgIHNldFBvc2l0aW9uKF9wKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQW5pbWF0aW9uUGxheWVyLnNldFBvc2l0aW9uIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIScpO1xuICAgIH1cbiAgICBnZXRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGluaXRLZXlmcmFtZUFuaW1hdGlvbihrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLmluaXRLZXlmcmFtZUFuaW1hdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gY3JlYXRlS2V5ZnJhbWVBbmltYXRpb24oa2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZyk7XG4gICAgfVxuICAgIG9uRmluaXNoKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5vbkZpbmlzaGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9maW5pc2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zID0gW107XG4gICAgfVxufVxuXG5jbGFzcyBTZWxlY3RvciB7XG4gICAgY29uc3RydWN0b3IocmF3U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5wYXJzZShyYXdTZWxlY3Rvcik7XG4gICAgfVxuICAgIG1hdGNoKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnNTZWxlY3Rvck1hdGNoKGVsZW1lbnQpIHx8IHRoaXMuY2xhc3NTZWxlY3RvcnNNYXRjaChlbGVtZW50KTtcbiAgICB9XG4gICAgcGFyc2UocmF3U2VsZWN0b3IpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gcmF3U2VsZWN0b3Iuc3BsaXQoJywnKS5tYXAoKHMpID0+IHMudHJpbSgpKTtcbiAgICAgICAgdGhpcy5uc1NlbGVjdG9ycyA9IHNlbGVjdG9ycy5tYXAoQ1NTSGVscGVyLmNyZWF0ZVNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5jbGFzc1NlbGVjdG9ycyA9IHNlbGVjdG9ycy5maWx0ZXIoKHMpID0+IHMuc3RhcnRzV2l0aCgnLicpKS5tYXAoKHMpID0+IHMuc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgbnNTZWxlY3Rvck1hdGNoKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnNTZWxlY3RvcnMuc29tZSgocykgPT4gcy5tYXRjaChlbGVtZW50KSk7XG4gICAgfVxuICAgIGNsYXNzU2VsZWN0b3JzTWF0Y2goZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFzc1NlbGVjdG9ycy5zb21lKChzKSA9PiB0aGlzLmhhc0NsYXNzKGVsZW1lbnQsIHMpKTtcbiAgICB9XG4gICAgLy8gd2UncmUgdXNpbmcgdGhhdCBpbnN0ZWFkIG9mIG1hdGNoIGZvciBjbGFzc2VzXG4gICAgLy8gdGhhdCBhcmUgZHluYW1pY2FsbHkgYWRkZWQgYnkgdGhlIGFuaW1hdGlvbiBlbmdpbmVcbiAgICAvLyBzdWNoIGFzIC5uZy10cmlnZ2VyLCB0aGF0J3MgYWRkZWQgZm9yIGV2ZXJ5IDplbnRlciB2aWV3XG4gICAgaGFzQ2xhc3MoZWxlbWVudCwgY2xzKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnRbJyQkY2xhc3NlcyddICYmIGVsZW1lbnRbJyQkY2xhc3NlcyddW2Nsc107XG4gICAgfVxufVxuY2xhc3MgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyIHtcbiAgICBzdGF0aWMgeyB0aGlzLnZhbGlkUHJvcGVydGllcyA9IFsuLi5Dc3NBbmltYXRpb25Qcm9wZXJ0eS5fZ2V0UHJvcGVydHlOYW1lcygpLCAndHJhbnNmb3JtJ107IH1cbiAgICBnZXRQYXJlbnRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ/LnBhcmVudDtcbiAgICB9XG4gICAgdmFsaWRhdGVTdHlsZVByb3BlcnR5KHByb3BlcnR5KSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYENzc0FuaW1hdGlvblByb3BlcnR5LnZhbGlkYXRlU3R5bGVQcm9wZXJ0eTogJHtwcm9wZXJ0eX1gKTtcbiAgICAgICAgcmV0dXJuIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci52YWxpZFByb3BlcnRpZXMuaW5kZXhPZihwcm9wZXJ0eSkgIT09IC0xO1xuICAgIH1cbiAgICBtYXRjaGVzRWxlbWVudChlbGVtZW50LCByYXdTZWxlY3Rvcikge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIubWF0Y2hlc0VsZW1lbnQgYCArIGBlbGVtZW50OiAke2VsZW1lbnR9LCBzZWxlY3RvcjogJHtyYXdTZWxlY3Rvcn1gKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm1ha2VTZWxlY3RvcihyYXdTZWxlY3Rvcik7XG4gICAgICAgIHJldHVybiBzZWxlY3Rvci5tYXRjaChlbGVtZW50KTtcbiAgICB9XG4gICAgY29udGFpbnNFbGVtZW50KGVsbTEsIGVsbTIpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLmNvbnRhaW5zRWxlbWVudCBgICsgYGVsZW1lbnQxOiAke2VsbTF9LCBlbGVtZW50MjogJHtlbG0yfWApO1xuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgcGFyZW50IGlzIG91ciBmYWtlIGJvZHkgb2JqZWN0XG4gICAgICAgIGlmIChlbG0xWydpc092ZXJyaWRlJ10pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgb3JpZ2luYWxWaWV3OiBlbG0yIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMudmlzaXREZXNjZW5kYW50cyhlbG0xLCB2aWV3TWF0Y2hlcywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5mb3VuZDtcbiAgICB9XG4gICAgcXVlcnkoZWxlbWVudCwgcmF3U2VsZWN0b3IsIG11bHRpKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5xdWVyeSBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIHNlbGVjdG9yOiAke3Jhd1NlbGVjdG9yfSBgICsgYG11bHRpOiAke211bHRpfWApO1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMubWFrZVNlbGVjdG9yKHJhd1NlbGVjdG9yKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBzZWxlY3RvciwgbXVsdGkgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy52aXNpdERlc2NlbmRhbnRzKGVsZW1lbnQsIHF1ZXJ5RGVzY2VuZGFudHMsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQubWF0Y2hlcyB8fCBbXTtcbiAgICB9XG4gICAgY29tcHV0ZVN0eWxlKGVsZW1lbnQsIHByb3ApIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLmNvbXB1dGVTdHlsZSBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIHByb3A6ICR7cHJvcH1gKTtcbiAgICAgICAgY29uc3QgY2FtZWxDYXNlUHJvcCA9IGRhc2hDYXNlVG9DYW1lbENhc2UocHJvcCk7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW2NhbWVsQ2FzZVByb3BdO1xuICAgIH1cbiAgICBhbmltYXRlKGVsZW1lbnQsIGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLmFuaW1hdGUgYCArIGBlbGVtZW50OiAke2VsZW1lbnR9LCBrZXlmcmFtZXM6ICR7a2V5ZnJhbWVzfSBgICsgYGR1cmF0aW9uOiAke2R1cmF0aW9ufSwgZGVsYXk6ICR7ZGVsYXl9IGAgKyBgZWFzaW5nOiAke2Vhc2luZ31gKTtcbiAgICAgICAgcmV0dXJuIG5ldyBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIoZWxlbWVudCwga2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZyk7XG4gICAgfVxuICAgIG1ha2VTZWxlY3RvcihyYXdTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IFNlbGVjdG9yKHJhd1NlbGVjdG9yKTtcbiAgICB9XG4gICAgdmlzaXREZXNjZW5kYW50cyhlbGVtZW50LCBjYiwgY2JQYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIC8vIGZpbGwgdGhlIHJlc3VsdCBvYmogd2l0aCB0aGUgcmVzdWx0IGZyb20gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgIGVhY2hEZXNjZW5kYW50KGVsZW1lbnQsIChjaGlsZCkgPT4gY2IoY2hpbGQsIHJlc3VsdCwgY2JQYXJhbXMpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5mdW5jdGlvbiB2aWV3TWF0Y2hlcyhlbGVtZW50LCByZXN1bHQsIHBhcmFtcykge1xuICAgIGlmIChlbGVtZW50ID09PSBwYXJhbXMub3JpZ2luYWxWaWV3KSB7XG4gICAgICAgIHJlc3VsdC5mb3VuZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiAhcmVzdWx0LmZvdW5kO1xufVxuZnVuY3Rpb24gcXVlcnlEZXNjZW5kYW50cyhlbGVtZW50LCByZXN1bHQsIHBhcmFtcykge1xuICAgIGlmICghcmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgcmVzdWx0Lm1hdGNoZXMgPSBbXTtcbiAgICB9XG4gICAgY29uc3QgeyBzZWxlY3RvciwgbXVsdGkgfSA9IHBhcmFtcztcbiAgICAvLyBza2lwIGNvbW1lbnQgYW5kIHRleHQgbm9kZXNcbiAgICAvLyBiZWNhdXNlIHRoZXkgYXJlIG5vdCBhY3R1YWwgVmlld3NcbiAgICAvLyBhbmQgY2Fubm90IGJlIGFuaW1hdGVkXG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlIHx8ICFzZWxlY3Rvci5tYXRjaChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBQcm94eVZpZXdDb250YWluZXIpIHtcbiAgICAgICAgZWxlbWVudC5lYWNoQ2hpbGQoKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICByZXN1bHQubWF0Y2hlcy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdC5tYXRjaGVzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBtdWx0aTtcbn1cblxuY2xhc3MgSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSBleHRlbmRzIMm1QW5pbWF0aW9uRW5naW5lIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2MsIGRyaXZlciwgbm9ybWFsaXplcikge1xuICAgICAgICBzdXBlcihkb2MuYm9keSwgZHJpdmVyLCBub3JtYWxpemVyKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLCBkZXBzOiBbeyB0b2tlbjogRE9DVU1FTlQgfSwgeyB0b2tlbjogaTEkMi5BbmltYXRpb25Ecml2ZXIgfSwgeyB0b2tlbjogaTEkMi7JtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtET0NVTUVOVF1cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkxJDIuQW5pbWF0aW9uRHJpdmVyIH0sIHsgdHlwZTogaTEkMi7JtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciB9XTsgfSB9KTtcbmZ1bmN0aW9uIGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyKCkge1xuICAgIHJldHVybiBuZXcgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyKCk7XG59XG5mdW5jdGlvbiBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeShyZW5kZXJlciwgZW5naW5lLCB6b25lKSB7XG4gICAgcmV0dXJuIG5ldyDJtUFuaW1hdGlvblJlbmRlcmVyRmFjdG9yeShyZW5kZXJlciwgZW5naW5lLCB6b25lKTtcbn1cbmZ1bmN0aW9uIGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplcigpIHtcbiAgICByZXR1cm4gbmV3IMm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplcigpO1xufVxuY2xhc3MgTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSB7XG4gICAgY29uc3RydWN0b3IocGFyZW50TW9kdWxlKSB7XG4gICAgICAgIC8vIFByZXZlbnRzIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUgZnJvbSBnZXR0aW5nIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzXG4gICAgICAgIHRocm93SWZBbHJlYWR5TG9hZGVkKHBhcmVudE1vZHVsZSwgJ05hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUnKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBkZXBzOiBbeyB0b2tlbjogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgb3B0aW9uYWw6IHRydWUsIHNraXBTZWxmOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgaW1wb3J0czogW05hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBBbmltYXRpb25Ecml2ZXIsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBwcm92aWRlOiBBbmltYXRpb25CdWlsZGVyLCB1c2VDbGFzczogybVCcm93c2VyQW5pbWF0aW9uQnVpbGRlciB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IMm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHByb3ZpZGU6IMm1QW5pbWF0aW9uRW5naW5lLCB1c2VDbGFzczogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IFJlbmRlcmVyRmFjdG9yeTIsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVSZW5kZXJlckZhY3RvcnksXG4gICAgICAgICAgICAgICAgZGVwczogW05hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSwgybVBbmltYXRpb25FbmdpbmUsIE5nWm9uZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLCBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBBbmltYXRpb25Ecml2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBBbmltYXRpb25CdWlsZGVyLCB1c2VDbGFzczogybVCcm93c2VyQW5pbWF0aW9uQnVpbGRlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IMm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IMm1QW5pbWF0aW9uRW5naW5lLCB1c2VDbGFzczogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IFJlbmRlcmVyRmFjdG9yeTIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVSZW5kZXJlckZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW05hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSwgybVBbmltYXRpb25FbmdpbmUsIE5nWm9uZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNraXBTZWxmXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbmZ1bmN0aW9uIGlzTG9jYWxSZXF1ZXN0KHVybCkge1xuICAgIHJldHVybiB1cmwuaW5kZXhPZignficpID09PSAwIHx8IHVybC5pbmRleE9mKCcvJykgPT09IDA7XG59XG5mdW5jdGlvbiBnZXRBYnNvbHV0ZVBhdGgodXJsLCBuc0ZpbGVTeXN0ZW0pIHtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgnficsICcnKS5yZXBsYWNlKCcvJywgJycpO1xuICAgIHVybCA9IHBhdGguam9pbihuc0ZpbGVTeXN0ZW0uY3VycmVudEFwcCgpLnBhdGgsIHVybCk7XG4gICAgcmV0dXJuIHVybDtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NMb2NhbEZpbGVSZXF1ZXN0KHVybCwgbnNGaWxlU3lzdGVtLCBzdWNjZXNzUmVzcG9uc2UsIGVycm9yUmVzcG9uc2UpIHtcbiAgICB1cmwgPSBnZXRBYnNvbHV0ZVBhdGgodXJsLCBuc0ZpbGVTeXN0ZW0pO1xuICAgIC8vIHJlcXVlc3QgZnJvbSBsb2NhbCBhcHAgcmVzb3VyY2VzXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlJDEoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGlmIChuc0ZpbGVTeXN0ZW0uZmlsZUV4aXN0cyh1cmwpKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbEZpbGUgPSBuc0ZpbGVTeXN0ZW0uZmlsZUZyb21QYXRoKHVybCk7XG4gICAgICAgICAgICBsb2NhbEZpbGUucmVhZFRleHQoKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoc3VjY2Vzc1Jlc3BvbnNlKHVybCwganNvbiwgMjAwKSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBFdmVuIHRob3VnaCB0aGUgcmVzcG9uc2Ugc3RhdHVzIHdhcyAyeHgsIHRoaXMgaXMgc3RpbGwgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBwYXJzZSBlcnJvciBjb250YWlucyB0aGUgdGV4dCBvZiB0aGUgYm9keSB0aGF0IGZhaWxlZCB0byBwYXJzZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JSZXN1bHQgPSB7IGVycm9yLCB0ZXh0OiBkYXRhIH07XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yUmVzcG9uc2UodXJsLCBlcnJvclJlc3VsdCwgMjAwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yUmVzcG9uc2UodXJsLCBlcnIsIDQwMCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvclJlc3BvbnNlKHVybCwgJ05vdCBGb3VuZCcsIDQwNCkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNsYXNzIE5zSHR0cEJhY2tFbmQgZXh0ZW5kcyBIdHRwWGhyQmFja2VuZCB7XG4gICAgY29uc3RydWN0b3IoeGhyRmFjdG9yeSwgbnNGaWxlU3lzdGVtKSB7XG4gICAgICAgIHN1cGVyKHhockZhY3RvcnkpO1xuICAgICAgICB0aGlzLm5zRmlsZVN5c3RlbSA9IG5zRmlsZVN5c3RlbTtcbiAgICB9XG4gICAgaGFuZGxlKHJlcSkge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBpZiAoaXNMb2NhbFJlcXVlc3QocmVxLnVybCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuaGFuZGxlTG9jYWxGaWxlUmVxdWVzdChyZXEudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1cGVyLmhhbmRsZShyZXEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGhhbmRsZUxvY2FsRmlsZVJlcXVlc3QodXJsKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzTG9jYWxGaWxlUmVxdWVzdCh1cmwsIHRoaXMubnNGaWxlU3lzdGVtLCBjcmVhdGVTdWNjZXNzUmVzcG9uc2UsIGNyZWF0ZUVycm9yUmVzcG9uc2UpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5zSHR0cEJhY2tFbmQsIGRlcHM6IFt7IHRva2VuOiBpMSQxLlhockZhY3RvcnkgfSwgeyB0b2tlbjogTlNGaWxlU3lzdGVtIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOc0h0dHBCYWNrRW5kIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnNIdHRwQmFja0VuZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMSQxLlhockZhY3RvcnkgfSwgeyB0eXBlOiBOU0ZpbGVTeXN0ZW0gfV07IH0gfSk7XG5mdW5jdGlvbiBjcmVhdGVTdWNjZXNzUmVzcG9uc2UodXJsLCBib2R5LCBzdGF0dXMpIHtcbiAgICByZXR1cm4gbmV3IEh0dHBSZXNwb25zZSh7XG4gICAgICAgIHVybCxcbiAgICAgICAgYm9keSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiAnT0snLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlRXJyb3JSZXNwb25zZSh1cmwsIGJvZHksIHN0YXR1cykge1xuICAgIHJldHVybiBuZXcgSHR0cEVycm9yUmVzcG9uc2Uoe1xuICAgICAgICB1cmwsXG4gICAgICAgIGVycm9yOiBib2R5LFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6ICdFUlJPUicsXG4gICAgfSk7XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0sIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIHByb3ZpZGVyczogW05TRmlsZVN5c3RlbSwgTnNIdHRwQmFja0VuZCwgeyBwcm92aWRlOiBIdHRwQmFja2VuZCwgdXNlRXhpc3Rpbmc6IE5zSHR0cEJhY2tFbmQgfV0sIGltcG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlLCBIdHRwQ2xpZW50TW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW05TRmlsZVN5c3RlbSwgTnNIdHRwQmFja0VuZCwgeyBwcm92aWRlOiBIdHRwQmFja2VuZCwgdXNlRXhpc3Rpbmc6IE5zSHR0cEJhY2tFbmQgfV0sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0h0dHBDbGllbnRNb2R1bGVdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSBtdWx0aXBsZSBhY3RpdmF0ZWRSb3V0ZSBub2RlcyBzaG91bGQgYmUgYXNzb2NpYXRlZC9oYW5kbGVkIGJ5IHRoZSBzYW1lIFBhZ2VSb3V0ZXJPdXRsZXQuXG4gKiBXZSBjYW4gZ2F0IGFkZGl0aW9uYWwgQWN0aXZhdGVkUm91dGVzIG5vZGVzIHdoZW4gdGhlcmUgaXM6XG4gKiAgLSBMYXp5IGxvYWRpbmcgLSB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIEFjdGl2YXRlZFJvdXRlIG5vZGUgZm9yIHRoZSBSb3V0ZUNvbmZpZyB3aXRoIHRoZSBgbG9hZENoaWxkcmVuYCBzZXR1cFxuICogIC0gQ29tcG9uZW50bGVzcyByb3V0ZXMgLSB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIEFjdGl2YXRlZFJvdXRlIG5vZGUgZm9yIHRoZSBjb21wb25lbnRsZXNzIFJvdXRlQ29uZmlnXG4gKlxuICogRXhhbXBsZTpcbiAqICAgUiAgPC0tIHJvb3RcbiAqICAgfFxuICogZmVhdHVyZSAobGF6eSBtb2R1bGUpIDwtLSBSb3V0ZUNvbmZpZzogeyBwYXRoOiBcImxhenlcIiwgbG9hZENoaWxkcmVuOiBcIi4vZmVhdHVyZS9mZWF0dXJlLm1vZHVsZSNGZWF0dXJlTW9kdWxlXCIgfVxuICogICB8XG4gKiBtb2R1bGUgKGNvbXBvbmVudGxlc3Mgcm91dGUpIDwtLSBSb3V0ZUNvbmZpZzogeyBwYXRoOiBcIm1vZHVsZVwiLCBjaGlsZHJlbjogWy4uLl0gfSAvLyBOb3RlOiBObyAnY29tcG9uZW50J1xuICogICB8XG4gKiAgaG9tZSA8LS0gUm91dGVDb25maWc6IHsgcGF0aDogXCJtb2R1bGVcIiwgY29tcG9uZW50OiBNeUNvbXBvbmVudCB9IC0gdGhpcyBpcyB3aGF0IHdlIGdldCBhcyBhY3RpdmF0ZWRSb3V0ZSBwYXJhbVxuICpcbiAqICBJbiB0aGVzZSBjYXNlcyB3ZSB3aWxsIG1hcmsgdGhlIHRvcC1tb3N0IG5vZGUgKGZlYXR1cmUpLiBOU1JvdXRlUmV1c2VTdHJhdGVneSB3aWxsIGRldGFjaCB0aGUgdHJlZSB0aGVyZSBhbmRcbiAqICB1c2UgdGhpcyBBY3RpdmF0ZVJvdXRlIGFzIGEga2F5IGZvciBjYWNoaW5nLlxuICovXG5mdW5jdGlvbiBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgLy8gVE9ETzogdGVzdCB0aGlzIGFuZCBmaWd1cmUgaXQgb3V0IGlmIGl0J3MgcmVhbGx5IG5vIGxvbmdlciBuZWVkZWRcbiAgICByZXR1cm4gYWN0aXZhdGVkUm91dGU7XG4gICAgLy8gbGV0IG91dGxldEFjdGl2YXRlZFJvdXRlID0gYWN0aXZhdGVkUm91dGU7XG4gICAgLy8gd2hpbGUgKG91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudCAmJiBvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQucm91dGVDb25maWcgJiYgIW91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudC5yb3V0ZUNvbmZpZy5jb21wb25lbnQpIHtcbiAgICAvLyAgIG91dGxldEFjdGl2YXRlZFJvdXRlID0gb3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50O1xuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gb3V0bGV0QWN0aXZhdGVkUm91dGU7XG59XG5jb25zdCBwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sID0gU3ltYm9sKCdwYWdlLXJvdXRlci1hY3RpdmF0ZWQnKTtcbmNvbnN0IGxvYWRlclJlZlN5bWJvbCA9IFN5bWJvbCgnbG9hZGVyLXJlZicpO1xuZnVuY3Rpb24gZGVzdHJveUNvbXBvbmVudFJlZihjb21wb25lbnRSZWYpIHtcbiAgICBpZiAoY29tcG9uZW50UmVmKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlclJlZiA9IGNvbXBvbmVudFJlZltsb2FkZXJSZWZTeW1ib2xdO1xuICAgICAgICBpZiAobG9hZGVyUmVmKSB7XG4gICAgICAgICAgICBsb2FkZXJSZWYuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5jb25zdCBnZXRTbmFwc2hvdEtleSA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuICAgIHJldHVybiBzbmFwc2hvdC5wYXRoRnJvbVJvb3Quam9pbignLT4nKTtcbn07XG4vKipcbiAqIERldGFjaGVkIHN0YXRlIGNhY2hlXG4gKi9cbmNsYXNzIERldGFjaGVkU3RhdGVDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgQXJyYXkoKTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUubGVuZ3RoO1xuICAgIH1cbiAgICBwdXNoKGNhY2hlSXRlbSkge1xuICAgICAgICB0aGlzLmNhY2hlLnB1c2goY2FjaGVJdGVtKTtcbiAgICB9XG4gICAgcG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5wb3AoKTtcbiAgICB9XG4gICAgcGVlaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVbdGhpcy5jYWNoZS5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBEZXRhY2hlZFN0YXRlQ2FjaGUuY2xlYXIoKSAke3RoaXMuY2FjaGUubGVuZ3RofSBpdGVtcyB3aWxsIGJlIGRlc3Ryb3llZGApO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0aGlzLmNhY2hlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jYWNoZS5wb3AoKS5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghc3RhdGUuY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb21wb25lbnRSZWYgZm91bmQgaW4gRGV0YWNoZWRSb3V0ZUhhbmRsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZihzdGF0ZS5jb21wb25lbnRSZWYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hcmtDdXJyZW50Rm9yQ2xlYXIoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLmNhY2hlKSB7XG4gICAgICAgICAgICBpdGVtLm1hcmtlZEZvckRlbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1hcmtlZCgpIHtcbiAgICAgICAgLy8gdHJ5IHRvIHByZXNlcnZlIHNhbWUgb3JkZXIgYXMgLmNsZWFyKClcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuY2FjaGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlSXRlbSA9IHRoaXMuY2FjaGVbaV07XG4gICAgICAgICAgICBpZiAoY2FjaGVJdGVtLm1hcmtlZEZvckRlbGV0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBjYWNoZUl0ZW0uc3RhdGU7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb21wb25lbnRSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb21wb25lbnRSZWYgZm91bmQgaW4gRGV0YWNoZWRSb3V0ZUhhbmRsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlLmNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNb2RhbENhY2hlKCkge1xuICAgICAgICBsZXQgcmVtb3ZlZEl0ZW1zQ291bnQgPSAwO1xuICAgICAgICBjb25zdCBoYXNNb2RhbFBhZ2VzID0gdGhpcy5jYWNoZS5zb21lKChjYWNoZUl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZUl0ZW0uaXNNb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoYXNNb2RhbFBhZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbW9kYWxDYWNoZUNsZWFyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlICghbW9kYWxDYWNoZUNsZWFyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGNhY2hlSXRlbS5zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbXBvbmVudFJlZiBmb3VuZCBpbiBEZXRhY2hlZFJvdXRlSGFuZGxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGUuY29tcG9uZW50UmVmKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVJdGVtLmlzTW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxDYWNoZUNsZWFyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRJdGVtc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYERldGFjaGVkU3RhdGVDYWNoZS5jbGVhck1vZGFsQ2FjaGUoKSAke3JlbW92ZWRJdGVtc0NvdW50fSBpdGVtcyB3aWxsIGJlIGRlc3Ryb3llZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBEZXRhY2hlcyBzdWJ0cmVlcyBsb2FkZWQgaW5zaWRlIFBhZ2VSb3V0ZXJPdXRsZXQgaW4gZm9yd2FyZCBuYXZpZ2F0aW9uXG4gKiBhbmQgcmVhdHRhY2hlcyB0aGVtIG9uIGJhY2suXG4gKiBSZXVzZXMgcm91dGVzIGFzIGxvbmcgYXMgdGhlaXIgcm91dGUgY29uZmlnIGlzIHRoZSBzYW1lLlxuICovXG5jbGFzcyBOU1JvdXRlUmV1c2VTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IobG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmNhY2hlQnlPdXRsZXQgPSB7fTtcbiAgICB9XG4gICAgc2hvdWxkRGV0YWNoKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0IH0gPSB0aGlzLmZpbmRWYWxpZE91dGxldEFuZEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgbGV0IGlzUGFnZUFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgdG1wID0gcm91dGU7XG4gICAgICAgIHdoaWxlICghKGlzUGFnZUFjdGl2YXRlZCA9IHRtcFtwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSkgJiYgdG1wLnBhcmVudCkge1xuICAgICAgICAgICAgdG1wID0gdG1wLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0JhY2sgPSBvdXRsZXQgPyBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgOiBmYWxzZTtcbiAgICAgICAgbGV0IHNob3VsZERldGFjaCA9IG91dGxldCAmJiAhaXNCYWNrICYmIGlzUGFnZUFjdGl2YXRlZDtcbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgaWYgKG91dGxldC5wYXJlbnQgJiYgIW91dGxldC5wYXJlbnQuc2hvdWxkRGV0YWNoKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkRGV0YWNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXQuc2hvdWxkRGV0YWNoID0gc2hvdWxkRGV0YWNoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzaG91bGREZXRhY2ggaXNCYWNrOiAke2lzQmFja30ga2V5OiAke2tleX0gcmVzdWx0OiAke3Nob3VsZERldGFjaH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkRGV0YWNoO1xuICAgIH1cbiAgICBmaW5kVmFsaWRPdXRsZXRBbmRLZXkodGFyZ2V0Um91dGUpIHtcbiAgICAgICAgbGV0IHJvdXRlID0gdGFyZ2V0Um91dGU7XG4gICAgICAgIGNvbnN0IHJvdXRlT3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvbi5nZXRSb3V0ZUZ1bGxQYXRoKHJvdXRlKTtcbiAgICAgICAgbGV0IG91dGxldEtleSA9IHJvdXRlT3V0bGV0S2V5O1xuICAgICAgICBsZXQgb3V0bGV0ID0gdGhpcy5sb2NhdGlvbi5maW5kT3V0bGV0KG91dGxldEtleSwgcm91dGUpO1xuICAgICAgICB3aGlsZSAoIW91dGxldCkge1xuICAgICAgICAgICAgaWYgKCFyb3V0ZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBvdXRsZXQ6IG51bGwsIG91dGxldEtleTogcm91dGVPdXRsZXRLZXkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdXRlID0gcm91dGUucGFyZW50O1xuICAgICAgICAgICAgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvbi5nZXRSb3V0ZUZ1bGxQYXRoKHJvdXRlKTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMubG9jYXRpb24uZmluZE91dGxldChvdXRsZXRLZXksIHJvdXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB3aGlsZSAoIW91dGxldC5vdXRsZXRLZXlzLmluY2x1ZGVzKG91dGxldEtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJvdXRlLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYENvdWxkIG5vdCBmaW5kIHZhbGlkIG91dGxldCBrZXkgZm9yIHJvdXRlOiAke3RhcmdldFJvdXRlfS5gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgb3V0bGV0LCBvdXRsZXRLZXk6IHJvdXRlT3V0bGV0S2V5IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvdXRlID0gcm91dGUucGFyZW50O1xuICAgICAgICAgICAgICAgIG91dGxldEtleSA9IHRoaXMubG9jYXRpb24uZ2V0Um91dGVGdWxsUGF0aChyb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgb3V0bGV0LCBvdXRsZXRLZXkgfTtcbiAgICB9XG4gICAgc2hvdWxkQXR0YWNoKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0LCBvdXRsZXRLZXkgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKCFjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgaXNCYWNrID0gb3V0bGV0ID8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IHNob3VsZEF0dGFjaCA9IGlzQmFjayAmJiBjYWNoZS5wZWVrKCk/LmtleSA9PT0ga2V5O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc2hvdWxkQXR0YWNoIGlzQmFjazogJHtpc0JhY2t9IGtleTogJHtrZXl9IHJlc3VsdDogJHtzaG91bGRBdHRhY2h9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgb3V0bGV0LnNob3VsZERldGFjaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZEF0dGFjaDtcbiAgICB9XG4gICAgc3RvcmUocm91dGUsIHN0YXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHN0b3JlIGtleTogJHtrZXl9LCBzdGF0ZTogJHtzdGF0ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG91dGxldEtleSB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIGNvbnN0IGNhY2hlID0gKHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV0gfHwgbmV3IERldGFjaGVkU3RhdGVDYWNoZSgpKTtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBsZXQgaXNNb2RhbCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMubG9jYXRpb24uX21vZGFsTmF2aWdhdGlvbkRlcHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGlzTW9kYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGUucHVzaCh7IGtleSwgc3RhdGUsIGlzTW9kYWwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0b3BJdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICAgICAgaWYgKHRvcEl0ZW0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIHBvcCBmcm9tIERldGFjaGVkU3RhdGVDYWNoZSBidXQga2V5cyBkb24ndCBtYXRjaC4gXCIgKyBgZXhwZWN0ZWQ6ICR7dG9wSXRlbS5rZXl9IGFjdHVhbDogJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0cmlldmUocm91dGUpIHtcbiAgICAgICAgcm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHJvdXRlKTtcbiAgICAgICAgY29uc3QgeyBvdXRsZXQsIG91dGxldEtleSB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGlzQmFjayA9IG91dGxldCA/IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA6IGZhbHNlO1xuICAgICAgICBjb25zdCBjYWNoZWRJdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICBsZXQgc3RhdGUgPSBudWxsO1xuICAgICAgICBpZiAoaXNCYWNrICYmIGNhY2hlZEl0ZW0gJiYgY2FjaGVkSXRlbS5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgc3RhdGUgPSBjYWNoZWRJdGVtLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGByZXRyaWV2ZWQgaXNCYWNrOiAke2lzQmFja30ga2V5OiAke2tleX0gc3RhdGU6ICR7c3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBzaG91bGRSZXVzZVJvdXRlKGZ1dHVyZSwgY3Vycikge1xuICAgICAgICBjb25zdCBzaG91bGRSZXVzZSA9IGZ1dHVyZS5yb3V0ZUNvbmZpZyA9PT0gY3Vyci5yb3V0ZUNvbmZpZztcbiAgICAgICAgaWYgKHNob3VsZFJldXNlICYmIGN1cnIgJiYgY3VycltwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSkge1xuICAgICAgICAgICAgLy8gV2hlbiByZXVzaW5nIHJvdXRlIC0gY29weSB0aGUgcGFnZVJvdXRlckFjdGl2YXRlZCB0byB0aGUgbmV3IHNuYXBzaG90XG4gICAgICAgICAgICAvLyBJdCdzIG5lZWRlZCBpbiBzaG91bGREZXRhY2ggdG8gZGV0ZXJtaW5lIGlmIHRoZSByb3V0ZSBzaG91bGQgYmUgZGV0YWNoZWQuXG4gICAgICAgICAgICBmdXR1cmVbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0gPSBjdXJyW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzaG91bGRSZXVzZVJvdXRlIHJlc3VsdDogJHtzaG91bGRSZXVzZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkUmV1c2U7XG4gICAgfVxuICAgIGNsZWFyQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXJrQ2FjaGVGb3JDbGVhcihvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5tYXJrQ3VycmVudEZvckNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9wQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlLnBlZWsoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gY2FjaGUucG9wKCk/LnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZT8uY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGU/LmNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1hcmtDYWNoZUZvclBvcChvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLm1hcmtlZEZvckRlbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1hcmtlZENhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyTWFya2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNb2RhbENhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyTW9kYWxDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVSZXVzZVN0cmF0ZWd5IH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH1dOyB9IH0pO1xuXG5jbGFzcyBSb3V0ZXJFeHRlbnNpb25zIHtcbiAgICBjb25zdHJ1Y3Rvcihyb3V0ZXIsIGxvY2F0aW9uU3RyYXRlZ3ksIGZyYW1lU2VydmljZSkge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5mcmFtZVNlcnZpY2UgPSBmcmFtZVNlcnZpY2U7XG4gICAgfVxuICAgIG5hdmlnYXRlKGNvbW1hbmRzLCBleHRyYXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLm5hdmlnYXRlKGNvbW1hbmRzLCBleHRyYXMpO1xuICAgIH1cbiAgICBuYXZpZ2F0ZUJ5VXJsKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCh1cmwsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBiYWNrKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICBpZiAoYmFja05hdmlnYXRpb25PcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tPdXRsZXRzKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbkdvQmFjayhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNhbkdvQmFjayA9IHRydWU7XG4gICAgICAgIGlmIChiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3V0bGV0c1RvQmFjaywgb3V0bGV0cyB9ID0gdGhpcy5maW5kT3V0bGV0c1RvQmFjayhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG91dGxldHNUb0JhY2subGVuZ3RoICE9PSBvdXRsZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRsZXRzVG9CYWNrLmZvckVhY2goKG91dGxldFRvQmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubG9jYXRpb25TdHJhdGVneS5jYW5Hb0JhY2sob3V0bGV0VG9CYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuR29CYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbkdvQmFjayA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5jYW5Hb0JhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FuR29CYWNrO1xuICAgIH1cbiAgICBiYWNrVG9QcmV2aW91c1BhZ2UoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCkuZ29CYWNrKCk7XG4gICAgfVxuICAgIGNhbkdvQmFja1RvUHJldmlvdXNQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKS5jYW5Hb0JhY2soKTtcbiAgICB9XG4gICAgYmFja091dGxldHMob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IG91dGxldHNUb0JhY2ssIG91dGxldHMgfSA9IHRoaXMuZmluZE91dGxldHNUb0JhY2sob3B0aW9ucyk7XG4gICAgICAgIGlmIChvdXRsZXRzVG9CYWNrLmxlbmd0aCAhPT0gb3V0bGV0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRsZXRzVG9CYWNrLmZvckVhY2goKG91dGxldFRvQmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvdXRsZXRUb0JhY2suaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIHN0YXJ0R29CYWNrIHdoaWxlIGdvaW5nIGJhY2s6Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjayhvdXRsZXRUb0JhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBmaW5kT3V0bGV0c1RvQmFjayhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJvb3RSb3V0ZSA9IHRoaXMucm91dGVyLnJvdXRlclN0YXRlLnJvb3Q7XG4gICAgICAgIGxldCBvdXRsZXRzID0gb3B0aW9ucy5vdXRsZXRzO1xuICAgICAgICBsZXQgcmVsYXRpdmVSb3V0ZSA9IG9wdGlvbnMucmVsYXRpdmVUbyB8fCByb290Um91dGU7XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlUm91dGVPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeVJvdXRlKHJlbGF0aXZlUm91dGUpO1xuICAgICAgICBjb25zdCBpc05TRW1wdHlPdXRsZXQgPSByZWxhdGl2ZVJvdXRlT3V0bGV0ICYmIHJlbGF0aXZlUm91dGVPdXRsZXQuaXNOU0VtcHR5T3V0bGV0O1xuICAgICAgICAvLyBMYXp5IG5hbWVkIG91dGxldCBoYXMgYWRkZWQgJ3ByaW1hcnknIGlubmVyIE5TRW1wdHlPdXRsZXQgY2hpbGQuXG4gICAgICAgIC8vIFRha2UgcGFyZW50IHJvdXRlIHdoZW4gYHJlbGF0aXZlVG9gIG9wdGlvbiBwb2ludHMgdG8gdGhlIG91dGVyIG5hbWVkIG91dGxldC5cbiAgICAgICAgaWYgKGlzTlNFbXB0eU91dGxldCAmJiByZWxhdGl2ZVJvdXRlLm91dGxldCAhPT0gJ3ByaW1hcnknKSB7XG4gICAgICAgICAgICByZWxhdGl2ZVJvdXRlID0gcmVsYXRpdmVSb3V0ZS5wYXJlbnQgfHwgcmVsYXRpdmVSb3V0ZTtcbiAgICAgICAgfVxuICAgICAgICBvdXRsZXRzID0gb3V0bGV0cyB8fCBbcmVsYXRpdmVSb3V0ZS5vdXRsZXRdO1xuICAgICAgICBjb25zdCBvdXRsZXRzVG9CYWNrID0gdGhpcy5maW5kT3V0bGV0c1JlY3Vyc2l2ZShbLi4ub3V0bGV0c10sIHJlbGF0aXZlUm91dGUpO1xuICAgICAgICByZXR1cm4geyBvdXRsZXRzVG9CYWNrOiBvdXRsZXRzVG9CYWNrLCBvdXRsZXRzOiBvdXRsZXRzIH07XG4gICAgfVxuICAgIC8vIHdhcm5pbmcsIG91dGxldHMgaXMgbXV0YWJsZSFcbiAgICBmaW5kT3V0bGV0c1JlY3Vyc2l2ZShvdXRsZXRzLCByb3V0ZSkge1xuICAgICAgICBpZiAoIXJvdXRlIHx8IG91dGxldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0bGV0c1RvQmFjayA9IFtdO1xuICAgICAgICBpZiAob3V0bGV0cy5zb21lKChjdXJyZW50T3V0bGV0KSA9PiBjdXJyZW50T3V0bGV0ID09PSByb3V0ZS5vdXRsZXQpKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeVJvdXRlKHJvdXRlKTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXRzLnNwbGljZShvdXRsZXRzLmluZGV4T2Yocm91dGUub3V0bGV0KSwgMSk7XG4gICAgICAgICAgICAgICAgb3V0bGV0c1RvQmFjay5wdXNoKG91dGxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIG91dGxldHNUb0JhY2s7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJvdXRlLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKG91dGxldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Um91dGUgPSByb3V0ZS5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICBvdXRsZXRzVG9CYWNrLnB1c2goLi4udGhpcy5maW5kT3V0bGV0c1JlY3Vyc2l2ZShvdXRsZXRzLCBjdXJyZW50Um91dGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0c1RvQmFjaztcbiAgICB9XG4gICAgZmluZE91dGxldEJ5Um91dGUoY3VycmVudFJvdXRlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZVNuYXBzaG9wID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChjdXJyZW50Um91dGUuc25hcHNob3QpO1xuICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aChjdXJyZW50Um91dGVTbmFwc2hvcCk7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgY3VycmVudFJvdXRlU25hcHNob3ApO1xuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvdXRlckV4dGVuc2lvbnMsIGRlcHM6IFt7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0b2tlbjogRnJhbWVTZXJ2aWNlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zLCBwcm92aWRlZEluOiAncm9vdCcgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdHlwZTogRnJhbWVTZXJ2aWNlIH1dOyB9IH0pO1xuXG4vKipcbiAqIFRoZSBuc1JvdXRlckxpbmsgZGlyZWN0aXZlIGxldHMgeW91IGxpbmsgdG8gc3BlY2lmaWMgcGFydHMgb2YgeW91ciBhcHAuXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyByb3V0ZSBjb25maWd1cmF0aW9uOlxuICogYGBgXG4gKiBbeyBwYXRoOiBcIi91c2VyXCIsIGNvbXBvbmVudDogVXNlckNtcCB9XVxuICogYGBgXG4gKlxuICogV2hlbiBsaW5raW5nIHRvIHRoaXMgYFVzZXJgIHJvdXRlLCB5b3UgY2FuIHdyaXRlOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCJbXCIvdXNlclwiXVwiPmxpbmsgdG8gdXNlciBjb21wb25lbnQ8L2E+XG4gKiBgYGBcbiAqXG4gKiBOU1JvdXRlckxpbmsgZXhwZWN0cyB0aGUgdmFsdWUgdG8gYmUgYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cywgZm9sbG93ZWQgYnkgdGhlIHBhcmFtc1xuICogZm9yIHRoYXQgbGV2ZWwgb2Ygcm91dGluZy4gRm9yIGluc3RhbmNlIGBbXCIvdGVhbVwiLCB7dGVhbUlkOiAxfSwgXCJ1c2VyXCIsIHt1c2VySWQ6IDJ9XWBcbiAqIG1lYW5zIHRoYXQgd2Ugd2FudCB0byBnZW5lcmF0ZSBhIGxpbmsgdG8gYC90ZWFtO3RlYW1JZD0xL3VzZXI7dXNlcklkPTJgLlxuICpcbiAqIFRoZSBmaXJzdCBzZWdtZW50IG5hbWUgY2FuIGJlIHByZXBlbmRlZCB3aXRoIGAvYCwgYC4vYCwgb3IgYC4uL2AuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgL2AsIHRoZSByb3V0ZXIgd2lsbCBsb29rIHVwIHRoZSByb3V0ZSBmcm9tIHRoZSByb290IG9mIHRoZSBhcHAuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgLi9gLCBvciBkb2VzblwidCBiZWdpbiB3aXRoIGEgc2xhc2gsIHRoZSByb3V0ZXIgd2lsbFxuICogaW5zdGVhZCBsb29rIGluIHRoZSBjdXJyZW50IGNvbXBvbmVudFwicyBjaGlsZHJlbiBmb3IgdGhlIHJvdXRlLlxuICogQW5kIGlmIHRoZSBzZWdtZW50IGJlZ2lucyB3aXRoIGAuLi9gLCB0aGUgcm91dGVyIHdpbGwgZ28gdXAgb25lIGxldmVsLlxuICovXG5jbGFzcyBOU1JvdXRlckxpbmsge1xuICAgIGNvbnN0cnVjdG9yKG5nWm9uZSwgcm91dGVyLCBuYXZpZ2F0b3IsIHJvdXRlLCBlbCkge1xuICAgICAgICB0aGlzLm5nWm9uZSA9IG5nWm9uZTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMubmF2aWdhdG9yID0gbmF2aWdhdG9yO1xuICAgICAgICB0aGlzLnJvdXRlID0gcm91dGU7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5wYWdlVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY29tbWFuZHMgPSBbXTtcbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQub24oJ3RhcCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblRhcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXQgcGFyYW1zKGRhdGEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcyA9IFtkYXRhXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblRhcCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYG5zUm91dGVyTGluay50YXBwZWQ6ICR7dGhpcy5jb21tYW5kc30gYCArIGBjbGVhcjogJHt0aGlzLmNsZWFySGlzdG9yeX0gYCArIGB0cmFuc2l0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMucGFnZVRyYW5zaXRpb24pfSBgICsgYGR1cmF0aW9uOiAke3RoaXMucGFnZVRyYW5zaXRpb25EdXJhdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRyYXMgPSB0aGlzLmdldEV4dHJhcygpO1xuICAgICAgICAvLyB0aGlzLm5hdmlnYXRvci5uYXZpZ2F0ZUJ5VXJsKHRoaXMudXJsVHJlZSwgZXh0cmFzKTtcbiAgICAgICAgdGhpcy5uYXZpZ2F0b3IubmF2aWdhdGUodGhpcy5jb21tYW5kcywge1xuICAgICAgICAgICAgLi4uZXh0cmFzLFxuICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB0aGlzLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IHRoaXMuZnJhZ21lbnQsXG4gICAgICAgICAgICBxdWVyeVBhcmFtc0hhbmRsaW5nOiB0aGlzLnF1ZXJ5UGFyYW1zSGFuZGxpbmcsXG4gICAgICAgICAgICBwcmVzZXJ2ZUZyYWdtZW50OiBhdHRyQm9vbFZhbHVlKHRoaXMucHJlc2VydmVGcmFnbWVudCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRFeHRyYXMoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLmdldFRyYW5zaXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNraXBMb2NhdGlvbkNoYW5nZTogYXR0ckJvb2xWYWx1ZSh0aGlzLnNraXBMb2NhdGlvbkNoYW5nZSksXG4gICAgICAgICAgICByZXBsYWNlVXJsOiBhdHRyQm9vbFZhbHVlKHRoaXMucmVwbGFjZVVybCksXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IHRoaXMuY29udmVydENsZWFySGlzdG9yeSh0aGlzLmNsZWFySGlzdG9yeSksXG4gICAgICAgICAgICBhbmltYXRlZDogdHJhbnNpdGlvbi5hbmltYXRlZCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24udHJhbnNpdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHVybFRyZWUoKSB7XG4gICAgICAgIGNvbnN0IHVybFRyZWUgPSB0aGlzLnJvdXRlci5jcmVhdGVVcmxUcmVlKHRoaXMuY29tbWFuZHMsIHtcbiAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogdGhpcy5xdWVyeVBhcmFtcyxcbiAgICAgICAgICAgIGZyYWdtZW50OiB0aGlzLmZyYWdtZW50LFxuICAgICAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogdGhpcy5xdWVyeVBhcmFtc0hhbmRsaW5nLFxuICAgICAgICAgICAgcHJlc2VydmVGcmFnbWVudDogYXR0ckJvb2xWYWx1ZSh0aGlzLnByZXNlcnZlRnJhZ21lbnQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYG5zUm91dGVyTGluayB1cmxUcmVlIGNyZWF0ZWQ6ICR7dXJsVHJlZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsVHJlZTtcbiAgICB9XG4gICAgY29udmVydENsZWFySGlzdG9yeSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJztcbiAgICB9XG4gICAgZ2V0VHJhbnNpdGlvbigpIHtcbiAgICAgICAgbGV0IHRyYW5zaXRpb247XG4gICAgICAgIGxldCBhbmltYXRlZDtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGFuaW1hdGVkID0gdGhpcy5wYWdlVHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnbm9uZScgfHwgdGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wYWdlVHJhbnNpdGlvbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHRoaXMucGFnZVRyYW5zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSArdGhpcy5wYWdlVHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgICAgICBpZiAoIWlzTmFOKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb24gfHwge307XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgYW5pbWF0ZWQsIHRyYW5zaXRpb24gfTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmssIGRlcHM6IFt7IHRva2VuOiBpMC5OZ1pvbmUgfSwgeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogUm91dGVyRXh0ZW5zaW9ucyB9LCB7IHRva2VuOiBpMSQzLkFjdGl2YXRlZFJvdXRlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBOU1JvdXRlckxpbmssIHNlbGVjdG9yOiBcIltuc1JvdXRlckxpbmtdXCIsIGlucHV0czogeyB0YXJnZXQ6IFwidGFyZ2V0XCIsIHF1ZXJ5UGFyYW1zOiBcInF1ZXJ5UGFyYW1zXCIsIGZyYWdtZW50OiBcImZyYWdtZW50XCIsIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IFwicXVlcnlQYXJhbXNIYW5kbGluZ1wiLCBwcmVzZXJ2ZVF1ZXJ5UGFyYW1zOiBcInByZXNlcnZlUXVlcnlQYXJhbXNcIiwgcHJlc2VydmVGcmFnbWVudDogXCJwcmVzZXJ2ZUZyYWdtZW50XCIsIHNraXBMb2NhdGlvbkNoYW5nZTogXCJza2lwTG9jYXRpb25DaGFuZ2VcIiwgcmVwbGFjZVVybDogXCJyZXBsYWNlVXJsXCIsIGNsZWFySGlzdG9yeTogXCJjbGVhckhpc3RvcnlcIiwgcGFnZVRyYW5zaXRpb246IFwicGFnZVRyYW5zaXRpb25cIiwgcGFnZVRyYW5zaXRpb25EdXJhdGlvbjogXCJwYWdlVHJhbnNpdGlvbkR1cmF0aW9uXCIsIHBhcmFtczogW1wibnNSb3V0ZXJMaW5rXCIsIFwicGFyYW1zXCJdIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGluaywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25zUm91dGVyTGlua10nIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuTmdab25lIH0sIHsgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zIH0sIHsgdHlwZTogaTEkMy5BY3RpdmF0ZWRSb3V0ZSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHRhcmdldDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHF1ZXJ5UGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgZnJhZ21lbnQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBxdWVyeVBhcmFtc0hhbmRsaW5nOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcHJlc2VydmVRdWVyeVBhcmFtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHByZXNlcnZlRnJhZ21lbnQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBza2lwTG9jYXRpb25DaGFuZ2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCByZXBsYWNlVXJsOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgY2xlYXJIaXN0b3J5OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFnZVRyYW5zaXRpb246IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwYWdlVHJhbnNpdGlvbkR1cmF0aW9uOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbnNSb3V0ZXJMaW5rJ11cbiAgICAgICAgICAgIH1dIH0gfSk7XG5mdW5jdGlvbiBhdHRyQm9vbFZhbHVlKHMpIHtcbiAgICByZXR1cm4gcyA9PT0gJycgfHwgISFzO1xufVxuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpmb3JpbiAqL1xuZnVuY3Rpb24gY29udGFpbnNUcmVlKGNvbnRhaW5lciwgY29udGFpbmVlLCBleGFjdCkge1xuICAgIGlmIChleGFjdCkge1xuICAgICAgICByZXR1cm4gZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lci5yb290LCBjb250YWluZWUucm9vdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLnJvb3QsIGNvbnRhaW5lZS5yb290KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcXVhbFNlZ21lbnRHcm91cHMoY29udGFpbmVyLCBjb250YWluZWUpIHtcbiAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIuc2VnbWVudHMsIGNvbnRhaW5lZS5zZWdtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyLm51bWJlck9mQ2hpbGRyZW4gIT09IGNvbnRhaW5lZS5udW1iZXJPZkNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjIGluIGNvbnRhaW5lZS5jaGlsZHJlbikge1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltjXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lci5jaGlsZHJlbltjXSwgY29udGFpbmVlLmNoaWxkcmVuW2NdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLCBjb250YWluZWUpIHtcbiAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLCBjb250YWluZWUsIGNvbnRhaW5lZS5zZWdtZW50cyk7XG59XG5mdW5jdGlvbiBjb250YWluc1NlZ21lbnRHcm91cEhlbHBlcihjb250YWluZXIsIGNvbnRhaW5lZSwgY29udGFpbmVlUGF0aHMpIHtcbiAgICBpZiAoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCA+IGNvbnRhaW5lZVBhdGhzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gY29udGFpbmVyLnNlZ21lbnRzLnNsaWNlKDAsIGNvbnRhaW5lZVBhdGhzLmxlbmd0aCk7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGN1cnJlbnQsIGNvbnRhaW5lZVBhdGhzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZWUuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250YWluZXIuc2VnbWVudHMubGVuZ3RoID09PSBjb250YWluZWVQYXRocy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFlcXVhbFBhdGgoY29udGFpbmVyLnNlZ21lbnRzLCBjb250YWluZWVQYXRocykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGMgaW4gY29udGFpbmVlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltjXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLmNoaWxkcmVuW2NdLCBjb250YWluZWUuY2hpbGRyZW5bY10pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNvbnRhaW5lZVBhdGhzLnNsaWNlKDAsIGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBuZXh0ID0gY29udGFpbmVlUGF0aHMuc2xpY2UoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGNvbnRhaW5lci5zZWdtZW50cywgY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltQUklNQVJZX09VVExFVF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSwgY29udGFpbmVlLCBuZXh0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcXVhbFBhdGgoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFbaV0ucGF0aCAhPT0gYltpXS5wYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVGhlIE5TUm91dGVyTGlua0FjdGl2ZSBkaXJlY3RpdmUgbGV0cyB5b3UgYWRkIGEgQ1NTIGNsYXNzIHRvIGFuIGVsZW1lbnQgd2hlbiB0aGUgbGlua1wicyByb3V0ZVxuICogYmVjb21lcyBhY3RpdmUuXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBleGFtcGxlOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImFjdGl2ZS1saW5rXCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgdXJsIGlzIGVpdGhlciBcIi91c2VyXCIgb3IgXCIvdXNlci9ib2JcIiwgdGhlIGFjdGl2ZS1saW5rIGNsYXNzIHdpbGxcbiAqIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnQuIElmIHRoZSB1cmwgY2hhbmdlcywgdGhlIGNsYXNzIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXG4gKiBZb3UgY2FuIHNldCBtb3JlIHRoYW4gb25lIGNsYXNzLCBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImNsYXNzMSBjbGFzczJcIj5Cb2I8L2E+XG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiIFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiW1wiY2xhc3MxXCIsIFwiY2xhc3MyXCJdXCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogWW91IGNhbiBjb25maWd1cmUgTlNSb3V0ZXJMaW5rQWN0aXZlIGJ5IHBhc3NpbmcgYGV4YWN0OiB0cnVlYC4gVGhpcyB3aWxsIGFkZCB0aGVcbiAqIGNsYXNzZXMgb25seSB3aGVuIHRoZSB1cmwgbWF0Y2hlcyB0aGUgbGluayBleGFjdGx5LlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImFjdGl2ZS1saW5rXCJcbiAqIFtuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zXT1cIntleGFjdDogdHJ1ZX1cIj5Cb2I8L2E+XG4gKiBgYGBcbiAqXG4gKiBGaW5hbGx5LCB5b3UgY2FuIGFwcGx5IHRoZSBOU1JvdXRlckxpbmtBY3RpdmUgZGlyZWN0aXZlIHRvIGFuIGFuY2VzdG9yIG9mIGEgUm91dGVyTGluay5cbiAqXG4gKiBgYGBcbiAqIDxkaXYgW25zUm91dGVyTGlua0FjdGl2ZV09XCJhY3RpdmUtbGlua1wiIFtuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zXT1cIntleGFjdDogdHJ1ZX1cIj5cbiAqICAgPGEgW25zUm91dGVyTGlua109XCIvdXNlci9qaW1cIj5KaW08L2E+XG4gKiAgIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCI+Qm9iPC9hPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIHdpbGwgc2V0IHRoZSBhY3RpdmUtbGluayBjbGFzcyBvbiB0aGUgZGl2IHRhZyBpZiB0aGUgdXJsIGlzIGVpdGhlciBcIi91c2VyL2ppbVwiIG9yXG4gKiBcIi91c2VyL2JvYlwiLlxuICpcbiAqIEBzdGFibGVcbiAqL1xuY2xhc3MgTlNSb3V0ZXJMaW5rQWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcihyb3V0ZXIsIGVsZW1lbnQsIHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnMgPSB7IGV4YWN0OiBmYWxzZSB9O1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHJvdXRlci5ldmVudHMuc3Vic2NyaWJlKChzKSA9PiB7XG4gICAgICAgICAgICBpZiAocyBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XG4gICAgfVxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgdGhpcy5saW5rcy5jaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB0aGlzLnVwZGF0ZSgpKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgc2V0IG5zUm91dGVyTGlua0FjdGl2ZShkYXRhKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXMgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzID0gZGF0YS5zcGxpdCgnICcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMubGlua3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNBY3RpdmVMaW5rcyA9IHRoaXMuaGFzQWN0aXZlTGlua3MoKTtcbiAgICAgICAgLy8gcmVhY3Qgb25seSB3aGVuIHN0YXR1cyBoYXMgY2hhbmdlZCB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IGRvbSB1cGRhdGVzXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSAhPT0gaGFzQWN0aXZlTGlua3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVcmxUcmVlID0gdGhpcy5yb3V0ZXIucGFyc2VVcmwodGhpcy5yb3V0ZXIudXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlTGlua3MgPSB0aGlzLnJlZHVjZUxpc3QoY3VycmVudFVybFRyZWUsIHRoaXMubGlua3MpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmVMaW5rcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2UucmVzb2x2ZShoYXNBY3RpdmVMaW5rcykudGhlbigoYWN0aXZlKSA9PiAodGhpcy5hY3RpdmUgPSBhY3RpdmUpKTtcbiAgICB9XG4gICAgcmVkdWNlTGlzdChjdXJyZW50VXJsVHJlZSwgcSkge1xuICAgICAgICByZXR1cm4gcS5yZWR1Y2UoKHJlcywgbGluaykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyB8fCBjb250YWluc1RyZWUoY3VycmVudFVybFRyZWUsIGxpbmsudXJsVHJlZSwgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgICBpc0xpbmtBY3RpdmUocm91dGVyKSB7XG4gICAgICAgIHJldHVybiAobGluaykgPT4gcm91dGVyLmlzQWN0aXZlKGxpbmsudXJsVHJlZSwgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KTtcbiAgICB9XG4gICAgaGFzQWN0aXZlTGlua3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmtzLnNvbWUodGhpcy5pc0xpbmtBY3RpdmUodGhpcy5yb3V0ZXIpKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmtBY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IGkwLlJlbmRlcmVyMiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IE5TUm91dGVyTGlua0FjdGl2ZSwgc2VsZWN0b3I6IFwiW25zUm91dGVyTGlua0FjdGl2ZV1cIiwgaW5wdXRzOiB7IG5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnM6IFwibnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc1wiLCBuc1JvdXRlckxpbmtBY3RpdmU6IFwibnNSb3V0ZXJMaW5rQWN0aXZlXCIgfSwgcXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcImxpbmtzXCIsIHByZWRpY2F0ZTogTlNSb3V0ZXJMaW5rIH1dLCBleHBvcnRBczogW1wicm91dGVyTGlua0FjdGl2ZVwiXSwgdXNlc09uQ2hhbmdlczogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZXJMaW5rQWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbnNSb3V0ZXJMaW5rQWN0aXZlXScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAncm91dGVyTGlua0FjdGl2ZScsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMSQzLlJvdXRlciB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGxpbmtzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IENvbnRlbnRDaGlsZHJlbixcbiAgICAgICAgICAgICAgICBhcmdzOiBbTlNSb3V0ZXJMaW5rXVxuICAgICAgICAgICAgfV0sIG5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBuc1JvdXRlckxpbmtBY3RpdmU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIFBhZ2VSb3V0ZSB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnRSb3V0ZSkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFJvdXRlID0gbmV3IEJlaGF2aW9yU3ViamVjdChzdGFydFJvdXRlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcihpdGVtKSB7XG4gICAgcmV0dXJuICEhaXRlbS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeTtcbn1cbmZ1bmN0aW9uIGNhbGxhYmxlT25jZShmbikge1xuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmbiguLi5hcmdzKTtcbiAgICB9O1xufVxuY2xhc3MgRGVzdHJ1Y3RpYmxlSW5qZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGRlc3RydWN0aWJsZVByb3ZpZGVycywgcGFyZW50KSB7XG4gICAgICAgIHRoaXMuZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzID0gZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5yZWZzID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9IHRoaXMucGFyZW50LmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICAvLyBpZiB3ZSdyZSBza2lwcGluZyBvdXJzZWx2ZXMgdGhlbiBpdCdzIG5vdCBvdXIgcmVzcG9uc2liaWxpdHkgdG8gZGVzdHJveVxuICAgICAgICBpZiAodHlwZW9mIGZsYWdzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKCEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikgJiYgdGhpcy5kZXN0cnVjdGlibGVQcm92aWRlcnMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcy5hZGQocmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZmxhZ3M/LnNraXBTZWxmICYmIHRoaXMuZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMuYWRkKHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZjtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZWZzLmZvckVhY2goKHJlZikgPT4ge1xuICAgICAgICAgICAgaWYgKHJlZi5uZ09uRGVzdHJveSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVmLm5nT25EZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlZnMuY2xlYXIoKTtcbiAgICB9XG59XG5jb25zdCByb3V0ZVRvU3RyaW5nID0gZnVuY3Rpb24gKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgcmV0dXJuIGFjdGl2YXRlZFJvdXRlLnBhdGhGcm9tUm9vdC5qb2luKCctPicpO1xufTtcbnJlZ2lzdGVyRWxlbWVudCgncGFnZS1yb3V0ZXItb3V0bGV0JywgKCkgPT4gRnJhbWUpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbmNsYXNzIFBhZ2VSb3V0ZXJPdXRsZXQge1xuICAgIC8qKiBAZGVwcmVjYXRlZCBmcm9tIEFuZ3VsYXIgc2luY2UgdjQgKi9cbiAgICBnZXQgbG9jYXRpb25JbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb24uaW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBmcm9tIEFuZ3VsYXIgc2luY2UgdjQgKi9cbiAgICBnZXQgbG9jYXRpb25GYWN0b3J5UmVzb2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVyO1xuICAgIH1cbiAgICBnZXQgaXNBY3RpdmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuYWN0aXZhdGVkO1xuICAgIH1cbiAgICBnZXQgY29tcG9uZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgIH1cbiAgICBnZXQgYWN0aXZhdGVkUm91dGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZhdGVkUm91dGU7XG4gICAgfVxuICAgIGdldCBhY3RpdmF0ZWRSb3V0ZURhdGEoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRDb250ZXh0cywgbG9jYXRpb24sIG5hbWUsIGFjdGlvbkJhclZpc2liaWxpdHksIGlzRW1wdHlPdXRsZXQsIGxvY2F0aW9uU3RyYXRlZ3ksIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgcmVzb2x2ZXIsIGNoYW5nZURldGVjdG9yLCBwYWdlRmFjdG9yeSwgcm91dGVSZXVzZVN0cmF0ZWd5LCBuZ1pvbmUsIHJvdXRlciwgZWxSZWYsIHZpZXdVdGlsLCBlbnZpcm9ubWVudEluamVjdG9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dHMgPSBwYXJlbnRDb250ZXh0cztcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yID0gY2hhbmdlRGV0ZWN0b3I7XG4gICAgICAgIHRoaXMucGFnZUZhY3RvcnkgPSBwYWdlRmFjdG9yeTtcbiAgICAgICAgdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kgPSByb3V0ZVJldXNlU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudEluamVjdG9yID0gZW52aXJvbm1lbnRJbmplY3RvcjtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZXRhY2hFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICB0aGlzLmFjdGl2YXRlRXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLW91dHB1dC1yZW5hbWVcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIHRoaXMuaXNFbXB0eU91dGxldCA9IGlzRW1wdHlPdXRsZXQ7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBlbFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLnNldEFjdGlvbkJhclZpc2liaWxpdHkoYWN0aW9uQmFyVmlzaWJpbGl0eSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmNvbnN0cnVjdG9yIGZyYW1lOiAke3RoaXMuZnJhbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZSB8fCBQUklNQVJZX09VVExFVDtcbiAgICAgICAgcGFyZW50Q29udGV4dHMub25DaGlsZE91dGxldENyZWF0ZWQodGhpcy5uYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3VXRpbCA9IHZpZXdVdGlsO1xuICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyRmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICB9XG4gICAgc2V0QWN0aW9uQmFyVmlzaWJpbGl0eShhY3Rpb25CYXJWaXNpYmlsaXR5KSB7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uQmFyVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgY2FzZSAnYWx3YXlzJzpcbiAgICAgICAgICAgIGNhc2UgJ25ldmVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLmFjdGlvbkJhclZpc2liaWxpdHkgPSBhY3Rpb25CYXJWaXNpYmlsaXR5O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5ID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhhdCB0aGUgYHBhcmVudENvbnRleHRzYCBoYXMgY2hhbmdlZCB0aGUgb3V0bGV0XG4gICAgICAgIC8vIHZpYSB0aGUgY3JlYXRpb24gb2YgYW5vdGhlciBvdXRsZXQsIHRoZSBgb25DaGlsZE91dGxldERlc3Ryb3llZGBcbiAgICAgICAgLy8gd2lsbCBiZSBza2lwcGVkXG4gICAgICAgIGlmICh0aGlzLnBhcmVudENvbnRleHRzLmdldENvbnRleHQodGhpcy5uYW1lKT8ub3V0bGV0ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAvLyBDbGVhciBhY2N1bXVsYXRlZCBtb2RhbCB2aWV3IHBhZ2UgY2FjaGUgd2hlbiBwYWdlLXJvdXRlci1vdXRsZXRcbiAgICAgICAgICAgIC8vIGRlc3Ryb3llZCBvbiBtb2RhbCB2aWV3IGNsb3NpbmdcbiAgICAgICAgICAgIHRoaXMucGFyZW50Q29udGV4dHMub25DaGlsZE91dGxldERlc3Ryb3llZCh0aGlzLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhck1vZGFsQ2FjaGUoa2V5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmNsZWFyT3V0bGV0KHRoaXMuZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdQYWdlUm91dGVyT3V0bGV0Lm5nT25EZXN0cm95OiBubyBvdXRsZXQgYXZhaWxhYmxlIGZvciBwYWdlLXJvdXRlci1vdXRsZXQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgY29uc3QgYyA9IHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcuZGV0YWNoKCk7XG4gICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHRoaXMuYWN0aXZhdGVkKTtcbiAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cy5lbWl0KGMpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5vdXRsZXQgfHwgIXRoaXMub3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ0N1cnJlbnRseSBub3QgaW4gcGFnZSBiYWNrIG5hdmlnYXRpb24gLSBjb21wb25lbnQgc2hvdWxkIGJlIGRldGFjaGVkIGluc3RlYWQgb2YgZGVhY3RpdmF0ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ1BhZ2VSb3V0ZXJPdXRsZXQuZGVhY3RpdmF0ZSgpIHdoaWxlIGdvaW5nIGJhY2sgLSBzaG91bGQgZGVzdHJveScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uPy4oKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHRoaXMuYWN0aXZhdGVkKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cy5lbWl0KGMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYFJvdXRlUmV1c2VTdHJhdGVneWAgaW5zdHJ1Y3RzIHRvIGRldGFjaCB0aGUgc3VidHJlZVxuICAgICAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuZGV0YWNoKCkgLSAke3JvdXRlVG9TdHJpbmcodGhpcy5fYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uPy4oKTtcbiAgICAgICAgLy8gRGV0YWNoIGZyb20gQ2hhbmdlRGV0ZWN0aW9uXG4gICAgICAgIHRoaXMuYWN0aXZhdGVkLmhvc3RWaWV3LmRldGFjaCgpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmFjdGl2YXRlZDtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGV0YWNoRXZlbnRzLmVtaXQoY29tcG9uZW50Lmluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGBSb3V0ZVJldXNlU3RyYXRlZ3lgIGluc3RydWN0cyB0byByZS1hdHRhY2ggYSBwcmV2aW91c2x5IGRldGFjaGVkIHN1YnRyZWVcbiAgICAgKi9cbiAgICBhdHRhY2gocmVmLCBhY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgUGFnZVJvdXRlck91dGxldC5hdHRhY2goKSAtICR7cm91dGVUb1N0cmluZyhhY3RpdmF0ZWRSb3V0ZSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSByZWY7XG4gICAgICAgIC8vIHJlYXR0YWNoIHRvIENoYW5nZURldGVjdGlvblxuICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcucmVhdHRhY2goKTtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAgICAgdGhpcy5tYXJrQWN0aXZhdGVkUm91dGUoYWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAvLyB3ZSBoYXZlIGEgY2hpbGQgd2l0aCB0aGUgc2FtZSBuYW1lLCBzbyB3ZSBkb24ndCBmaW5pc2ggdGhlIGJhY2sgbmF2XG4gICAgICAgIGlmICh0aGlzLmlzRmluYWxQYWdlUm91dGVyT3V0bGV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzLmVtaXQocmVmLmluc3RhbmNlKTtcbiAgICB9XG4gICAgaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQoKSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMucGFyZW50Q29udGV4dHMuZ2V0Q29udGV4dCh0aGlzLm5hbWUpPy5jaGlsZHJlbjtcbiAgICAgICAgd2hpbGUgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbnRleHQgPSBjaGlsZHJlbi5nZXRDb250ZXh0KHRoaXMubmFtZSk7XG4gICAgICAgICAgICBpZiAoIWNoaWxkQ29udGV4dCB8fCAhY2hpbGRDb250ZXh0Lm91dGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkQ29udGV4dC5vdXRsZXQgaW5zdGFuY2VvZiBQYWdlUm91dGVyT3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZENvbnRleHQuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBieSB0aGUgUm91dGVyIHRvIGluc3RhbnRpYXRlIGEgbmV3IGNvbXBvbmVudCBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZSBvZiBhIG5hdmlnYXRpb24uXG4gICAgICogVGhpcyBtZXRob2QgaW4gdHVybiBpcyByZXNwb25zaWJsZSBmb3IgY2FsbGluZyB0aGUgYHJvdXRlck9uQWN0aXZhdGVgIGhvb2sgb2YgaXRzIGNoaWxkLlxuICAgICAqL1xuICAgIGFjdGl2YXRlV2l0aChhY3RpdmF0ZWRSb3V0ZSwgcmVzb2x2ZXIpIHtcbiAgICAgICAgdGhpcy5vdXRsZXQgPSB0aGlzLm91dGxldCB8fCB0aGlzLmdldE91dGxldChhY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGlmICghdGhpcy5vdXRsZXQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRsZXQuaXNOU0VtcHR5T3V0bGV0ID0gdGhpcy5pc0VtcHR5T3V0bGV0O1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kudXBkYXRlT3V0bGV0RnJhbWUodGhpcy5vdXRsZXQsIHRoaXMuZnJhbWUsIHRoaXMuaXNFbXB0eU91dGxldCk7XG4gICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLm91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdDdXJyZW50bHkgaW4gcGFnZSBiYWNrIG5hdmlnYXRpb24gLSBjb21wb25lbnQgc2hvdWxkIGJlIHJlYXR0YWNoZWQgaW5zdGVhZCBvZiBhY3RpdmF0ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZpbmFsUGFnZVJvdXRlck91dGxldCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuYWN0aXZhdGVXaXRoKCkgLSAke3JvdXRlVG9TdHJpbmcoYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIHRoaXMubWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZU9uR29Gb3J3YXJkKGFjdGl2YXRlZFJvdXRlLCByZXNvbHZlciB8fCB0aGlzLmVudmlyb25tZW50SW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlRXZlbnRzLmVtaXQodGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2UpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU9uR29Gb3J3YXJkKGFjdGl2YXRlZFJvdXRlLCByZXNvbHZlck9ySW5qZWN0b3IpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ1BhZ2VSb3V0ZXJPdXRsZXQuYWN0aXZhdGUoKSBmb3J3YXJkIG5hdmlnYXRpb24gLSAnICsgJ2NyZWF0ZSBkZXRhY2hlZCBsb2FkZXIgaW4gdGhlIGxvYWRlciBjb250YWluZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudFR5cGUoYWN0aXZhdGVkUm91dGUpO1xuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlRmFjdG9yeSh7XG4gICAgICAgICAgICBpc05hdmlnYXRpb246IHRydWUsXG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBjb21wb25lbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb247XG4gICAgICAgIGNvbnN0IGRlc3RydWN0aWJsZXMgPSBuZXcgU2V0KFtQYWdlU2VydmljZV0pO1xuICAgICAgICBjb25zdCBwYXJlbnRJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7XG4gICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2UsIHVzZVZhbHVlOiBwYWdlIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBGcmFtZSwgdXNlVmFsdWU6IHRoaXMuZnJhbWUgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2VSb3V0ZSwgdXNlVmFsdWU6IG5ldyBQYWdlUm91dGUoYWN0aXZhdGVkUm91dGUpIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBBY3RpdmF0ZWRSb3V0ZSwgdXNlVmFsdWU6IGFjdGl2YXRlZFJvdXRlIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBDaGlsZHJlbk91dGxldENvbnRleHRzLCB1c2VWYWx1ZTogdGhpcy5wYXJlbnRDb250ZXh0cy5nZXRPckNyZWF0ZUNvbnRleHQodGhpcy5uYW1lKS5jaGlsZHJlbiB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGFnZVNlcnZpY2UsIHVzZUNsYXNzOiBQYWdlU2VydmljZSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHBhcmVudDogbG9jYXRpb24uaW5qZWN0b3IsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbmplY3RvciA9IG5ldyBEZXN0cnVjdGlibGVJbmplY3RvcihkZXN0cnVjdGlibGVzLCBwYXJlbnRJbmplY3Rvcik7XG4gICAgICAgIGxldCBsb2FkZXJSZWY7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcihyZXNvbHZlck9ySW5qZWN0b3IpKSB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gcmVzb2x2ZXJPckluamVjdG9yLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgICAgIGxvYWRlclJlZiA9IGxvY2F0aW9uLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5LCBsb2NhdGlvbi5sZW5ndGgsIGluamVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVudmlyb25tZW50SW5qZWN0b3IgPSByZXNvbHZlck9ySW5qZWN0b3I7XG4gICAgICAgICAgICBsb2FkZXJSZWYgPSBsb2NhdGlvbi5jcmVhdGVDb21wb25lbnQoRGV0YWNoZWRMb2FkZXIsIHsgaW5kZXg6IGxvY2F0aW9uLmxlbmd0aCwgaW5qZWN0b3IsIGVudmlyb25tZW50SW5qZWN0b3IgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyUmVmLm9uRGVzdHJveSgoKSA9PiBpbmplY3Rvci5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IGxvYWRlclJlZi5pbnN0YW5jZS5sb2FkQ29tcG9uZW50SW5Mb2NhdGlvbihjb21wb25lbnQpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZC5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMubG9hZENvbXBvbmVudEluUGFnZShwYWdlLCB0aGlzLmFjdGl2YXRlZCwgeyBhY3RpdmF0ZWRSb3V0ZSB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRbbG9hZGVyUmVmU3ltYm9sXSA9IGxvYWRlclJlZjtcbiAgICB9XG4gICAgbG9hZENvbXBvbmVudEluUGFnZShwYWdlLCBjb21wb25lbnRSZWYsIG5hdmlnYXRpb25Db250ZXh0KSB7XG4gICAgICAgIC8vIENvbXBvbmVudCBsb2FkZWQuIEZpbmQgaXRzIHJvb3QgbmF0aXZlIHZpZXcuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudDtcbiAgICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gb3JpZ2luYWwgbmF0aXZlIHBhcmVudC5cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVDaGlsZChjb21wb25lbnRWaWV3LnBhcmVudCwgY29tcG9uZW50Vmlldyk7XG4gICAgICAgIC8vIEFkZCBpdCB0byB0aGUgbmV3IHBhZ2VcbiAgICAgICAgdGhpcy52aWV3VXRpbC5hcHBlbmRDaGlsZChwYWdlLCBjb21wb25lbnRWaWV3KTtcbiAgICAgICAgbGV0IHRvcEFjdGl2YXRlZFJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldCh0aGlzLl9hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGxldCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIGNvbnN0IHRoaXNSb3V0ZUtleSA9IG91dGxldEtleTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXkpKSB7XG4gICAgICAgICAgICB0b3BBY3RpdmF0ZWRSb3V0ZSA9IHRvcEFjdGl2YXRlZFJvdXRlLnBhcmVudDtcbiAgICAgICAgICAgIGlmICghdG9wQWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQ291bGQgbm90IGZpbmQgb3V0bGV0IGZvciByb3V0ZTogJyArIHRoaXNSb3V0ZUtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2aWdhdGVkRnJvbUNhbGxiYWNrID0gZ2xvYmFsLlpvbmUuY3VycmVudC53cmFwKChhcmdzKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lLCBvdXRsZXRLZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG51bGwsIHRoaXMuZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogZXhwZXJpbWVudCB3aXRoIHVzaW5nIE5nWm9uZSBpbnN0ZWFkIG9mIGdsb2JhbCBhYm92ZVxuICAgICAgICAvLyBjb25zdCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2sgPSAoYXJnczogTmF2aWdhdGVkRGF0YSkgPT4ge1xuICAgICAgICAvLyBcdGlmIChhcmdzLmlzQmFja05hdmlnYXRpb24pIHtcbiAgICAgICAgLy8gICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgIC8vICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSk7XG4gICAgICAgIC8vICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG51bGwsIHRoaXMuZnJhbWUpO1xuICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgIC8vIFx0fVxuICAgICAgICAvLyB9O1xuICAgICAgICBwYWdlLm9uKFBhZ2UubmF2aWdhdGVkRnJvbUV2ZW50LCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2spO1xuICAgICAgICBjb21wb25lbnRSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgICAgICAgICAgcGFnZS5vZmYoUGFnZS5uYXZpZ2F0ZWRGcm9tRXZlbnQsIG5hdmlnYXRlZEZyb21DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgcGFnZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuYXZPcHRpb25zID0geyAuLi5kZWZhdWx0TmF2T3B0aW9ucywgLi4uKHRoaXMucm91dGVyLmdldEN1cnJlbnROYXZpZ2F0aW9uKCkuZXh0cmFzIHx8IHt9KSB9O1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSwgbmF2T3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGlzUmVwbGFjZSA9IG5hdk9wdGlvbnMucmVwbGFjZVVybCAmJiAhbmF2T3B0aW9ucy5jbGVhckhpc3Rvcnk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHRoaXMuYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIC8vIENsZWFyIHJlZkNhY2hlIGlmIG5hdmlnYXRpb24gd2l0aCBjbGVhckhpc3RvcnlcbiAgICAgICAgaWYgKG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5KSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kubWFya0NhY2hlRm9yQ2xlYXIoa2V5KSk7XG4gICAgICAgICAgICBjb25zdCB3aXBlQ2FjaGUgPSBjYWxsYWJsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROYXZGdW5jdGlvbiA9PT0gd2lwZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0bGV0ICYmIHRoaXMuYWN0aXZhdGVkUm91dGUgPT09IGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3RlbnRpYWwgYWx0ZXJuYXRpdmUgZml4IChvbmx5IGZpeCBjaGlsZHJlbiBvZiB0aGUgY3VycmVudCBvdXRsZXQpXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG5lc3RzID0gb3V0bGV0S2V5LnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZmlsdGVyKChrKSA9PiBrLnNwbGl0KCcvJykubGVuZ3RoID49IG5lc3RzLmxlbmd0aCkuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhckNhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJNYXJrZWRDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gd2lwZUNhY2hlO1xuICAgICAgICAgICAgY29uc3QgY2xlYXJDYWxsYmFjayA9ICgpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpcGVDYWNoZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYWdlLm9uY2UoUGFnZS5uYXZpZ2F0ZWRUb0V2ZW50LCBjbGVhckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYXZPcHRpb25zLnJlcGxhY2VVcmwpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5tYXJrQ2FjaGVGb3JQb3Aoa2V5KSk7XG4gICAgICAgICAgICBjb25zdCBwb3BDYWNoZSA9IGNhbGxhYmxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5hdkZ1bmN0aW9uID09PSBwb3BDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLmFjdGl2YXRlZFJvdXRlID09PSBjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG90ZW50aWFsIGFsdGVybmF0aXZlIGZpeCAob25seSBmaXggY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgb3V0bGV0KVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBuZXN0cyA9IG91dGxldEtleS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kucG9wQ2FjaGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhck1hcmtlZENhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24gPSBwb3BDYWNoZTtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ2FsbGJhY2sgPSAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBwb3BDYWNoZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYWdlLm9uY2UoUGFnZS5uYXZpZ2F0ZWRUb0V2ZW50LCBjbGVhckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dDogbmF2aWdhdGlvbkNvbnRleHQsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5LFxuICAgICAgICAgICAgYW5pbWF0ZWQ6IG5hdk9wdGlvbnMuYW5pbWF0ZWQsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBuYXZPcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc1JlcGxhY2UgJiYgdGhpcy5mcmFtZS5jdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5yZXBsYWNlUGFnZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbmQgYW5kIG1hcmsgdGhlIHRvcCBhY3RpdmF0ZWQgcm91dGUgYXMgYW4gYWN0aXZhdGVkIG9uZS5cbiAgICAvLyBJbiBucy1sb2NhdGlvbi1zdHJhdGVneSB3ZSBhcmUgcmV1c2luZyBjb21wb25lbnRzIG9ubHkgaWYgdGhlaXIgY29ycmVzcG9uaW5nIHJvdXRlc1xuICAgIC8vIGFyZSBtYXJrZWQgYXMgYWN0aXZhdGVkIGZyb20gdGhpcyBtZXRob2QuXG4gICAgbWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgICAgIHF1ZXVlLnB1c2goYWN0aXZhdGVkUm91dGUuc25hcHNob3QpO1xuICAgICAgICBsZXQgY3VycmVudFJvdXRlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgY3VycmVudFJvdXRlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkUm91dGUpID0+IHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGNoaWxkUm91dGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoY3VycmVudFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAgICAgaWYgKG91dGxldCAmJiBvdXRsZXQuZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRvcEFjdGl2YXRlZFJvdXRlW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdBY3RpdmF0ZWQgcm91dGUgbWFya2VkIGFzIHBhZ2U6ICcgKyByb3V0ZVRvU3RyaW5nKHRvcEFjdGl2YXRlZFJvdXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFJvdXRlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb21wb25lbnRUeXBlKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmF0ZWRSb3V0ZS5yb3V0ZUNvbmZpZy5jb21wb25lbnQgfHwgYWN0aXZhdGVkUm91dGUuY29tcG9uZW50O1xuICAgIH1cbiAgICBnZXRPdXRsZXQoYWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgICAgICBjb25zdCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoYWN0aXZhdGVkUm91dGVTbmFwc2hvdCk7XG4gICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgbGV0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAvLyBOYW1lZCBsYXp5IGxvYWRlZCBvdXRsZXQuXG4gICAgICAgIGlmICghb3V0bGV0ICYmIHRoaXMuaXNFbXB0eU91dGxldCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUucGFyZW50KTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KHBhcmVudE91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUucGFyZW50KTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXQub3V0bGV0S2V5cy5wdXNoKG91dGxldEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBkZXBzOiBbeyB0b2tlbjogaTEkMy5DaGlsZHJlbk91dGxldENvbnRleHRzIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogJ25hbWUnLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogJ2FjdGlvbkJhclZpc2liaWxpdHknLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogJ2lzRW1wdHlPdXRsZXQnLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0b2tlbjogUEFHRV9GQUNUT1JZIH0sIHsgdG9rZW46IE5TUm91dGVSZXVzZVN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLk5nWm9uZSB9LCB7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IFZpZXdVdGlsIH0sIHsgdG9rZW46IGkwLkVudmlyb25tZW50SW5qZWN0b3IgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBzZWxlY3RvcjogXCJwYWdlLXJvdXRlci1vdXRsZXRcIiwgb3V0cHV0czogeyBhY3RpdmF0ZUV2ZW50czogXCJhY3RpdmF0ZVwiLCBkZWFjdGl2YXRlRXZlbnRzOiBcImRlYWN0aXZhdGVcIiB9LCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FjdGl2YXRlZFJvdXRlLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgUGFnZVJvdXRlck91dGxldC5wcm90b3R5cGUsIFwiYWN0aXZhdGVXaXRoXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvZmlsZSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbUGFnZSwgQ29tcG9uZW50UmVmLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgUGFnZVJvdXRlck91dGxldC5wcm90b3R5cGUsIFwibG9hZENvbXBvbmVudEluUGFnZVwiLCBudWxsKTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdwYWdlLXJvdXRlci1vdXRsZXQnIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEkMy5DaGlsZHJlbk91dGxldENvbnRleHRzIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbJ25hbWUnXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsnYWN0aW9uQmFyVmlzaWJpbGl0eSddXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogWydpc0VtcHR5T3V0bGV0J11cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNoYW5nZURldGVjdG9yUmVmIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtQQUdFX0ZBQ1RPUlldXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9LCB7IHR5cGU6IGkwLk5nWm9uZSB9LCB7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IFZpZXdVdGlsIH0sIHsgdHlwZTogaTAuRW52aXJvbm1lbnRJbmplY3RvciB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYWN0aXZhdGVFdmVudHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnYWN0aXZhdGUnXVxuICAgICAgICAgICAgfV0sIGRlYWN0aXZhdGVFdmVudHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnZGVhY3RpdmF0ZSddXG4gICAgICAgICAgICB9XSwgYWN0aXZhdGVXaXRoOiBbXSwgbG9hZENvbXBvbmVudEluUGFnZTogW10gfSB9KTtcblxuY2xhc3MgTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiBleHRlbmRzIFBsYXRmb3JtTG9jYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0aW9uU3RyYXRlZ3kpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24uY29uc3RydWN0b3IoKScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBnZXRCYXNlSHJlZkZyb21ET00oKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIG9uUG9wU3RhdGUoZm4pIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Lm9uUG9wU3RhdGUoZm4pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgb25IYXNoQ2hhbmdlKF9mbikge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHNlYXJjaCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXQgaGFzaCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXQgcGF0aG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucGF0aCgpO1xuICAgIH1cbiAgICBzZXQgcGF0aG5hbWUoX25ld1BhdGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIHNldCBwYXRobmFtZSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBwdXNoU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgbnVsbCk7XG4gICAgfVxuICAgIHJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBudWxsKTtcbiAgICB9XG4gICAgZm9yd2FyZCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBiYWNrKCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjaygpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24sIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9XTsgfSB9KTtcblxuY2xhc3MgTlNFbXB0eU91dGxldENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocGFnZSkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbG9hZGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VSb3V0ZXJPdXRsZXQgJiYgdGhpcy5wYWdlLmZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZVJvdXRlck91dGxldC5zZXRBY3Rpb25CYXJWaXNpYmlsaXR5KHRoaXMucGFnZS5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRW1wdHlPdXRsZXRDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMS5QYWdlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogTlNFbXB0eU91dGxldENvbXBvbmVudCwgc2VsZWN0b3I6IFwibnMtZW1wdHktb3V0bGV0XCIsIHZpZXdRdWVyaWVzOiBbeyBwcm9wZXJ0eU5hbWU6IFwicGFnZVJvdXRlck91dGxldFwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBQYWdlUm91dGVyT3V0bGV0LCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogUGFnZVJvdXRlck91dGxldCB9XSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogXCI8cGFnZS1yb3V0ZXItb3V0bGV0IGlzRW1wdHlPdXRsZXQ9J3RydWUnPjwvcGFnZS1yb3V0ZXItb3V0bGV0PlwiLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBzZWxlY3RvcjogXCJwYWdlLXJvdXRlci1vdXRsZXRcIiwgb3V0cHV0czogW1wiYWN0aXZhdGVcIiwgXCJkZWFjdGl2YXRlXCJdIH1dIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNFbXB0eU91dGxldENvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpjb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICducy1lbXB0eS1vdXRsZXQnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8cGFnZS1yb3V0ZXItb3V0bGV0IGlzRW1wdHlPdXRsZXQ9J3RydWUnPjwvcGFnZS1yb3V0ZXItb3V0bGV0PlwiLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEuUGFnZSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgcGFnZVJvdXRlck91dGxldDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBWaWV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogW1BhZ2VSb3V0ZXJPdXRsZXQsIHsgcmVhZDogUGFnZVJvdXRlck91dGxldCwgc3RhdGljOiBmYWxzZSB9XVxuICAgICAgICAgICAgfV0gfSB9KTtcblxuZnVuY3Rpb24gcHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3kobG9jYXRpb25TdHJhdGVneSwgZnJhbWVTZXJ2aWNlLCBzdGFydFBhdGgpIHtcbiAgICByZXR1cm4gbG9jYXRpb25TdHJhdGVneSA/IGxvY2F0aW9uU3RyYXRlZ3kgOiBuZXcgTlNMb2NhdGlvblN0cmF0ZWd5KGZyYW1lU2VydmljZSwgc3RhcnRQYXRoKTtcbn1cbmNsYXNzIE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSB7XG4gICAgc3RhdGljIGZvclJvb3Qocm91dGVzLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5nTW9kdWxlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsXG4gICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAuLi5Sb3V0ZXJNb2R1bGUuZm9yUm9vdChyb3V0ZXMsIGNvbmZpZykucHJvdmlkZXJzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogTlNMb2NhdGlvblN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBwcm92aWRlTG9jYXRpb25TdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogW1tOU0xvY2F0aW9uU3RyYXRlZ3ksIG5ldyBPcHRpb25hbCgpLCBuZXcgU2tpcFNlbGYoKV0sIEZyYW1lU2VydmljZSwgW25ldyBPcHRpb25hbCgpLCBTVEFSVF9QQVRIXV0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IExvY2F0aW9uU3RyYXRlZ3ksIHVzZUV4aXN0aW5nOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSxcbiAgICAgICAgICAgICAgICBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGxhdGZvcm1Mb2NhdGlvbiwgdXNlRXhpc3Rpbmc6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gfSxcbiAgICAgICAgICAgICAgICBSb3V0ZXJFeHRlbnNpb25zLFxuICAgICAgICAgICAgICAgIE5TUm91dGVSZXVzZVN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUm91dGVSZXVzZVN0cmF0ZWd5LCB1c2VFeGlzdGluZzogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmb3JDaGlsZChyb3V0ZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgbmdNb2R1bGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgcHJvdmlkZXJzOiBSb3V0ZXJNb2R1bGUuZm9yQ2hpbGQocm91dGVzKS5wcm92aWRlcnMgfTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0sIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgaW1wb3J0czogW1JvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBSb3V0ZXJNb2R1bGVdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG5sZXQgY3VycmVudFJhZklkID0gMTtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbi8qKlxuICogQW4gaW5qZWN0YWJsZSBzZXJ2aWNlIGZvciBleGVjdXRpbmcgd29yayBpbnNpZGUgb3Igb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICpcbiAqIFRoZSBtb3N0IGNvbW1vbiB1c2Ugb2YgdGhpcyBzZXJ2aWNlIGlzIHRvIG9wdGltaXplIHBlcmZvcm1hbmNlIHdoZW4gc3RhcnRpbmcgYSB3b3JrIGNvbnNpc3Rpbmcgb2ZcbiAqIG9uZSBvciBtb3JlIGFzeW5jaHJvbm91cyB0YXNrcyB0aGF0IGRvbid0IHJlcXVpcmUgVUkgdXBkYXRlcyBvciBlcnJvciBoYW5kbGluZyB0byBiZSBoYW5kbGVkIGJ5XG4gKiBBbmd1bGFyLiBTdWNoIHRhc2tzIGNhbiBiZSBraWNrZWQgb2ZmIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbmQgaWYgbmVlZGVkLCB0aGVzZSB0YXNrc1xuICogY2FuIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSB2aWEge0BsaW5rICNydW59LlxuICpcbiAqIDwhLS0gVE9ETzogYWRkL2ZpeCBsaW5rcyB0bzpcbiAqICAgLSBkb2NzIGV4cGxhaW5pbmcgem9uZXMgYW5kIHRoZSB1c2Ugb2Ygem9uZXMgaW4gQW5ndWxhciBhbmQgY2hhbmdlLWRldGVjdGlvblxuICogICAtIGxpbmsgdG8gcnVuT3V0c2lkZUFuZ3VsYXIvcnVuICh0aHJvdWdob3V0IHRoaXMgZmlsZSEpXG4gKiAgIC0tPlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogaW1wb3J0IHtDb21wb25lbnQsIE5nWm9uZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge05nSWZ9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbmctem9uZS1kZW1vJyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8aDI+RGVtbzogTmdab25lPC9oMj5cbiAqXG4gKiAgICAgPHA+UHJvZ3Jlc3M6IHt7cHJvZ3Jlc3N9fSU8L3A+XG4gKiAgICAgPHAgKm5nSWY9XCJwcm9ncmVzcyA+PSAxMDBcIj5Eb25lIHByb2Nlc3Npbmcge3tsYWJlbH19IG9mIEFuZ3VsYXIgem9uZSE8L3A+XG4gKlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyB3aXRoaW4gQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIG91dHNpZGUgb2YgQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgIGAsXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIE5nWm9uZURlbW8ge1xuICogICBwcm9ncmVzczogbnVtYmVyID0gMDtcbiAqICAgbGFiZWw6IHN0cmluZztcbiAqXG4gKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX25nWm9uZTogTmdab25lKSB7fVxuICpcbiAqICAgLy8gTG9vcCBpbnNpZGUgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdpbnNpZGUnO1xuICogICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICogICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4gY29uc29sZS5sb2coJ0luc2lkZSBEb25lIScpKTtcbiAqICAgfVxuICpcbiAqICAgLy8gTG9vcCBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgTk9UIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ291dHNpZGUnO1xuICogICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICogICAgIHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gKiAgICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IHtcbiAqICAgICAgICAgLy8gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIGFuZCBkaXNwbGF5IGRvbmVcbiAqICAgICAgICAgdGhpcy5fbmdab25lLnJ1bigoKSA9PiB7IGNvbnNvbGUubG9nKCdPdXRzaWRlIERvbmUhJyk7IH0pO1xuICogICAgICAgfSk7XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqXG4gKiAgIF9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICogICAgIHRoaXMucHJvZ3Jlc3MgKz0gMTtcbiAqICAgICBjb25zb2xlLmxvZyhgQ3VycmVudCBwcm9ncmVzczogJHt0aGlzLnByb2dyZXNzfSVgKTtcbiAqXG4gKiAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPCAxMDApIHtcbiAqICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrKSwgMTApO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICBkb25lQ2FsbGJhY2soKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgTmF0aXZlU2NyaXB0Tmdab25lIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGVuYWJsZUxvbmdTdGFja1RyYWNlID0gaXNEZXZNb2RlKCksIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gPSB0cnVlLCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHRydWUgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGVyZSBhcmUgbm8gb3V0c3RhbmRpbmcgbWljcm90YXNrcyBvciBtYWNyb3Rhc2tzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIGNvZGUgZW50ZXJzIEFuZ3VsYXIgWm9uZS4gVGhpcyBnZXRzIGZpcmVkIGZpcnN0IG9uIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uVW5zdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gdGhlcmUgaXMgbm8gbW9yZSBtaWNyb3Rhc2tzIGVucXVldWVkIGluIHRoZSBjdXJyZW50IFZNIFR1cm4uXG4gICAgICAgICAqIFRoaXMgaXMgYSBoaW50IGZvciBBbmd1bGFyIHRvIGRvIGNoYW5nZSBkZXRlY3Rpb24sIHdoaWNoIG1heSBlbnF1ZXVlIG1vcmUgbWljcm90YXNrcy5cbiAgICAgICAgICogRm9yIHRoaXMgcmVhc29uIHRoaXMgZXZlbnQgY2FuIGZpcmUgbXVsdGlwbGUgdGltZXMgcGVyIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTWljcm90YXNrRW1wdHkgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gdGhlIGxhc3QgYG9uTWljcm90YXNrRW1wdHlgIGhhcyBydW4gYW5kIHRoZXJlIGFyZSBubyBtb3JlIG1pY3JvdGFza3MsIHdoaWNoXG4gICAgICAgICAqIGltcGxpZXMgd2UgYXJlIGFib3V0IHRvIHJlbGlucXVpc2ggVk0gdHVybi5cbiAgICAgICAgICogVGhpcyBldmVudCBnZXRzIGNhbGxlZCBqdXN0IG9uY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB0aGF0IGFuIGVycm9yIGhhcyBiZWVuIGRlbGl2ZXJlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICBpZiAodHlwZW9mIFpvbmUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW4gdGhpcyBjb25maWd1cmF0aW9uIEFuZ3VsYXIgcmVxdWlyZXMgWm9uZS5qc2ApO1xuICAgICAgICB9XG4gICAgICAgIFpvbmUuYXNzZXJ0Wm9uZVBhdGNoZWQoKTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX25lc3RpbmcgPSAwO1xuICAgICAgICBzZWxmLl9vdXRlciA9IHNlbGYuX2lubmVyID0gWm9uZS5jdXJyZW50O1xuICAgICAgICBpZiAoWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKG5ldyBab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVMb25nU3RhY2tUcmFjZSAmJiBab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIGlzIHRydWUsIGFsbCB0YXNrcyBpbmNsdWRpbmcgZXZlbnQgdGFza3Mgd2lsbCBiZVxuICAgICAgICAvLyBjb2FsZXNjZWQsIHNvIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gb3B0aW9uIGlzIG5vdCBuZWNlc3NhcnkgYW5kIGNhbiBiZSBza2lwcGVkLlxuICAgICAgICBzZWxmLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gPSAhc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gJiYgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICBzZWxmLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICBzZWxmLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlRGlzcGF0Y2hUb01haW5UaHJlYWQgPSBVdGlsc1tab25lLl9fc3ltYm9sX18oJ2Rpc3BhdGNoVG9NYWluVGhyZWFkJyldIHx8IFV0aWxzLmRpc3BhdGNoVG9NYWluVGhyZWFkO1xuICAgICAgICAgICAgbmF0aXZlRGlzcGF0Y2hUb01haW5UaHJlYWQoY2IpO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRSYWZJZCsrO1xuICAgICAgICB9O1xuICAgICAgICBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcihzZWxmKTtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvbmUuY3VycmVudC5nZXQoJ2lzQW5ndWxhclpvbmUnKSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgc3RhdGljIGFzc2VydEluQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIGlmICghTmdab25lLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRvIGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIG5vdCEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgaWYgKE5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuYCBhbGxvd3MgeW91IHRvIHJlZW50ZXIgQW5ndWxhciB6b25lIGZyb20gYSB0YXNrIHRoYXQgd2FzIGV4ZWN1dGVkXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lICh0eXBpY2FsbHkgc3RhcnRlZCB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0pLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3luY2hyb25vdXMgZXJyb3IgaGFwcGVucyBpdCB3aWxsIGJlIHJldGhyb3duIGFuZCBub3QgcmVwb3J0ZWQgdmlhIGBvbkVycm9yYC5cbiAgICAgKi9cbiAgICBydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZSBhcyBhIHRhc2sgYW5kIHJldHVybnMgdmFsdWVcbiAgICAgKiByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgcnVuVGFzayhmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIG5hbWUpIHtcbiAgICAgICAgY29uc3Qgem9uZSA9IHRoaXMuX2lubmVyO1xuICAgICAgICBjb25zdCB0YXNrID0gem9uZS5zY2hlZHVsZUV2ZW50VGFzaygnTmdab25lRXZlbnQ6ICcgKyBuYW1lLCBmbiwgRU1QVFlfUEFZTE9BRCwgbm9vcCwgbm9vcCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gem9uZS5ydW5UYXNrKHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuY2FuY2VsVGFzayh0YXNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIGBydW5gLCBleGNlcHQgdGhhdCBzeW5jaHJvbm91cyBlcnJvcnMgYXJlIGNhdWdodCBhbmQgZm9yd2FyZGVkIHZpYSBgb25FcnJvcmAgYW5kIG5vdFxuICAgICAqIHJldGhyb3duLlxuICAgICAqL1xuICAgIHJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgaW4gQW5ndWxhcidzIHBhcmVudCB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9IGFsbG93cyB5b3UgdG8gZXNjYXBlIEFuZ3VsYXIncyB6b25lIGFuZCBkb1xuICAgICAqIHdvcmsgdGhhdFxuICAgICAqIGRvZXNuJ3QgdHJpZ2dlciBBbmd1bGFyIGNoYW5nZS1kZXRlY3Rpb24gb3IgaXMgc3ViamVjdCB0byBBbmd1bGFyJ3MgZXJyb3IgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgI3J1bn0gdG8gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIGFuZCBkbyB3b3JrIHRoYXQgdXBkYXRlcyB0aGUgYXBwbGljYXRpb24gbW9kZWwuXG4gICAgICovXG4gICAgcnVuT3V0c2lkZUFuZ3VsYXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyLnJ1bihmbik7XG4gICAgfVxufVxuY29uc3QgRU1QVFlfUEFZTE9BRCA9IHt9O1xuZnVuY3Rpb24gY2hlY2tTdGFibGUoem9uZSkge1xuICAgIC8vIFRPRE86IEBKaWFMaVBhc3Npb24sIHNob3VsZCBjaGVjayB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nIHRvIHByZXZlbnRcbiAgICAvLyByZS1lbnRyeS4gVGhlIGNhc2UgaXM6XG4gICAgLy9cbiAgICAvLyBAQ29tcG9uZW50KHsuLi59KVxuICAgIC8vIGV4cG9ydCBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgIC8vIGNvbnN0cnVjdG9yKHByaXZhdGUgbmdab25lOiBOZ1pvbmUpIHtcbiAgICAvLyAgIHRoaXMubmdab25lLm9uU3RhYmxlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgLy8gICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiBjb25zb2xlLmxvZygnc3RhYmxlJyk7KTtcbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIFRoZSBvblN0YWJsZSBzdWJzY3JpYmVyIHJ1biBhbm90aGVyIGZ1bmN0aW9uIGluc2lkZSBuZ1pvbmVcbiAgICAvLyB3aGljaCBjYXVzZXMgYGNoZWNrU3RhYmxlKClgIHJlLWVudHJ5LlxuICAgIC8vIEJ1dCB0aGlzIGZpeCBjYXVzZXMgc29tZSBpc3N1ZXMgaW4gZzMsIHNvIHRoaXMgZml4IHdpbGwgYmVcbiAgICAvLyBsYXVuY2hlZCBpbiBhbm90aGVyIFBSLlxuICAgIGlmICh6b25lLl9uZXN0aW5nID09IDAgJiYgIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgJiYgIXpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICAgICAgICAgIHpvbmUub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZy0tO1xuICAgICAgICAgICAgaWYgKCF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB6b25lLm9uU3RhYmxlLmVtaXQobnVsbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMoem9uZSkge1xuICAgIC8qKlxuICAgICAqIFdlIGFsc28gbmVlZCB0byBjaGVjayBfbmVzdGluZyBoZXJlXG4gICAgICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlIHdpdGggc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSB0cnVlXG4gICAgICpcbiAgICAgKiBuZ1pvbmUucnVuKCgpID0+IHt9KTtcbiAgICAgKiBuZ1pvbmUucnVuKCgpID0+IHt9KTtcbiAgICAgKlxuICAgICAqIFdlIHdhbnQgdGhlIHR3byBgbmdab25lLnJ1bigpYCBvbmx5IHRyaWdnZXIgb25lIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgKiB3aGVuIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIGlzIHRydWUuXG4gICAgICogQW5kIGJlY2F1c2UgaW4gdGhpcyBjYXNlLCBjaGFuZ2UgZGV0ZWN0aW9uIHJ1biBpbiBhc3luYyB3YXkocmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxcbiAgICAgKiBzbyB3ZSBhbHNvIG5lZWQgdG8gY2hlY2sgdGhlIF9uZXN0aW5nIGhlcmUgdG8gcHJldmVudCBtdWx0aXBsZVxuICAgICAqIGNoYW5nZSBkZXRlY3Rpb25zLlxuICAgICAqL1xuICAgIGlmICh6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nIHx8IHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gem9uZS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUuY2FsbChnbG9iYWwsICgpID0+IHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zNjgzOS5cbiAgICAgICAgLy8gVGhlIGNvcmUgaXNzdWUgaXMgdGhhdCB3aGVuIGV2ZW50IGNvYWxlc2NpbmcgaXMgZW5hYmxlZCBpdCBpcyBwb3NzaWJsZSBmb3IgbWljcm90YXNrc1xuICAgICAgICAvLyB0byBnZXQgZmx1c2hlZCB0b28gZWFybHkgKEFzIGlzIHRoZSBjYXNlIHdpdGggYFByb21pc2UudGhlbmApIGJldHdlZW4gdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVG8gd29ya2Fyb3VuZCB0aGlzIHdlIHNjaGVkdWxlIGEgXCJmYWtlXCIgZXZlbnRUYXNrIGJlZm9yZSB3ZSBwcm9jZXNzIHRoZVxuICAgICAgICAvLyBjb2FsZXNjaW5nIGV2ZW50VGFza3MuIFRoZSBiZW5lZml0IG9mIHRoaXMgaXMgdGhhdCB0aGUgXCJmYWtlXCIgY29udGFpbmVyIGV2ZW50VGFza1xuICAgICAgICAvLyAgd2lsbCBwcmV2ZW50IHRoZSBtaWNyb3Rhc2tzIHF1ZXVlIGZyb20gZ2V0dGluZyBkcmFpbmVkIGluIGJldHdlZW4gdGhlIGNvYWxlc2NpbmdcbiAgICAgICAgLy8gZXZlbnRUYXNrIGV4ZWN1dGlvbi5cbiAgICAgICAgaWYgKCF6b25lLmZha2VUb3BFdmVudFRhc2spIHtcbiAgICAgICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzayA9IFpvbmUucm9vdC5zY2hlZHVsZUV2ZW50VGFzaygnZmFrZVRvcEV2ZW50VGFzaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB1bmRlZmluZWQsICgpID0+IHsgfSwgKCkgPT4geyB9KTtcbiAgICAgICAgfVxuICAgICAgICB6b25lLmZha2VUb3BFdmVudFRhc2suaW52b2tlKCk7XG4gICAgfSk7XG4gICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xufVxuZnVuY3Rpb24gZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioem9uZSkge1xuICAgIGNvbnN0IGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUgPSAoKSA9PiB7XG4gICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpO1xuICAgIH07XG4gICAgem9uZS5faW5uZXIgPSB6b25lLl9pbm5lci5mb3JrKHtcbiAgICAgICAgbmFtZTogJ2FuZ3VsYXInLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7IGlzQW5ndWxhclpvbmU6IHRydWUgfSxcbiAgICAgICAgb25JbnZva2VUYXNrOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25FbnRlcih6b25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlVGFzayh0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmICgoem9uZS5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uICYmIHRhc2sudHlwZSA9PT0gJ2V2ZW50VGFzaycpIHx8IHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gfHwgIVV0aWxzLmlzTWFpblRocmVhZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25JbnZva2U6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2UodGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiB8fCAhVXRpbHMuaXNNYWluVGhyZWFkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhc1Rhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBoYXNUYXNrU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhc1Rhc2sodGFyZ2V0LCBoYXNUYXNrU3RhdGUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gaGFzVGFzayBldmVudHMgd2hpY2ggb3JpZ2luYXRlIGZyb20gb3VyIHpvbmVcbiAgICAgICAgICAgICAgICAvLyAoQSBjaGlsZCBoYXNUYXNrIGV2ZW50IGlzIG5vdCBpbnRlcmVzdGluZyB0byB1cylcbiAgICAgICAgICAgICAgICBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWljcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5taWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21hY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5tYWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhbmRsZUVycm9yOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhbmRsZUVycm9yKHRhcmdldCwgZXJyb3IpO1xuICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB6b25lLm9uRXJyb3IuZW1pdChlcnJvcikpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpIHtcbiAgICBpZiAoem9uZS5faGFzUGVuZGluZ01pY3JvdGFza3MgfHwgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uRW50ZXIoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICBpZiAoem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB6b25lLmlzU3RhYmxlID0gZmFsc2U7XG4gICAgICAgIHpvbmUub25VbnN0YWJsZS5lbWl0KG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uTGVhdmUoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICBjaGVja1N0YWJsZSh6b25lKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgeyBBUFBfUk9PVF9WSUVXLCBBY3Rpb25CYXJDb21wb25lbnQsIEFjdGlvbkJhclNjb3BlLCBBY3Rpb25JdGVtRGlyZWN0aXZlLCBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBBcHBIb3N0QXN5bmNWaWV3LCBBcHBIb3N0VmlldywgQmFzZVBvcnRhbE91dGxldCwgQmFzZVZhbHVlQWNjZXNzb3IsIENPTU1PTl9QUk9WSURFUlMsIENka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0LCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgQ29tbWVudE5vZGUsIENvbXBvbmVudFBvcnRhbCwgREVWSUNFLCBESVNBQkxFX1JPT1RfVklFV19IQU5ETElORywgRGF0ZVZhbHVlQWNjZXNzb3IsIERldGFjaGVkTG9hZGVyLCBEb21Qb3J0YWwsIEVOQUJMRV9SRVVTQUJFX1ZJRVdTLCBFbXVsYXRlZFJlbmRlcmVyLCBGcmFtZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50LCBGcmFtZVBhZ2VNb2R1bGUsIEZyYW1lU2VydmljZSwgSU9TRmlsdGVyQ29tcG9uZW50LCBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLCBJbnZpc2libGVOb2RlLCBJdGVtQ29udGV4dCwgTGlzdFZpZXdDb21wb25lbnQsIE1vZGFsRGlhbG9nUGFyYW1zLCBNb2RhbERpYWxvZ1NlcnZpY2UsIE5BTUVTUEFDRV9GSUxURVJTLCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUywgTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQsIE5BVElWRV9ESUFMT0dfREFUQSwgTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMsIE5TRW1wdHlPdXRsZXRDb21wb25lbnQsIE5TRmlsZVN5c3RlbSwgTlNMb2NhdGlvblN0cmF0ZWd5LCBOU1JvdXRlUmV1c2VTdHJhdGVneSwgTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlLCBOYXRpdmVEaWFsb2dDb25maWcsIE5hdGl2ZURpYWxvZ01vZHVsZSwgTmF0aXZlRGlhbG9nUmVmLCBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBOYXRpdmVNb2RhbFJlZiwgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLCBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIsIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgTmF0aXZlU2NyaXB0RG9jdW1lbnQsIE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCwgTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBOYXRpdmVTY3JpcHRNb2R1bGUsIE5hdGl2ZVNjcmlwdE5nU2FmZUV2ZW50LCBOYXRpdmVTY3JpcHROZ1pvbmUsIE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSwgTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBOYXRpdmVTY3JpcHRTYW5pdGl6ZXIsIE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIE5nVmlld1JlZiwgTnNIdHRwQmFja0VuZCwgTnNUZW1wbGF0ZWRJdGVtLCBOdW1iZXJWYWx1ZUFjY2Vzc29yLCBPdXRsZXQsIFBBR0VfRkFDVE9SWSwgUGFnZURpcmVjdGl2ZSwgUGFnZVJvdXRlLCBQYWdlUm91dGVyT3V0bGV0LCBQYWdlU2VydmljZSwgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIsIFBvcnRhbCwgUG9ydGFsTW9kdWxlLCBSb290Q29tcG9zaXRlTW9kdWxlLCBSb290Vmlld1Byb3h5LCBSb3V0ZXJFeHRlbnNpb25zLCBTVEFSVF9QQVRILCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBUZW1wbGF0ZVBvcnRhbCwgVGV4dE5vZGUsIFRleHRWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnQsIF9OYXRpdmVEaWFsb2dCYXNlLCBib290c3RyYXBBcHBsaWNhdGlvbiwgY3JlYXRlS2V5ZnJhbWVBbmltYXRpb24sIGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSwgY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5LCBjdXN0b21QYWdlRmFjdG9yeSwgY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUsIGRhc2hDYXNlVG9DYW1lbENhc2UsIGRlZmF1bHROYXZPcHRpb25zLCBkZWZhdWx0UGFnZUZhY3RvcnksIGRlZmF1bHRQYWdlRmFjdG9yeVByb3ZpZGVyLCBkZXRhY2hWaWV3RnJvbVBhcmVudCwgZGlzYWJsZVJvb3RWaWV3SGFuZGluZywgZXJyb3JIYW5kbGVyLCBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZSwgZnJhbWVNZXRhLCBnZW5lcmF0ZURldGFjaGVkTG9hZGVyLCBnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXcsIGdlbmVyYXRlTmF0aXZlU2NyaXB0VmlldywgZ2VuZXJhdGVSYW5kb21JZCwgZ2VuZXJhdGVSb290TGF5b3V0QW5kUHJveHksIGdldEZpcnN0TmF0aXZlTGlrZVZpZXcsIGdldEl0ZW1WaWV3Um9vdCwgZ2V0U2luZ2xlVmlld1JlY3Vyc2l2ZSwgZ2V0Vmlld0NsYXNzLCBnZXRWaWV3TWV0YSwgaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyLCBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeSwgaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIsIGlzQmxhbmssIGlzQ29udGVudFZpZXcsIGlzRGV0YWNoZWRFbGVtZW50LCBpc0ludmlzaWJsZU5vZGUsIGlzSnNPYmplY3QsIGlzS25vd25WaWV3LCBpc0xheW91dCwgaXNMaXN0TGlrZUl0ZXJhYmxlLCBpc1ByZXNlbnQsIGlzVmlldywgb25BZnRlckxpdmVzeW5jLCBvbkJlZm9yZUxpdmVzeW5jLCBvbmNlLCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdCwgcGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljLCBwb3N0QW5ndWxhckJvb3RzdHJhcCQsIHByZUFuZ3VsYXJEaXNwb3NhbCQsIHByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5LCByZWdpc3RlckVsZW1lbnQsIHJlZ2lzdGVyTmF0aXZlU2NyaXB0Vmlld0NvbXBvbmVudHMsIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAsIHRocm93SWZBbHJlYWR5TG9hZGVkLCB0aHJvd05vUG9ydGFsQXR0YWNoZWRFcnJvciwgdGhyb3dOdWxsUG9ydGFsRXJyb3IsIHRocm93TnVsbFBvcnRhbE91dGxldEVycm9yLCB0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yLCB0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yLCB0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IsIENPTVBPTkVOVF9WQVJJQUJMRSBhcyDJtUNPTVBPTkVOVF9WQVJJQUJMRSwgQ09OVEVOVF9BVFRSIGFzIMm1Q09OVEVOVF9BVFRSLCBIT1NUX0FUVFIgYXMgybVIT1NUX0FUVFIsIE5hdGl2ZVNjcmlwdERlYnVnIGFzIMm1TmF0aXZlU2NyaXB0QW5ndWxhckRlYnVnLCB2aWV3VXRpbCBhcyDJtVZpZXdVdGlsLCBhY3Rpb25CYXJNZXRhIGFzIMm1YWN0aW9uQmFyTWV0YSwgZWxlbWVudE1hcCBhcyDJtWVsZW1lbnRNYXAsIGlzQWN0aW9uSXRlbSBhcyDJtWlzQWN0aW9uSXRlbSwgaXNOYXZpZ2F0aW9uQnV0dG9uIGFzIMm1aXNOYXZpZ2F0aW9uQnV0dG9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmVzY3JpcHQtYW5ndWxhci5tanMubWFwXG4iXSwibmFtZXMiOlsiaTEiLCJWaWV3IiwiTGF5b3V0QmFzZSIsIkNvbnRlbnRWaWV3IiwiUHJveHlWaWV3Q29udGFpbmVyIiwiUGFnZSIsInBsYXRmb3JtTmFtZXMiLCJHcmlkTGF5b3V0IiwiQXBwbGljYXRpb24iLCJUcmFjZSIsIkZvcm1hdHRlZFN0cmluZyIsIlNwYW4iLCJBYnNvbHV0ZUxheW91dCIsIkFjdGl2aXR5SW5kaWNhdG9yIiwiQnV0dG9uIiwiRGF0ZVBpY2tlciIsIkRvY2tMYXlvdXQiLCJGcmFtZSIsIkh0bWxWaWV3IiwiSW1hZ2UiLCJMYWJlbCIsIkxpc3RQaWNrZXIiLCJMaXN0VmlldyIsIlBsYWNlaG9sZGVyIiwiUHJvZ3Jlc3MiLCJSZXBlYXRlciIsIlJvb3RMYXlvdXQiLCJTY3JvbGxWaWV3IiwiU2VhcmNoQmFyIiwiU2VnbWVudGVkQmFyIiwiU2VnbWVudGVkQmFySXRlbSIsIlNsaWRlciIsIlN0YWNrTGF5b3V0IiwiRmxleGJveExheW91dCIsIlN3aXRjaCIsIlRhYlZpZXciLCJUZXh0RmllbGQiLCJUZXh0VmlldyIsIlRpbWVQaWNrZXIiLCJXZWJWaWV3IiwiV3JhcExheW91dCIsInVuc2V0VmFsdWUiLCJwcm9maWxlIiwiYWRkVGFnZ2VkQWRkaXRpb25hbENTUyIsImdldFZpZXdCeUlkIiwiT2JzZXJ2YWJsZSIsIkFjdGlvbkl0ZW0iLCJOYXZpZ2F0aW9uQnV0dG9uIiwiQWN0aW9uQmFyIiwiT2JzZXJ2YWJsZUFycmF5IiwiVGFiVmlld0l0ZW0iLCJDb2xvciIsIkRldmljZSIsIlV0aWxzIiwicmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUyIsImtub3duRm9sZGVycyIsIkZpbGUiLCJLZXlmcmFtZUFuaW1hdGlvbiIsImFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uQ29udmVydGVyIiwicGFyc2VLZXlmcmFtZURlY2xhcmF0aW9ucyIsIkNTU0hlbHBlciIsIkNzc0FuaW1hdGlvblByb3BlcnR5IiwiZWFjaERlc2NlbmRhbnQiLCJwYXRoIiwiaTAiLCJJbmplY3Rpb25Ub2tlbiIsIkluamVjdCIsIkNvbXBvbmVudFJlZiIsIkluamVjdGFibGUiLCJWaWV3RW5jYXBzdWxhdGlvbiIsIk9wdGlvbmFsIiwiRWxlbWVudFJlZiIsIkRpcmVjdGl2ZSIsIkV2ZW50RW1pdHRlciIsIk91dHB1dCIsIk5nTW9kdWxlIiwiQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiQXBwbGljYXRpb25SZWYiLCJJbmplY3RvciIsIlZpZXdDb250YWluZXJSZWYiLCJDb21wb25lbnQiLCJWaWV3Q2hpbGQiLCJJbnB1dCIsImluamVjdCIsIkl0ZXJhYmxlRGlmZmVycyIsIkNoYW5nZURldGVjdG9yUmVmIiwiZm9yd2FyZFJlZiIsIlRlbXBsYXRlUmVmIiwiQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJDb250ZW50Q2hpbGQiLCJIb3N0TGlzdGVuZXIiLCJIb3N0IiwiTk9fRVJST1JTX1NDSEVNQSIsIkVycm9ySGFuZGxlciIsIlNraXBTZWxmIiwiybVJTkpFQ1RPUl9TQ09QRSIsIlJlbmRlcmVyRmFjdG9yeTIiLCJBcHBsaWNhdGlvbk1vZHVsZSIsIlBsYXRmb3JtUmVmIiwiTmdNb2R1bGVSZWYiLCLJtWludGVybmFsQ3JlYXRlQXBwbGljYXRpb24iLCJOZ1pvbmUiLCJTYW5pdGl6ZXIiLCJjcmVhdGVQbGF0Zm9ybUZhY3RvcnkiLCJwbGF0Zm9ybUNvcmUiLCJDb250ZW50Q2hpbGRyZW4iLCJJbmplY3RGbGFncyIsIkF0dHJpYnV0ZSIsImlzRGV2TW9kZSIsIl9fZGVjb3JhdGUiLCJfX3BhcmFtIiwiX19tZXRhZGF0YSIsImkxJDEiLCJYaHJGYWN0b3J5IiwiTG9jYXRpb25TdHJhdGVneSIsIkNvbW1vbk1vZHVsZSIsIlZpZXdwb3J0U2Nyb2xsZXIiLCLJtU51bGxWaWV3cG9ydFNjcm9sbGVyIiwiRE9DVU1FTlQiLCJQbGF0Zm9ybUxvY2F0aW9uIiwiZmlsdGVyIiwiZGlzdGluY3RVbnRpbENoYW5nZWQiLCJtYXAiLCJ0YWtlIiwic3RhcnRXaXRoIiwiQmVoYXZpb3JTdWJqZWN0IiwiU3ViamVjdCIsImZyb21FdmVudCIsImRlZmVyIiwiT2JzZXJ2YWJsZSQxIiwiaTEkMyIsIkRlZmF1bHRVcmxTZXJpYWxpemVyIiwiUFJJTUFSWV9PVVRMRVQiLCJOYXZpZ2F0aW9uRW5kIiwiQWN0aXZhdGVkUm91dGUiLCJDaGlsZHJlbk91dGxldENvbnRleHRzIiwiUm91dGVyTW9kdWxlIiwiUm91dGVSZXVzZVN0cmF0ZWd5IiwiTkdfVkFMVUVfQUNDRVNTT1IiLCJGb3Jtc01vZHVsZSIsIkFuaW1hdGlvbkJ1aWxkZXIiLCJpMSQyIiwiybVBbmltYXRpb25FbmdpbmUiLCLJtVdlYkFuaW1hdGlvbnNTdHlsZU5vcm1hbGl6ZXIiLCJBbmltYXRpb25Ecml2ZXIiLCLJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciIsIsm1QW5pbWF0aW9uUmVuZGVyZXJGYWN0b3J5IiwiybVCcm93c2VyQW5pbWF0aW9uQnVpbGRlciIsIkh0dHBYaHJCYWNrZW5kIiwiSHR0cFJlc3BvbnNlIiwiSHR0cEVycm9yUmVzcG9uc2UiLCJIdHRwQ2xpZW50TW9kdWxlIiwiSHR0cEJhY2tlbmQiLCJfYzAiLCJfYzEiLCJfYzIiLCJBbmRyb2lkRmlsdGVyQ29tcG9uZW50X25nX2NvbnRlbnRfMF9UZW1wbGF0ZSIsInJmIiwiY3R4IiwiybXJtXByb2plY3Rpb24iLCJJT1NGaWx0ZXJDb21wb25lbnRfbmdfY29udGVudF8wX1RlbXBsYXRlIiwiVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRfbmdfY29udGVudF8wX1RlbXBsYXRlIiwiZ2V0Q2xhc3NOYW1lIiwiaW5zdGFuY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJJbnZpc2libGVOb2RlIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsInRvU3RyaW5nIiwiaWQiLCJDb21tZW50Tm9kZSIsInZhbHVlIiwibWV0YSIsInNraXBBZGRUb0RvbSIsIlRleHROb2RlIiwidGV4dENoYW5nZUV2ZW50IiwidGV4dCIsIl90ZXh0IiwidCIsIm5vdGlmeSIsImV2ZW50TmFtZSIsIm9iamVjdCIsImNhbGxiYWNrTWFwIiwiTWFwIiwicmVnaXN0ZXJUZXh0Q2hhbmdlIiwiY2FsbGJhY2siLCJjYiIsImV2dCIsImNiQXJyIiwiZ2V0IiwicHVzaCIsInNldCIsIm9uIiwidW5yZWdpc3RlclRleHRDaGFuZ2UiLCJmb3JFYWNoIiwib2ZmIiwiZGVsZXRlIiwiaXNEZXRhY2hlZEVsZW1lbnQiLCJlbGVtZW50IiwiaXNWaWV3IiwidmlldyIsImlzSW52aXNpYmxlTm9kZSIsImlzTGF5b3V0IiwiaXNDb250ZW50VmlldyIsImdldEZpcnN0TmF0aXZlTGlrZVZpZXciLCJleHRyYWN0RnJvbU5TUGFyZW50IiwiZ2V0Q2hpbGRyZW5Db3VudCIsImdldENoaWxkQXQiLCJub2RlIiwicGFyZW50Tm9kZSIsImRldGFjaFZpZXdGcm9tUGFyZW50IiwicGFyZW50IiwicmVtb3ZlQ2hpbGQiLCJjb250ZW50IiwiX3JlbW92ZVZpZXciLCJBUFBfUk9PVF9WSUVXIiwiTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEIiwiU1RBUlRfUEFUSCIsIkVOQUJMRV9SRVVTQUJFX1ZJRVdTIiwiRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkciLCJERVZJQ0UiLCJQQUdFX0ZBQ1RPUlkiLCJkZWZhdWx0UGFnZUZhY3RvcnkiLCJfb3B0cyIsIlBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyIiwiZGV2aWNlIiwicnVuc0luIiwibmFtZXNwYWNlIiwibmV4dCIsIm9zIiwiYW5kcm9pZCIsImlvcyIsIk9iamVjdCIsIk5BTUVTUEFDRV9GSUxURVJTIiwiTmdWaWV3UmVmIiwicmVmIiwibG9jYXRpb24iLCJuYXRpdmVFbGVtZW50Iiwicm9vdE5vZGVzIiwiZmluZCIsInYiLCJmaXJzdE5hdGl2ZUxpa2VWaWV3IiwiZGV0YWNoTmF0aXZlTGlrZVZpZXciLCJBcHBIb3N0VmlldyIsImJhY2tncm91bmRDb2xvciIsInRpbWVvdXQiLCJuZ0FwcFJvb3QiLCJfbmdBcHBSb290IiwiX2NvbnRlbnQiLCJ1bmRlZmluZWQiLCJncmlkIiwiYWRkQ2hpbGQiLCJzY2hlZHVsZVJvb3RDaGFuZ2UiLCJzZXRUaW1lb3V0IiwicmVzZXRSb290VmlldyIsImNyZWF0ZSIsIkFwcEhvc3RBc3luY1ZpZXciLCJOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSIsIm1haW5Nb2R1bGVSZWFkeSQiLCJyZWFkeVRvRGVzdHJveSQiLCJvbk1haW5Nb2R1bGVSZWFkeSQiLCJwaXBlIiwicmVhZHkiLCJ3YWl0VW50aWxOb3RpZmllZCIsIm5vdGlmeVJlYWR5VG9EZXN0cm95IiwiaXNNYWluTW9kdWxlUmVhZHkiLCJuZ09uRGVzdHJveSIsImNvbXBsZXRlIiwiX25vdGlmeU1haW5Nb2R1bGVSZWFkeSIsIsm1ZmFjIiwiTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2VfRmFjdG9yeSIsIsm1cHJvdiIsIsm1ybVkZWZpbmVJbmplY3RhYmxlIiwidG9rZW4iLCJmYWN0b3J5IiwicHJvdmlkZWRJbiIsIm5nRGV2TW9kZSIsIsm1c2V0Q2xhc3NNZXRhZGF0YSIsInR5cGUiLCJhcmdzIiwiTmF0aXZlU2NyaXB0RGVidWciLCJhbmltYXRpb25zVHJhY2VDYXRlZ29yeSIsInJlbmRlcmVyVHJhY2VDYXRlZ29yeSIsInZpZXdVdGlsQ2F0ZWdvcnkiLCJyb3V0ZXJUcmFjZUNhdGVnb3J5Iiwicm91dGVSZXVzZVN0cmF0ZWd5VHJhY2VDYXRlZ29yeSIsImxpc3RWaWV3VHJhY2VDYXRlZ29yeSIsImJvb3RzdHJhcENhdGVnb3J5IiwiZW5hYmxlZCIsImlzRW5hYmxlZCIsImlzTG9nRW5hYmxlZCIsImFuaW1hdGlvbnNMb2ciLCJtZXNzYWdlIiwid3JpdGUiLCJyZW5kZXJlckxvZyIsIm1zZyIsInJlbmRlcmVyRXJyb3IiLCJtZXNzYWdlVHlwZSIsImVycm9yIiwidmlld1V0aWxMb2ciLCJyb3V0ZXJMb2ciLCJyb3V0ZXJFcnJvciIsInJvdXRlUmV1c2VTdHJhdGVneUxvZyIsInN0eWxlRXJyb3IiLCJjYXRlZ29yaWVzIiwiU3R5bGUiLCJsaXN0Vmlld0xvZyIsImxpc3RWaWV3RXJyb3IiLCJib290c3RyYXBMb2ciLCJib290c3RyYXBMb2dFcnJvciIsIk5hdGl2ZXNjcmlwdFhockZhY3RvcnkiLCJidWlsZCIsIlhNTEh0dHBSZXF1ZXN0IiwiybVOYXRpdmVzY3JpcHRYaHJGYWN0b3J5X0Jhc2VGYWN0b3J5IiwiTmF0aXZlc2NyaXB0WGhyRmFjdG9yeV9GYWN0b3J5IiwiybXJtWdldEluaGVyaXRlZEZhY3RvcnkiLCJmcmFtZU1ldGEiLCJpbnNlcnRDaGlsZCIsImNoaWxkIiwibmF2aWdhdGUiLCJFcnJvciIsImZvcm1hdHRlZFN0cmluZ01ldGEiLCJpbmRleCIsInNwYW5zIiwiaW5kZXhPZiIsInNwbGljZSIsInRleHRCYXNlTWV0YSIsImZvcm1hdHRlZFRleHQiLCJlbGVtZW50TWFwIiwiY2FtZWxDYXNlU3BsaXQiLCJkZWZhdWx0Vmlld01ldGEiLCJyZWdpc3RlckVsZW1lbnQiLCJlbGVtZW50TmFtZSIsInJlc29sdmVyIiwiZW50cnkiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJnZXRWaWV3Q2xhc3MiLCJUeXBlRXJyb3IiLCJlIiwiZ2V0Vmlld01ldGEiLCJpc0tub3duVmlldyIsImhhcyIsImV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlIiwibm9kZXMiLCJuZXN0TGV2ZWwiLCJhY3R1YWxOb2RlcyIsImxlbmd0aCIsInJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsInBhcmVudExheW91dCIsImdldFNpbmdsZVZpZXdSZWN1cnNpdmUiLCJyZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzIiwiZ2xvYmFsIiwiX19uZ1JlZ2lzdGVyZWRWaWV3cyIsImlzQ3NzVmFyaWFibGUiLCJwcm9wZXJ0eSIsInRlc3QiLCJFTEVNRU5UX05PREVfVFlQRSIsIlhNTF9BVFRSSUJVVEVTIiwiZnJlZXplIiwid2hpdGVTcGFjZVNwbGl0dGVyIiwicHJpbnROZ1RyZWUiLCJmaXJzdENoaWxkIiwicHJpbnRDaGlsZHJlblJlY3Vyc2UiLCJnZXRDaGlsZHJlblNpYmxpbmdzIiwibmV4dFNpYmxpbmdzIiwiY29uc29sZSIsImxvZyIsImxhc3RDaGlsZCIsImMiLCJwcmV2aW91c1NpYmxpbmdzIiwic2libGluZyIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwicHJpbnRTaWJsaW5nc1RyZWUiLCJwcm9wZXJ0eU1hcHMiLCJWaWV3VXRpbCIsIm5hbWVzcGFjZUZpbHRlcnMiLCJyZXVzZVZpZXdzIiwicHJldmlvdXMiLCJleHRlbmRlZFBhcmVudCIsImVuc3VyZU5nVmlld0V4dGVuc2lvbnMiLCJleHRlbmRlZENoaWxkIiwiaW5zZXJ0SW5MaXN0IiwibmV4dFZpc3VhbCIsImZpbmROZXh0VmlzdWFsIiwiYWRkVG9WaXN1YWxUcmVlIiwiYWRkSW52aXNpYmxlTm9kZSIsImluc2VydEJlZm9yZSIsInJlZkNoaWxkIiwiZXh0ZW5kZWRSZWYiLCJpbnNlcnRBZnRlciIsImFwcGVuZENoaWxkIiwiaW5zZXJ0VG9MYXlvdXQiLCJfYWRkQ2hpbGRGcm9tQnVpbGRlciIsImluc2VydEludmlzaWJsZU5vZGUiLCJyZW1vdmVMYXlvdXRDaGlsZCIsImdldENoaWxkSW5kZXgiLCJyZW1vdmVGcm9tTGlzdCIsInJlbW92ZUZyb21WaXN1YWxUcmVlIiwicmVtb3ZlSW52aXNpYmxlTm9kZSIsImZpbmRQcmV2aW91c0VsZW1lbnQiLCJwcmV2aW91c1Zpc3VhbCIsImdldFByZXZpb3VzVmlzdWFsRWxlbWVudCIsImVsZW1lbnRJbmRleCIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVUZXh0IiwiY3JlYXRlVmlldyIsIm9yaWdpbmFsTmFtZSIsInZpZXdDbGFzcyIsIm5nVmlldyIsInNldE5nVmlld0V4dGVuc2lvbnMiLCJyZXVzYWJsZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNzc1R5cGUiLCJ0eXBlTmFtZSIsInNldFByb3BlcnR5IiwiYXR0cmlidXRlTmFtZSIsInByb3BlcnRpZXMiLCJzcGxpdCIsInByb3BNYXAiLCJnZXRQcm9wZXJ0aWVzIiwiaSIsInByb3AiLCJzZXRQcm9wZXJ0eUludGVybmFsIiwicGxhdGZvcm0iLCJydW5zIiwibGFzdCIsImNoYWluIiwicCIsImN1cnJlbnRDaGFpbiIsInNldENsYXNzZXMiLCJwcm9wZXJ0eU5hbWUiLCJBcnJheSIsImlzQXJyYXkiLCJyZW1vdmVQYXJlbnRSZWZlcmVuY2VzRnJvbUl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwicHJvcE5hbWUiLCJjc3NDbGFzc2VzIiwibmdDc3NDbGFzc2VzIiwiYWRkQ2xhc3MiLCJjbGFzc05hbWUiLCJleHRlbmRlZFZpZXciLCJzeW5jQ2xhc3NlcyIsInJlbW92ZUNsYXNzIiwiY2xhc3Nlc1ZhbHVlIiwiY2xhc3NlcyIsImNsZWFyIiwiY2xhc3NWYWx1ZSIsImZyb20iLCJrZXlzIiwiam9pbiIsInNldFN0eWxlIiwic3R5bGVOYW1lIiwic3R5bGUiLCJzZXRVbnNjb3BlZENzc1ZhcmlhYmxlIiwiX29uQ3NzU3RhdGVDaGFuZ2UiLCJyZW1vdmVTdHlsZSIsInVuc2NvcGVkQ3NzVmFyaWFibGVzIiwidmlld1V0aWwiLCJfX3Byb3RvX18iLCJhZGRTdHlsZVRvQ3NzIiwidGFnIiwiYWRkQ3NzIiwicnVuSW5Sb290Wm9uZSIsImZuIiwiWm9uZSIsInJvb3QiLCJydW4iLCJpblJvb3Rab25lIiwidGFyZ2V0Iiwia2V5IiwiZGVzY3JpcHRvciIsImNoaWxkRnVuY3Rpb24iLCJiaW5kIiwiTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5Iiwicm9vdFZpZXciLCJyb290TW9kdWxlSUQiLCJjb21wb25lbnRSZW5kZXJlcnMiLCJkZWZhdWx0UmVuZGVyZXIiLCJOYXRpdmVTY3JpcHRSZW5kZXJlciIsImNyZWF0ZVJlbmRlcmVyIiwiaG9zdEVsZW1lbnQiLCJlbmNhcHN1bGF0aW9uIiwicmVuZGVyZXIiLCJFbXVsYXRlZFJlbmRlcmVyIiwiYXBwbHlUb0hvc3QiLCJOb25lIiwic3R5bGVzIiwicyIsIndoZW5SZW5kZXJpbmdEb25lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbnRlcnZhbCIsInNjaGVkdWxlUmVzb2x2ZSIsImZpcmVXaGVuTG9hZGVkIiwicm9vdEZhY3RvcnkiLCJpc0xvYWRlZCIsIm9uY2UiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkZXN0cm95Tm9kZSIsImRhdGEiLCJkZXN0cm95IiwiY3JlYXRlRWxlbWVudCIsIm9sZE5hbWUiLCJjdXN0b21DU1NOYW1lIiwibmV3Q2hpbGQiLCJvbGRDaGlsZCIsImlzSG9zdEVsZW1lbnQiLCJzZWxlY3RSb290RWxlbWVudCIsInNlbGVjdG9yT3JOb2RlIiwicHJlc2VydmVDb250ZW50IiwicmVzdWx0Iiwic2xpY2UiLCJzZXRBdHRyaWJ1dGUiLCJlbCIsInJlbW92ZUF0dHJpYnV0ZSIsImZsYWdzIiwic2V0VmFsdWUiLCJsaXN0ZW4iLCJsb2FkZWRFdmVudCIsIm9icyIsIkZ1bmN0aW9uIiwiU3RyaW5nIiwicHJvdG90eXBlIiwiQm9vbGVhbiIsIk51bWJlciIsIkNPTVBPTkVOVF9SRUdFWCIsIkFUVFJfU0FOSVRJWkVSIiwiQ09NUE9ORU5UX1ZBUklBQkxFIiwiSE9TVF9BVFRSIiwiQ09OVEVOVF9BVFRSIiwicmVwbGFjZU5nQXR0cmlidXRlIiwiaW5wdXQiLCJjb21wb25lbnRJZCIsImFkZFNjb3BlZFN0eWxlVG9Dc3MiLCJjb21wb25lbnQiLCJyb290TW9kdWxlSWQiLCJjb250ZW50QXR0ciIsImhvc3RBdHRyIiwiYWRkU3R5bGVzIiwiRW11bGF0ZWRSZW5kZXJlcl9GYWN0b3J5IiwiybXJtWludmFsaWRGYWN0b3J5IiwidGhyb3dOdWxsUG9ydGFsRXJyb3IiLCJ0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yIiwidGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvciIsInRocm93VW5rbm93blBvcnRhbFR5cGVFcnJvciIsInRocm93TnVsbFBvcnRhbE91dGxldEVycm9yIiwidGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IiLCJQb3J0YWwiLCJhdHRhY2giLCJob3N0IiwiaGFzQXR0YWNoZWQiLCJfYXR0YWNoZWRIb3N0IiwiZGV0YWNoIiwiaXNBdHRhY2hlZCIsInNldEF0dGFjaGVkSG9zdCIsIkNvbXBvbmVudFBvcnRhbCIsInZpZXdDb250YWluZXJSZWYiLCJpbmplY3RvciIsImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIlRlbXBsYXRlUG9ydGFsIiwidGVtcGxhdGUiLCJjb250ZXh0IiwidGVtcGxhdGVSZWYiLCJvcmlnaW4iLCJlbGVtZW50UmVmIiwiRG9tUG9ydGFsIiwiQmFzZVBvcnRhbE91dGxldCIsIl9pc0Rpc3Bvc2VkIiwiYXR0YWNoRG9tUG9ydGFsIiwiX2F0dGFjaGVkUG9ydGFsIiwicG9ydGFsIiwiYXR0YWNoQ29tcG9uZW50UG9ydGFsIiwiYXR0YWNoVGVtcGxhdGVQb3J0YWwiLCJfaW52b2tlRGlzcG9zZUZuIiwiZGlzcG9zZSIsInNldERpc3Bvc2VGbiIsIl9kaXNwb3NlRm4iLCJDZGtQb3J0YWwiLCJDZGtQb3J0YWxfRmFjdG9yeSIsIsm1ybVkaXJlY3RpdmVJbmplY3QiLCLJtWRpciIsIsm1ybVkZWZpbmVEaXJlY3RpdmUiLCJzZWxlY3RvcnMiLCJleHBvcnRBcyIsImZlYXR1cmVzIiwiybXJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZSIsInNlbGVjdG9yIiwiQ2RrUG9ydGFsT3V0bGV0IiwiX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl92aWV3Q29udGFpbmVyUmVmIiwiX2lzSW5pdGlhbGl6ZWQiLCJhdHRhY2hlZCIsImFuY2hvck5vZGUiLCJfZ2V0Um9vdE5vZGUiLCJhdHRhY2hlZFJlZiIsIl9hdHRhY2hlZFJlZiIsIm5nT25Jbml0IiwiY29tcG9uZW50RmFjdG9yeSIsInJlc29sdmVDb21wb25lbnRGYWN0b3J5IiwiY3JlYXRlQ29tcG9uZW50IiwiaG9zdFZpZXciLCJlbWl0Iiwidmlld1JlZiIsImNyZWF0ZUVtYmVkZGVkVmlldyIsIkNka1BvcnRhbE91dGxldF9GYWN0b3J5IiwiUmVuZGVyZXIyIiwiaW5wdXRzIiwib3V0cHV0cyIsIlBvcnRhbE1vZHVsZSIsIlBvcnRhbE1vZHVsZV9GYWN0b3J5IiwiybVtb2QiLCLJtcm1ZGVmaW5lTmdNb2R1bGUiLCLJtWluaiIsIsm1ybVkZWZpbmVJbmplY3RvciIsImV4cG9ydHMiLCJkZWNsYXJhdGlvbnMiLCJOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQiLCJvdXRsZXRFbGVtZW50IiwiX2FwcFJlZiIsIl9kZWZhdWx0SW5qZWN0b3IiLCJfdmlld1V0aWwiLCJjb21wb25lbnRSZWYiLCJhdHRhY2hWaWV3IiwiZGV0YWNoVmlldyIsInJvb3ROb2RlIiwiX2dldENvbXBvbmVudFJvb3ROb2RlIiwidmlld0NvbnRhaW5lciIsImRldGVjdENoYW5nZXMiLCJyZW1vdmUiLCJEZXRhY2hlZExvYWRlciIsImNoYW5nZURldGVjdG9yIiwiY29udGFpbmVyUmVmIiwiYXBwUmVmIiwiZGlzcG9zZUZ1bmN0aW9ucyIsImNyZWF0ZUNvbXBvbmVudFBvcnRhbCIsImNvbXBvbmVudFR5cGUiLCJjdXN0b21JbmplY3RvciIsInZjIiwiY3JlYXRlVGVtcGxhdGVQb3J0YWwiLCJsb2FkSW5BcHBSZWYiLCJsb2FkSW5Mb2NhdGlvbiIsIm1hcmtGb3JDaGVjayIsImxvYWRDb21wb25lbnQiLCJsb2FkQ29tcG9uZW50U3luYyIsImxvYWRDb21wb25lbnRJbkxvY2F0aW9uIiwibG9hZFdpdGhGYWN0b3J5IiwibG9hZFdpdGhGYWN0b3J5SW5Mb2NhdGlvbiIsIkRldGFjaGVkTG9hZGVyX0ZhY3RvcnkiLCLJtWNtcCIsIsm1ybVkZWZpbmVDb21wb25lbnQiLCJ2aWV3UXVlcnkiLCJEZXRhY2hlZExvYWRlcl9RdWVyeSIsIsm1ybV2aWV3UXVlcnkiLCJfdCIsIsm1ybVxdWVyeVJlZnJlc2giLCLJtcm1bG9hZFF1ZXJ5IiwiZmlyc3QiLCJuZ0NvbnRlbnRTZWxlY3RvcnMiLCJkZWNscyIsInZhcnMiLCJjb25zdHMiLCJEZXRhY2hlZExvYWRlcl9UZW1wbGF0ZSIsIsm1ybVwcm9qZWN0aW9uRGVmIiwiybXJtWVsZW1lbnQiLCLJtcm1ZWxlbWVudENvbnRhaW5lciIsInJlYWQiLCJzdGF0aWMiLCJQYWdlU2VydmljZSIsImluUGFnZSIsIl9pblBhZ2UkIiwiaW5QYWdlJCIsInBhZ2VFdmVudHMkIiwiX3BhZ2VFdmVudHMkIiwiYXNPYnNlcnZhYmxlIiwicGFnZSIsImVsUmVmIiwicGFnZUV2ZW50IiwiUGFnZVNlcnZpY2VfRmFjdG9yeSIsIsm1ybVpbmplY3QiLCJWaWV3QmFzZSIsImRlY29yYXRvcnMiLCJjdXN0b21GcmFtZUNvbXBvbmVudEZhY3RvcnkiLCJjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSIsIkZyYW1lUGFnZUNvbXBvbmVudCIsImFjdGlvbkJhckhpZGRlbiIsIm5nT25DaGFuZ2VzIiwiY2hhbmdlcyIsInByZXZpb3VzVmFsdWUiLCJjdXJyZW50VmFsdWUiLCJuZ0FmdGVyVmlld0luaXQiLCJGcmFtZVBhZ2VDb21wb25lbnRfRmFjdG9yeSIsIsm1ybVQcm92aWRlcnNGZWF0dXJlIiwicHJvdmlkZSIsInVzZUZhY3RvcnkiLCJkZXBzIiwiybXJtU5nT25DaGFuZ2VzRmVhdHVyZSIsIkZyYW1lUGFnZUNvbXBvbmVudF9UZW1wbGF0ZSIsInByb3ZpZGVycyIsImN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSIsIkZyYW1lRGlyZWN0aXZlIiwiRnJhbWVEaXJlY3RpdmVfRmFjdG9yeSIsImN1c3RvbVBhZ2VGYWN0b3J5IiwiUGFnZURpcmVjdGl2ZSIsIlBhZ2VEaXJlY3RpdmVfRmFjdG9yeSIsIkZyYW1lUGFnZU1vZHVsZSIsIkZyYW1lUGFnZU1vZHVsZV9GYWN0b3J5IiwiaXNQcmVzZW50Iiwib2JqIiwiaXNCbGFuayIsImlzQWN0aW9uSXRlbSIsImlzTmF2aWdhdGlvbkJ1dHRvbiIsImFjdGlvbkJhck1ldGEiLCJuYXZpZ2F0aW9uQnV0dG9uIiwiYWRkQWN0aW9uSXRlbSIsInRpdGxlVmlldyIsImFjdGlvbkl0ZW1zIiwicmVtb3ZlSXRlbSIsImJhciIsImluc2VydEFjdGlvbkl0ZW1CZWZvcmUiLCJhcHBlbmRBY3Rpb25JdGVtIiwiYWN0aW9uSXRlbXNDb2xsZWN0aW9uIiwiZ2V0SXRlbXMiLCJpbmRleFRvSW5zZXJ0Iiwic2V0SXRlbXMiLCJhZGRJdGVtIiwiQWN0aW9uQmFyQ29tcG9uZW50IiwiYWN0aW9uQmFyIiwidXBkYXRlIiwiQWN0aW9uQmFyQ29tcG9uZW50X0ZhY3RvcnkiLCJBY3Rpb25CYXJDb21wb25lbnRfVGVtcGxhdGUiLCJBY3Rpb25CYXJTY29wZSIsIm9uTmF2QnV0dG9uSW5pdCIsIm5hdkJ0biIsIm9uTmF2QnV0dG9uRGVzdHJveSIsIm5hdiIsIm9uQWN0aW9uSW5pdCIsIm9uQWN0aW9uRGVzdHJveSIsIkFjdGlvbkJhclNjb3BlX0ZhY3RvcnkiLCJBY3Rpb25CYXJTY29wZV9UZW1wbGF0ZSIsIkFjdGlvbkl0ZW1EaXJlY3RpdmUiLCJvd25lclNjb3BlIiwiQWN0aW9uSXRlbURpcmVjdGl2ZV9GYWN0b3J5IiwiTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSIsIk5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmVfRmFjdG9yeSIsInRocm93SWZBbHJlYWR5TG9hZGVkIiwicGFyZW50TW9kdWxlIiwibW9kdWxlTmFtZSIsIndhc0NhbGxlZCIsIndyYXBwZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsImlzTGlzdExpa2VJdGVyYWJsZSIsImlzSnNPYmplY3QiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm8iLCJOR19WSUVXIiwiVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCIsIkl0ZW1Db250ZXh0IiwiJGltcGxpY2l0IiwiZXZlbiIsIm9kZCIsIk5zVGVtcGxhdGVkSXRlbSIsIm9uQ3JlYXRlIiwic2V0dXBJdGVtQ29udGV4dCIsInJlc3VsdFZpZXciLCJnZXRJdGVtVmlld1Jvb3QiLCJnZXRFbWJlZGRlZFZpZXdSZWYiLCJyZWF0dGFjaCIsImlzVmFsaWQiLCJvbGRWaWV3IiwiTGlzdFZpZXdDb21wb25lbnQiLCJ0ZW1wbGF0ZWRJdGVtc1ZpZXciLCJfaXRlbXMiLCJuZWVkRGlmZmVyIiwiX2RpZmZlciIsIl9pdGVyYWJsZURpZmZlcnMiLCJfaW5kZXgiLCJfZWxlbWVudFJlZiIsIl9jaGFuZ2VEZXRlY3RvclJlZiIsIl92aWV3VG9UZW1wbGF0ZSIsIldlYWtNYXAiLCJzZXR1cEl0ZW1WaWV3IiwibmdBZnRlckNvbnRlbnRJbml0Iiwic2V0SXRlbVRlbXBsYXRlcyIsIl90ZW1wbGF0ZU1hcCIsImZhbGxiYWNrSXRlbVRlbXBsYXRlIiwiaXRlbVRlbXBsYXRlUXVlcnkiLCJyZWdpc3RlclRlbXBsYXRlIiwibG9hZGVyIiwidGVtcGxhdGVzIiwiaXRlbVRlbXBsYXRlcyIsIm9uSXRlbUxvYWRpbmciLCJsdmlldyIsImN1cnJlbnRJdGVtIiwiZ2V0SXRlbSIsInRlbXBsYXRlS2V5IiwiaXRlbVRlbXBsYXRlU2VsZWN0b3IiLCJzZXR1cFZpZXdSZWYiLCJuZ0RvQ2hlY2siLCJkaWZmIiwicmVmcmVzaCIsIkxpc3RWaWV3Q29tcG9uZW50X0ZhY3RvcnkiLCJjb250ZW50UXVlcmllcyIsIkxpc3RWaWV3Q29tcG9uZW50X0NvbnRlbnRRdWVyaWVzIiwiZGlySW5kZXgiLCLJtcm1Y29udGVudFF1ZXJ5IiwiTGlzdFZpZXdDb21wb25lbnRfUXVlcnkiLCJob3N0QmluZGluZ3MiLCJMaXN0Vmlld0NvbXBvbmVudF9Ib3N0QmluZGluZ3MiLCLJtcm1bGlzdGVuZXIiLCJMaXN0Vmlld0NvbXBvbmVudF9pdGVtTG9hZGluZ19Ib3N0QmluZGluZ0hhbmRsZXIiLCIkZXZlbnQiLCJ1c2VFeGlzdGluZyIsIkxpc3RWaWV3Q29tcG9uZW50X1RlbXBsYXRlIiwiybXJtWVsZW1lbnRTdGFydCIsIsm1ybVlbGVtZW50RW5kIiwiY2hhbmdlRGV0ZWN0aW9uIiwiT25QdXNoIiwicm9vdExvY2F0b3IiLCJUZW1wbGF0ZUtleURpcmVjdGl2ZSIsImNvbXAiLCJuc1RlbXBsYXRlS2V5IiwibnNUZW1wbGF0ZUtleXMiLCJ2YWx1ZXMiLCJUZW1wbGF0ZUtleURpcmVjdGl2ZV9GYWN0b3J5IiwiRnJhbWVTZXJ2aWNlIiwiZ2V0RnJhbWUiLCJ0b3Btb3N0IiwiRnJhbWVTZXJ2aWNlX0ZhY3RvcnkiLCJPdXRsZXQiLCJpc1BhZ2VOYXZpZ2F0aW9uQmFjayIsIl9uYXZpZ2F0aW5nQmFja091dGxldHMiLCJzaXplIiwiaXNCYWNrIiwib3V0bGV0S2V5cyIsImFkZCIsIm91dGxldEtleSIsInBhdGhCeU91dGxldHMiLCJtb2RhbE5hdmlnYXRpb25EZXB0aCIsIlNldCIsImZyYW1lcyIsInN0YXRlcyIsInNob3VsZERldGFjaCIsInNob3dpbmdNb2RhbCIsInNldE91dGxldEtleU5hdmlnYXRpbmdCYWNrIiwibmVzdHMiLCJrIiwiY29udGFpbnNGcmFtZSIsImZyYW1lIiwicGVla1N0YXRlIiwiY29udGFpbnNUb3BTdGF0ZSIsInN0YXRlVXJsIiwibGFzdFN0YXRlIiwic2VnbWVudEdyb3VwIiwiZ2V0RnJhbWVUb0JhY2siLCJpc05TRW1wdHlPdXRsZXQiLCJjdXJyZW50RnJhbWUiLCJjYW5Hb0JhY2siLCJkZWZhdWx0TmF2T3B0aW9ucyIsImNsZWFySGlzdG9yeSIsImFuaW1hdGVkIiwiTlNMb2NhdGlvblN0cmF0ZWd5IiwiZnJhbWVTZXJ2aWNlIiwic3RhcnRQYXRoIiwib3V0bGV0cyIsInBvcFN0YXRlQ2FsbGJhY2tzIiwiX21vZGFsTmF2aWdhdGlvbkRlcHRoIiwiZ2V0U3RhdGUiLCJjdXJyZW50T3V0bGV0IiwiY3VycmVudFVybFRyZWUiLCJzdGF0ZSIsInRyZWUiLCJjaGFuZ2VkT3V0bGV0IiwiZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQiLCJpc1Jvb3RTZWdtZW50R3JvdXAiLCJ1cGRhdGVTZWdtZW50R3JvdXAiLCJ1cmxTZXJpYWxpemVyIiwicXVlcnlQYXJhbXMiLCJ1cmwiLCJzZXJpYWxpemUiLCJwcmVwYXJlRXh0ZXJuYWxVcmwiLCJpbnRlcm5hbCIsInB1c2hTdGF0ZSIsInRpdGxlIiwicHVzaFN0YXRlSW50ZXJuYWwiLCJwYXJzZSIsInVybFRyZWVSb290IiwiZ2V0T3V0bGV0S2V5IiwiZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgiLCJvdXRsZXQiLCJmaW5kT3V0bGV0IiwidXBkYXRlU3RhdGVzIiwicm9vdE91dGxldCIsImNyZWF0ZU91dGxldCIsInF1ZXVlIiwiY3VycmVudFRyZWUiLCJvdXRsZXROYW1lIiwiY3VycmVudFNlZ21lbnRHcm91cCIsIm91dGxldFBhdGgiLCJwYXJlbnRPdXRsZXROYW1lIiwicGFyZW50T3V0bGV0UGF0aCIsInBhcmVudE91dGxldEtleSIsInBhcmVudE91dGxldCIsImNvbnRhaW5zTGFzdFN0YXRlIiwidXBzZXJ0TW9kYWxPdXRsZXQiLCJzaGlmdCIsInJlcGxhY2VTdGF0ZSIsImZvcndhcmQiLCJiYWNrIiwicG9wIiwiY291bnQiLCJpc1BhZ2VOYXZpZ2F0aW9uIiwiY2FsbFBvcFN0YXRlIiwidG9wbW9zdEZyYW1lIiwiZ2V0T3V0bGV0QnlGcmFtZSIsImZyYW1lVG9CYWNrIiwiZ29CYWNrIiwib25Qb3BTdGF0ZSIsImdldEJhc2VIcmVmIiwiY2hhbmdlIiwib3V0bGV0U3RhdGVzIiwib3V0bGV0TG9nIiwicmV2ZXJzZSIsImNvbmNhdCIsIl9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbiIsIl9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24iLCJfYmVnaW5Nb2RhbE5hdmlnYXRpb24iLCJfY2xvc2VNb2RhbE5hdmlnYXRpb24iLCJpc1Nob3dpbmdNb2RhbCIsInRvcG1vc3RPdXRsZXQiLCJmaW5kT3V0bGV0QnlNb2RhbCIsIl9iZWdpblBhZ2VOYXZpZ2F0aW9uIiwib3B0aW9ucyIsIm5hdk9wdGlvbnMiLCJfZ2V0T3V0bGV0cyIsInVwZGF0ZU91dGxldEZyYW1lIiwiaXNFbXB0eU91dGxldEZyYW1lIiwiY2xlYXJPdXRsZXQiLCJpc0VxdWFsVG9DdXJyZW50IiwiZnVsbFBhdGgiLCJnZXRSb3V0ZUZ1bGxQYXRoIiwiY3VycmVudFJvdXRlIiwidXJscyIsImdldFBhdGhCeU91dGxldHMiLCJ1cmxTZWdtZW50R3JvdXAiLCJwYXRoVG9PdXRsZXQiLCJsYXN0UGF0aCIsImFjdGl2YXRlZFJvdXRlU25hcHNob3QiLCJlcXVhbE1vZGFsRGVwdGgiLCJtb2RhbE5hdmlnYXRpb24iLCJpc05ld1BhZ2UiLCJlcXVhbFN0YXRlVXJscyIsImxvY2F0aW9uU3RhdGUiLCJ1cGRhdGVQYXJlbnRzU3RhdGVzIiwibmV3U2VnbWVudEdyb3VwIiwibmV3T3V0bGV0IiwicGF0aExpc3QiLCJjdXJyZW50UGF0aCIsImNoaWxkcmVuQ291bnQiLCJvbGRTZWdtZW50R3JvdXAiLCJzZWdtZW50ZWRHcm91cCIsImN1cnJlbnRNb2RhbE91dGxldCIsIk5TTG9jYXRpb25TdHJhdGVneV9GYWN0b3J5IiwiTW9kYWxEaWFsb2dQYXJhbXMiLCJjbG9zZUNhbGxiYWNrIiwiTW9kYWxEaWFsb2dTZXJ2aWNlIiwiem9uZSIsImRlZmF1bHRJbmplY3RvciIsImNsb3NlZCQiLCJfY2xvc2VkJCIsInNob3dNb2RhbCIsInBhcmVudFZpZXciLCJnZXRSb290VmlldyIsIl9uZ0RpYWxvZ1Jvb3QiLCJjb21wb25lbnRJbmplY3RvciIsIm1vZHVsZVJlZiIsInJlamVjdCIsIl9zaG93RGlhbG9nIiwiZG9uZUNhbGxiYWNrIiwiZXJyIiwiX3RoaXMiLCJjb21wb25lbnRWaWV3UmVmIiwiZGV0YWNoZWRMb2FkZXJSZWYiLCJwb3J0YWxPdXRsZXQiLCJfYXN5bmNUb0dlbmVyYXRvciIsImNsb3NlTW9kYWwiLCJwYXJhbXMiLCJvcGVuZWRNb2RhbFBhcmFtcyIsIm1vZGFsUGFyYW1zIiwiY2hpbGRJbmplY3RvciIsInVzZVZhbHVlIiwidGFyZ2V0VmlldyIsImNoYW5nZURldGVjdG9yUmVmIiwidXNlQ29udGV4dEFzQ29tcG9uZW50UHJvcHMiLCJNb2RhbERpYWxvZ1NlcnZpY2VfRmFjdG9yeSIsIk5hdGl2ZVNjcmlwdE5nU2FmZUV2ZW50IiwicnVuQWZ0ZXJFdmVudCIsImV2ZW50IiwicHJvcGVydHlLZXkiLCJnZXROZ1NhZmUiLCJkZWZhdWx0TmdTYWZlIiwiZXZlbnRzIiwicnVuQmVmb3JlIiwiZG9uZSIsImJ1ZmZlciIsIm9yaWdpbmFsRGVsZWdhdGUiLCJhbHdheXNSdW5CZWZvcmUiLCJvbGRGbiIsInNob3VsZFB1c2giLCJvbmx5Rmlyc3QiLCJvbmx5TGFzdCIsIlRhYlZpZXdEaXJlY3RpdmUiLCJzZWxlY3RlZEluZGV4IiwiX3NlbGVjdGVkSW5kZXgiLCJ2aWV3SW5pdGlhbGl6ZWQiLCJ0YWJWaWV3IiwiVGFiVmlld0RpcmVjdGl2ZV9GYWN0b3J5IiwiVGFiVmlld0l0ZW1EaXJlY3RpdmUiLCJvd25lciIsImNvbmZpZyIsIl9jb25maWciLCJpY29uU291cmNlIiwidGV4dFRyYW5zZm9ybSIsImFwcGx5Q29uZmlnIiwiYXNzaWduIiwiZW5zdXJlSXRlbSIsInJlYWxWaWV3cyIsIm5ld0l0ZW1zIiwiVGFiVmlld0l0ZW1EaXJlY3RpdmVfRmFjdG9yeSIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnQiLCJzaG93IiwiQW5kcm9pZEZpbHRlckNvbXBvbmVudF9GYWN0b3J5IiwiQW5kcm9pZEZpbHRlckNvbXBvbmVudF9UZW1wbGF0ZSIsIsm1ybV0ZW1wbGF0ZSIsIsm1ybVwcm9wZXJ0eSIsImRlcGVuZGVuY2llcyIsIk5nSWYiLCJJT1NGaWx0ZXJDb21wb25lbnQiLCJJT1NGaWx0ZXJDb21wb25lbnRfRmFjdG9yeSIsIklPU0ZpbHRlckNvbXBvbmVudF9UZW1wbGF0ZSIsIlZpc2lvbk9TRmlsdGVyQ29tcG9uZW50IiwidmlzaW9ub3MiLCJWaXNpb25PU0ZpbHRlckNvbXBvbmVudF9GYWN0b3J5IiwiVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRfVGVtcGxhdGUiLCJDREtfQ09NUE9ORU5UUyIsIk5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSIsIk5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV9GYWN0b3J5IiwiaW1wb3J0cyIsInNjaGVtYXMiLCJnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXciLCJwYXJlbnRSb290VmlldyIsImVycm9ySGFuZGxlciIsImdlbmVyYXRlUmFuZG9tSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInN1YnN0ciIsIk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUyIsInVzZUNsYXNzIiwibXVsdGkiLCJOQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUyIsIk5hdGl2ZVNjcmlwdE1vZHVsZSIsIk5hdGl2ZVNjcmlwdE1vZHVsZV9GYWN0b3J5IiwiZGlzYWJsZVJvb3RWaWV3SGFuZGluZyIsIl9fZGlzYWJsZV9yb290X3ZpZXdfaGFuZGxpbmciLCJwcmVBbmd1bGFyRGlzcG9zYWwkIiwicG9zdEFuZ3VsYXJCb290c3RyYXAkIiwib25CZWZvcmVMaXZlc3luYyIsIm1vZHVsZVR5cGUiLCJyZWFzb24iLCJyZWZlcmVuY2UiLCJvbkFmdGVyTGl2ZXN5bmMiLCJpbXBvcnQiLCJkZWNsaW5lIiwiX19vbkxpdmVTeW5jQ29yZSIsImVtaXRNb2R1bGVCb290c3RyYXBFdmVudCIsImRlc3Ryb3lSZWYiLCJydW5ab25lU3luY1Rhc2siLCJjdXJyZW50IiwidGFzayIsInNjaGVkdWxlRXZlbnRUYXNrIiwiaW52b2tlIiwiY2FuY2VsVGFzayIsIlpvbmVDYW5Xb3JrU3luYyIsImNhblJ1blN5bmMiLCJ0aGVuIiwibmF0aXZlUXVldWVDYW5CZURyYWluZWQiLCJtYWtlVGVzdERyYWluIiwiX19kcmFpbk1pY3JvdGFza1F1ZXVlIiwicnVuU3luY2hyb25vdXNseSIsInF1ZXVlTWFjcm90YXNrIiwiY3JlYXRlUHJvdmlkZXJzQ29uZmlnIiwiYXBwUHJvdmlkZXJzIiwiYm9vdHN0cmFwQXBwbGljYXRpb24iLCJyb290Q29tcG9uZW50IiwicnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCIsIm1haW5Nb2R1bGVSZWYiLCJsb2FkaW5nTW9kdWxlUmVmIiwicGxhdGZvcm1SZWYiLCJib290c3RyYXBJZCIsInVwZGF0ZVBsYXRmb3JtUmVmIiwibmV3UGxhdGZvcm1SZWYiLCJvbkRlc3Ryb3kiLCJsYXVuY2hFdmVudERvbmUiLCJ0YXJnZXRSb290VmlldyIsInNldFJvb3RWaWV3IiwiX2Nsb3NlQWxsTW9kYWxWaWV3c0ludGVybmFsIiwiZW1iZWRkZWQiLCJuZXdSb290Iiwic2hvd0Vycm9yVUkiLCJzdGFjayIsImVycm9yVGV4dEJveCIsImNvbG9yIiwiYm9vdHN0cmFwUm9vdCIsImN1cnJlbnRCb290c3RyYXBJZCIsImJvb3RzdHJhcHBlZCIsIm9uTWFpbkJvb3RzdHJhcCIsImFwcE1vZHVsZUJvb3RzdHJhcCIsImNvbXBvbmVudHMiLCJzdHlsZVRhZyIsImxvYWRpbmdNb2R1bGUiLCJsb2FkaW5nUmVmIiwibG9hZGluZ1NlcnZpY2UiLCJzdWJzY3JpYmUiLCJsYXVuY2hWaWV3Iiwic3RhcnRBbmltYXRpb24iLCJjbGVhbnVwIiwiY2F0Y2giLCJ3YXJuIiwiZGlzcG9zZVBsYXRmb3JtIiwiZGlzcG9zZUxhc3RNb2R1bGVzIiwibGF1bmNoQ2FsbGJhY2siLCJleGl0Q2FsbGJhY2siLCJvbGRBZGRFdmVudExpc3RlbmVyIiwiTmF0aXZlU2NyaXB0R2xvYmFscyIsIl9fc3ltYm9sX18iLCJhZGRFdmVudExpc3RlbmVyIiwibGF1bmNoRXZlbnQiLCJleGl0RXZlbnQiLCJzaG91bGREaXNwb3NlUGxhdGZvcm0iLCJoYXNMYXVuY2hlZCIsIk5hdGl2ZVNjcmlwdFBsYXRmb3JtUmVmUHJveHkiLCJib290c3RyYXBNb2R1bGVGYWN0b3J5IiwibW9kdWxlRmFjdG9yeSIsImJvb3RzdHJhcE1vZHVsZSIsImNvbXBpbGVyT3B0aW9ucyIsImRlc3Ryb3llZCIsImRlZmF1bHRQYWdlRmFjdG9yeVByb3ZpZGVyIiwiTmF0aXZlU2NyaXB0U2FuaXRpemVyIiwic2FuaXRpemUiLCJfY29udGV4dCIsIk5hdGl2ZVNjcmlwdERvY3VtZW50IiwiYm9keSIsImlzT3ZlcnJpZGUiLCJDT01NT05fUFJPVklERVJTIiwicGxhdGZvcm1OYXRpdmVTY3JpcHQiLCJwbGF0Zm9ybU5hdGl2ZVNjcmlwdER5bmFtaWMiLCJleHRyYVByb3ZpZGVycyIsIm5nUm9vdFZpZXciLCJhc3luYyIsIlJvb3RWaWV3UHJveHkiLCJwYXJlbnRSb290TGF5b3V0IiwiX2FkZFZpZXciLCJhdEluZGV4IiwiZ2VuZXJhdGVSb290TGF5b3V0QW5kUHJveHkiLCJ2aWV3UHJveHkiLCJSb290Q29tcG9zaXRlTW9kdWxlIiwiUm9vdENvbXBvc2l0ZU1vZHVsZV9GYWN0b3J5IiwiTmF0aXZlRGlhbG9nQ29uZmlnIiwiaGFzQmFja2Ryb3AiLCJkaXNhYmxlQ2xvc2UiLCJjbG9zZU9uTmF2aWdhdGlvbiIsIm5hdGl2ZU9wdGlvbnMiLCJ1bmlxdWVJZCIsIk5hdGl2ZURpYWxvZ1JlZiIsIl9uYXRpdmVNb2RhbFJlZiIsIl9hZnRlck9wZW5lZCIsIl9hZnRlckNsb3NlZCIsIl9iZWZvcmVDbG9zZWQiLCJfc3RhdGUiLCJfaWQiLCJzdGF0ZUNoYW5nZWQiLCJjbGVhclRpbWVvdXQiLCJfY2xvc2VGYWxsYmFja1RpbWVvdXQiLCJfZmluaXNoRGlhbG9nQ2xvc2UiLCJfcmVzdWx0Iiwib25EaXNtaXNzIiwiY29tcG9uZW50SW5zdGFuY2UiLCJjbG9zZSIsImRpYWxvZ1Jlc3VsdCIsIl9zdGFydEV4aXRBbmltYXRpb24iLCJhZnRlck9wZW5lZCIsImFmdGVyQ2xvc2VkIiwiYmVmb3JlQ2xvc2VkIiwiYmFja2Ryb3BDbGljayIsImFkZFBhbmVsQ2xhc3MiLCJyZW1vdmVQYW5lbENsYXNzIiwiTmF0aXZlTW9kYWxSZWYiLCJfaW5qZWN0b3IiLCJfdGhpczIiLCJfaXNEaXNtaXNzZWQiLCJfbW9kYWwiLCJfY2xvc2VDYWxsYmFjayIsIm1vZGFsVmlld1JlZiIsIl9nZW5lcmF0ZURldGFjaGVkQ29udGFpbmVyIiwidmNSZWYiLCJkZXRhY2hlZEZhY3RvcnkiLCJfdGhpczMiLCJzdGFydE1vZGFsTmF2aWdhdGlvbiIsInVzZXJPcHRpb25zIiwiX3JlZjMiLCJjYW5jZWxhYmxlIiwiX3RoaXM0IiwiX3JlZjQiLCJOQVRJVkVfRElBTE9HX0RBVEEiLCJOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OUyIsIl9OYXRpdmVEaWFsb2dCYXNlIiwib3BlbkRpYWxvZ3MiLCJfcGFyZW50RGlhbG9nIiwiX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWwiLCJfYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbCIsIl9nZXRBZnRlckFsbENsb3NlZCIsIl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsIiwiX2RlZmF1bHRPcHRpb25zIiwiX2RpYWxvZ1JlZkNvbnN0cnVjdG9yIiwiX25hdGl2ZU1vZGFsVHlwZSIsIl9kaWFsb2dEYXRhVG9rZW4iLCJsb2NhdGlvblN0cmF0ZWd5IiwiYWZ0ZXJBbGxDbG9zZWQiLCJvcGVuIiwiY29tcG9uZW50T3JUZW1wbGF0ZVJlZiIsIl9hcHBseUNvbmZpZ0RlZmF1bHRzIiwiZ2V0RGlhbG9nQnlJZCIsImRpYWxvZ1JlZiIsIl9hdHRhY2hEaWFsb2dDb250ZW50IiwiX3JlbW92ZU9wZW5EaWFsb2ciLCJjbG9zZUFsbCIsIl9jbG9zZURpYWxvZ3MiLCJkaWFsb2ciLCJuYXRpdmVNb2RhbFJlZiIsIl9jcmVhdGVJbmplY3RvciIsImNvbnRlbnRSZWYiLCJ1c2VySW5qZWN0b3IiLCJkaWFsb2dzIiwiX05hdGl2ZURpYWxvZ0Jhc2VfRmFjdG9yeSIsIlR5cGUiLCJOYXRpdmVEaWFsb2dTZXJ2aWNlIiwiZGVmYXVsdE9wdGlvbnMiLCJwYXJlbnREaWFsb2ciLCJOYXRpdmVEaWFsb2dTZXJ2aWNlX0ZhY3RvcnkiLCJOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSIsIl9kaWFsb2ciLCJnZXRDbG9zZXN0RGlhbG9nIiwicHJveGllZENoYW5nZSIsIl9vbkJ1dHRvbkNsaWNrIiwiTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVfRmFjdG9yeSIsIk5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlX0hvc3RCaW5kaW5ncyIsIk5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlX3RhcF9Ib3N0QmluZGluZ0hhbmRsZXIiLCJfbWF0RGlhbG9nQ2xvc2UiLCJOYXRpdmVEaWFsb2dNb2R1bGUiLCJOYXRpdmVEaWFsb2dNb2R1bGVfRmFjdG9yeSIsIk5TRmlsZVN5c3RlbSIsImN1cnJlbnRBcHAiLCJmaWxlRnJvbVBhdGgiLCJmcm9tUGF0aCIsImZpbGVFeGlzdHMiLCJleGlzdHMiLCJOU0ZpbGVTeXN0ZW1fRmFjdG9yeSIsImdlbmVyYXRlRGV0YWNoZWRMb2FkZXIiLCJnZW5lcmF0ZU5hdGl2ZVNjcmlwdFZpZXciLCJ0eXBlT3JUZW1wbGF0ZSIsInJldXNpbmdEZXRhY2hlZExvYWRlciIsImtlZXBOYXRpdmVWaWV3QXR0YWNoZWQiLCJCYXNlVmFsdWVBY2Nlc3NvciIsInBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24iLCJvbkNoYW5nZSIsIm9uVG91Y2hlZCIsInJlZ2lzdGVyT25DaGFuZ2UiLCJhcmciLCJyZWdpc3Rlck9uVG91Y2hlZCIsInNldERpc2FibGVkU3RhdGUiLCJpc0Rpc2FibGVkIiwid3JpdGVWYWx1ZSIsIl8iLCJub3JtYWxpemVWYWx1ZSIsIlRFWFRfVkFMVUVfQUNDRVNTT1IiLCJUZXh0VmFsdWVBY2Nlc3NvciIsIm5vcm1hbGl6ZWQiLCJUZXh0VmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiVGV4dFZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiVGV4dFZhbHVlQWNjZXNzb3JfYmx1cl9Ib3N0QmluZGluZ0hhbmRsZXIiLCJUZXh0VmFsdWVBY2Nlc3Nvcl90ZXh0Q2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIkNIRUNLRURfVkFMVUVfQUNDRVNTT1IiLCJDaGVja2VkVmFsdWVBY2Nlc3NvciIsImNoZWNrZWQiLCJDaGVja2VkVmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiQ2hlY2tlZFZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiQ2hlY2tlZFZhbHVlQWNjZXNzb3JfY2hlY2tlZENoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJEQVRFX1ZBTFVFX0FDQ0VTU09SIiwiRGF0ZVZhbHVlQWNjZXNzb3IiLCJkYXRlIiwiRGF0ZVZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIkRhdGVWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIkRhdGVWYWx1ZUFjY2Vzc29yX2RhdGVDaGFuZ2VfSG9zdEJpbmRpbmdIYW5kbGVyIiwiVElNRV9WQUxVRV9BQ0NFU1NPUiIsIlRpbWVWYWx1ZUFjY2Vzc29yIiwidGltZSIsIlRpbWVWYWx1ZUFjY2Vzc29yX0ZhY3RvcnkiLCJUaW1lVmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJUaW1lVmFsdWVBY2Nlc3Nvcl90aW1lQ2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIk5VTUJFUl9WQUxVRV9BQ0NFU1NPUiIsIk51bWJlclZhbHVlQWNjZXNzb3IiLCJOdW1iZXJWYWx1ZUFjY2Vzc29yX0ZhY3RvcnkiLCJOdW1iZXJWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIk51bWJlclZhbHVlQWNjZXNzb3JfdmFsdWVDaGFuZ2VfSG9zdEJpbmRpbmdIYW5kbGVyIiwiU0VMRUNURURfSU5ERVhfVkFMVUVfQUNDRVNTT1IiLCJTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciIsIlNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yX0ZhY3RvcnkiLCJTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3Nvcl9zZWxlY3RlZEluZGV4Q2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIk5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlIiwiTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGVfRmFjdG9yeSIsIkRBU0hfQ0FTRV9SRUdFWFAiLCJkYXNoQ2FzZVRvQ2FtZWxDYXNlIiwibSIsInRvVXBwZXJDYXNlIiwiY3JlYXRlS2V5ZnJhbWVBbmltYXRpb24iLCJkdXJhdGlvbiIsImRlbGF5IiwiZWFzaW5nIiwiaW5mbyIsImNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uSW5mbyIsImtleWZyYW1lQW5pbWF0aW9uRnJvbUluZm8iLCJpc0ZvcndhcmRzIiwiY3VydmUiLCJnZXRDdXJ2ZSIsImtleWZyYW1lcyIsInBhcnNlQW5pbWF0aW9uS2V5ZnJhbWUiLCJnZXRLZXlmcmFtZUR1cmF0aW9uIiwiZ2V0RGVjbGFyYXRpb25zIiwib2Zmc2V0IiwidW5wYXJzZWREZWNsYXJhdGlvbnMiLCJOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIiLCJwYXJlbnRQbGF5ZXIiLCJfc3RhcnRTdWJzY3JpcHRpb25zIiwiX2RvbmVTdWJzY3JpcHRpb25zIiwiX2ZpbmlzaGVkIiwiX3N0YXJ0ZWQiLCJpbml0S2V5ZnJhbWVBbmltYXRpb24iLCJ0b3RhbFRpbWUiLCJpbml0IiwiaGFzU3RhcnRlZCIsIm9uU3RhcnQiLCJvbkRvbmUiLCJwbGF5IiwiYW5pbWF0aW9uIiwicGxheUFuaW1hdGlvbiIsIm9uVGFyZ2V0TG9hZGVkIiwib25GaW5pc2giLCJfZSIsInBhdXNlIiwiZmluaXNoIiwicmVzZXQiLCJpc1BsYXlpbmciLCJjYW5jZWwiLCJyZXN0YXJ0Iiwic2V0UG9zaXRpb24iLCJfcCIsImdldFBvc2l0aW9uIiwiU2VsZWN0b3IiLCJyYXdTZWxlY3RvciIsIm1hdGNoIiwibnNTZWxlY3Rvck1hdGNoIiwiY2xhc3NTZWxlY3RvcnNNYXRjaCIsInRyaW0iLCJuc1NlbGVjdG9ycyIsImNyZWF0ZVNlbGVjdG9yIiwiY2xhc3NTZWxlY3RvcnMiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwic29tZSIsImhhc0NsYXNzIiwiY2xzIiwiTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyIiwidmFsaWRQcm9wZXJ0aWVzIiwiX2dldFByb3BlcnR5TmFtZXMiLCJnZXRQYXJlbnRFbGVtZW50IiwidmFsaWRhdGVTdHlsZVByb3BlcnR5IiwibWF0Y2hlc0VsZW1lbnQiLCJtYWtlU2VsZWN0b3IiLCJjb250YWluc0VsZW1lbnQiLCJlbG0xIiwiZWxtMiIsIm9yaWdpbmFsVmlldyIsInZpc2l0RGVzY2VuZGFudHMiLCJ2aWV3TWF0Y2hlcyIsImZvdW5kIiwicXVlcnkiLCJxdWVyeURlc2NlbmRhbnRzIiwibWF0Y2hlcyIsImNvbXB1dGVTdHlsZSIsImNhbWVsQ2FzZVByb3AiLCJhbmltYXRlIiwiY2JQYXJhbXMiLCJlYWNoQ2hpbGQiLCJJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIiwiZG9jIiwiZHJpdmVyIiwibm9ybWFsaXplciIsIkluamVjdGFibGVBbmltYXRpb25FbmdpbmVfRmFjdG9yeSIsImluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyIiwiaW5zdGFudGlhdGVSZW5kZXJlckZhY3RvcnkiLCJlbmdpbmUiLCJpbnN0YW50aWF0ZURlZmF1bHRTdHlsZU5vcm1hbGl6ZXIiLCJOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlIiwiTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZV9GYWN0b3J5IiwiaXNMb2NhbFJlcXVlc3QiLCJnZXRBYnNvbHV0ZVBhdGgiLCJuc0ZpbGVTeXN0ZW0iLCJwcm9jZXNzTG9jYWxGaWxlUmVxdWVzdCIsInN1Y2Nlc3NSZXNwb25zZSIsImVycm9yUmVzcG9uc2UiLCJvYnNlcnZlciIsImxvY2FsRmlsZSIsInJlYWRUZXh0IiwianNvbiIsIkpTT04iLCJlcnJvclJlc3VsdCIsIk5zSHR0cEJhY2tFbmQiLCJ4aHJGYWN0b3J5IiwiaGFuZGxlIiwicmVxIiwiaGFuZGxlTG9jYWxGaWxlUmVxdWVzdCIsImNyZWF0ZVN1Y2Nlc3NSZXNwb25zZSIsImNyZWF0ZUVycm9yUmVzcG9uc2UiLCJOc0h0dHBCYWNrRW5kX0ZhY3RvcnkiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSIsIk5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGVfRmFjdG9yeSIsImZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQiLCJhY3RpdmF0ZWRSb3V0ZSIsInBhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2wiLCJsb2FkZXJSZWZTeW1ib2wiLCJkZXN0cm95Q29tcG9uZW50UmVmIiwibG9hZGVyUmVmIiwiZ2V0U25hcHNob3RLZXkiLCJzbmFwc2hvdCIsInBhdGhGcm9tUm9vdCIsIkRldGFjaGVkU3RhdGVDYWNoZSIsImNhY2hlIiwiY2FjaGVJdGVtIiwicGVlayIsIm1hcmtDdXJyZW50Rm9yQ2xlYXIiLCJtYXJrZWRGb3JEZWxldGlvbiIsImNsZWFyTWFya2VkIiwiY2xlYXJNb2RhbENhY2hlIiwicmVtb3ZlZEl0ZW1zQ291bnQiLCJoYXNNb2RhbFBhZ2VzIiwiaXNNb2RhbCIsIm1vZGFsQ2FjaGVDbGVhcmVkIiwiTlNSb3V0ZVJldXNlU3RyYXRlZ3kiLCJjYWNoZUJ5T3V0bGV0Iiwicm91dGUiLCJmaW5kVmFsaWRPdXRsZXRBbmRLZXkiLCJpc1BhZ2VBY3RpdmF0ZWQiLCJ0bXAiLCJ0YXJnZXRSb3V0ZSIsInJvdXRlT3V0bGV0S2V5IiwiaW5jbHVkZXMiLCJzaG91bGRBdHRhY2giLCJzdG9yZSIsInRvcEl0ZW0iLCJyZXRyaWV2ZSIsImNhY2hlZEl0ZW0iLCJzaG91bGRSZXVzZVJvdXRlIiwiZnV0dXJlIiwiY3VyciIsInNob3VsZFJldXNlIiwicm91dGVDb25maWciLCJjbGVhckNhY2hlIiwibWFya0NhY2hlRm9yQ2xlYXIiLCJwb3BDYWNoZSIsIm1hcmtDYWNoZUZvclBvcCIsImNsZWFyTWFya2VkQ2FjaGUiLCJOU1JvdXRlUmV1c2VTdHJhdGVneV9GYWN0b3J5IiwiUm91dGVyRXh0ZW5zaW9ucyIsInJvdXRlciIsImNvbW1hbmRzIiwiZXh0cmFzIiwibmF2aWdhdGVCeVVybCIsImJhY2tOYXZpZ2F0aW9uT3B0aW9ucyIsImJhY2tPdXRsZXRzIiwib3V0bGV0c1RvQmFjayIsImZpbmRPdXRsZXRzVG9CYWNrIiwib3V0bGV0VG9CYWNrIiwiYmFja1RvUHJldmlvdXNQYWdlIiwiY2FuR29CYWNrVG9QcmV2aW91c1BhZ2UiLCJyb290Um91dGUiLCJyb3V0ZXJTdGF0ZSIsInJlbGF0aXZlUm91dGUiLCJyZWxhdGl2ZVRvIiwicmVsYXRpdmVSb3V0ZU91dGxldCIsImZpbmRPdXRsZXRCeVJvdXRlIiwiZmluZE91dGxldHNSZWN1cnNpdmUiLCJjdXJyZW50Um91dGVTbmFwc2hvcCIsIlJvdXRlckV4dGVuc2lvbnNfRmFjdG9yeSIsIlJvdXRlciIsIk5TUm91dGVyTGluayIsIm5nWm9uZSIsIm5hdmlnYXRvciIsInBhZ2VUcmFuc2l0aW9uIiwib25UYXAiLCJzdHJpbmdpZnkiLCJwYWdlVHJhbnNpdGlvbkR1cmF0aW9uIiwiZ2V0RXh0cmFzIiwiZnJhZ21lbnQiLCJxdWVyeVBhcmFtc0hhbmRsaW5nIiwicHJlc2VydmVGcmFnbWVudCIsImF0dHJCb29sVmFsdWUiLCJ0cmFuc2l0aW9uIiwiZ2V0VHJhbnNpdGlvbiIsInNraXBMb2NhdGlvbkNoYW5nZSIsInJlcGxhY2VVcmwiLCJjb252ZXJ0Q2xlYXJIaXN0b3J5IiwidXJsVHJlZSIsImNyZWF0ZVVybFRyZWUiLCJpc05hTiIsIk5TUm91dGVyTGlua19GYWN0b3J5IiwicHJlc2VydmVRdWVyeVBhcmFtcyIsImNvbnRhaW5zVHJlZSIsImNvbnRhaW5lciIsImNvbnRhaW5lZSIsImV4YWN0IiwiZXF1YWxTZWdtZW50R3JvdXBzIiwiY29udGFpbnNTZWdtZW50R3JvdXAiLCJlcXVhbFBhdGgiLCJzZWdtZW50cyIsIm51bWJlck9mQ2hpbGRyZW4iLCJjb250YWluc1NlZ21lbnRHcm91cEhlbHBlciIsImNvbnRhaW5lZVBhdGhzIiwiaGFzQ2hpbGRyZW4iLCJhIiwiYiIsIk5TUm91dGVyTGlua0FjdGl2ZSIsImFjdGl2ZSIsIm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnMiLCJzdWJzY3JpcHRpb24iLCJpc0FjdGl2ZSIsImxpbmtzIiwibnNSb3V0ZXJMaW5rQWN0aXZlIiwidW5zdWJzY3JpYmUiLCJoYXNBY3RpdmVMaW5rcyIsInBhcnNlVXJsIiwiaXNBY3RpdmVMaW5rcyIsInJlZHVjZUxpc3QiLCJxIiwicmVkdWNlIiwicmVzIiwibGluayIsImlzTGlua0FjdGl2ZSIsIk5TUm91dGVyTGlua0FjdGl2ZV9GYWN0b3J5IiwiTlNSb3V0ZXJMaW5rQWN0aXZlX0NvbnRlbnRRdWVyaWVzIiwiUGFnZVJvdXRlIiwic3RhcnRSb3V0ZSIsImlzQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiY2FsbGFibGVPbmNlIiwiY2FsbGVkIiwiRGVzdHJ1Y3RpYmxlSW5qZWN0b3IiLCJkZXN0cnVjdGlibGVQcm92aWRlcnMiLCJyZWZzIiwibm90Rm91bmRWYWx1ZSIsInNraXBTZWxmIiwicm91dGVUb1N0cmluZyIsIlBhZ2VSb3V0ZXJPdXRsZXQiLCJsb2NhdGlvbkluamVjdG9yIiwibG9jYXRpb25GYWN0b3J5UmVzb2x2ZXIiLCJpc0FjdGl2YXRlZCIsImFjdGl2YXRlZCIsIl9hY3RpdmF0ZWRSb3V0ZSIsImFjdGl2YXRlZFJvdXRlRGF0YSIsInBhcmVudENvbnRleHRzIiwiYWN0aW9uQmFyVmlzaWJpbGl0eSIsImlzRW1wdHlPdXRsZXQiLCJwYWdlRmFjdG9yeSIsInJvdXRlUmV1c2VTdHJhdGVneSIsImVudmlyb25tZW50SW5qZWN0b3IiLCJhdHRhY2hFdmVudHMiLCJkZXRhY2hFdmVudHMiLCJhY3RpdmF0ZUV2ZW50cyIsImRlYWN0aXZhdGVFdmVudHMiLCJzZXRBY3Rpb25CYXJWaXNpYmlsaXR5Iiwib25DaGlsZE91dGxldENyZWF0ZWQiLCJkZXRhY2hlZExvYWRlckZhY3RvcnkiLCJnZXRDb250ZXh0Iiwib25DaGlsZE91dGxldERlc3Ryb3llZCIsImRlYWN0aXZhdGUiLCJwb3N0TmF2RnVuY3Rpb24iLCJtYXJrQWN0aXZhdGVkUm91dGUiLCJpc0ZpbmFsUGFnZVJvdXRlck91dGxldCIsImNoaWxkQ29udGV4dCIsImFjdGl2YXRlV2l0aCIsImdldE91dGxldCIsImFjdGl2YXRlT25Hb0ZvcndhcmQiLCJyZXNvbHZlck9ySW5qZWN0b3IiLCJnZXRDb21wb25lbnRUeXBlIiwiaXNOYXZpZ2F0aW9uIiwiZGVzdHJ1Y3RpYmxlcyIsInBhcmVudEluamVjdG9yIiwiZ2V0T3JDcmVhdGVDb250ZXh0IiwibG9hZENvbXBvbmVudEluUGFnZSIsIm5hdmlnYXRpb25Db250ZXh0IiwiY29tcG9uZW50VmlldyIsInRvcEFjdGl2YXRlZFJvdXRlIiwidGhpc1JvdXRlS2V5IiwibmF2aWdhdGVkRnJvbUNhbGxiYWNrIiwid3JhcCIsImlzQmFja05hdmlnYXRpb24iLCJuYXZpZ2F0ZWRGcm9tRXZlbnQiLCJnZXRDdXJyZW50TmF2aWdhdGlvbiIsImlzUmVwbGFjZSIsIndpcGVDYWNoZSIsImNsZWFyQ2FsbGJhY2siLCJuYXZpZ2F0ZWRUb0V2ZW50IiwibmF2aWdhdGlvbkVudHJ5IiwiY3VycmVudFBhZ2UiLCJyZXBsYWNlUGFnZSIsImNoaWxkUm91dGUiLCJQYWdlUm91dGVyT3V0bGV0X0ZhY3RvcnkiLCLJtcm1aW5qZWN0QXR0cmlidXRlIiwiRW52aXJvbm1lbnRJbmplY3RvciIsIk5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24iLCJnZXRCYXNlSHJlZkZyb21ET00iLCJvbkhhc2hDaGFuZ2UiLCJfZm4iLCJzZWFyY2giLCJoYXNoIiwicGF0aG5hbWUiLCJfbmV3UGF0aCIsIk5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb25fRmFjdG9yeSIsIk5TRW1wdHlPdXRsZXRDb21wb25lbnQiLCJwYWdlUm91dGVyT3V0bGV0IiwiTlNFbXB0eU91dGxldENvbXBvbmVudF9GYWN0b3J5IiwiTlNFbXB0eU91dGxldENvbXBvbmVudF9RdWVyeSIsIk5TRW1wdHlPdXRsZXRDb21wb25lbnRfVGVtcGxhdGUiLCJwcm92aWRlTG9jYXRpb25TdHJhdGVneSIsIk5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSIsImZvclJvb3QiLCJyb3V0ZXMiLCJuZ01vZHVsZSIsImZvckNoaWxkIiwiTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlX0ZhY3RvcnkiLCJjdXJyZW50UmFmSWQiLCJub29wIiwiTmF0aXZlU2NyaXB0Tmdab25lIiwiZW5hYmxlTG9uZ1N0YWNrVHJhY2UiLCJzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIiwic2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24iLCJoYXNQZW5kaW5nTWFjcm90YXNrcyIsImhhc1BlbmRpbmdNaWNyb3Rhc2tzIiwiaXNTdGFibGUiLCJvblVuc3RhYmxlIiwib25NaWNyb3Rhc2tFbXB0eSIsIm9uU3RhYmxlIiwib25FcnJvciIsImFzc2VydFpvbmVQYXRjaGVkIiwic2VsZiIsIl9uZXN0aW5nIiwiX291dGVyIiwiX2lubmVyIiwiZm9yayIsImxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCIsIm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5hdGl2ZURpc3BhdGNoVG9NYWluVGhyZWFkIiwiZGlzcGF0Y2hUb01haW5UaHJlYWQiLCJmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvciIsImlzSW5Bbmd1bGFyWm9uZSIsImFzc2VydEluQW5ndWxhclpvbmUiLCJhc3NlcnROb3RJbkFuZ3VsYXJab25lIiwiYXBwbHlUaGlzIiwiYXBwbHlBcmdzIiwicnVuVGFzayIsIkVNUFRZX1BBWUxPQUQiLCJydW5HdWFyZGVkIiwicnVuT3V0c2lkZUFuZ3VsYXIiLCJjaGVja1N0YWJsZSIsImRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzIiwiaXNDaGVja1N0YWJsZVJ1bm5pbmciLCJmYWtlVG9wRXZlbnRUYXNrIiwidXBkYXRlTWljcm9UYXNrU3RhdHVzIiwiZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSIsImlzQW5ndWxhclpvbmUiLCJvbkludm9rZVRhc2siLCJkZWxlZ2F0ZSIsIm9uRW50ZXIiLCJpbnZva2VUYXNrIiwiaXNNYWluVGhyZWFkIiwib25MZWF2ZSIsIm9uSW52b2tlIiwic291cmNlIiwib25IYXNUYXNrIiwiaGFzVGFza1N0YXRlIiwiaGFzVGFzayIsIl9oYXNQZW5kaW5nTWljcm90YXNrcyIsIm1pY3JvVGFzayIsIm1hY3JvVGFzayIsIm9uSGFuZGxlRXJyb3IiLCJoYW5kbGVFcnJvciIsIsm1Q09NUE9ORU5UX1ZBUklBQkxFIiwiybVDT05URU5UX0FUVFIiLCLJtUhPU1RfQVRUUiIsIsm1TmF0aXZlU2NyaXB0QW5ndWxhckRlYnVnIiwiybVWaWV3VXRpbCIsIsm1YWN0aW9uQmFyTWV0YSIsIsm1ZWxlbWVudE1hcCIsIsm1aXNBY3Rpb25JdGVtIiwiybVpc05hdmlnYXRpb25CdXR0b24iXSwic291cmNlUm9vdCI6IiJ9